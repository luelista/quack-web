(function(window){"use strict";var minErrConfig={objectMaxDepth:5,urlErrorParamsEnabled:true};function errorHandlingConfig(config){if(isObject(config)){if(isDefined(config.objectMaxDepth)){minErrConfig.objectMaxDepth=isValidObjectMaxDepth(config.objectMaxDepth)?config.objectMaxDepth:NaN}if(isDefined(config.urlErrorParamsEnabled)&&isBoolean(config.urlErrorParamsEnabled)){minErrConfig.urlErrorParamsEnabled=config.urlErrorParamsEnabled}}else{return minErrConfig}}function isValidObjectMaxDepth(maxDepth){return isNumber(maxDepth)&&maxDepth>0}function minErr(module,ErrorConstructor){ErrorConstructor=ErrorConstructor||Error;var url="https://errors.angularjs.org/1.7.5/";var regex=url.replace(".","\\.")+"[\\s\\S]*";var errRegExp=new RegExp(regex,"g");return function(){var code=arguments[0],template=arguments[1],message="["+(module?module+":":"")+code+"] ",templateArgs=sliceArgs(arguments,2).map(function(arg){return toDebugString(arg,minErrConfig.objectMaxDepth)}),paramPrefix,i;message+=template.replace(/\{\d+\}/g,function(match){var index=+match.slice(1,-1);if(index<templateArgs.length){return templateArgs[index].replace(errRegExp,"")}return match});message+="\n"+url+(module?module+"/":"")+code;if(minErrConfig.urlErrorParamsEnabled){for(i=0,paramPrefix="?";i<templateArgs.length;i++,paramPrefix="&"){message+=paramPrefix+"p"+i+"="+encodeURIComponent(templateArgs[i])}}return new ErrorConstructor(message)}}var REGEX_STRING_REGEXP=/^\/(.+)\/([a-z]*)$/;var VALIDITY_STATE_PROPERTY="validity";var hasOwnProperty=Object.prototype.hasOwnProperty;var lowercase=function(string){return isString(string)?string.toLowerCase():string};var uppercase=function(string){return isString(string)?string.toUpperCase():string};var msie,jqLite,jQuery,slice=[].slice,splice=[].splice,push=[].push,toString=Object.prototype.toString,getPrototypeOf=Object.getPrototypeOf,ngMinErr=minErr("ng"),angular=window.angular||(window.angular={}),angularModule,uid=0;msie=window.document.documentMode;function isArrayLike(obj){if(obj==null||isWindow(obj))return false;if(isArray(obj)||isString(obj)||jqLite&&obj instanceof jqLite)return true;var length="length"in Object(obj)&&obj.length;return isNumber(length)&&(length>=0&&length-1 in obj||typeof obj.item==="function")}function forEach(obj,iterator,context){var key,length;if(obj){if(isFunction(obj)){for(key in obj){if(key!=="prototype"&&key!=="length"&&key!=="name"&&obj.hasOwnProperty(key)){iterator.call(context,obj[key],key,obj)}}}else if(isArray(obj)||isArrayLike(obj)){var isPrimitive=typeof obj!=="object";for(key=0,length=obj.length;key<length;key++){if(isPrimitive||key in obj){iterator.call(context,obj[key],key,obj)}}}else if(obj.forEach&&obj.forEach!==forEach){obj.forEach(iterator,context,obj)}else if(isBlankObject(obj)){for(key in obj){iterator.call(context,obj[key],key,obj)}}else if(typeof obj.hasOwnProperty==="function"){for(key in obj){if(obj.hasOwnProperty(key)){iterator.call(context,obj[key],key,obj)}}}else{for(key in obj){if(hasOwnProperty.call(obj,key)){iterator.call(context,obj[key],key,obj)}}}}return obj}function forEachSorted(obj,iterator,context){var keys=Object.keys(obj).sort();for(var i=0;i<keys.length;i++){iterator.call(context,obj[keys[i]],keys[i])}return keys}function reverseParams(iteratorFn){return function(value,key){iteratorFn(key,value)}}function nextUid(){return++uid}function setHashKey(obj,h){if(h){obj.$$hashKey=h}else{delete obj.$$hashKey}}function baseExtend(dst,objs,deep){var h=dst.$$hashKey;for(var i=0,ii=objs.length;i<ii;++i){var obj=objs[i];if(!isObject(obj)&&!isFunction(obj))continue;var keys=Object.keys(obj);for(var j=0,jj=keys.length;j<jj;j++){var key=keys[j];var src=obj[key];if(deep&&isObject(src)){if(isDate(src)){dst[key]=new Date(src.valueOf())}else if(isRegExp(src)){dst[key]=new RegExp(src)}else if(src.nodeName){dst[key]=src.cloneNode(true)}else if(isElement(src)){dst[key]=src.clone()}else{if(!isObject(dst[key]))dst[key]=isArray(src)?[]:{};baseExtend(dst[key],[src],true)}}else{dst[key]=src}}}setHashKey(dst,h);return dst}function extend(dst){return baseExtend(dst,slice.call(arguments,1),false)}function merge(dst){return baseExtend(dst,slice.call(arguments,1),true)}function toInt(str){return parseInt(str,10)}var isNumberNaN=Number.isNaN||function isNumberNaN(num){return num!==num};function inherit(parent,extra){return extend(Object.create(parent),extra)}function noop(){}noop.$inject=[];function identity($){return $}identity.$inject=[];function valueFn(value){return function valueRef(){return value}}function hasCustomToString(obj){return isFunction(obj.toString)&&obj.toString!==toString}function isUndefined(value){return typeof value==="undefined"}function isDefined(value){return typeof value!=="undefined"}function isObject(value){return value!==null&&typeof value==="object"}function isBlankObject(value){return value!==null&&typeof value==="object"&&!getPrototypeOf(value)}function isString(value){return typeof value==="string"}function isNumber(value){return typeof value==="number"}function isDate(value){return toString.call(value)==="[object Date]"}function isArray(arr){return Array.isArray(arr)||arr instanceof Array}function isError(value){var tag=toString.call(value);switch(tag){case"[object Error]":return true;case"[object Exception]":return true;case"[object DOMException]":return true;default:return value instanceof Error}}function isFunction(value){return typeof value==="function"}function isRegExp(value){return toString.call(value)==="[object RegExp]"}function isWindow(obj){return obj&&obj.window===obj}function isScope(obj){return obj&&obj.$evalAsync&&obj.$watch}function isFile(obj){return toString.call(obj)==="[object File]"}function isFormData(obj){return toString.call(obj)==="[object FormData]"}function isBlob(obj){return toString.call(obj)==="[object Blob]"}function isBoolean(value){return typeof value==="boolean"}function isPromiseLike(obj){return obj&&isFunction(obj.then)}var TYPED_ARRAY_REGEXP=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/;function isTypedArray(value){return value&&isNumber(value.length)&&TYPED_ARRAY_REGEXP.test(toString.call(value))}function isArrayBuffer(obj){return toString.call(obj)==="[object ArrayBuffer]"}var trim=function(value){return isString(value)?value.trim():value};var escapeForRegexp=function(s){return s.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function isElement(node){return!!(node&&(node.nodeName||node.prop&&node.attr&&node.find))}function makeMap(str){var obj={},items=str.split(","),i;for(i=0;i<items.length;i++){obj[items[i]]=true}return obj}function nodeName_(element){return lowercase(element.nodeName||element[0]&&element[0].nodeName)}function includes(array,obj){return Array.prototype.indexOf.call(array,obj)!==-1}function arrayRemove(array,value){var index=array.indexOf(value);if(index>=0){array.splice(index,1)}return index}function copy(source,destination,maxDepth){var stackSource=[];var stackDest=[];maxDepth=isValidObjectMaxDepth(maxDepth)?maxDepth:NaN;if(destination){if(isTypedArray(destination)||isArrayBuffer(destination)){throw ngMinErr("cpta","Can't copy! TypedArray destination cannot be mutated.")}if(source===destination){throw ngMinErr("cpi","Can't copy! Source and destination are identical.")}if(isArray(destination)){destination.length=0}else{forEach(destination,function(value,key){if(key!=="$$hashKey"){delete destination[key]}})}stackSource.push(source);stackDest.push(destination);return copyRecurse(source,destination,maxDepth)}return copyElement(source,maxDepth);function copyRecurse(source,destination,maxDepth){maxDepth--;if(maxDepth<0){return"..."}var h=destination.$$hashKey;var key;if(isArray(source)){for(var i=0,ii=source.length;i<ii;i++){destination.push(copyElement(source[i],maxDepth))}}else if(isBlankObject(source)){for(key in source){destination[key]=copyElement(source[key],maxDepth)}}else if(source&&typeof source.hasOwnProperty==="function"){for(key in source){if(source.hasOwnProperty(key)){destination[key]=copyElement(source[key],maxDepth)}}}else{for(key in source){if(hasOwnProperty.call(source,key)){destination[key]=copyElement(source[key],maxDepth)}}}setHashKey(destination,h);return destination}function copyElement(source,maxDepth){if(!isObject(source)){return source}var index=stackSource.indexOf(source);if(index!==-1){return stackDest[index]}if(isWindow(source)||isScope(source)){throw ngMinErr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.")}var needsRecurse=false;var destination=copyType(source);if(destination===undefined){destination=isArray(source)?[]:Object.create(getPrototypeOf(source));needsRecurse=true}stackSource.push(source);stackDest.push(destination);return needsRecurse?copyRecurse(source,destination,maxDepth):destination}function copyType(source){switch(toString.call(source)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new source.constructor(copyElement(source.buffer),source.byteOffset,source.length);case"[object ArrayBuffer]":if(!source.slice){var copied=new ArrayBuffer(source.byteLength);new Uint8Array(copied).set(new Uint8Array(source));return copied}return source.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new source.constructor(source.valueOf());case"[object RegExp]":var re=new RegExp(source.source,source.toString().match(/[^/]*$/)[0]);re.lastIndex=source.lastIndex;return re;case"[object Blob]":return new source.constructor([source],{type:source.type})}if(isFunction(source.cloneNode)){return source.cloneNode(true)}}}function simpleCompare(a,b){return a===b||a!==a&&b!==b}function equals(o1,o2){if(o1===o2)return true;if(o1===null||o2===null)return false;if(o1!==o1&&o2!==o2)return true;var t1=typeof o1,t2=typeof o2,length,key,keySet;if(t1===t2&&t1==="object"){if(isArray(o1)){if(!isArray(o2))return false;if((length=o1.length)===o2.length){for(key=0;key<length;key++){if(!equals(o1[key],o2[key]))return false}return true}}else if(isDate(o1)){if(!isDate(o2))return false;return simpleCompare(o1.getTime(),o2.getTime())}else if(isRegExp(o1)){if(!isRegExp(o2))return false;return o1.toString()===o2.toString()}else{if(isScope(o1)||isScope(o2)||isWindow(o1)||isWindow(o2)||isArray(o2)||isDate(o2)||isRegExp(o2))return false;keySet=createMap();for(key in o1){if(key.charAt(0)==="$"||isFunction(o1[key]))continue;if(!equals(o1[key],o2[key]))return false;keySet[key]=true}for(key in o2){if(!(key in keySet)&&key.charAt(0)!=="$"&&isDefined(o2[key])&&!isFunction(o2[key]))return false}return true}}return false}var csp=function(){if(!isDefined(csp.rules)){var ngCspElement=window.document.querySelector("[ng-csp]")||window.document.querySelector("[data-ng-csp]");if(ngCspElement){var ngCspAttribute=ngCspElement.getAttribute("ng-csp")||ngCspElement.getAttribute("data-ng-csp");csp.rules={noUnsafeEval:!ngCspAttribute||ngCspAttribute.indexOf("no-unsafe-eval")!==-1,noInlineStyle:!ngCspAttribute||ngCspAttribute.indexOf("no-inline-style")!==-1}}else{csp.rules={noUnsafeEval:noUnsafeEval(),noInlineStyle:false}}}return csp.rules;function noUnsafeEval(){try{new Function("");return false}catch(e){return true}}};var jq=function(){if(isDefined(jq.name_))return jq.name_;var el;var i,ii=ngAttrPrefixes.length,prefix,name;for(i=0;i<ii;++i){prefix=ngAttrPrefixes[i];el=window.document.querySelector("["+prefix.replace(":","\\:")+"jq]");if(el){name=el.getAttribute(prefix+"jq");break}}return jq.name_=name};function concat(array1,array2,index){return array1.concat(slice.call(array2,index))}function sliceArgs(args,startIndex){return slice.call(args,startIndex||0)}function bind(self,fn){var curryArgs=arguments.length>2?sliceArgs(arguments,2):[];if(isFunction(fn)&&!(fn instanceof RegExp)){return curryArgs.length?function(){return arguments.length?fn.apply(self,concat(curryArgs,arguments,0)):fn.apply(self,curryArgs)}:function(){return arguments.length?fn.apply(self,arguments):fn.call(self)}}else{return fn}}function toJsonReplacer(key,value){var val=value;if(typeof key==="string"&&key.charAt(0)==="$"&&key.charAt(1)==="$"){val=undefined}else if(isWindow(value)){val="$WINDOW"}else if(value&&window.document===value){val="$DOCUMENT"}else if(isScope(value)){val="$SCOPE"}return val}function toJson(obj,pretty){if(isUndefined(obj))return undefined;if(!isNumber(pretty)){pretty=pretty?2:null}return JSON.stringify(obj,toJsonReplacer,pretty)}function fromJson(json){return isString(json)?JSON.parse(json):json}var ALL_COLONS=/:/g;function timezoneToOffset(timezone,fallback){timezone=timezone.replace(ALL_COLONS,"");var requestedTimezoneOffset=Date.parse("Jan 01, 1970 00:00:00 "+timezone)/6e4;return isNumberNaN(requestedTimezoneOffset)?fallback:requestedTimezoneOffset}function addDateMinutes(date,minutes){date=new Date(date.getTime());date.setMinutes(date.getMinutes()+minutes);return date}function convertTimezoneToLocal(date,timezone,reverse){reverse=reverse?-1:1;var dateTimezoneOffset=date.getTimezoneOffset();var timezoneOffset=timezoneToOffset(timezone,dateTimezoneOffset);return addDateMinutes(date,reverse*(timezoneOffset-dateTimezoneOffset))}function startingTag(element){element=jqLite(element).clone().empty();var elemHtml=jqLite("<div></div>").append(element).html();try{return element[0].nodeType===NODE_TYPE_TEXT?lowercase(elemHtml):elemHtml.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(match,nodeName){return"<"+lowercase(nodeName)})}catch(e){return lowercase(elemHtml)}}function tryDecodeURIComponent(value){try{return decodeURIComponent(value)}catch(e){}}function parseKeyValue(keyValue){var obj={};forEach((keyValue||"").split("&"),function(keyValue){var splitPoint,key,val;if(keyValue){key=keyValue=keyValue.replace(/\+/g,"%20");splitPoint=keyValue.indexOf("=");if(splitPoint!==-1){key=keyValue.substring(0,splitPoint);val=keyValue.substring(splitPoint+1)}key=tryDecodeURIComponent(key);if(isDefined(key)){val=isDefined(val)?tryDecodeURIComponent(val):true;if(!hasOwnProperty.call(obj,key)){obj[key]=val}else if(isArray(obj[key])){obj[key].push(val)}else{obj[key]=[obj[key],val]}}}});return obj}function toKeyValue(obj){var parts=[];forEach(obj,function(value,key){if(isArray(value)){forEach(value,function(arrayValue){parts.push(encodeUriQuery(key,true)+(arrayValue===true?"":"="+encodeUriQuery(arrayValue,true)))})}else{parts.push(encodeUriQuery(key,true)+(value===true?"":"="+encodeUriQuery(value,true)))}});return parts.length?parts.join("&"):""}function encodeUriSegment(val){return encodeUriQuery(val,true).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function encodeUriQuery(val,pctEncodeSpaces){return encodeURIComponent(val).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,pctEncodeSpaces?"%20":"+")}var ngAttrPrefixes=["ng-","data-ng-","ng:","x-ng-"];function getNgAttribute(element,ngAttr){var attr,i,ii=ngAttrPrefixes.length;for(i=0;i<ii;++i){attr=ngAttrPrefixes[i]+ngAttr;if(isString(attr=element.getAttribute(attr))){return attr}}return null}function allowAutoBootstrap(document){var script=document.currentScript;if(!script){return true}if(!(script instanceof window.HTMLScriptElement||script instanceof window.SVGScriptElement)){return false}var attributes=script.attributes;var srcs=[attributes.getNamedItem("src"),attributes.getNamedItem("href"),attributes.getNamedItem("xlink:href")];return srcs.every(function(src){if(!src){return true}if(!src.value){return false}var link=document.createElement("a");link.href=src.value;if(document.location.origin===link.origin){return true}switch(link.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return true;default:return false}})}var isAutoBootstrapAllowed=allowAutoBootstrap(window.document);function angularInit(element,bootstrap){var appElement,module,config={};forEach(ngAttrPrefixes,function(prefix){var name=prefix+"app";if(!appElement&&element.hasAttribute&&element.hasAttribute(name)){appElement=element;module=element.getAttribute(name)}});forEach(ngAttrPrefixes,function(prefix){var name=prefix+"app";var candidate;if(!appElement&&(candidate=element.querySelector("["+name.replace(":","\\:")+"]"))){appElement=candidate;module=candidate.getAttribute(name)}});if(appElement){if(!isAutoBootstrapAllowed){try{window.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates "+"an extension, document.location.href does not match.")}catch(e){}return}config.strictDi=getNgAttribute(appElement,"strict-di")!==null;bootstrap(appElement,module?[module]:[],config)}}function bootstrap(element,modules,config){if(!isObject(config))config={};var defaultConfig={strictDi:false};config=extend(defaultConfig,config);var doBootstrap=function(){element=jqLite(element);if(element.injector()){var tag=element[0]===window.document?"document":startingTag(element);throw ngMinErr("btstrpd","App already bootstrapped with this element '{0}'",tag.replace(/</,"&lt;").replace(/>/,"&gt;"))}modules=modules||[];modules.unshift(["$provide",function($provide){$provide.value("$rootElement",element)}]);if(config.debugInfoEnabled){modules.push(["$compileProvider",function($compileProvider){$compileProvider.debugInfoEnabled(true)}])}modules.unshift("ng");var injector=createInjector(modules,config.strictDi);injector.invoke(["$rootScope","$rootElement","$compile","$injector",function bootstrapApply(scope,element,compile,injector){scope.$apply(function(){element.data("$injector",injector);compile(element)(scope)})}]);return injector};var NG_ENABLE_DEBUG_INFO=/^NG_ENABLE_DEBUG_INFO!/;var NG_DEFER_BOOTSTRAP=/^NG_DEFER_BOOTSTRAP!/;if(window&&NG_ENABLE_DEBUG_INFO.test(window.name)){config.debugInfoEnabled=true;window.name=window.name.replace(NG_ENABLE_DEBUG_INFO,"")}if(window&&!NG_DEFER_BOOTSTRAP.test(window.name)){return doBootstrap()}window.name=window.name.replace(NG_DEFER_BOOTSTRAP,"");angular.resumeBootstrap=function(extraModules){forEach(extraModules,function(module){modules.push(module)});return doBootstrap()};if(isFunction(angular.resumeDeferredBootstrap)){angular.resumeDeferredBootstrap()}}function reloadWithDebugInfo(){window.name="NG_ENABLE_DEBUG_INFO!"+window.name;window.location.reload()}function getTestability(rootElement){var injector=angular.element(rootElement).injector();if(!injector){throw ngMinErr("test","no injector found for element argument to getTestability")}return injector.get("$$testability")}var SNAKE_CASE_REGEXP=/[A-Z]/g;function snake_case(name,separator){separator=separator||"_";return name.replace(SNAKE_CASE_REGEXP,function(letter,pos){return(pos?separator:"")+letter.toLowerCase()})}var bindJQueryFired=false;function bindJQuery(){var originalCleanData;if(bindJQueryFired){return}var jqName=jq();jQuery=isUndefined(jqName)?window.jQuery:!jqName?undefined:window[jqName];if(jQuery&&jQuery.fn.on){jqLite=jQuery;extend(jQuery.fn,{scope:JQLitePrototype.scope,isolateScope:JQLitePrototype.isolateScope,controller:JQLitePrototype.controller,injector:JQLitePrototype.injector,inheritedData:JQLitePrototype.inheritedData})}else{jqLite=JQLite}originalCleanData=jqLite.cleanData;jqLite.cleanData=function(elems){var events;for(var i=0,elem;(elem=elems[i])!=null;i++){events=(jqLite._data(elem)||{}).events;if(events&&events.$destroy){jqLite(elem).triggerHandler("$destroy")}}originalCleanData(elems)};angular.element=jqLite;bindJQueryFired=true}function assertArg(arg,name,reason){if(!arg){throw ngMinErr("areq","Argument '{0}' is {1}",name||"?",reason||"required")}return arg}function assertArgFn(arg,name,acceptArrayAnnotation){if(acceptArrayAnnotation&&isArray(arg)){arg=arg[arg.length-1]}assertArg(isFunction(arg),name,"not a function, got "+(arg&&typeof arg==="object"?arg.constructor.name||"Object":typeof arg));return arg}function assertNotHasOwnProperty(name,context){if(name==="hasOwnProperty"){throw ngMinErr("badname","hasOwnProperty is not a valid {0} name",context)}}function getter(obj,path,bindFnToScope){if(!path)return obj;var keys=path.split(".");var key;var lastInstance=obj;var len=keys.length;for(var i=0;i<len;i++){key=keys[i];if(obj){obj=(lastInstance=obj)[key]}}if(!bindFnToScope&&isFunction(obj)){return bind(lastInstance,obj)}return obj}function getBlockNodes(nodes){var node=nodes[0];var endNode=nodes[nodes.length-1];var blockNodes;for(var i=1;node!==endNode&&(node=node.nextSibling);i++){if(blockNodes||nodes[i]!==node){if(!blockNodes){blockNodes=jqLite(slice.call(nodes,0,i))}blockNodes.push(node)}}return blockNodes||nodes}function createMap(){return Object.create(null)}function stringify(value){if(value==null){return""}switch(typeof value){case"string":break;case"number":value=""+value;break;default:if(hasCustomToString(value)&&!isArray(value)&&!isDate(value)){value=value.toString()}else{value=toJson(value)}}return value}var NODE_TYPE_ELEMENT=1;var NODE_TYPE_ATTRIBUTE=2;var NODE_TYPE_TEXT=3;var NODE_TYPE_COMMENT=8;var NODE_TYPE_DOCUMENT=9;var NODE_TYPE_DOCUMENT_FRAGMENT=11;function setupModuleLoader(window){var $injectorMinErr=minErr("$injector");var ngMinErr=minErr("ng");function ensure(obj,name,factory){return obj[name]||(obj[name]=factory())}var angular=ensure(window,"angular",Object);angular.$$minErr=angular.$$minErr||minErr;return ensure(angular,"module",function(){var modules={};return function module(name,requires,configFn){var info={};var assertNotHasOwnProperty=function(name,context){if(name==="hasOwnProperty"){throw ngMinErr("badname","hasOwnProperty is not a valid {0} name",context)}};assertNotHasOwnProperty(name,"module");if(requires&&modules.hasOwnProperty(name)){modules[name]=null}return ensure(modules,name,function(){if(!requires){throw $injectorMinErr("nomod","Module '{0}' is not available! You either misspelled "+"the module name or forgot to load it. If registering a module ensure that you "+"specify the dependencies as the second argument.",name)}var invokeQueue=[];var configBlocks=[];var runBlocks=[];var config=invokeLater("$injector","invoke","push",configBlocks);var moduleInstance={_invokeQueue:invokeQueue,_configBlocks:configBlocks,_runBlocks:runBlocks,info:function(value){if(isDefined(value)){if(!isObject(value))throw ngMinErr("aobj","Argument '{0}' must be an object","value");info=value;return this}return info},requires:requires,name:name,provider:invokeLaterAndSetModuleName("$provide","provider"),factory:invokeLaterAndSetModuleName("$provide","factory"),service:invokeLaterAndSetModuleName("$provide","service"),value:invokeLater("$provide","value"),constant:invokeLater("$provide","constant","unshift"),decorator:invokeLaterAndSetModuleName("$provide","decorator",configBlocks),animation:invokeLaterAndSetModuleName("$animateProvider","register"),filter:invokeLaterAndSetModuleName("$filterProvider","register"),controller:invokeLaterAndSetModuleName("$controllerProvider","register"),directive:invokeLaterAndSetModuleName("$compileProvider","directive"),component:invokeLaterAndSetModuleName("$compileProvider","component"),config:config,run:function(block){runBlocks.push(block);return this}};if(configFn){config(configFn)}return moduleInstance;function invokeLater(provider,method,insertMethod,queue){if(!queue)queue=invokeQueue;return function(){queue[insertMethod||"push"]([provider,method,arguments]);return moduleInstance}}function invokeLaterAndSetModuleName(provider,method,queue){if(!queue)queue=invokeQueue;return function(recipeName,factoryFunction){if(factoryFunction&&isFunction(factoryFunction))factoryFunction.$$moduleName=name;queue.push([provider,method,arguments]);return moduleInstance}}})}})}function shallowCopy(src,dst){if(isArray(src)){dst=dst||[];for(var i=0,ii=src.length;i<ii;i++){dst[i]=src[i]}}else if(isObject(src)){dst=dst||{};for(var key in src){if(!(key.charAt(0)==="$"&&key.charAt(1)==="$")){dst[key]=src[key]}}}return dst||src}function serializeObject(obj,maxDepth){var seen=[];if(isValidObjectMaxDepth(maxDepth)){obj=angular.copy(obj,null,maxDepth)}return JSON.stringify(obj,function(key,val){val=toJsonReplacer(key,val);if(isObject(val)){if(seen.indexOf(val)>=0)return"...";seen.push(val)}return val})}function toDebugString(obj,maxDepth){if(typeof obj==="function"){return obj.toString().replace(/ \{[\s\S]*$/,"")}else if(isUndefined(obj)){return"undefined"}else if(typeof obj!=="string"){return serializeObject(obj,maxDepth)}return obj}var version={full:"1.7.5",major:1,minor:7,dot:5,codeName:"anti-prettification"};function publishExternalAPI(angular){extend(angular,{errorHandlingConfig:errorHandlingConfig,bootstrap:bootstrap,copy:copy,extend:extend,merge:merge,equals:equals,element:jqLite,forEach:forEach,injector:createInjector,noop:noop,bind:bind,toJson:toJson,fromJson:fromJson,identity:identity,isUndefined:isUndefined,isDefined:isDefined,isString:isString,isFunction:isFunction,isObject:isObject,isNumber:isNumber,isElement:isElement,isArray:isArray,version:version,isDate:isDate,callbacks:{$$counter:0},getTestability:getTestability,reloadWithDebugInfo:reloadWithDebugInfo,$$minErr:minErr,$$csp:csp,$$encodeUriSegment:encodeUriSegment,$$encodeUriQuery:encodeUriQuery,$$lowercase:lowercase,$$stringify:stringify,$$uppercase:uppercase});angularModule=setupModuleLoader(window);angularModule("ng",["ngLocale"],["$provide",function ngModule($provide){$provide.provider({$$sanitizeUri:$$SanitizeUriProvider});$provide.provider("$compile",$CompileProvider).directive({a:htmlAnchorDirective,input:inputDirective,textarea:inputDirective,form:formDirective,script:scriptDirective,select:selectDirective,option:optionDirective,ngBind:ngBindDirective,ngBindHtml:ngBindHtmlDirective,ngBindTemplate:ngBindTemplateDirective,ngClass:ngClassDirective,ngClassEven:ngClassEvenDirective,ngClassOdd:ngClassOddDirective,ngCloak:ngCloakDirective,ngController:ngControllerDirective,ngForm:ngFormDirective,ngHide:ngHideDirective,ngIf:ngIfDirective,ngInclude:ngIncludeDirective,ngInit:ngInitDirective,ngNonBindable:ngNonBindableDirective,ngPluralize:ngPluralizeDirective,ngRef:ngRefDirective,ngRepeat:ngRepeatDirective,ngShow:ngShowDirective,ngStyle:ngStyleDirective,ngSwitch:ngSwitchDirective,ngSwitchWhen:ngSwitchWhenDirective,ngSwitchDefault:ngSwitchDefaultDirective,ngOptions:ngOptionsDirective,ngTransclude:ngTranscludeDirective,ngModel:ngModelDirective,ngList:ngListDirective,ngChange:ngChangeDirective,pattern:patternDirective,ngPattern:patternDirective,required:requiredDirective,ngRequired:requiredDirective,minlength:minlengthDirective,ngMinlength:minlengthDirective,maxlength:maxlengthDirective,ngMaxlength:maxlengthDirective,ngValue:ngValueDirective,ngModelOptions:ngModelOptionsDirective}).directive({ngInclude:ngIncludeFillContentDirective}).directive(ngAttributeAliasDirectives).directive(ngEventDirectives);$provide.provider({$anchorScroll:$AnchorScrollProvider,$animate:$AnimateProvider,$animateCss:$CoreAnimateCssProvider,$$animateJs:$$CoreAnimateJsProvider,$$animateQueue:$$CoreAnimateQueueProvider,$$AnimateRunner:$$AnimateRunnerFactoryProvider,$$animateAsyncRun:$$AnimateAsyncRunFactoryProvider,$browser:$BrowserProvider,$cacheFactory:$CacheFactoryProvider,$controller:$ControllerProvider,$document:$DocumentProvider,$$isDocumentHidden:$$IsDocumentHiddenProvider,$exceptionHandler:$ExceptionHandlerProvider,$filter:$FilterProvider,$$forceReflow:$$ForceReflowProvider,$interpolate:$InterpolateProvider,$interval:$IntervalProvider,$$intervalFactory:$$IntervalFactoryProvider,$http:$HttpProvider,$httpParamSerializer:$HttpParamSerializerProvider,$httpParamSerializerJQLike:$HttpParamSerializerJQLikeProvider,$httpBackend:$HttpBackendProvider,$xhrFactory:$xhrFactoryProvider,$jsonpCallbacks:$jsonpCallbacksProvider,$location:$LocationProvider,$log:$LogProvider,$parse:$ParseProvider,$rootScope:$RootScopeProvider,$q:$QProvider,$$q:$$QProvider,$sce:$SceProvider,$sceDelegate:$SceDelegateProvider,$sniffer:$SnifferProvider,$$taskTrackerFactory:$$TaskTrackerFactoryProvider,$templateCache:$TemplateCacheProvider,$templateRequest:$TemplateRequestProvider,$$testability:$$TestabilityProvider,$timeout:$TimeoutProvider,$window:$WindowProvider,$$rAF:$$RAFProvider,$$jqLite:$$jqLiteProvider,$$Map:$$MapProvider,$$cookieReader:$$CookieReaderProvider})}]).info({angularVersion:"1.7.5"})}JQLite.expando="ng339";var jqCache=JQLite.cache={},jqId=1;JQLite._data=function(node){return this.cache[node[this.expando]]||{}};function jqNextId(){return++jqId}var DASH_LOWERCASE_REGEXP=/-([a-z])/g;var MS_HACK_REGEXP=/^-ms-/;var MOUSE_EVENT_MAP={mouseleave:"mouseout",mouseenter:"mouseover"};var jqLiteMinErr=minErr("jqLite");function cssKebabToCamel(name){return kebabToCamel(name.replace(MS_HACK_REGEXP,"ms-"))}function fnCamelCaseReplace(all,letter){return letter.toUpperCase()}function kebabToCamel(name){return name.replace(DASH_LOWERCASE_REGEXP,fnCamelCaseReplace)}var SINGLE_TAG_REGEXP=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/;var HTML_REGEXP=/<|&#?\w+;/;var TAG_NAME_REGEXP=/<([\w:-]+)/;var XHTML_TAG_REGEXP=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi;var wrapMap={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;function jqLiteIsTextNode(html){return!HTML_REGEXP.test(html)}function jqLiteAcceptsData(node){var nodeType=node.nodeType;return nodeType===NODE_TYPE_ELEMENT||!nodeType||nodeType===NODE_TYPE_DOCUMENT}function jqLiteHasData(node){for(var key in jqCache[node.ng339]){return true}return false}function jqLiteBuildFragment(html,context){var tmp,tag,wrap,fragment=context.createDocumentFragment(),nodes=[],i;if(jqLiteIsTextNode(html)){nodes.push(context.createTextNode(html))}else{tmp=fragment.appendChild(context.createElement("div"));tag=(TAG_NAME_REGEXP.exec(html)||["",""])[1].toLowerCase();wrap=wrapMap[tag]||wrapMap._default;tmp.innerHTML=wrap[1]+html.replace(XHTML_TAG_REGEXP,"<$1></$2>")+wrap[2];i=wrap[0];while(i--){tmp=tmp.lastChild}nodes=concat(nodes,tmp.childNodes);tmp=fragment.firstChild;tmp.textContent=""}fragment.textContent="";fragment.innerHTML="";forEach(nodes,function(node){fragment.appendChild(node)});return fragment}function jqLiteParseHTML(html,context){context=context||window.document;var parsed;if(parsed=SINGLE_TAG_REGEXP.exec(html)){return[context.createElement(parsed[1])]}if(parsed=jqLiteBuildFragment(html,context)){return parsed.childNodes}return[]}function jqLiteWrapNode(node,wrapper){var parent=node.parentNode;if(parent){parent.replaceChild(wrapper,node)}wrapper.appendChild(node)}var jqLiteContains=window.Node.prototype.contains||function(arg){return!!(this.compareDocumentPosition(arg)&16)};function JQLite(element){if(element instanceof JQLite){return element}var argIsString;if(isString(element)){element=trim(element);argIsString=true}if(!(this instanceof JQLite)){if(argIsString&&element.charAt(0)!=="<"){throw jqLiteMinErr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element")}return new JQLite(element)}if(argIsString){jqLiteAddNodes(this,jqLiteParseHTML(element))}else if(isFunction(element)){jqLiteReady(element)}else{jqLiteAddNodes(this,element)}}function jqLiteClone(element){return element.cloneNode(true)}function jqLiteDealoc(element,onlyDescendants){if(!onlyDescendants&&jqLiteAcceptsData(element))jqLite.cleanData([element]);if(element.querySelectorAll){jqLite.cleanData(element.querySelectorAll("*"))}}function isEmptyObject(obj){var name;for(name in obj){return false}return true}function removeIfEmptyData(element){var expandoId=element.ng339;var expandoStore=expandoId&&jqCache[expandoId];var events=expandoStore&&expandoStore.events;var data=expandoStore&&expandoStore.data;if((!data||isEmptyObject(data))&&(!events||isEmptyObject(events))){delete jqCache[expandoId];element.ng339=undefined}}function jqLiteOff(element,type,fn,unsupported){if(isDefined(unsupported))throw jqLiteMinErr("offargs","jqLite#off() does not support the `selector` argument");var expandoStore=jqLiteExpandoStore(element);var events=expandoStore&&expandoStore.events;var handle=expandoStore&&expandoStore.handle;if(!handle)return;if(!type){for(type in events){if(type!=="$destroy"){element.removeEventListener(type,handle)}delete events[type]}}else{var removeHandler=function(type){var listenerFns=events[type];if(isDefined(fn)){arrayRemove(listenerFns||[],fn)}if(!(isDefined(fn)&&listenerFns&&listenerFns.length>0)){element.removeEventListener(type,handle);delete events[type]}};forEach(type.split(" "),function(type){removeHandler(type);if(MOUSE_EVENT_MAP[type]){removeHandler(MOUSE_EVENT_MAP[type])}})}removeIfEmptyData(element)}function jqLiteRemoveData(element,name){var expandoId=element.ng339;var expandoStore=expandoId&&jqCache[expandoId];if(expandoStore){if(name){delete expandoStore.data[name]}else{expandoStore.data={}}removeIfEmptyData(element)}}function jqLiteExpandoStore(element,createIfNecessary){var expandoId=element.ng339,expandoStore=expandoId&&jqCache[expandoId];if(createIfNecessary&&!expandoStore){element.ng339=expandoId=jqNextId();expandoStore=jqCache[expandoId]={events:{},data:{},handle:undefined}}return expandoStore}function jqLiteData(element,key,value){if(jqLiteAcceptsData(element)){var prop;var isSimpleSetter=isDefined(value);var isSimpleGetter=!isSimpleSetter&&key&&!isObject(key);var massGetter=!key;var expandoStore=jqLiteExpandoStore(element,!isSimpleGetter);var data=expandoStore&&expandoStore.data;if(isSimpleSetter){data[kebabToCamel(key)]=value}else{if(massGetter){return data}else{if(isSimpleGetter){return data&&data[kebabToCamel(key)]}else{for(prop in key){data[kebabToCamel(prop)]=key[prop]}}}}}}function jqLiteHasClass(element,selector){if(!element.getAttribute)return false;return(" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+selector+" ")>-1}function jqLiteRemoveClass(element,cssClasses){if(cssClasses&&element.setAttribute){var existingClasses=(" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");var newClasses=existingClasses;forEach(cssClasses.split(" "),function(cssClass){cssClass=trim(cssClass);newClasses=newClasses.replace(" "+cssClass+" "," ")});if(newClasses!==existingClasses){element.setAttribute("class",trim(newClasses))}}}function jqLiteAddClass(element,cssClasses){if(cssClasses&&element.setAttribute){var existingClasses=(" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");var newClasses=existingClasses;forEach(cssClasses.split(" "),function(cssClass){cssClass=trim(cssClass);if(newClasses.indexOf(" "+cssClass+" ")===-1){newClasses+=cssClass+" "}});if(newClasses!==existingClasses){element.setAttribute("class",trim(newClasses))}}}function jqLiteAddNodes(root,elements){if(elements){if(elements.nodeType){root[root.length++]=elements}else{var length=elements.length;if(typeof length==="number"&&elements.window!==elements){if(length){for(var i=0;i<length;i++){root[root.length++]=elements[i]}}}else{root[root.length++]=elements}}}}function jqLiteController(element,name){return jqLiteInheritedData(element,"$"+(name||"ngController")+"Controller")}function jqLiteInheritedData(element,name,value){if(element.nodeType===NODE_TYPE_DOCUMENT){element=element.documentElement}var names=isArray(name)?name:[name];while(element){for(var i=0,ii=names.length;i<ii;i++){if(isDefined(value=jqLite.data(element,names[i])))return value}element=element.parentNode||element.nodeType===NODE_TYPE_DOCUMENT_FRAGMENT&&element.host}}function jqLiteEmpty(element){jqLiteDealoc(element,true);while(element.firstChild){element.removeChild(element.firstChild)}}function jqLiteRemove(element,keepData){if(!keepData)jqLiteDealoc(element);var parent=element.parentNode;if(parent)parent.removeChild(element)}function jqLiteDocumentLoaded(action,win){win=win||window;if(win.document.readyState==="complete"){win.setTimeout(action)}else{jqLite(win).on("load",action)}}function jqLiteReady(fn){function trigger(){window.document.removeEventListener("DOMContentLoaded",trigger);window.removeEventListener("load",trigger);fn()}if(window.document.readyState==="complete"){window.setTimeout(fn)}else{window.document.addEventListener("DOMContentLoaded",trigger);window.addEventListener("load",trigger)}}var JQLitePrototype=JQLite.prototype={ready:jqLiteReady,toString:function(){var value=[];forEach(this,function(e){value.push(""+e)});return"["+value.join(", ")+"]"},eq:function(index){return index>=0?jqLite(this[index]):jqLite(this[this.length+index])},length:0,push:push,sort:[].sort,splice:[].splice};var BOOLEAN_ATTR={};forEach("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(value){BOOLEAN_ATTR[lowercase(value)]=value});var BOOLEAN_ELEMENTS={};forEach("input,select,option,textarea,button,form,details".split(","),function(value){BOOLEAN_ELEMENTS[value]=true});var ALIASED_ATTR={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};function getBooleanAttrName(element,name){var booleanAttr=BOOLEAN_ATTR[name.toLowerCase()];return booleanAttr&&BOOLEAN_ELEMENTS[nodeName_(element)]&&booleanAttr}function getAliasedAttrName(name){return ALIASED_ATTR[name]}forEach({data:jqLiteData,removeData:jqLiteRemoveData,hasData:jqLiteHasData,cleanData:function jqLiteCleanData(nodes){for(var i=0,ii=nodes.length;i<ii;i++){jqLiteRemoveData(nodes[i]);jqLiteOff(nodes[i])}}},function(fn,name){JQLite[name]=fn});forEach({data:jqLiteData,inheritedData:jqLiteInheritedData,scope:function(element){return jqLite.data(element,"$scope")||jqLiteInheritedData(element.parentNode||element,["$isolateScope","$scope"])},isolateScope:function(element){return jqLite.data(element,"$isolateScope")||jqLite.data(element,"$isolateScopeNoTemplate")},controller:jqLiteController,injector:function(element){return jqLiteInheritedData(element,"$injector")},removeAttr:function(element,name){element.removeAttribute(name)},hasClass:jqLiteHasClass,css:function(element,name,value){name=cssKebabToCamel(name);if(isDefined(value)){element.style[name]=value}else{return element.style[name]}},attr:function(element,name,value){var ret;var nodeType=element.nodeType;if(nodeType===NODE_TYPE_TEXT||nodeType===NODE_TYPE_ATTRIBUTE||nodeType===NODE_TYPE_COMMENT||!element.getAttribute){return}var lowercasedName=lowercase(name);var isBooleanAttr=BOOLEAN_ATTR[lowercasedName];if(isDefined(value)){if(value===null||value===false&&isBooleanAttr){element.removeAttribute(name)}else{element.setAttribute(name,isBooleanAttr?lowercasedName:value)}}else{ret=element.getAttribute(name);if(isBooleanAttr&&ret!==null){ret=lowercasedName}return ret===null?undefined:ret}},prop:function(element,name,value){if(isDefined(value)){element[name]=value}else{return element[name]}},text:function(){getText.$dv="";return getText;function getText(element,value){if(isUndefined(value)){var nodeType=element.nodeType;return nodeType===NODE_TYPE_ELEMENT||nodeType===NODE_TYPE_TEXT?element.textContent:""}element.textContent=value}}(),val:function(element,value){if(isUndefined(value)){if(element.multiple&&nodeName_(element)==="select"){var result=[];forEach(element.options,function(option){if(option.selected){result.push(option.value||option.text)}});return result}return element.value}element.value=value},html:function(element,value){if(isUndefined(value)){return element.innerHTML}jqLiteDealoc(element,true);element.innerHTML=value},empty:jqLiteEmpty},function(fn,name){JQLite.prototype[name]=function(arg1,arg2){var i,key;var nodeCount=this.length;if(fn!==jqLiteEmpty&&isUndefined(fn.length===2&&(fn!==jqLiteHasClass&&fn!==jqLiteController)?arg1:arg2)){if(isObject(arg1)){for(i=0;i<nodeCount;i++){if(fn===jqLiteData){fn(this[i],arg1)}else{for(key in arg1){fn(this[i],key,arg1[key])}}}return this}else{var value=fn.$dv;var jj=isUndefined(value)?Math.min(nodeCount,1):nodeCount;for(var j=0;j<jj;j++){var nodeValue=fn(this[j],arg1,arg2);value=value?value+nodeValue:nodeValue}return value}}else{for(i=0;i<nodeCount;i++){fn(this[i],arg1,arg2)}return this}}});function createEventHandler(element,events){var eventHandler=function(event,type){event.isDefaultPrevented=function(){return event.defaultPrevented};var eventFns=events[type||event.type];var eventFnsLength=eventFns?eventFns.length:0;if(!eventFnsLength)return;if(isUndefined(event.immediatePropagationStopped)){var originalStopImmediatePropagation=event.stopImmediatePropagation;event.stopImmediatePropagation=function(){event.immediatePropagationStopped=true;if(event.stopPropagation){event.stopPropagation()}if(originalStopImmediatePropagation){originalStopImmediatePropagation.call(event)}}}event.isImmediatePropagationStopped=function(){return event.immediatePropagationStopped===true};var handlerWrapper=eventFns.specialHandlerWrapper||defaultHandlerWrapper;if(eventFnsLength>1){eventFns=shallowCopy(eventFns)}for(var i=0;i<eventFnsLength;i++){if(!event.isImmediatePropagationStopped()){handlerWrapper(element,event,eventFns[i])}}};eventHandler.elem=element;return eventHandler}function defaultHandlerWrapper(element,event,handler){handler.call(element,event)}function specialMouseHandlerWrapper(target,event,handler){var related=event.relatedTarget;if(!related||related!==target&&!jqLiteContains.call(target,related)){handler.call(target,event)}}forEach({removeData:jqLiteRemoveData,on:function jqLiteOn(element,type,fn,unsupported){if(isDefined(unsupported))throw jqLiteMinErr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(!jqLiteAcceptsData(element)){return}var expandoStore=jqLiteExpandoStore(element,true);var events=expandoStore.events;var handle=expandoStore.handle;if(!handle){handle=expandoStore.handle=createEventHandler(element,events)}var types=type.indexOf(" ")>=0?type.split(" "):[type];var i=types.length;var addHandler=function(type,specialHandlerWrapper,noEventListener){var eventFns=events[type];if(!eventFns){eventFns=events[type]=[];eventFns.specialHandlerWrapper=specialHandlerWrapper;if(type!=="$destroy"&&!noEventListener){element.addEventListener(type,handle)}}eventFns.push(fn)};while(i--){type=types[i];if(MOUSE_EVENT_MAP[type]){addHandler(MOUSE_EVENT_MAP[type],specialMouseHandlerWrapper);addHandler(type,undefined,true)}else{addHandler(type)}}},off:jqLiteOff,one:function(element,type,fn){element=jqLite(element);element.on(type,function onFn(){element.off(type,fn);element.off(type,onFn)});element.on(type,fn)},replaceWith:function(element,replaceNode){var index,parent=element.parentNode;jqLiteDealoc(element);forEach(new JQLite(replaceNode),function(node){if(index){parent.insertBefore(node,index.nextSibling)}else{parent.replaceChild(node,element)}index=node})},children:function(element){var children=[];forEach(element.childNodes,function(element){if(element.nodeType===NODE_TYPE_ELEMENT){children.push(element)}});return children},contents:function(element){return element.contentDocument||element.childNodes||[]},append:function(element,node){var nodeType=element.nodeType;if(nodeType!==NODE_TYPE_ELEMENT&&nodeType!==NODE_TYPE_DOCUMENT_FRAGMENT)return;node=new JQLite(node);for(var i=0,ii=node.length;i<ii;i++){var child=node[i];element.appendChild(child)}},prepend:function(element,node){if(element.nodeType===NODE_TYPE_ELEMENT){var index=element.firstChild;forEach(new JQLite(node),function(child){element.insertBefore(child,index)})}},wrap:function(element,wrapNode){jqLiteWrapNode(element,jqLite(wrapNode).eq(0).clone()[0])},remove:jqLiteRemove,detach:function(element){jqLiteRemove(element,true)},after:function(element,newElement){var index=element,parent=element.parentNode;if(parent){newElement=new JQLite(newElement);for(var i=0,ii=newElement.length;i<ii;i++){var node=newElement[i];parent.insertBefore(node,index.nextSibling);index=node}}},addClass:jqLiteAddClass,removeClass:jqLiteRemoveClass,toggleClass:function(element,selector,condition){if(selector){forEach(selector.split(" "),function(className){var classCondition=condition;if(isUndefined(classCondition)){classCondition=!jqLiteHasClass(element,className)}(classCondition?jqLiteAddClass:jqLiteRemoveClass)(element,className)})}},parent:function(element){var parent=element.parentNode;return parent&&parent.nodeType!==NODE_TYPE_DOCUMENT_FRAGMENT?parent:null},next:function(element){return element.nextElementSibling},find:function(element,selector){if(element.getElementsByTagName){return element.getElementsByTagName(selector)}else{return[]}},clone:jqLiteClone,triggerHandler:function(element,event,extraParameters){var dummyEvent,eventFnsCopy,handlerArgs;var eventName=event.type||event;var expandoStore=jqLiteExpandoStore(element);var events=expandoStore&&expandoStore.events;var eventFns=events&&events[eventName];if(eventFns){dummyEvent={preventDefault:function(){this.defaultPrevented=true},isDefaultPrevented:function(){return this.defaultPrevented===true},stopImmediatePropagation:function(){this.immediatePropagationStopped=true},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===true},stopPropagation:noop,type:eventName,target:element};if(event.type){dummyEvent=extend(dummyEvent,event)}eventFnsCopy=shallowCopy(eventFns);handlerArgs=extraParameters?[dummyEvent].concat(extraParameters):[dummyEvent];forEach(eventFnsCopy,function(fn){if(!dummyEvent.isImmediatePropagationStopped()){fn.apply(element,handlerArgs)}})}}},function(fn,name){JQLite.prototype[name]=function(arg1,arg2,arg3){var value;for(var i=0,ii=this.length;i<ii;i++){if(isUndefined(value)){value=fn(this[i],arg1,arg2,arg3);if(isDefined(value)){value=jqLite(value)}}else{jqLiteAddNodes(value,fn(this[i],arg1,arg2,arg3))}}return isDefined(value)?value:this}});JQLite.prototype.bind=JQLite.prototype.on;JQLite.prototype.unbind=JQLite.prototype.off;function $$jqLiteProvider(){this.$get=function $$jqLite(){return extend(JQLite,{hasClass:function(node,classes){if(node.attr)node=node[0];return jqLiteHasClass(node,classes)},addClass:function(node,classes){if(node.attr)node=node[0];return jqLiteAddClass(node,classes)},removeClass:function(node,classes){if(node.attr)node=node[0];return jqLiteRemoveClass(node,classes)}})}}function hashKey(obj,nextUidFn){var key=obj&&obj.$$hashKey;if(key){if(typeof key==="function"){key=obj.$$hashKey()}return key}var objType=typeof obj;if(objType==="function"||objType==="object"&&obj!==null){key=obj.$$hashKey=objType+":"+(nextUidFn||nextUid)()}else{key=objType+":"+obj}return key}var nanKey=Object.create(null);function NgMapShim(){this._keys=[];this._values=[];this._lastKey=NaN;this._lastIndex=-1}NgMapShim.prototype={_idx:function(key){if(key!==this._lastKey){this._lastKey=key;this._lastIndex=this._keys.indexOf(key)}return this._lastIndex},_transformKey:function(key){return isNumberNaN(key)?nanKey:key},get:function(key){key=this._transformKey(key);var idx=this._idx(key);if(idx!==-1){return this._values[idx]}},has:function(key){key=this._transformKey(key);var idx=this._idx(key);return idx!==-1},set:function(key,value){key=this._transformKey(key);var idx=this._idx(key);if(idx===-1){idx=this._lastIndex=this._keys.length}this._keys[idx]=key;this._values[idx]=value},delete:function(key){key=this._transformKey(key);var idx=this._idx(key);if(idx===-1){return false}this._keys.splice(idx,1);this._values.splice(idx,1);this._lastKey=NaN;this._lastIndex=-1;return true}};var NgMap=NgMapShim;var $$MapProvider=[function(){this.$get=[function(){return NgMap}]}];var ARROW_ARG=/^([^(]+?)=>/;var FN_ARGS=/^[^(]*\(\s*([^)]*)\)/m;var FN_ARG_SPLIT=/,/;var FN_ARG=/^\s*(_?)(\S+?)\1\s*$/;var STRIP_COMMENTS=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;var $injectorMinErr=minErr("$injector");function stringifyFn(fn){return Function.prototype.toString.call(fn)}function extractArgs(fn){var fnText=stringifyFn(fn).replace(STRIP_COMMENTS,""),args=fnText.match(ARROW_ARG)||fnText.match(FN_ARGS);return args}function anonFn(fn){var args=extractArgs(fn);if(args){return"function("+(args[1]||"").replace(/[\s\r\n]+/," ")+")"}return"fn"}function annotate(fn,strictDi,name){var $inject,argDecl,last;if(typeof fn==="function"){if(!($inject=fn.$inject)){$inject=[];if(fn.length){if(strictDi){if(!isString(name)||!name){name=fn.name||anonFn(fn)}throw $injectorMinErr("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",name)}argDecl=extractArgs(fn);forEach(argDecl[1].split(FN_ARG_SPLIT),function(arg){arg.replace(FN_ARG,function(all,underscore,name){$inject.push(name)})})}fn.$inject=$inject}}else if(isArray(fn)){last=fn.length-1;assertArgFn(fn[last],"fn");$inject=fn.slice(0,last)}else{assertArgFn(fn,"fn",true)}return $inject}function createInjector(modulesToLoad,strictDi){strictDi=strictDi===true;var INSTANTIATING={},providerSuffix="Provider",path=[],loadedModules=new NgMap,providerCache={$provide:{provider:supportObject(provider),factory:supportObject(factory),service:supportObject(service),value:supportObject(value),constant:supportObject(constant),decorator:decorator}},providerInjector=providerCache.$injector=createInternalInjector(providerCache,function(serviceName,caller){if(angular.isString(caller)){path.push(caller)}throw $injectorMinErr("unpr","Unknown provider: {0}",path.join(" <- "))}),instanceCache={},protoInstanceInjector=createInternalInjector(instanceCache,function(serviceName,caller){var provider=providerInjector.get(serviceName+providerSuffix,caller);return instanceInjector.invoke(provider.$get,provider,undefined,serviceName)}),instanceInjector=protoInstanceInjector;providerCache["$injector"+providerSuffix]={$get:valueFn(protoInstanceInjector)};instanceInjector.modules=providerInjector.modules=createMap();var runBlocks=loadModules(modulesToLoad);instanceInjector=protoInstanceInjector.get("$injector");instanceInjector.strictDi=strictDi;forEach(runBlocks,function(fn){if(fn)instanceInjector.invoke(fn)});instanceInjector.loadNewModules=function(mods){forEach(loadModules(mods),function(fn){if(fn)instanceInjector.invoke(fn)})};return instanceInjector;function supportObject(delegate){return function(key,value){if(isObject(key)){forEach(key,reverseParams(delegate))}else{return delegate(key,value)}}}function provider(name,provider_){assertNotHasOwnProperty(name,"service");if(isFunction(provider_)||isArray(provider_)){provider_=providerInjector.instantiate(provider_)}if(!provider_.$get){throw $injectorMinErr("pget","Provider '{0}' must define $get factory method.",name)}return providerCache[name+providerSuffix]=provider_}function enforceReturnValue(name,factory){return function enforcedReturnValue(){var result=instanceInjector.invoke(factory,this);if(isUndefined(result)){throw $injectorMinErr("undef","Provider '{0}' must return a value from $get factory method.",name)}return result}}function factory(name,factoryFn,enforce){return provider(name,{$get:enforce!==false?enforceReturnValue(name,factoryFn):factoryFn})}function service(name,constructor){return factory(name,["$injector",function($injector){return $injector.instantiate(constructor)}])}function value(name,val){return factory(name,valueFn(val),false)}function constant(name,value){assertNotHasOwnProperty(name,"constant");providerCache[name]=value;instanceCache[name]=value}function decorator(serviceName,decorFn){var origProvider=providerInjector.get(serviceName+providerSuffix),orig$get=origProvider.$get;origProvider.$get=function(){var origInstance=instanceInjector.invoke(orig$get,origProvider);return instanceInjector.invoke(decorFn,null,{$delegate:origInstance})}}function loadModules(modulesToLoad){assertArg(isUndefined(modulesToLoad)||isArray(modulesToLoad),"modulesToLoad","not an array");var runBlocks=[],moduleFn;forEach(modulesToLoad,function(module){if(loadedModules.get(module))return;loadedModules.set(module,true);function runInvokeQueue(queue){var i,ii;for(i=0,ii=queue.length;i<ii;i++){var invokeArgs=queue[i],provider=providerInjector.get(invokeArgs[0]);provider[invokeArgs[1]].apply(provider,invokeArgs[2])}}try{if(isString(module)){moduleFn=angularModule(module);instanceInjector.modules[module]=moduleFn;runBlocks=runBlocks.concat(loadModules(moduleFn.requires)).concat(moduleFn._runBlocks);runInvokeQueue(moduleFn._invokeQueue);runInvokeQueue(moduleFn._configBlocks)}else if(isFunction(module)){runBlocks.push(providerInjector.invoke(module))}else if(isArray(module)){runBlocks.push(providerInjector.invoke(module))}else{assertArgFn(module,"module")}}catch(e){if(isArray(module)){module=module[module.length-1]}if(e.message&&e.stack&&e.stack.indexOf(e.message)===-1){e=e.message+"\n"+e.stack}throw $injectorMinErr("modulerr","Failed to instantiate module {0} due to:\n{1}",module,e.stack||e.message||e)}});return runBlocks}function createInternalInjector(cache,factory){function getService(serviceName,caller){if(cache.hasOwnProperty(serviceName)){if(cache[serviceName]===INSTANTIATING){throw $injectorMinErr("cdep","Circular dependency found: {0}",serviceName+" <- "+path.join(" <- "))}return cache[serviceName]}else{try{path.unshift(serviceName);cache[serviceName]=INSTANTIATING;cache[serviceName]=factory(serviceName,caller);return cache[serviceName]}catch(err){if(cache[serviceName]===INSTANTIATING){delete cache[serviceName]}throw err}finally{path.shift()}}}function injectionArgs(fn,locals,serviceName){var args=[],$inject=createInjector.$$annotate(fn,strictDi,serviceName);for(var i=0,length=$inject.length;i<length;i++){var key=$inject[i];if(typeof key!=="string"){throw $injectorMinErr("itkn","Incorrect injection token! Expected service name as string, got {0}",key)}args.push(locals&&locals.hasOwnProperty(key)?locals[key]:getService(key,serviceName))}return args}function isClass(func){if(msie||typeof func!=="function"){return false}var result=func.$$ngIsClass;if(!isBoolean(result)){result=func.$$ngIsClass=/^class\b/.test(stringifyFn(func))}return result}function invoke(fn,self,locals,serviceName){if(typeof locals==="string"){serviceName=locals;locals=null}var args=injectionArgs(fn,locals,serviceName);if(isArray(fn)){fn=fn[fn.length-1]}if(!isClass(fn)){return fn.apply(self,args)}else{args.unshift(null);return new(Function.prototype.bind.apply(fn,args))}}function instantiate(Type,locals,serviceName){var ctor=isArray(Type)?Type[Type.length-1]:Type;var args=injectionArgs(Type,locals,serviceName);args.unshift(null);return new(Function.prototype.bind.apply(ctor,args))}return{invoke:invoke,instantiate:instantiate,get:getService,annotate:createInjector.$$annotate,has:function(name){return providerCache.hasOwnProperty(name+providerSuffix)||cache.hasOwnProperty(name)}}}}createInjector.$$annotate=annotate;function $AnchorScrollProvider(){var autoScrollingEnabled=true;this.disableAutoScrolling=function(){autoScrollingEnabled=false};this.$get=["$window","$location","$rootScope",function($window,$location,$rootScope){var document=$window.document;function getFirstAnchor(list){var result=null;Array.prototype.some.call(list,function(element){if(nodeName_(element)==="a"){result=element;return true}});return result}function getYOffset(){var offset=scroll.yOffset;if(isFunction(offset)){offset=offset()}else if(isElement(offset)){var elem=offset[0];var style=$window.getComputedStyle(elem);if(style.position!=="fixed"){offset=0}else{offset=elem.getBoundingClientRect().bottom}}else if(!isNumber(offset)){offset=0}return offset}function scrollTo(elem){if(elem){elem.scrollIntoView();var offset=getYOffset();if(offset){var elemTop=elem.getBoundingClientRect().top;$window.scrollBy(0,elemTop-offset)}}else{$window.scrollTo(0,0)}}function scroll(hash){hash=isString(hash)?hash:isNumber(hash)?hash.toString():$location.hash();var elm;if(!hash)scrollTo(null);else if(elm=document.getElementById(hash))scrollTo(elm);else if(elm=getFirstAnchor(document.getElementsByName(hash)))scrollTo(elm);else if(hash==="top")scrollTo(null)}if(autoScrollingEnabled){$rootScope.$watch(function autoScrollWatch(){return $location.hash()},function autoScrollWatchAction(newVal,oldVal){if(newVal===oldVal&&newVal==="")return;jqLiteDocumentLoaded(function(){$rootScope.$evalAsync(scroll)})})}return scroll}]}var $animateMinErr=minErr("$animate");var ELEMENT_NODE=1;var NG_ANIMATE_CLASSNAME="ng-animate";function mergeClasses(a,b){if(!a&&!b)return"";if(!a)return b;if(!b)return a;if(isArray(a))a=a.join(" ");if(isArray(b))b=b.join(" ");return a+" "+b}function extractElementNode(element){for(var i=0;i<element.length;i++){var elm=element[i];if(elm.nodeType===ELEMENT_NODE){return elm}}}function splitClasses(classes){if(isString(classes)){classes=classes.split(" ")}var obj=createMap();forEach(classes,function(klass){if(klass.length){obj[klass]=true}});return obj}function prepareAnimateOptions(options){return isObject(options)?options:{}}var $$CoreAnimateJsProvider=function(){this.$get=noop};var $$CoreAnimateQueueProvider=function(){var postDigestQueue=new NgMap;var postDigestElements=[];this.$get=["$$AnimateRunner","$rootScope",function($$AnimateRunner,$rootScope){return{enabled:noop,on:noop,off:noop,pin:noop,push:function(element,event,options,domOperation){if(domOperation){domOperation()}options=options||{};if(options.from){element.css(options.from)}if(options.to){element.css(options.to)}if(options.addClass||options.removeClass){addRemoveClassesPostDigest(element,options.addClass,options.removeClass)}var runner=new $$AnimateRunner;runner.complete();return runner}};function updateData(data,classes,value){var changed=false;if(classes){classes=isString(classes)?classes.split(" "):isArray(classes)?classes:[];forEach(classes,function(className){if(className){changed=true;data[className]=value}})}return changed}function handleCSSClassChanges(){forEach(postDigestElements,function(element){var data=postDigestQueue.get(element);if(data){var existing=splitClasses(element.attr("class"));var toAdd="";var toRemove="";forEach(data,function(status,className){var hasClass=!!existing[className];if(status!==hasClass){if(status){toAdd+=(toAdd.length?" ":"")+className}else{toRemove+=(toRemove.length?" ":"")+className}}});forEach(element,function(elm){if(toAdd){jqLiteAddClass(elm,toAdd)}if(toRemove){jqLiteRemoveClass(elm,toRemove)}});postDigestQueue.delete(element)}});postDigestElements.length=0}function addRemoveClassesPostDigest(element,add,remove){var data=postDigestQueue.get(element)||{};var classesAdded=updateData(data,add,true);var classesRemoved=updateData(data,remove,false);if(classesAdded||classesRemoved){postDigestQueue.set(element,data);postDigestElements.push(element);if(postDigestElements.length===1){$rootScope.$$postDigest(handleCSSClassChanges)}}}}]};var $AnimateProvider=["$provide",function($provide){var provider=this;var classNameFilter=null;var customFilter=null;this.$$registeredAnimations=Object.create(null);this.register=function(name,factory){if(name&&name.charAt(0)!=="."){throw $animateMinErr("notcsel","Expecting class selector starting with '.' got '{0}'.",name)}var key=name+"-animation";provider.$$registeredAnimations[name.substr(1)]=key;$provide.factory(key,factory)};this.customFilter=function(filterFn){if(arguments.length===1){customFilter=isFunction(filterFn)?filterFn:null}return customFilter};this.classNameFilter=function(expression){if(arguments.length===1){classNameFilter=expression instanceof RegExp?expression:null;if(classNameFilter){var reservedRegex=new RegExp("[(\\s|\\/)]"+NG_ANIMATE_CLASSNAME+"[(\\s|\\/)]");if(reservedRegex.test(classNameFilter.toString())){classNameFilter=null;throw $animateMinErr("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',NG_ANIMATE_CLASSNAME)}}}return classNameFilter};this.$get=["$$animateQueue",function($$animateQueue){function domInsert(element,parentElement,afterElement){if(afterElement){var afterNode=extractElementNode(afterElement);if(afterNode&&!afterNode.parentNode&&!afterNode.previousElementSibling){afterElement=null}}if(afterElement){afterElement.after(element)}else{parentElement.prepend(element)}}return{on:$$animateQueue.on,off:$$animateQueue.off,pin:$$animateQueue.pin,enabled:$$animateQueue.enabled,cancel:function(runner){if(runner.cancel){runner.cancel()}},enter:function(element,parent,after,options){parent=parent&&jqLite(parent);after=after&&jqLite(after);parent=parent||after.parent();domInsert(element,parent,after);return $$animateQueue.push(element,"enter",prepareAnimateOptions(options))},move:function(element,parent,after,options){parent=parent&&jqLite(parent);after=after&&jqLite(after);parent=parent||after.parent();domInsert(element,parent,after);return $$animateQueue.push(element,"move",prepareAnimateOptions(options))},leave:function(element,options){return $$animateQueue.push(element,"leave",prepareAnimateOptions(options),function(){element.remove()})},addClass:function(element,className,options){options=prepareAnimateOptions(options);options.addClass=mergeClasses(options.addclass,className);return $$animateQueue.push(element,"addClass",options)},removeClass:function(element,className,options){options=prepareAnimateOptions(options);options.removeClass=mergeClasses(options.removeClass,className);return $$animateQueue.push(element,"removeClass",options)},setClass:function(element,add,remove,options){options=prepareAnimateOptions(options);options.addClass=mergeClasses(options.addClass,add);options.removeClass=mergeClasses(options.removeClass,remove);return $$animateQueue.push(element,"setClass",options)},animate:function(element,from,to,className,options){options=prepareAnimateOptions(options);options.from=options.from?extend(options.from,from):from;options.to=options.to?extend(options.to,to):to;className=className||"ng-inline-animate";options.tempClasses=mergeClasses(options.tempClasses,className);return $$animateQueue.push(element,"animate",options)}}}]}];var $$AnimateAsyncRunFactoryProvider=function(){this.$get=["$$rAF",function($$rAF){var waitQueue=[];function waitForTick(fn){waitQueue.push(fn);if(waitQueue.length>1)return;$$rAF(function(){for(var i=0;i<waitQueue.length;i++){waitQueue[i]()}waitQueue=[]})}return function(){var passed=false;waitForTick(function(){passed=true});return function(callback){if(passed){callback()}else{waitForTick(callback)}}}}]};var $$AnimateRunnerFactoryProvider=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function($q,$sniffer,$$animateAsyncRun,$$isDocumentHidden,$timeout){var INITIAL_STATE=0;var DONE_PENDING_STATE=1;var DONE_COMPLETE_STATE=2;AnimateRunner.chain=function(chain,callback){var index=0;next();function next(){if(index===chain.length){callback(true);return}chain[index](function(response){if(response===false){callback(false);return}index++;next()})}};AnimateRunner.all=function(runners,callback){var count=0;var status=true;forEach(runners,function(runner){runner.done(onProgress)});function onProgress(response){status=status&&response;if(++count===runners.length){callback(status)}}};function AnimateRunner(host){this.setHost(host);var rafTick=$$animateAsyncRun();var timeoutTick=function(fn){$timeout(fn,0,false)};this._doneCallbacks=[];this._tick=function(fn){if($$isDocumentHidden()){timeoutTick(fn)}else{rafTick(fn)}};this._state=0}AnimateRunner.prototype={setHost:function(host){this.host=host||{}},done:function(fn){if(this._state===DONE_COMPLETE_STATE){fn()}else{this._doneCallbacks.push(fn)}},progress:noop,getPromise:function(){if(!this.promise){var self=this;this.promise=$q(function(resolve,reject){self.done(function(status){if(status===false){reject()}else{resolve()}})})}return this.promise},then:function(resolveHandler,rejectHandler){return this.getPromise().then(resolveHandler,rejectHandler)},catch:function(handler){return this.getPromise()["catch"](handler)},finally:function(handler){return this.getPromise()["finally"](handler)},pause:function(){if(this.host.pause){this.host.pause()}},resume:function(){if(this.host.resume){this.host.resume()}},end:function(){if(this.host.end){this.host.end()}this._resolve(true)},cancel:function(){if(this.host.cancel){this.host.cancel()}this._resolve(false)},complete:function(response){var self=this;if(self._state===INITIAL_STATE){self._state=DONE_PENDING_STATE;self._tick(function(){self._resolve(response)})}},_resolve:function(response){if(this._state!==DONE_COMPLETE_STATE){forEach(this._doneCallbacks,function(fn){fn(response)});this._doneCallbacks.length=0;this._state=DONE_COMPLETE_STATE}}};return AnimateRunner}]};var $CoreAnimateCssProvider=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function($$rAF,$q,$$AnimateRunner){return function(element,initialOptions){var options=initialOptions||{};if(!options.$$prepared){options=copy(options)}if(options.cleanupStyles){options.from=options.to=null}if(options.from){element.css(options.from);options.from=null}var closed,runner=new $$AnimateRunner;return{start:run,end:run};function run(){$$rAF(function(){applyAnimationContents();if(!closed){runner.complete()}closed=true});return runner}function applyAnimationContents(){if(options.addClass){element.addClass(options.addClass);options.addClass=null}if(options.removeClass){element.removeClass(options.removeClass);options.removeClass=null}if(options.to){element.css(options.to);options.to=null}}}}]};function getHash(url){var index=url.indexOf("#");return index===-1?"":url.substr(index)}function trimEmptyHash(url){return url.replace(/#$/,"")}function Browser(window,document,$log,$sniffer,$$taskTrackerFactory){var self=this,location=window.location,history=window.history,setTimeout=window.setTimeout,clearTimeout=window.clearTimeout,pendingDeferIds={},taskTracker=$$taskTrackerFactory($log);self.isMock=false;self.$$completeOutstandingRequest=taskTracker.completeTask;self.$$incOutstandingRequestCount=taskTracker.incTaskCount;self.notifyWhenNoOutstandingRequests=taskTracker.notifyWhenNoPendingTasks;var cachedState,lastHistoryState,lastBrowserUrl=location.href,baseElement=document.find("base"),pendingLocation=null,getCurrentState=!$sniffer.history?noop:function getCurrentState(){try{return history.state}catch(e){}};cacheState();self.url=function(url,replace,state){if(isUndefined(state)){state=null}if(location!==window.location)location=window.location;if(history!==window.history)history=window.history;if(url){var sameState=lastHistoryState===state;if(lastBrowserUrl===url&&(!$sniffer.history||sameState)){return self}var sameBase=lastBrowserUrl&&stripHash(lastBrowserUrl)===stripHash(url);lastBrowserUrl=url;lastHistoryState=state;if($sniffer.history&&(!sameBase||!sameState)){history[replace?"replaceState":"pushState"](state,"",url);cacheState()}else{if(!sameBase){pendingLocation=url}if(replace){location.replace(url)}else if(!sameBase){location.href=url}else{location.hash=getHash(url)}if(location.href!==url){pendingLocation=url}}if(pendingLocation){pendingLocation=url}return self}else{return trimEmptyHash(pendingLocation||location.href)}};self.state=function(){return cachedState};var urlChangeListeners=[],urlChangeInit=false;function cacheStateAndFireUrlChange(){pendingLocation=null;fireStateOrUrlChange()}var lastCachedState=null;function cacheState(){cachedState=getCurrentState();cachedState=isUndefined(cachedState)?null:cachedState;if(equals(cachedState,lastCachedState)){cachedState=lastCachedState}lastCachedState=cachedState;lastHistoryState=cachedState}function fireStateOrUrlChange(){var prevLastHistoryState=lastHistoryState;cacheState();if(lastBrowserUrl===self.url()&&prevLastHistoryState===cachedState){return}lastBrowserUrl=self.url();lastHistoryState=cachedState;forEach(urlChangeListeners,function(listener){listener(self.url(),cachedState)})}self.onUrlChange=function(callback){if(!urlChangeInit){if($sniffer.history)jqLite(window).on("popstate",cacheStateAndFireUrlChange);jqLite(window).on("hashchange",cacheStateAndFireUrlChange);urlChangeInit=true}urlChangeListeners.push(callback);return callback};self.$$applicationDestroyed=function(){jqLite(window).off("hashchange popstate",cacheStateAndFireUrlChange)};self.$$checkUrlChange=fireStateOrUrlChange;self.baseHref=function(){var href=baseElement.attr("href");return href?href.replace(/^(https?:)?\/\/[^/]*/,""):""};self.defer=function(fn,delay,taskType){var timeoutId;delay=delay||0;taskType=taskType||taskTracker.DEFAULT_TASK_TYPE;taskTracker.incTaskCount(taskType);timeoutId=setTimeout(function(){delete pendingDeferIds[timeoutId];taskTracker.completeTask(fn,taskType)},delay);pendingDeferIds[timeoutId]=taskType;return timeoutId};self.defer.cancel=function(deferId){if(pendingDeferIds.hasOwnProperty(deferId)){var taskType=pendingDeferIds[deferId];delete pendingDeferIds[deferId];clearTimeout(deferId);taskTracker.completeTask(noop,taskType);return true}return false}}function $BrowserProvider(){this.$get=["$window","$log","$sniffer","$document","$$taskTrackerFactory",function($window,$log,$sniffer,$document,$$taskTrackerFactory){return new Browser($window,$document,$log,$sniffer,$$taskTrackerFactory)}]}function $CacheFactoryProvider(){this.$get=function(){var caches={};function cacheFactory(cacheId,options){if(cacheId in caches){throw minErr("$cacheFactory")("iid","CacheId '{0}' is already taken!",cacheId)}var size=0,stats=extend({},options,{id:cacheId}),data=createMap(),capacity=options&&options.capacity||Number.MAX_VALUE,lruHash=createMap(),freshEnd=null,staleEnd=null;return caches[cacheId]={put:function(key,value){if(isUndefined(value))return;if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key]||(lruHash[key]={key:key});refresh(lruEntry)}if(!(key in data))size++;data[key]=value;if(size>capacity){this.remove(staleEnd.key)}return value},get:function(key){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key];if(!lruEntry)return;refresh(lruEntry)}return data[key]},remove:function(key){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key];if(!lruEntry)return;if(lruEntry===freshEnd)freshEnd=lruEntry.p;if(lruEntry===staleEnd)staleEnd=lruEntry.n;link(lruEntry.n,lruEntry.p);delete lruHash[key]}if(!(key in data))return;delete data[key];size--},removeAll:function(){data=createMap();size=0;lruHash=createMap();freshEnd=staleEnd=null},destroy:function(){data=null;stats=null;lruHash=null;delete caches[cacheId]},info:function(){return extend({},stats,{size:size})}};function refresh(entry){if(entry!==freshEnd){if(!staleEnd){staleEnd=entry}else if(staleEnd===entry){staleEnd=entry.n}link(entry.n,entry.p);link(entry,freshEnd);freshEnd=entry;freshEnd.n=null}}function link(nextEntry,prevEntry){if(nextEntry!==prevEntry){if(nextEntry)nextEntry.p=prevEntry;if(prevEntry)prevEntry.n=nextEntry}}}cacheFactory.info=function(){var info={};forEach(caches,function(cache,cacheId){info[cacheId]=cache.info()});return info};cacheFactory.get=function(cacheId){return caches[cacheId]};return cacheFactory}}function $TemplateCacheProvider(){this.$get=["$cacheFactory",function($cacheFactory){return $cacheFactory("templates")}]}var $compileMinErr=minErr("$compile");function UNINITIALIZED_VALUE(){}var _UNINITIALIZED_VALUE=new UNINITIALIZED_VALUE;$CompileProvider.$inject=["$provide","$$sanitizeUriProvider"];function $CompileProvider($provide,$$sanitizeUriProvider){var hasDirectives={},Suffix="Directive",COMMENT_DIRECTIVE_REGEXP=/^\s*directive:\s*([\w-]+)\s+(.*)$/,CLASS_DIRECTIVE_REGEXP=/(([\w-]+)(?::([^;]+))?;?)/,ALL_OR_NOTHING_ATTRS=makeMap("ngSrc,ngSrcset,src,srcset"),REQUIRE_PREFIX_REGEXP=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/;var EVENT_HANDLER_ATTR_REGEXP=/^(on[a-z]+|formaction)$/;var bindingCache=createMap();function parseIsolateBindings(scope,directiveName,isController){var LOCAL_REGEXP=/^([@&]|[=<](\*?))(\??)\s*([\w$]*)$/;var bindings=createMap();forEach(scope,function(definition,scopeName){definition=definition.trim();if(definition in bindingCache){bindings[scopeName]=bindingCache[definition];return}var match=definition.match(LOCAL_REGEXP);if(!match){throw $compileMinErr("iscp","Invalid {3} for directive '{0}'."+" Definition: {... {1}: '{2}' ...}",directiveName,scopeName,definition,isController?"controller bindings definition":"isolate scope definition")}bindings[scopeName]={mode:match[1][0],collection:match[2]==="*",optional:match[3]==="?",attrName:match[4]||scopeName};if(match[4]){bindingCache[definition]=bindings[scopeName]}});return bindings}function parseDirectiveBindings(directive,directiveName){var bindings={isolateScope:null,bindToController:null};if(isObject(directive.scope)){if(directive.bindToController===true){bindings.bindToController=parseIsolateBindings(directive.scope,directiveName,true);bindings.isolateScope={}}else{bindings.isolateScope=parseIsolateBindings(directive.scope,directiveName,false)}}if(isObject(directive.bindToController)){bindings.bindToController=parseIsolateBindings(directive.bindToController,directiveName,true)}if(bindings.bindToController&&!directive.controller){throw $compileMinErr("noctrl","Cannot bind to controller without directive '{0}'s controller.",directiveName)}return bindings}function assertValidDirectiveName(name){var letter=name.charAt(0);if(!letter||letter!==lowercase(letter)){throw $compileMinErr("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",name)}if(name!==name.trim()){throw $compileMinErr("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",name)}}function getDirectiveRequire(directive){var require=directive.require||directive.controller&&directive.name;if(!isArray(require)&&isObject(require)){forEach(require,function(value,key){var match=value.match(REQUIRE_PREFIX_REGEXP);var name=value.substring(match[0].length);if(!name)require[key]=match[0]+key})}return require}function getDirectiveRestrict(restrict,name){if(restrict&&!(isString(restrict)&&/[EACM]/.test(restrict))){throw $compileMinErr("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",restrict,name)}return restrict||"EA"}this.directive=function registerDirective(name,directiveFactory){assertArg(name,"name");assertNotHasOwnProperty(name,"directive");if(isString(name)){assertValidDirectiveName(name);assertArg(directiveFactory,"directiveFactory");if(!hasDirectives.hasOwnProperty(name)){hasDirectives[name]=[];$provide.factory(name+Suffix,["$injector","$exceptionHandler",function($injector,$exceptionHandler){var directives=[];forEach(hasDirectives[name],function(directiveFactory,index){try{var directive=$injector.invoke(directiveFactory);if(isFunction(directive)){directive={compile:valueFn(directive)}}else if(!directive.compile&&directive.link){directive.compile=valueFn(directive.link)}directive.priority=directive.priority||0;directive.index=index;directive.name=directive.name||name;directive.require=getDirectiveRequire(directive);directive.restrict=getDirectiveRestrict(directive.restrict,name);directive.$$moduleName=directiveFactory.$$moduleName;directives.push(directive)}catch(e){$exceptionHandler(e)}});return directives}])}hasDirectives[name].push(directiveFactory)}else{forEach(name,reverseParams(registerDirective))}return this};this.component=function registerComponent(name,options){if(!isString(name)){forEach(name,reverseParams(bind(this,registerComponent)));return this}var controller=options.controller||function(){};function factory($injector){function makeInjectable(fn){if(isFunction(fn)||isArray(fn)){return function(tElement,tAttrs){return $injector.invoke(fn,this,{$element:tElement,$attrs:tAttrs})}}else{return fn}}var template=!options.template&&!options.templateUrl?"":options.template;var ddo={controller:controller,controllerAs:identifierForController(options.controller)||options.controllerAs||"$ctrl",template:makeInjectable(template),templateUrl:makeInjectable(options.templateUrl),transclude:options.transclude,scope:{},bindToController:options.bindings||{},restrict:"E",require:options.require};forEach(options,function(val,key){if(key.charAt(0)==="$")ddo[key]=val});return ddo}forEach(options,function(val,key){if(key.charAt(0)==="$"){factory[key]=val;if(isFunction(controller))controller[key]=val}});factory.$inject=["$injector"];return this.directive(name,factory)};this.aHrefSanitizationWhitelist=function(regexp){if(isDefined(regexp)){$$sanitizeUriProvider.aHrefSanitizationWhitelist(regexp);return this}else{return $$sanitizeUriProvider.aHrefSanitizationWhitelist()}};this.imgSrcSanitizationWhitelist=function(regexp){if(isDefined(regexp)){$$sanitizeUriProvider.imgSrcSanitizationWhitelist(regexp);return this}else{return $$sanitizeUriProvider.imgSrcSanitizationWhitelist()}};var debugInfoEnabled=true;this.debugInfoEnabled=function(enabled){if(isDefined(enabled)){debugInfoEnabled=enabled;return this}return debugInfoEnabled};var strictComponentBindingsEnabled=false;this.strictComponentBindingsEnabled=function(enabled){if(isDefined(enabled)){strictComponentBindingsEnabled=enabled;return this}return strictComponentBindingsEnabled};var TTL=10;this.onChangesTtl=function(value){if(arguments.length){TTL=value;return this}return TTL};var commentDirectivesEnabledConfig=true;this.commentDirectivesEnabled=function(value){if(arguments.length){commentDirectivesEnabledConfig=value;return this}return commentDirectivesEnabledConfig};var cssClassDirectivesEnabledConfig=true;this.cssClassDirectivesEnabled=function(value){if(arguments.length){cssClassDirectivesEnabledConfig=value;return this}return cssClassDirectivesEnabledConfig};var PROP_CONTEXTS=createMap();this.addPropertySecurityContext=function(elementName,propertyName,ctx){var key=elementName.toLowerCase()+"|"+propertyName.toLowerCase();if(key in PROP_CONTEXTS&&PROP_CONTEXTS[key]!==ctx){throw $compileMinErr("ctxoverride","Property context '{0}.{1}' already set to '{2}', cannot override to '{3}'.",elementName,propertyName,PROP_CONTEXTS[key],ctx)}PROP_CONTEXTS[key]=ctx;return this};(function registerNativePropertyContexts(){function registerContext(ctx,values){forEach(values,function(v){PROP_CONTEXTS[v.toLowerCase()]=ctx})}registerContext(SCE_CONTEXTS.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]);registerContext(SCE_CONTEXTS.CSS,["*|style"]);registerContext(SCE_CONTEXTS.URL,["area|href","area|ping","a|href","a|ping","blockquote|cite","body|background","del|cite","input|src","ins|cite","q|cite"]);registerContext(SCE_CONTEXTS.MEDIA_URL,["audio|src","img|src","img|srcset","source|src","source|srcset","track|src","video|src","video|poster"]);registerContext(SCE_CONTEXTS.RESOURCE_URL,["*|formAction","applet|code","applet|codebase","base|href","embed|src","frame|src","form|action","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])})();this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function($injector,$interpolate,$exceptionHandler,$templateRequest,$parse,$controller,$rootScope,$sce,$animate){var SIMPLE_ATTR_NAME=/^\w/;var specialAttrHolder=window.document.createElement("div");var commentDirectivesEnabled=commentDirectivesEnabledConfig;var cssClassDirectivesEnabled=cssClassDirectivesEnabledConfig;var onChangesTtl=TTL;var onChangesQueue;function flushOnChangesQueue(){try{if(!--onChangesTtl){onChangesQueue=undefined;throw $compileMinErr("infchng","{0} $onChanges() iterations reached. Aborting!\n",TTL)}$rootScope.$apply(function(){for(var i=0,ii=onChangesQueue.length;i<ii;++i){try{onChangesQueue[i]()}catch(e){$exceptionHandler(e)}}onChangesQueue=undefined})}finally{onChangesTtl++}}function sanitizeSrcset(value,invokeType){if(!value){return value}if(!isString(value)){throw $compileMinErr("srcset",'Can\'t pass trusted values to `{0}`: "{1}"',invokeType,value.toString())}var result="";var trimmedSrcset=trim(value);var srcPattern=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/;var pattern=/\s/.test(trimmedSrcset)?srcPattern:/(,)/;var rawUris=trimmedSrcset.split(pattern);var nbrUrisWith2parts=Math.floor(rawUris.length/2);for(var i=0;i<nbrUrisWith2parts;i++){var innerIdx=i*2;result+=$sce.getTrustedMediaUrl(trim(rawUris[innerIdx]));result+=" "+trim(rawUris[innerIdx+1])}var lastTuple=trim(rawUris[i*2]).split(/\s/);result+=$sce.getTrustedMediaUrl(trim(lastTuple[0]));if(lastTuple.length===2){result+=" "+trim(lastTuple[1])}return result}function Attributes(element,attributesToCopy){if(attributesToCopy){var keys=Object.keys(attributesToCopy);var i,l,key;for(i=0,l=keys.length;i<l;i++){key=keys[i];this[key]=attributesToCopy[key]}}else{this.$attr={}}this.$$element=element}Attributes.prototype={$normalize:directiveNormalize,$addClass:function(classVal){if(classVal&&classVal.length>0){$animate.addClass(this.$$element,classVal)}},$removeClass:function(classVal){if(classVal&&classVal.length>0){$animate.removeClass(this.$$element,classVal)}},$updateClass:function(newClasses,oldClasses){var toAdd=tokenDifference(newClasses,oldClasses);if(toAdd&&toAdd.length){$animate.addClass(this.$$element,toAdd)}var toRemove=tokenDifference(oldClasses,newClasses);if(toRemove&&toRemove.length){$animate.removeClass(this.$$element,toRemove)}},$set:function(key,value,writeAttr,attrName){var node=this.$$element[0],booleanKey=getBooleanAttrName(node,key),aliasedKey=getAliasedAttrName(key),observer=key,nodeName;if(booleanKey){this.$$element.prop(key,value);attrName=booleanKey}else if(aliasedKey){this[aliasedKey]=value;observer=aliasedKey}this[key]=value;if(attrName){this.$attr[key]=attrName}else{attrName=this.$attr[key];if(!attrName){this.$attr[key]=attrName=snake_case(key,"-")}}nodeName=nodeName_(this.$$element);if(nodeName==="img"&&key==="srcset"){this[key]=value=sanitizeSrcset(value,"$set('srcset', value)")}if(writeAttr!==false){if(value===null||isUndefined(value)){this.$$element.removeAttr(attrName)}else{if(SIMPLE_ATTR_NAME.test(attrName)){this.$$element.attr(attrName,value)}else{setSpecialAttr(this.$$element[0],attrName,value)}}}var $$observers=this.$$observers;if($$observers){forEach($$observers[observer],function(fn){try{fn(value)}catch(e){$exceptionHandler(e)}})}},$observe:function(key,fn){var attrs=this,$$observers=attrs.$$observers||(attrs.$$observers=createMap()),listeners=$$observers[key]||($$observers[key]=[]);listeners.push(fn);$rootScope.$evalAsync(function(){if(!listeners.$$inter&&attrs.hasOwnProperty(key)&&!isUndefined(attrs[key])){fn(attrs[key])}});return function(){arrayRemove(listeners,fn)}}};function setSpecialAttr(element,attrName,value){specialAttrHolder.innerHTML="<span "+attrName+">";var attributes=specialAttrHolder.firstChild.attributes;var attribute=attributes[0];attributes.removeNamedItem(attribute.name);attribute.value=value;element.attributes.setNamedItem(attribute)}function safeAddClass($element,className){try{$element.addClass(className)}catch(e){}}var startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),denormalizeTemplate=startSymbol==="{{"&&endSymbol==="}}"?identity:function denormalizeTemplate(template){return template.replace(/\{\{/g,startSymbol).replace(/}}/g,endSymbol)},NG_PREFIX_BINDING=/^ng(Attr|Prop|On)([A-Z].*)$/;var MULTI_ELEMENT_DIR_RE=/^(.+)Start$/;compile.$$addBindingInfo=debugInfoEnabled?function $$addBindingInfo($element,binding){var bindings=$element.data("$binding")||[];if(isArray(binding)){bindings=bindings.concat(binding)}else{bindings.push(binding)}$element.data("$binding",bindings)}:noop;compile.$$addBindingClass=debugInfoEnabled?function $$addBindingClass($element){safeAddClass($element,"ng-binding")}:noop;compile.$$addScopeInfo=debugInfoEnabled?function $$addScopeInfo($element,scope,isolated,noTemplate){var dataName=isolated?noTemplate?"$isolateScopeNoTemplate":"$isolateScope":"$scope";$element.data(dataName,scope)}:noop;compile.$$addScopeClass=debugInfoEnabled?function $$addScopeClass($element,isolated){safeAddClass($element,isolated?"ng-isolate-scope":"ng-scope")}:noop;compile.$$createComment=function(directiveName,comment){var content="";if(debugInfoEnabled){content=" "+(directiveName||"")+": ";if(comment)content+=comment+" "}return window.document.createComment(content)};return compile;function compile($compileNodes,transcludeFn,maxPriority,ignoreDirective,previousCompileContext){if(!($compileNodes instanceof jqLite)){$compileNodes=jqLite($compileNodes)}var compositeLinkFn=compileNodes($compileNodes,transcludeFn,$compileNodes,maxPriority,ignoreDirective,previousCompileContext);compile.$$addScopeClass($compileNodes);var namespace=null;return function publicLinkFn(scope,cloneConnectFn,options){if(!$compileNodes){throw $compileMinErr("multilink","This element has already been linked.")}assertArg(scope,"scope");if(previousCompileContext&&previousCompileContext.needsNewScope){scope=scope.$parent.$new()}options=options||{};var parentBoundTranscludeFn=options.parentBoundTranscludeFn,transcludeControllers=options.transcludeControllers,futureParentElement=options.futureParentElement;if(parentBoundTranscludeFn&&parentBoundTranscludeFn.$$boundTransclude){parentBoundTranscludeFn=parentBoundTranscludeFn.$$boundTransclude}if(!namespace){namespace=detectNamespaceForChildElements(futureParentElement)}var $linkNode;if(namespace!=="html"){$linkNode=jqLite(wrapTemplate(namespace,jqLite("<div></div>").append($compileNodes).html()))}else if(cloneConnectFn){$linkNode=JQLitePrototype.clone.call($compileNodes)}else{$linkNode=$compileNodes}if(transcludeControllers){for(var controllerName in transcludeControllers){$linkNode.data("$"+controllerName+"Controller",transcludeControllers[controllerName].instance)}}compile.$$addScopeInfo($linkNode,scope);if(cloneConnectFn)cloneConnectFn($linkNode,scope);if(compositeLinkFn)compositeLinkFn(scope,$linkNode,$linkNode,parentBoundTranscludeFn);if(!cloneConnectFn){$compileNodes=compositeLinkFn=null}return $linkNode}}function detectNamespaceForChildElements(parentElement){var node=parentElement&&parentElement[0];if(!node){return"html"}else{return nodeName_(node)!=="foreignobject"&&toString.call(node).match(/SVG/)?"svg":"html"}}function compileNodes(nodeList,transcludeFn,$rootElement,maxPriority,ignoreDirective,previousCompileContext){var linkFns=[],notLiveList=isArray(nodeList)||nodeList instanceof jqLite,attrs,directives,nodeLinkFn,childNodes,childLinkFn,linkFnFound,nodeLinkFnFound;for(var i=0;i<nodeList.length;i++){attrs=new Attributes;if(msie===11){mergeConsecutiveTextNodes(nodeList,i,notLiveList)}directives=collectDirectives(nodeList[i],[],attrs,i===0?maxPriority:undefined,ignoreDirective);nodeLinkFn=directives.length?applyDirectivesToNode(directives,nodeList[i],attrs,transcludeFn,$rootElement,null,[],[],previousCompileContext):null;if(nodeLinkFn&&nodeLinkFn.scope){compile.$$addScopeClass(attrs.$$element)}childLinkFn=nodeLinkFn&&nodeLinkFn.terminal||!(childNodes=nodeList[i].childNodes)||!childNodes.length?null:compileNodes(childNodes,nodeLinkFn?(nodeLinkFn.transcludeOnThisElement||!nodeLinkFn.templateOnThisElement)&&nodeLinkFn.transclude:transcludeFn);if(nodeLinkFn||childLinkFn){linkFns.push(i,nodeLinkFn,childLinkFn);linkFnFound=true;nodeLinkFnFound=nodeLinkFnFound||nodeLinkFn}previousCompileContext=null}return linkFnFound?compositeLinkFn:null;function compositeLinkFn(scope,nodeList,$rootElement,parentBoundTranscludeFn){var nodeLinkFn,childLinkFn,node,childScope,i,ii,idx,childBoundTranscludeFn;var stableNodeList;if(nodeLinkFnFound){var nodeListLength=nodeList.length;stableNodeList=new Array(nodeListLength);for(i=0;i<linkFns.length;i+=3){idx=linkFns[i];stableNodeList[idx]=nodeList[idx]}}else{stableNodeList=nodeList}for(i=0,ii=linkFns.length;i<ii;){node=stableNodeList[linkFns[i++]];nodeLinkFn=linkFns[i++];childLinkFn=linkFns[i++];if(nodeLinkFn){if(nodeLinkFn.scope){childScope=scope.$new();compile.$$addScopeInfo(jqLite(node),childScope)}else{childScope=scope}if(nodeLinkFn.transcludeOnThisElement){childBoundTranscludeFn=createBoundTranscludeFn(scope,nodeLinkFn.transclude,parentBoundTranscludeFn)}else if(!nodeLinkFn.templateOnThisElement&&parentBoundTranscludeFn){childBoundTranscludeFn=parentBoundTranscludeFn}else if(!parentBoundTranscludeFn&&transcludeFn){childBoundTranscludeFn=createBoundTranscludeFn(scope,transcludeFn)}else{childBoundTranscludeFn=null}nodeLinkFn(childLinkFn,childScope,node,$rootElement,childBoundTranscludeFn)}else if(childLinkFn){childLinkFn(scope,node.childNodes,undefined,parentBoundTranscludeFn)}}}}function mergeConsecutiveTextNodes(nodeList,idx,notLiveList){var node=nodeList[idx];var parent=node.parentNode;var sibling;if(node.nodeType!==NODE_TYPE_TEXT){return}while(true){sibling=parent?node.nextSibling:nodeList[idx+1];if(!sibling||sibling.nodeType!==NODE_TYPE_TEXT){break}node.nodeValue=node.nodeValue+sibling.nodeValue;if(sibling.parentNode){sibling.parentNode.removeChild(sibling)}if(notLiveList&&sibling===nodeList[idx+1]){nodeList.splice(idx+1,1)}}}function createBoundTranscludeFn(scope,transcludeFn,previousBoundTranscludeFn){function boundTranscludeFn(transcludedScope,cloneFn,controllers,futureParentElement,containingScope){if(!transcludedScope){transcludedScope=scope.$new(false,containingScope);transcludedScope.$$transcluded=true}return transcludeFn(transcludedScope,cloneFn,{parentBoundTranscludeFn:previousBoundTranscludeFn,transcludeControllers:controllers,futureParentElement:futureParentElement})}var boundSlots=boundTranscludeFn.$$slots=createMap();for(var slotName in transcludeFn.$$slots){if(transcludeFn.$$slots[slotName]){boundSlots[slotName]=createBoundTranscludeFn(scope,transcludeFn.$$slots[slotName],previousBoundTranscludeFn)}else{boundSlots[slotName]=null}}return boundTranscludeFn}function collectDirectives(node,directives,attrs,maxPriority,ignoreDirective){var nodeType=node.nodeType,attrsMap=attrs.$attr,match,nodeName,className;switch(nodeType){case NODE_TYPE_ELEMENT:nodeName=nodeName_(node);addDirective(directives,directiveNormalize(nodeName),"E",maxPriority,ignoreDirective);for(var attr,name,nName,value,ngPrefixMatch,nAttrs=node.attributes,j=0,jj=nAttrs&&nAttrs.length;j<jj;j++){var attrStartName=false;var attrEndName=false;var isNgAttr=false,isNgProp=false,isNgEvent=false;var multiElementMatch;attr=nAttrs[j];name=attr.name;value=attr.value;nName=directiveNormalize(name.toLowerCase());if(ngPrefixMatch=nName.match(NG_PREFIX_BINDING)){isNgAttr=ngPrefixMatch[1]==="Attr";isNgProp=ngPrefixMatch[1]==="Prop";isNgEvent=ngPrefixMatch[1]==="On";name=name.replace(PREFIX_REGEXP,"").toLowerCase().substr(4+ngPrefixMatch[1].length).replace(/_(.)/g,function(match,letter){return letter.toUpperCase()})}else if((multiElementMatch=nName.match(MULTI_ELEMENT_DIR_RE))&&directiveIsMultiElement(multiElementMatch[1])){attrStartName=name;attrEndName=name.substr(0,name.length-5)+"end";name=name.substr(0,name.length-6)}if(isNgProp||isNgEvent){attrs[nName]=value;attrsMap[nName]=attr.name;if(isNgProp){addPropertyDirective(node,directives,nName,name)}else{addEventDirective(directives,nName,name)}}else{nName=directiveNormalize(name.toLowerCase());attrsMap[nName]=name;if(isNgAttr||!attrs.hasOwnProperty(nName)){attrs[nName]=value;if(getBooleanAttrName(node,nName)){attrs[nName]=true}}addAttrInterpolateDirective(node,directives,value,nName,isNgAttr);addDirective(directives,nName,"A",maxPriority,ignoreDirective,attrStartName,attrEndName)}}if(nodeName==="input"&&node.getAttribute("type")==="hidden"){node.setAttribute("autocomplete","off")}if(!cssClassDirectivesEnabled)break;className=node.className;if(isObject(className)){className=className.animVal}if(isString(className)&&className!==""){while(match=CLASS_DIRECTIVE_REGEXP.exec(className)){nName=directiveNormalize(match[2]);if(addDirective(directives,nName,"C",maxPriority,ignoreDirective)){attrs[nName]=trim(match[3])}className=className.substr(match.index+match[0].length)}}break;case NODE_TYPE_TEXT:addTextInterpolateDirective(directives,node.nodeValue);break;case NODE_TYPE_COMMENT:if(!commentDirectivesEnabled)break;collectCommentDirectives(node,directives,attrs,maxPriority,ignoreDirective);break}directives.sort(byPriority);return directives}function collectCommentDirectives(node,directives,attrs,maxPriority,ignoreDirective){try{var match=COMMENT_DIRECTIVE_REGEXP.exec(node.nodeValue);if(match){var nName=directiveNormalize(match[1]);if(addDirective(directives,nName,"M",maxPriority,ignoreDirective)){attrs[nName]=trim(match[2])}}}catch(e){}}function groupScan(node,attrStart,attrEnd){var nodes=[];var depth=0;if(attrStart&&node.hasAttribute&&node.hasAttribute(attrStart)){do{if(!node){throw $compileMinErr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",attrStart,attrEnd)}if(node.nodeType===NODE_TYPE_ELEMENT){if(node.hasAttribute(attrStart))depth++;if(node.hasAttribute(attrEnd))depth--}nodes.push(node);node=node.nextSibling}while(depth>0)}else{nodes.push(node)}return jqLite(nodes)}function groupElementsLinkFnWrapper(linkFn,attrStart,attrEnd){return function groupedElementsLink(scope,element,attrs,controllers,transcludeFn){element=groupScan(element[0],attrStart,attrEnd);return linkFn(scope,element,attrs,controllers,transcludeFn)}}function compilationGenerator(eager,$compileNodes,transcludeFn,maxPriority,ignoreDirective,previousCompileContext){var compiled;if(eager){return compile($compileNodes,transcludeFn,maxPriority,ignoreDirective,previousCompileContext)}return function lazyCompilation(){if(!compiled){compiled=compile($compileNodes,transcludeFn,maxPriority,ignoreDirective,previousCompileContext);$compileNodes=transcludeFn=previousCompileContext=null}return compiled.apply(this,arguments)}}function applyDirectivesToNode(directives,compileNode,templateAttrs,transcludeFn,jqCollection,originalReplaceDirective,preLinkFns,postLinkFns,previousCompileContext){previousCompileContext=previousCompileContext||{};var terminalPriority=-Number.MAX_VALUE,newScopeDirective=previousCompileContext.newScopeDirective,controllerDirectives=previousCompileContext.controllerDirectives,newIsolateScopeDirective=previousCompileContext.newIsolateScopeDirective,templateDirective=previousCompileContext.templateDirective,nonTlbTranscludeDirective=previousCompileContext.nonTlbTranscludeDirective,hasTranscludeDirective=false,hasTemplate=false,hasElementTranscludeDirective=previousCompileContext.hasElementTranscludeDirective,$compileNode=templateAttrs.$$element=jqLite(compileNode),directive,directiveName,$template,replaceDirective=originalReplaceDirective,childTranscludeFn=transcludeFn,linkFn,didScanForMultipleTransclusion=false,mightHaveMultipleTransclusionError=false,directiveValue;for(var i=0,ii=directives.length;i<ii;i++){directive=directives[i];var attrStart=directive.$$start;var attrEnd=directive.$$end;if(attrStart){$compileNode=groupScan(compileNode,attrStart,attrEnd)}$template=undefined;if(terminalPriority>directive.priority){break}directiveValue=directive.scope;if(directiveValue){if(!directive.templateUrl){if(isObject(directiveValue)){assertNoDuplicate("new/isolated scope",newIsolateScopeDirective||newScopeDirective,directive,$compileNode);newIsolateScopeDirective=directive}else{assertNoDuplicate("new/isolated scope",newIsolateScopeDirective,directive,$compileNode)}}newScopeDirective=newScopeDirective||directive}directiveName=directive.name;if(!didScanForMultipleTransclusion&&(directive.replace&&(directive.templateUrl||directive.template)||directive.transclude&&!directive.$$tlb)){var candidateDirective;for(var scanningIndex=i+1;candidateDirective=directives[scanningIndex++];){if(candidateDirective.transclude&&!candidateDirective.$$tlb||candidateDirective.replace&&(candidateDirective.templateUrl||candidateDirective.template)){mightHaveMultipleTransclusionError=true;break}}didScanForMultipleTransclusion=true}if(!directive.templateUrl&&directive.controller){controllerDirectives=controllerDirectives||createMap();assertNoDuplicate("'"+directiveName+"' controller",controllerDirectives[directiveName],directive,$compileNode);controllerDirectives[directiveName]=directive}directiveValue=directive.transclude;if(directiveValue){hasTranscludeDirective=true;if(!directive.$$tlb){assertNoDuplicate("transclusion",nonTlbTranscludeDirective,directive,$compileNode);nonTlbTranscludeDirective=directive}if(directiveValue==="element"){hasElementTranscludeDirective=true;terminalPriority=directive.priority;$template=$compileNode;$compileNode=templateAttrs.$$element=jqLite(compile.$$createComment(directiveName,templateAttrs[directiveName]));compileNode=$compileNode[0];replaceWith(jqCollection,sliceArgs($template),compileNode);childTranscludeFn=compilationGenerator(mightHaveMultipleTransclusionError,$template,transcludeFn,terminalPriority,replaceDirective&&replaceDirective.name,{nonTlbTranscludeDirective:nonTlbTranscludeDirective})}else{var slots=createMap();if(!isObject(directiveValue)){$template=jqLite(jqLiteClone(compileNode)).contents()}else{$template=window.document.createDocumentFragment();var slotMap=createMap();var filledSlots=createMap();forEach(directiveValue,function(elementSelector,slotName){var optional=elementSelector.charAt(0)==="?";elementSelector=optional?elementSelector.substring(1):elementSelector;slotMap[elementSelector]=slotName;slots[slotName]=null;filledSlots[slotName]=optional});forEach($compileNode.contents(),function(node){var slotName=slotMap[directiveNormalize(nodeName_(node))];if(slotName){filledSlots[slotName]=true;slots[slotName]=slots[slotName]||window.document.createDocumentFragment();slots[slotName].appendChild(node)}else{$template.appendChild(node)}});forEach(filledSlots,function(filled,slotName){if(!filled){throw $compileMinErr("reqslot","Required transclusion slot `{0}` was not filled.",slotName)}});for(var slotName in slots){if(slots[slotName]){var slotCompileNodes=jqLite(slots[slotName].childNodes);slots[slotName]=compilationGenerator(mightHaveMultipleTransclusionError,slotCompileNodes,transcludeFn)}}$template=jqLite($template.childNodes)}$compileNode.empty();childTranscludeFn=compilationGenerator(mightHaveMultipleTransclusionError,$template,transcludeFn,undefined,undefined,{needsNewScope:directive.$$isolateScope||directive.$$newScope});childTranscludeFn.$$slots=slots}}if(directive.template){hasTemplate=true;assertNoDuplicate("template",templateDirective,directive,$compileNode);templateDirective=directive;directiveValue=isFunction(directive.template)?directive.template($compileNode,templateAttrs):directive.template;directiveValue=denormalizeTemplate(directiveValue);if(directive.replace){replaceDirective=directive;if(jqLiteIsTextNode(directiveValue)){$template=[]}else{$template=removeComments(wrapTemplate(directive.templateNamespace,trim(directiveValue)))}compileNode=$template[0];if($template.length!==1||compileNode.nodeType!==NODE_TYPE_ELEMENT){throw $compileMinErr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",directiveName,"")}replaceWith(jqCollection,$compileNode,compileNode);var newTemplateAttrs={$attr:{}};var templateDirectives=collectDirectives(compileNode,[],newTemplateAttrs);var unprocessedDirectives=directives.splice(i+1,directives.length-(i+1));if(newIsolateScopeDirective||newScopeDirective){markDirectiveScope(templateDirectives,newIsolateScopeDirective,newScopeDirective)}directives=directives.concat(templateDirectives).concat(unprocessedDirectives);mergeTemplateAttributes(templateAttrs,newTemplateAttrs);ii=directives.length}else{$compileNode.html(directiveValue)}}if(directive.templateUrl){hasTemplate=true;assertNoDuplicate("template",templateDirective,directive,$compileNode);templateDirective=directive;if(directive.replace){replaceDirective=directive}nodeLinkFn=compileTemplateUrl(directives.splice(i,directives.length-i),$compileNode,templateAttrs,jqCollection,hasTranscludeDirective&&childTranscludeFn,preLinkFns,postLinkFns,{controllerDirectives:controllerDirectives,newScopeDirective:newScopeDirective!==directive&&newScopeDirective,newIsolateScopeDirective:newIsolateScopeDirective,templateDirective:templateDirective,nonTlbTranscludeDirective:nonTlbTranscludeDirective});ii=directives.length}else if(directive.compile){try{linkFn=directive.compile($compileNode,templateAttrs,childTranscludeFn);var context=directive.$$originalDirective||directive;if(isFunction(linkFn)){addLinkFns(null,bind(context,linkFn),attrStart,attrEnd)}else if(linkFn){addLinkFns(bind(context,linkFn.pre),bind(context,linkFn.post),attrStart,attrEnd)}}catch(e){$exceptionHandler(e,startingTag($compileNode))}}if(directive.terminal){nodeLinkFn.terminal=true;terminalPriority=Math.max(terminalPriority,directive.priority)}}nodeLinkFn.scope=newScopeDirective&&newScopeDirective.scope===true;nodeLinkFn.transcludeOnThisElement=hasTranscludeDirective;nodeLinkFn.templateOnThisElement=hasTemplate;nodeLinkFn.transclude=childTranscludeFn;previousCompileContext.hasElementTranscludeDirective=hasElementTranscludeDirective;return nodeLinkFn;function addLinkFns(pre,post,attrStart,attrEnd){if(pre){if(attrStart)pre=groupElementsLinkFnWrapper(pre,attrStart,attrEnd);pre.require=directive.require;pre.directiveName=directiveName;if(newIsolateScopeDirective===directive||directive.$$isolateScope){pre=cloneAndAnnotateFn(pre,{isolateScope:true})}preLinkFns.push(pre)}if(post){if(attrStart)post=groupElementsLinkFnWrapper(post,attrStart,attrEnd);post.require=directive.require;post.directiveName=directiveName;if(newIsolateScopeDirective===directive||directive.$$isolateScope){post=cloneAndAnnotateFn(post,{isolateScope:true})}postLinkFns.push(post)}}function nodeLinkFn(childLinkFn,scope,linkNode,$rootElement,boundTranscludeFn){var i,ii,linkFn,isolateScope,controllerScope,elementControllers,transcludeFn,$element,attrs,scopeBindingInfo;if(compileNode===linkNode){attrs=templateAttrs;$element=templateAttrs.$$element}else{$element=jqLite(linkNode);attrs=new Attributes($element,templateAttrs)}controllerScope=scope;if(newIsolateScopeDirective){isolateScope=scope.$new(true)}else if(newScopeDirective){controllerScope=scope.$parent}if(boundTranscludeFn){transcludeFn=controllersBoundTransclude;transcludeFn.$$boundTransclude=boundTranscludeFn;transcludeFn.isSlotFilled=function(slotName){return!!boundTranscludeFn.$$slots[slotName]}}if(controllerDirectives){elementControllers=setupControllers($element,attrs,transcludeFn,controllerDirectives,isolateScope,scope,newIsolateScopeDirective)}if(newIsolateScopeDirective){compile.$$addScopeInfo($element,isolateScope,true,!(templateDirective&&(templateDirective===newIsolateScopeDirective||templateDirective===newIsolateScopeDirective.$$originalDirective)));compile.$$addScopeClass($element,true);isolateScope.$$isolateBindings=newIsolateScopeDirective.$$isolateBindings;scopeBindingInfo=initializeDirectiveBindings(scope,attrs,isolateScope,isolateScope.$$isolateBindings,newIsolateScopeDirective);if(scopeBindingInfo.removeWatches){isolateScope.$on("$destroy",scopeBindingInfo.removeWatches)}}for(var name in elementControllers){var controllerDirective=controllerDirectives[name];var controller=elementControllers[name];var bindings=controllerDirective.$$bindings.bindToController;controller.instance=controller();$element.data("$"+controllerDirective.name+"Controller",controller.instance);controller.bindingInfo=initializeDirectiveBindings(controllerScope,attrs,controller.instance,bindings,controllerDirective)}forEach(controllerDirectives,function(controllerDirective,name){var require=controllerDirective.require;if(controllerDirective.bindToController&&!isArray(require)&&isObject(require)){extend(elementControllers[name].instance,getControllers(name,require,$element,elementControllers))}});forEach(elementControllers,function(controller){var controllerInstance=controller.instance;if(isFunction(controllerInstance.$onChanges)){try{controllerInstance.$onChanges(controller.bindingInfo.initialChanges)}catch(e){$exceptionHandler(e)}}if(isFunction(controllerInstance.$onInit)){try{controllerInstance.$onInit()}catch(e){$exceptionHandler(e)}}if(isFunction(controllerInstance.$doCheck)){controllerScope.$watch(function(){controllerInstance.$doCheck()});controllerInstance.$doCheck()}if(isFunction(controllerInstance.$onDestroy)){controllerScope.$on("$destroy",function callOnDestroyHook(){controllerInstance.$onDestroy()})}});for(i=0,ii=preLinkFns.length;i<ii;i++){linkFn=preLinkFns[i];invokeLinkFn(linkFn,linkFn.isolateScope?isolateScope:scope,$element,attrs,linkFn.require&&getControllers(linkFn.directiveName,linkFn.require,$element,elementControllers),transcludeFn)}var scopeToChild=scope;if(newIsolateScopeDirective&&(newIsolateScopeDirective.template||newIsolateScopeDirective.templateUrl===null)){scopeToChild=isolateScope}if(childLinkFn){childLinkFn(scopeToChild,linkNode.childNodes,undefined,boundTranscludeFn)}for(i=postLinkFns.length-1;i>=0;i--){linkFn=postLinkFns[i];invokeLinkFn(linkFn,linkFn.isolateScope?isolateScope:scope,$element,attrs,linkFn.require&&getControllers(linkFn.directiveName,linkFn.require,$element,elementControllers),transcludeFn)}forEach(elementControllers,function(controller){var controllerInstance=controller.instance;if(isFunction(controllerInstance.$postLink)){controllerInstance.$postLink()}});function controllersBoundTransclude(scope,cloneAttachFn,futureParentElement,slotName){var transcludeControllers;if(!isScope(scope)){slotName=futureParentElement;futureParentElement=cloneAttachFn;cloneAttachFn=scope;scope=undefined}if(hasElementTranscludeDirective){transcludeControllers=elementControllers}if(!futureParentElement){futureParentElement=hasElementTranscludeDirective?$element.parent():$element}if(slotName){var slotTranscludeFn=boundTranscludeFn.$$slots[slotName];if(slotTranscludeFn){return slotTranscludeFn(scope,cloneAttachFn,transcludeControllers,futureParentElement,scopeToChild)}else if(isUndefined(slotTranscludeFn)){throw $compileMinErr("noslot",'No parent directive that requires a transclusion with slot name "{0}". '+"Element: {1}",slotName,startingTag($element))}}else{return boundTranscludeFn(scope,cloneAttachFn,transcludeControllers,futureParentElement,scopeToChild)}}}}function getControllers(directiveName,require,$element,elementControllers){var value;if(isString(require)){var match=require.match(REQUIRE_PREFIX_REGEXP);var name=require.substring(match[0].length);var inheritType=match[1]||match[3];var optional=match[2]==="?";if(inheritType==="^^"){$element=$element.parent()}else{value=elementControllers&&elementControllers[name];value=value&&value.instance}if(!value){var dataName="$"+name+"Controller";if(inheritType==="^^"&&$element[0]&&$element[0].nodeType===NODE_TYPE_DOCUMENT){value=null}else{value=inheritType?$element.inheritedData(dataName):$element.data(dataName)}}if(!value&&!optional){throw $compileMinErr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",name,directiveName)}}else if(isArray(require)){value=[];for(var i=0,ii=require.length;i<ii;i++){value[i]=getControllers(directiveName,require[i],$element,elementControllers)}}else if(isObject(require)){value={};forEach(require,function(controller,property){value[property]=getControllers(directiveName,controller,$element,elementControllers)})}return value||null}function setupControllers($element,attrs,transcludeFn,controllerDirectives,isolateScope,scope,newIsolateScopeDirective){var elementControllers=createMap();for(var controllerKey in controllerDirectives){var directive=controllerDirectives[controllerKey];var locals={$scope:directive===newIsolateScopeDirective||directive.$$isolateScope?isolateScope:scope,$element:$element,$attrs:attrs,$transclude:transcludeFn};var controller=directive.controller;if(controller==="@"){controller=attrs[directive.name]}var controllerInstance=$controller(controller,locals,true,directive.controllerAs);elementControllers[directive.name]=controllerInstance;$element.data("$"+directive.name+"Controller",controllerInstance.instance)}return elementControllers}function markDirectiveScope(directives,isolateScope,newScope){for(var j=0,jj=directives.length;j<jj;j++){directives[j]=inherit(directives[j],{$$isolateScope:isolateScope,$$newScope:newScope})}}function addDirective(tDirectives,name,location,maxPriority,ignoreDirective,startAttrName,endAttrName){if(name===ignoreDirective)return null;var match=null;if(hasDirectives.hasOwnProperty(name)){for(var directive,directives=$injector.get(name+Suffix),i=0,ii=directives.length;i<ii;i++){directive=directives[i];if((isUndefined(maxPriority)||maxPriority>directive.priority)&&directive.restrict.indexOf(location)!==-1){if(startAttrName){directive=inherit(directive,{$$start:startAttrName,$$end:endAttrName})}if(!directive.$$bindings){var bindings=directive.$$bindings=parseDirectiveBindings(directive,directive.name);if(isObject(bindings.isolateScope)){directive.$$isolateBindings=bindings.isolateScope}}tDirectives.push(directive);match=directive}}}return match}function directiveIsMultiElement(name){if(hasDirectives.hasOwnProperty(name)){for(var directive,directives=$injector.get(name+Suffix),i=0,ii=directives.length;i<ii;i++){directive=directives[i];if(directive.multiElement){return true}}}return false}function mergeTemplateAttributes(dst,src){var srcAttr=src.$attr,dstAttr=dst.$attr;forEach(dst,function(value,key){if(key.charAt(0)!=="$"){if(src[key]&&src[key]!==value){if(value.length){value+=(key==="style"?";":" ")+src[key]}else{value=src[key]}}dst.$set(key,value,true,srcAttr[key])}});forEach(src,function(value,key){if(!dst.hasOwnProperty(key)&&key.charAt(0)!=="$"){dst[key]=value;if(key!=="class"&&key!=="style"){dstAttr[key]=srcAttr[key]}}})}function compileTemplateUrl(directives,$compileNode,tAttrs,$rootElement,childTranscludeFn,preLinkFns,postLinkFns,previousCompileContext){var linkQueue=[],afterTemplateNodeLinkFn,afterTemplateChildLinkFn,beforeTemplateCompileNode=$compileNode[0],origAsyncDirective=directives.shift(),derivedSyncDirective=inherit(origAsyncDirective,{templateUrl:null,transclude:null,replace:null,$$originalDirective:origAsyncDirective}),templateUrl=isFunction(origAsyncDirective.templateUrl)?origAsyncDirective.templateUrl($compileNode,tAttrs):origAsyncDirective.templateUrl,templateNamespace=origAsyncDirective.templateNamespace;$compileNode.empty();$templateRequest(templateUrl).then(function(content){var compileNode,tempTemplateAttrs,$template,childBoundTranscludeFn;content=denormalizeTemplate(content);if(origAsyncDirective.replace){if(jqLiteIsTextNode(content)){$template=[]}else{$template=removeComments(wrapTemplate(templateNamespace,trim(content)))}compileNode=$template[0];if($template.length!==1||compileNode.nodeType!==NODE_TYPE_ELEMENT){throw $compileMinErr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",origAsyncDirective.name,templateUrl)}tempTemplateAttrs={$attr:{}};replaceWith($rootElement,$compileNode,compileNode);var templateDirectives=collectDirectives(compileNode,[],tempTemplateAttrs);if(isObject(origAsyncDirective.scope)){markDirectiveScope(templateDirectives,true)}directives=templateDirectives.concat(directives);mergeTemplateAttributes(tAttrs,tempTemplateAttrs)}else{compileNode=beforeTemplateCompileNode;$compileNode.html(content)}directives.unshift(derivedSyncDirective);afterTemplateNodeLinkFn=applyDirectivesToNode(directives,compileNode,tAttrs,childTranscludeFn,$compileNode,origAsyncDirective,preLinkFns,postLinkFns,previousCompileContext);forEach($rootElement,function(node,i){if(node===compileNode){$rootElement[i]=$compileNode[0]}});afterTemplateChildLinkFn=compileNodes($compileNode[0].childNodes,childTranscludeFn);while(linkQueue.length){var scope=linkQueue.shift(),beforeTemplateLinkNode=linkQueue.shift(),linkRootElement=linkQueue.shift(),boundTranscludeFn=linkQueue.shift(),linkNode=$compileNode[0];if(scope.$$destroyed)continue;if(beforeTemplateLinkNode!==beforeTemplateCompileNode){var oldClasses=beforeTemplateLinkNode.className;if(!(previousCompileContext.hasElementTranscludeDirective&&origAsyncDirective.replace)){linkNode=jqLiteClone(compileNode)}replaceWith(linkRootElement,jqLite(beforeTemplateLinkNode),linkNode);safeAddClass(jqLite(linkNode),oldClasses)}if(afterTemplateNodeLinkFn.transcludeOnThisElement){childBoundTranscludeFn=createBoundTranscludeFn(scope,afterTemplateNodeLinkFn.transclude,boundTranscludeFn)}else{childBoundTranscludeFn=boundTranscludeFn}afterTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,linkNode,$rootElement,childBoundTranscludeFn)}linkQueue=null}).catch(function(error){if(isError(error)){$exceptionHandler(error)}});return function delayedNodeLinkFn(ignoreChildLinkFn,scope,node,rootElement,boundTranscludeFn){var childBoundTranscludeFn=boundTranscludeFn;if(scope.$$destroyed)return;if(linkQueue){linkQueue.push(scope,node,rootElement,childBoundTranscludeFn)}else{if(afterTemplateNodeLinkFn.transcludeOnThisElement){childBoundTranscludeFn=createBoundTranscludeFn(scope,afterTemplateNodeLinkFn.transclude,boundTranscludeFn)}afterTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,node,rootElement,childBoundTranscludeFn)}}}function byPriority(a,b){var diff=b.priority-a.priority;if(diff!==0)return diff;if(a.name!==b.name)return a.name<b.name?-1:1;return a.index-b.index}function assertNoDuplicate(what,previousDirective,directive,element){function wrapModuleNameIfDefined(moduleName){return moduleName?" (module: "+moduleName+")":""}if(previousDirective){throw $compileMinErr("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",previousDirective.name,wrapModuleNameIfDefined(previousDirective.$$moduleName),directive.name,wrapModuleNameIfDefined(directive.$$moduleName),what,startingTag(element))}}function addTextInterpolateDirective(directives,text){var interpolateFn=$interpolate(text,true);if(interpolateFn){directives.push({priority:0,compile:function textInterpolateCompileFn(templateNode){var templateNodeParent=templateNode.parent(),hasCompileParent=!!templateNodeParent.length;if(hasCompileParent)compile.$$addBindingClass(templateNodeParent);return function textInterpolateLinkFn(scope,node){var parent=node.parent();if(!hasCompileParent)compile.$$addBindingClass(parent);compile.$$addBindingInfo(parent,interpolateFn.expressions);scope.$watch(interpolateFn,function interpolateFnWatchAction(value){node[0].nodeValue=value})}}})}}function wrapTemplate(type,template){type=lowercase(type||"html");switch(type){case"svg":case"math":var wrapper=window.document.createElement("div");wrapper.innerHTML="<"+type+">"+template+"</"+type+">";return wrapper.childNodes[0].childNodes;default:return template}}function getTrustedAttrContext(nodeName,attrNormalizedName){if(attrNormalizedName==="srcdoc"){return $sce.HTML}if(attrNormalizedName==="src"||attrNormalizedName==="ngSrc"){if(["img","video","audio","source","track"].indexOf(nodeName)===-1){return $sce.RESOURCE_URL}return $sce.MEDIA_URL}else if(attrNormalizedName==="xlinkHref"){if(nodeName==="image")return $sce.MEDIA_URL;if(nodeName==="a")return $sce.URL;return $sce.RESOURCE_URL}else if(nodeName==="form"&&attrNormalizedName==="action"||nodeName==="base"&&attrNormalizedName==="href"||nodeName==="link"&&attrNormalizedName==="href"){return $sce.RESOURCE_URL}else if(nodeName==="a"&&(attrNormalizedName==="href"||attrNormalizedName==="ngHref")){return $sce.URL}}function getTrustedPropContext(nodeName,propNormalizedName){var prop=propNormalizedName.toLowerCase();return PROP_CONTEXTS[nodeName+"|"+prop]||PROP_CONTEXTS["*|"+prop]}function sanitizeSrcsetPropertyValue(value){return sanitizeSrcset($sce.valueOf(value),"ng-prop-srcset")}function addPropertyDirective(node,directives,attrName,propName){if(EVENT_HANDLER_ATTR_REGEXP.test(propName)){throw $compileMinErr("nodomevents","Property bindings for HTML DOM event properties are disallowed")}var nodeName=nodeName_(node);var trustedContext=getTrustedPropContext(nodeName,propName);var sanitizer=identity;if(propName==="srcset"&&(nodeName==="img"||nodeName==="source")){sanitizer=sanitizeSrcsetPropertyValue}else if(trustedContext){sanitizer=$sce.getTrusted.bind($sce,trustedContext)}directives.push({priority:100,compile:function ngPropCompileFn(_,attr){var ngPropGetter=$parse(attr[attrName]);var ngPropWatch=$parse(attr[attrName],function sceValueOf(val){return $sce.valueOf(val)});return{pre:function ngPropPreLinkFn(scope,$element){function applyPropValue(){var propValue=ngPropGetter(scope);$element.prop(propName,sanitizer(propValue))}applyPropValue();scope.$watch(ngPropWatch,applyPropValue)}}}})}function addEventDirective(directives,attrName,eventName){directives.push(createEventDirective($parse,$rootScope,$exceptionHandler,attrName,eventName,false))}function addAttrInterpolateDirective(node,directives,value,name,isNgAttr){var nodeName=nodeName_(node);var trustedContext=getTrustedAttrContext(nodeName,name);var mustHaveExpression=!isNgAttr;var allOrNothing=ALL_OR_NOTHING_ATTRS[name]||isNgAttr;var interpolateFn=$interpolate(value,mustHaveExpression,trustedContext,allOrNothing);if(!interpolateFn)return;if(name==="multiple"&&nodeName==="select"){throw $compileMinErr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",startingTag(node))}if(EVENT_HANDLER_ATTR_REGEXP.test(name)){throw $compileMinErr("nodomevents","Interpolations for HTML DOM event attributes are disallowed")}directives.push({priority:100,compile:function(){return{pre:function attrInterpolatePreLinkFn(scope,element,attr){var $$observers=attr.$$observers||(attr.$$observers=createMap());var newValue=attr[name];if(newValue!==value){interpolateFn=newValue&&$interpolate(newValue,true,trustedContext,allOrNothing);value=newValue}if(!interpolateFn)return;attr[name]=interpolateFn(scope);($$observers[name]||($$observers[name]=[])).$$inter=true;(attr.$$observers&&attr.$$observers[name].$$scope||scope).$watch(interpolateFn,function interpolateFnWatchAction(newValue,oldValue){if(name==="class"&&newValue!==oldValue){attr.$updateClass(newValue,oldValue)}else{attr.$set(name,newValue)}})}}}})}function replaceWith($rootElement,elementsToRemove,newNode){var firstElementToRemove=elementsToRemove[0],removeCount=elementsToRemove.length,parent=firstElementToRemove.parentNode,i,ii;if($rootElement){for(i=0,ii=$rootElement.length;i<ii;i++){if($rootElement[i]===firstElementToRemove){$rootElement[i++]=newNode;for(var j=i,j2=j+removeCount-1,jj=$rootElement.length;j<jj;j++,j2++){if(j2<jj){$rootElement[j]=$rootElement[j2]}else{delete $rootElement[j]}}$rootElement.length-=removeCount-1;if($rootElement.context===firstElementToRemove){$rootElement.context=newNode}break}}}if(parent){parent.replaceChild(newNode,firstElementToRemove)}var fragment=window.document.createDocumentFragment();for(i=0;i<removeCount;i++){fragment.appendChild(elementsToRemove[i])}if(jqLite.hasData(firstElementToRemove)){jqLite.data(newNode,jqLite.data(firstElementToRemove));jqLite(firstElementToRemove).off("$destroy")}jqLite.cleanData(fragment.querySelectorAll("*"));for(i=1;i<removeCount;i++){delete elementsToRemove[i]}elementsToRemove[0]=newNode;elementsToRemove.length=1}function cloneAndAnnotateFn(fn,annotation){return extend(function(){return fn.apply(null,arguments)},fn,annotation)}function invokeLinkFn(linkFn,scope,$element,attrs,controllers,transcludeFn){try{linkFn(scope,$element,attrs,controllers,transcludeFn)}catch(e){$exceptionHandler(e,startingTag($element))}}function strictBindingsCheck(attrName,directiveName){if(strictComponentBindingsEnabled){throw $compileMinErr("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",attrName,directiveName)}}function initializeDirectiveBindings(scope,attrs,destination,bindings,directive){var removeWatchCollection=[];var initialChanges={};var changes;forEach(bindings,function initializeBinding(definition,scopeName){var attrName=definition.attrName,optional=definition.optional,mode=definition.mode,lastValue,parentGet,parentSet,compare,removeWatch;switch(mode){case"@":if(!optional&&!hasOwnProperty.call(attrs,attrName)){strictBindingsCheck(attrName,directive.name);destination[scopeName]=attrs[attrName]=undefined}removeWatch=attrs.$observe(attrName,function(value){if(isString(value)||isBoolean(value)){var oldValue=destination[scopeName];recordChanges(scopeName,value,oldValue);destination[scopeName]=value}});attrs.$$observers[attrName].$$scope=scope;lastValue=attrs[attrName];if(isString(lastValue)){destination[scopeName]=$interpolate(lastValue)(scope)}else if(isBoolean(lastValue)){destination[scopeName]=lastValue}initialChanges[scopeName]=new SimpleChange(_UNINITIALIZED_VALUE,destination[scopeName]);removeWatchCollection.push(removeWatch);break;case"=":if(!hasOwnProperty.call(attrs,attrName)){if(optional)break;strictBindingsCheck(attrName,directive.name);attrs[attrName]=undefined}if(optional&&!attrs[attrName])break;parentGet=$parse(attrs[attrName]);if(parentGet.literal){compare=equals}else{compare=simpleCompare}parentSet=parentGet.assign||function(){lastValue=destination[scopeName]=parentGet(scope);throw $compileMinErr("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",attrs[attrName],attrName,directive.name)};lastValue=destination[scopeName]=parentGet(scope);var parentValueWatch=function parentValueWatch(parentValue){if(!compare(parentValue,destination[scopeName])){if(!compare(parentValue,lastValue)){destination[scopeName]=parentValue}else{parentSet(scope,parentValue=destination[scopeName])}}lastValue=parentValue;return lastValue};parentValueWatch.$stateful=true;if(definition.collection){removeWatch=scope.$watchCollection(attrs[attrName],parentValueWatch)}else{removeWatch=scope.$watch($parse(attrs[attrName],parentValueWatch),null,parentGet.literal)}removeWatchCollection.push(removeWatch);break;case"<":if(!hasOwnProperty.call(attrs,attrName)){if(optional)break;strictBindingsCheck(attrName,directive.name);attrs[attrName]=undefined}if(optional&&!attrs[attrName])break;parentGet=$parse(attrs[attrName]);var isLiteral=parentGet.literal;var initialValue=destination[scopeName]=parentGet(scope);initialChanges[scopeName]=new SimpleChange(_UNINITIALIZED_VALUE,destination[scopeName]);removeWatch=scope[definition.collection?"$watchCollection":"$watch"](parentGet,function parentValueWatchAction(newValue,oldValue){if(oldValue===newValue){if(oldValue===initialValue||isLiteral&&equals(oldValue,initialValue)){return}oldValue=initialValue}recordChanges(scopeName,newValue,oldValue);destination[scopeName]=newValue});removeWatchCollection.push(removeWatch);break;case"&":if(!optional&&!hasOwnProperty.call(attrs,attrName)){strictBindingsCheck(attrName,directive.name)}parentGet=attrs.hasOwnProperty(attrName)?$parse(attrs[attrName]):noop;if(parentGet===noop&&optional)break;destination[scopeName]=function(locals){return parentGet(scope,locals)};break}});function recordChanges(key,currentValue,previousValue){if(isFunction(destination.$onChanges)&&!simpleCompare(currentValue,previousValue)){if(!onChangesQueue){scope.$$postDigest(flushOnChangesQueue);onChangesQueue=[]}if(!changes){changes={};onChangesQueue.push(triggerOnChangesHook)}if(changes[key]){previousValue=changes[key].previousValue}changes[key]=new SimpleChange(previousValue,currentValue)}}function triggerOnChangesHook(){destination.$onChanges(changes);changes=undefined}return{initialChanges:initialChanges,removeWatches:removeWatchCollection.length&&function removeWatches(){for(var i=0,ii=removeWatchCollection.length;i<ii;++i){removeWatchCollection[i]()}}}}}]}function SimpleChange(previous,current){this.previousValue=previous;this.currentValue=current}SimpleChange.prototype.isFirstChange=function(){return this.previousValue===_UNINITIALIZED_VALUE};var PREFIX_REGEXP=/^((?:x|data)[:\-_])/i;var SPECIAL_CHARS_REGEXP=/[:\-_]+(.)/g;function directiveNormalize(name){return name.replace(PREFIX_REGEXP,"").replace(SPECIAL_CHARS_REGEXP,function(_,letter,offset){return offset?letter.toUpperCase():letter})}function nodesetLinkingFn(scope,nodeList,rootElement,boundTranscludeFn){}function directiveLinkingFn(nodesetLinkingFn,scope,node,rootElement,boundTranscludeFn){}function tokenDifference(str1,str2){var values="",tokens1=str1.split(/\s+/),tokens2=str2.split(/\s+/);outer:for(var i=0;i<tokens1.length;i++){var token=tokens1[i];for(var j=0;j<tokens2.length;j++){if(token===tokens2[j])continue outer}values+=(values.length>0?" ":"")+token}return values}function removeComments(jqNodes){jqNodes=jqLite(jqNodes);var i=jqNodes.length;if(i<=1){return jqNodes}while(i--){var node=jqNodes[i];if(node.nodeType===NODE_TYPE_COMMENT||node.nodeType===NODE_TYPE_TEXT&&node.nodeValue.trim()===""){splice.call(jqNodes,i,1)}}return jqNodes}var $controllerMinErr=minErr("$controller");var CNTRL_REG=/^(\S+)(\s+as\s+([\w$]+))?$/;function identifierForController(controller,ident){if(ident&&isString(ident))return ident;if(isString(controller)){var match=CNTRL_REG.exec(controller);if(match)return match[3]}}function $ControllerProvider(){var controllers={};this.has=function(name){return controllers.hasOwnProperty(name)};this.register=function(name,constructor){assertNotHasOwnProperty(name,"controller");if(isObject(name)){extend(controllers,name)}else{controllers[name]=constructor}};this.$get=["$injector",function($injector){return function $controller(expression,locals,later,ident){var instance,match,constructor,identifier;later=later===true;if(ident&&isString(ident)){identifier=ident}if(isString(expression)){match=expression.match(CNTRL_REG);if(!match){throw $controllerMinErr("ctrlfmt","Badly formed controller string '{0}'. "+"Must match `__name__ as __id__` or `__name__`.",expression)}constructor=match[1];identifier=identifier||match[3];expression=controllers.hasOwnProperty(constructor)?controllers[constructor]:getter(locals.$scope,constructor,true);if(!expression){throw $controllerMinErr("ctrlreg","The controller with the name '{0}' is not registered.",constructor)}assertArgFn(expression,constructor,true)}if(later){var controllerPrototype=(isArray(expression)?expression[expression.length-1]:expression).prototype;instance=Object.create(controllerPrototype||null);if(identifier){addIdentifier(locals,identifier,instance,constructor||expression.name)}return extend(function $controllerInit(){var result=$injector.invoke(expression,instance,locals,constructor);if(result!==instance&&(isObject(result)||isFunction(result))){instance=result;if(identifier){addIdentifier(locals,identifier,instance,constructor||expression.name)}}return instance},{instance:instance,identifier:identifier})}instance=$injector.instantiate(expression,locals,constructor);if(identifier){addIdentifier(locals,identifier,instance,constructor||expression.name)}return instance};function addIdentifier(locals,identifier,instance,name){if(!(locals&&isObject(locals.$scope))){throw minErr("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",name,identifier)}locals.$scope[identifier]=instance}}]}function $DocumentProvider(){this.$get=["$window",function(window){return jqLite(window.document)}]}function $$IsDocumentHiddenProvider(){this.$get=["$document","$rootScope",function($document,$rootScope){var doc=$document[0];var hidden=doc&&doc.hidden;$document.on("visibilitychange",changeListener);$rootScope.$on("$destroy",function(){$document.off("visibilitychange",changeListener)});function changeListener(){hidden=doc.hidden}return function(){return hidden}}]}function $ExceptionHandlerProvider(){this.$get=["$log",function($log){return function(exception,cause){$log.error.apply($log,arguments)}}]}var $$ForceReflowProvider=function(){this.$get=["$document",function($document){return function(domNode){if(domNode){if(!domNode.nodeType&&domNode instanceof jqLite){domNode=domNode[0]}}else{domNode=$document[0].body}return domNode.offsetWidth+1}}]};var APPLICATION_JSON="application/json";var CONTENT_TYPE_APPLICATION_JSON={"Content-Type":APPLICATION_JSON+";charset=utf-8"};var JSON_START=/^\[|^\{(?!\{)/;var JSON_ENDS={"[":/]$/,"{":/}$/};var JSON_PROTECTION_PREFIX=/^\)]\}',?\n/;var $httpMinErr=minErr("$http");function serializeValue(v){if(isObject(v)){return isDate(v)?v.toISOString():toJson(v)}return v}function $HttpParamSerializerProvider(){this.$get=function(){return function ngParamSerializer(params){if(!params)return"";var parts=[];forEachSorted(params,function(value,key){if(value===null||isUndefined(value)||isFunction(value))return;if(isArray(value)){forEach(value,function(v){parts.push(encodeUriQuery(key)+"="+encodeUriQuery(serializeValue(v)))})}else{parts.push(encodeUriQuery(key)+"="+encodeUriQuery(serializeValue(value)))}});return parts.join("&")}}}function $HttpParamSerializerJQLikeProvider(){this.$get=function(){return function jQueryLikeParamSerializer(params){if(!params)return"";var parts=[];serialize(params,"",true);return parts.join("&");function serialize(toSerialize,prefix,topLevel){if(isArray(toSerialize)){forEach(toSerialize,function(value,index){serialize(value,prefix+"["+(isObject(value)?index:"")+"]")})}else if(isObject(toSerialize)&&!isDate(toSerialize)){forEachSorted(toSerialize,function(value,key){serialize(value,prefix+(topLevel?"":"[")+key+(topLevel?"":"]"))})}else{if(isFunction(toSerialize)){toSerialize=toSerialize()}parts.push(encodeUriQuery(prefix)+"="+(toSerialize==null?"":encodeUriQuery(serializeValue(toSerialize))))}}}}}function defaultHttpResponseTransform(data,headers){if(isString(data)){var tempData=data.replace(JSON_PROTECTION_PREFIX,"").trim();if(tempData){var contentType=headers("Content-Type");var hasJsonContentType=contentType&&contentType.indexOf(APPLICATION_JSON)===0;if(hasJsonContentType||isJsonLike(tempData)){try{data=fromJson(tempData)}catch(e){if(!hasJsonContentType){return data}throw $httpMinErr("baddata",'Data must be a valid JSON object. Received: "{0}". '+'Parse error: "{1}"',data,e)}}}}return data}function isJsonLike(str){var jsonStart=str.match(JSON_START);return jsonStart&&JSON_ENDS[jsonStart[0]].test(str)}function parseHeaders(headers){var parsed=createMap(),i;function fillInParsed(key,val){if(key){parsed[key]=parsed[key]?parsed[key]+", "+val:val}}if(isString(headers)){forEach(headers.split("\n"),function(line){i=line.indexOf(":");fillInParsed(lowercase(trim(line.substr(0,i))),trim(line.substr(i+1)))})}else if(isObject(headers)){forEach(headers,function(headerVal,headerKey){fillInParsed(lowercase(headerKey),trim(headerVal))})}return parsed}function headersGetter(headers){var headersObj;return function(name){if(!headersObj)headersObj=parseHeaders(headers);if(name){var value=headersObj[lowercase(name)];if(value===undefined){value=null}return value}return headersObj}}function transformData(data,headers,status,fns){if(isFunction(fns)){return fns(data,headers,status)}forEach(fns,function(fn){data=fn(data,headers,status)});return data}function isSuccess(status){return 200<=status&&status<300}function $HttpProvider(){var defaults=this.defaults={transformResponse:[defaultHttpResponseTransform],transformRequest:[function(d){return isObject(d)&&!isFile(d)&&!isBlob(d)&&!isFormData(d)?toJson(d):d}],headers:{common:{Accept:"application/json, text/plain, */*"},post:shallowCopy(CONTENT_TYPE_APPLICATION_JSON),put:shallowCopy(CONTENT_TYPE_APPLICATION_JSON),patch:shallowCopy(CONTENT_TYPE_APPLICATION_JSON)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"};var useApplyAsync=false;this.useApplyAsync=function(value){if(isDefined(value)){useApplyAsync=!!value;return this}return useApplyAsync};var interceptorFactories=this.interceptors=[];var xsrfWhitelistedOrigins=this.xsrfWhitelistedOrigins=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function($browser,$httpBackend,$$cookieReader,$cacheFactory,$rootScope,$q,$injector,$sce){var defaultCache=$cacheFactory("$http");defaults.paramSerializer=isString(defaults.paramSerializer)?$injector.get(defaults.paramSerializer):defaults.paramSerializer;var reversedInterceptors=[];forEach(interceptorFactories,function(interceptorFactory){reversedInterceptors.unshift(isString(interceptorFactory)?$injector.get(interceptorFactory):$injector.invoke(interceptorFactory))});var urlIsAllowedOrigin=urlIsAllowedOriginFactory(xsrfWhitelistedOrigins);function $http(requestConfig){if(!isObject(requestConfig)){throw minErr("$http")("badreq","Http request configuration must be an object.  Received: {0}",requestConfig)}if(!isString($sce.valueOf(requestConfig.url))){throw minErr("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",requestConfig.url)}var config=extend({method:"get",transformRequest:defaults.transformRequest,transformResponse:defaults.transformResponse,paramSerializer:defaults.paramSerializer,jsonpCallbackParam:defaults.jsonpCallbackParam},requestConfig);config.headers=mergeHeaders(requestConfig);config.method=uppercase(config.method);config.paramSerializer=isString(config.paramSerializer)?$injector.get(config.paramSerializer):config.paramSerializer;$browser.$$incOutstandingRequestCount("$http");var requestInterceptors=[];var responseInterceptors=[];var promise=$q.resolve(config);forEach(reversedInterceptors,function(interceptor){if(interceptor.request||interceptor.requestError){requestInterceptors.unshift(interceptor.request,interceptor.requestError)}if(interceptor.response||interceptor.responseError){responseInterceptors.push(interceptor.response,interceptor.responseError)}});promise=chainInterceptors(promise,requestInterceptors);promise=promise.then(serverRequest);promise=chainInterceptors(promise,responseInterceptors);promise=promise.finally(completeOutstandingRequest);return promise;function chainInterceptors(promise,interceptors){for(var i=0,ii=interceptors.length;i<ii;){var thenFn=interceptors[i++];var rejectFn=interceptors[i++];promise=promise.then(thenFn,rejectFn)}interceptors.length=0;return promise}function completeOutstandingRequest(){$browser.$$completeOutstandingRequest(noop,"$http")}function executeHeaderFns(headers,config){var headerContent,processedHeaders={};forEach(headers,function(headerFn,header){if(isFunction(headerFn)){headerContent=headerFn(config);if(headerContent!=null){processedHeaders[header]=headerContent}}else{processedHeaders[header]=headerFn}});return processedHeaders}function mergeHeaders(config){var defHeaders=defaults.headers,reqHeaders=extend({},config.headers),defHeaderName,lowercaseDefHeaderName,reqHeaderName;defHeaders=extend({},defHeaders.common,defHeaders[lowercase(config.method)]);defaultHeadersIteration:for(defHeaderName in defHeaders){lowercaseDefHeaderName=lowercase(defHeaderName);for(reqHeaderName in reqHeaders){if(lowercase(reqHeaderName)===lowercaseDefHeaderName){continue defaultHeadersIteration}}reqHeaders[defHeaderName]=defHeaders[defHeaderName]}return executeHeaderFns(reqHeaders,shallowCopy(config))}function serverRequest(config){var headers=config.headers;var reqData=transformData(config.data,headersGetter(headers),undefined,config.transformRequest);if(isUndefined(reqData)){forEach(headers,function(value,header){if(lowercase(header)==="content-type"){delete headers[header]}})}if(isUndefined(config.withCredentials)&&!isUndefined(defaults.withCredentials)){config.withCredentials=defaults.withCredentials}return sendReq(config,reqData).then(transformResponse,transformResponse)}function transformResponse(response){var resp=extend({},response);resp.data=transformData(response.data,response.headers,response.status,config.transformResponse);return isSuccess(response.status)?resp:$q.reject(resp)}}$http.pendingRequests=[];createShortMethods("get","delete","head","jsonp");createShortMethodsWithData("post","put","patch");$http.defaults=defaults;return $http;function createShortMethods(names){forEach(arguments,function(name){$http[name]=function(url,config){return $http(extend({},config||{},{method:name,url:url}))}})}function createShortMethodsWithData(name){forEach(arguments,function(name){$http[name]=function(url,data,config){return $http(extend({},config||{},{method:name,url:url,data:data}))}})}function sendReq(config,reqData){var deferred=$q.defer(),promise=deferred.promise,cache,cachedResp,reqHeaders=config.headers,isJsonp=lowercase(config.method)==="jsonp",url=config.url;if(isJsonp){url=$sce.getTrustedResourceUrl(url)}else if(!isString(url)){url=$sce.valueOf(url)}url=buildUrl(url,config.paramSerializer(config.params));if(isJsonp){url=sanitizeJsonpCallbackParam(url,config.jsonpCallbackParam)}$http.pendingRequests.push(config);promise.then(removePendingReq,removePendingReq);if((config.cache||defaults.cache)&&config.cache!==false&&(config.method==="GET"||config.method==="JSONP")){cache=isObject(config.cache)?config.cache:isObject(defaults.cache)?defaults.cache:defaultCache}if(cache){cachedResp=cache.get(url);if(isDefined(cachedResp)){if(isPromiseLike(cachedResp)){cachedResp.then(resolvePromiseWithResult,resolvePromiseWithResult)}else{if(isArray(cachedResp)){resolvePromise(cachedResp[1],cachedResp[0],shallowCopy(cachedResp[2]),cachedResp[3],cachedResp[4])}else{resolvePromise(cachedResp,200,{},"OK","complete")}}}else{cache.put(url,promise)}}if(isUndefined(cachedResp)){var xsrfValue=urlIsAllowedOrigin(config.url)?$$cookieReader()[config.xsrfCookieName||defaults.xsrfCookieName]:undefined;if(xsrfValue){reqHeaders[config.xsrfHeaderName||defaults.xsrfHeaderName]=xsrfValue}$httpBackend(config.method,url,reqData,done,reqHeaders,config.timeout,config.withCredentials,config.responseType,createApplyHandlers(config.eventHandlers),createApplyHandlers(config.uploadEventHandlers))}return promise;function createApplyHandlers(eventHandlers){if(eventHandlers){var applyHandlers={};forEach(eventHandlers,function(eventHandler,key){applyHandlers[key]=function(event){if(useApplyAsync){$rootScope.$applyAsync(callEventHandler)}else if($rootScope.$$phase){callEventHandler()}else{$rootScope.$apply(callEventHandler)}function callEventHandler(){eventHandler(event)}}});return applyHandlers}}function done(status,response,headersString,statusText,xhrStatus){if(cache){if(isSuccess(status)){cache.put(url,[status,response,parseHeaders(headersString),statusText,xhrStatus])}else{cache.remove(url)}}function resolveHttpPromise(){resolvePromise(response,status,headersString,statusText,xhrStatus)}if(useApplyAsync){$rootScope.$applyAsync(resolveHttpPromise)}else{resolveHttpPromise();if(!$rootScope.$$phase)$rootScope.$apply()}}function resolvePromise(response,status,headers,statusText,xhrStatus){status=status>=-1?status:0;(isSuccess(status)?deferred.resolve:deferred.reject)({data:response,status:status,headers:headersGetter(headers),config:config,statusText:statusText,xhrStatus:xhrStatus})}function resolvePromiseWithResult(result){resolvePromise(result.data,result.status,shallowCopy(result.headers()),result.statusText,result.xhrStatus)}function removePendingReq(){var idx=$http.pendingRequests.indexOf(config);if(idx!==-1)$http.pendingRequests.splice(idx,1)}}function buildUrl(url,serializedParams){if(serializedParams.length>0){url+=(url.indexOf("?")===-1?"?":"&")+serializedParams}return url}function sanitizeJsonpCallbackParam(url,cbKey){var parts=url.split("?");if(parts.length>2){throw $httpMinErr("badjsonp",'Illegal use more than one "?", in url, "{1}"',url)}var params=parseKeyValue(parts[1]);forEach(params,function(value,key){if(value==="JSON_CALLBACK"){throw $httpMinErr("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',url)}if(key===cbKey){throw $httpMinErr("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',cbKey,url)}});url+=(url.indexOf("?")===-1?"?":"&")+cbKey+"=JSON_CALLBACK";return url}}]}function $xhrFactoryProvider(){this.$get=function(){return function createXhr(){return new window.XMLHttpRequest}}}function $HttpBackendProvider(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function($browser,$jsonpCallbacks,$document,$xhrFactory){return createHttpBackend($browser,$xhrFactory,$browser.defer,$jsonpCallbacks,$document[0])}]}function createHttpBackend($browser,createXhr,$browserDefer,callbacks,rawDocument){return function(method,url,post,callback,headers,timeout,withCredentials,responseType,eventHandlers,uploadEventHandlers){url=url||$browser.url();if(lowercase(method)==="jsonp"){var callbackPath=callbacks.createCallback(url);var jsonpDone=jsonpReq(url,callbackPath,function(status,text){var response=status===200&&callbacks.getResponse(callbackPath);completeRequest(callback,status,response,"",text,"complete");callbacks.removeCallback(callbackPath)})}else{var xhr=createXhr(method,url);var abortedByTimeout=false;xhr.open(method,url,true);forEach(headers,function(value,key){if(isDefined(value)){xhr.setRequestHeader(key,value)}});xhr.onload=function requestLoaded(){var statusText=xhr.statusText||"";var response="response"in xhr?xhr.response:xhr.responseText;var status=xhr.status===1223?204:xhr.status;if(status===0){status=response?200:urlResolve(url).protocol==="file"?404:0}completeRequest(callback,status,response,xhr.getAllResponseHeaders(),statusText,"complete")};var requestError=function(){completeRequest(callback,-1,null,null,"","error")};var requestAborted=function(){completeRequest(callback,-1,null,null,"",abortedByTimeout?"timeout":"abort")};var requestTimeout=function(){completeRequest(callback,-1,null,null,"","timeout")};xhr.onerror=requestError;xhr.ontimeout=requestTimeout;xhr.onabort=requestAborted;forEach(eventHandlers,function(value,key){xhr.addEventListener(key,value)});forEach(uploadEventHandlers,function(value,key){xhr.upload.addEventListener(key,value)});if(withCredentials){xhr.withCredentials=true}if(responseType){try{xhr.responseType=responseType}catch(e){if(responseType!=="json"){throw e}}}xhr.send(isUndefined(post)?null:post)}if(timeout>0){var timeoutId=$browserDefer(function(){timeoutRequest("timeout")},timeout)}else if(isPromiseLike(timeout)){timeout.then(function(){timeoutRequest(isDefined(timeout.$$timeoutId)?"timeout":"abort")})}function timeoutRequest(reason){abortedByTimeout=reason==="timeout";if(jsonpDone){jsonpDone()}if(xhr){xhr.abort()}}function completeRequest(callback,status,response,headersString,statusText,xhrStatus){if(isDefined(timeoutId)){$browserDefer.cancel(timeoutId)}jsonpDone=xhr=null;callback(status,response,headersString,statusText,xhrStatus)}};function jsonpReq(url,callbackPath,done){url=url.replace("JSON_CALLBACK",callbackPath);var script=rawDocument.createElement("script"),callback=null;script.type="text/javascript";script.src=url;script.async=true;callback=function(event){script.removeEventListener("load",callback);script.removeEventListener("error",callback);rawDocument.body.removeChild(script);script=null;var status=-1;var text="unknown";if(event){if(event.type==="load"&&!callbacks.wasCalled(callbackPath)){event={type:"error"}}text=event.type;status=event.type==="error"?404:200}if(done){done(status,text)}};script.addEventListener("load",callback);script.addEventListener("error",callback);rawDocument.body.appendChild(script);return callback}}var $interpolateMinErr=angular.$interpolateMinErr=minErr("$interpolate");$interpolateMinErr.throwNoconcat=function(text){throw $interpolateMinErr("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows "+"interpolations that concatenate multiple expressions when a trusted value is "+"required.  See http://docs.angularjs.org/api/ng.$sce",text)};$interpolateMinErr.interr=function(text,err){return $interpolateMinErr("interr","Can't interpolate: {0}\n{1}",text,err.toString())};function $InterpolateProvider(){var startSymbol="{{";var endSymbol="}}";this.startSymbol=function(value){if(value){startSymbol=value;return this}return startSymbol};this.endSymbol=function(value){if(value){endSymbol=value;return this}return endSymbol};this.$get=["$parse","$exceptionHandler","$sce",function($parse,$exceptionHandler,$sce){var startSymbolLength=startSymbol.length,endSymbolLength=endSymbol.length,escapedStartRegexp=new RegExp(startSymbol.replace(/./g,escape),"g"),escapedEndRegexp=new RegExp(endSymbol.replace(/./g,escape),"g");function escape(ch){return"\\\\\\"+ch}function unescapeText(text){return text.replace(escapedStartRegexp,startSymbol).replace(escapedEndRegexp,endSymbol)}function constantWatchDelegate(scope,listener,objectEquality,constantInterp){var unwatch=scope.$watch(function constantInterpolateWatch(scope){unwatch();return constantInterp(scope)},listener,objectEquality);return unwatch}function $interpolate(text,mustHaveExpression,trustedContext,allOrNothing){var contextAllowsConcatenation=trustedContext===$sce.URL||trustedContext===$sce.MEDIA_URL;if(!text.length||text.indexOf(startSymbol)===-1){if(mustHaveExpression&&!contextAllowsConcatenation)return;var unescapedText=unescapeText(text);if(contextAllowsConcatenation){unescapedText=$sce.getTrusted(trustedContext,unescapedText)}var constantInterp=valueFn(unescapedText);constantInterp.exp=text;constantInterp.expressions=[];constantInterp.$$watchDelegate=constantWatchDelegate;return constantInterp}allOrNothing=!!allOrNothing;var startIndex,endIndex,index=0,expressions=[],parseFns,textLength=text.length,exp,concat=[],expressionPositions=[],singleExpression;while(index<textLength){if((startIndex=text.indexOf(startSymbol,index))!==-1&&(endIndex=text.indexOf(endSymbol,startIndex+startSymbolLength))!==-1){if(index!==startIndex){concat.push(unescapeText(text.substring(index,startIndex)))}exp=text.substring(startIndex+startSymbolLength,endIndex);expressions.push(exp);index=endIndex+endSymbolLength;expressionPositions.push(concat.length);concat.push("")}else{if(index!==textLength){concat.push(unescapeText(text.substring(index)))}break}}singleExpression=concat.length===1&&expressionPositions.length===1;var interceptor=contextAllowsConcatenation&&singleExpression?undefined:parseStringifyInterceptor;parseFns=expressions.map(function(exp){return $parse(exp,interceptor)});if(!mustHaveExpression||expressions.length){var compute=function(values){for(var i=0,ii=expressions.length;i<ii;i++){if(allOrNothing&&isUndefined(values[i]))return;concat[expressionPositions[i]]=values[i]}if(contextAllowsConcatenation){return $sce.getTrusted(trustedContext,singleExpression?concat[0]:concat.join(""))}else if(trustedContext&&concat.length>1){$interpolateMinErr.throwNoconcat(text)}return concat.join("")};return extend(function interpolationFn(context){var i=0;var ii=expressions.length;var values=new Array(ii);try{for(;i<ii;i++){values[i]=parseFns[i](context)}return compute(values)}catch(err){$exceptionHandler($interpolateMinErr.interr(text,err))}},{exp:text,expressions:expressions,$$watchDelegate:function(scope,listener){var lastValue;return scope.$watchGroup(parseFns,function interpolateFnWatcher(values,oldValues){var currValue=compute(values);listener.call(this,currValue,values!==oldValues?lastValue:currValue,scope);lastValue=currValue})}})}function parseStringifyInterceptor(value){try{value=trustedContext&&!contextAllowsConcatenation?$sce.getTrusted(trustedContext,value):$sce.valueOf(value);return allOrNothing&&!isDefined(value)?value:stringify(value)}catch(err){$exceptionHandler($interpolateMinErr.interr(text,err))}}}$interpolate.startSymbol=function(){return startSymbol};$interpolate.endSymbol=function(){return endSymbol};return $interpolate}]}var $intervalMinErr=minErr("$interval");function $IntervalProvider(){this.$get=["$$intervalFactory","$window",function($$intervalFactory,$window){var intervals={};var setIntervalFn=function(tick,delay,deferred){var id=$window.setInterval(tick,delay);intervals[id]=deferred;return id};var clearIntervalFn=function(id){$window.clearInterval(id);delete intervals[id]};var interval=$$intervalFactory(setIntervalFn,clearIntervalFn);interval.cancel=function(promise){if(!promise)return false;if(!promise.hasOwnProperty("$$intervalId")){throw $intervalMinErr("badprom","`$interval.cancel()` called with a promise that was not generated by `$interval()`.")}if(!intervals.hasOwnProperty(promise.$$intervalId))return false;var id=promise.$$intervalId;var deferred=intervals[id];markQExceptionHandled(deferred.promise);deferred.reject("canceled");clearIntervalFn(id);return true};return interval}]}function $$IntervalFactoryProvider(){this.$get=["$browser","$q","$$q","$rootScope",function($browser,$q,$$q,$rootScope){return function intervalFactory(setIntervalFn,clearIntervalFn){return function intervalFn(fn,delay,count,invokeApply){var hasParams=arguments.length>4,args=hasParams?sliceArgs(arguments,4):[],iteration=0,skipApply=isDefined(invokeApply)&&!invokeApply,deferred=(skipApply?$$q:$q).defer(),promise=deferred.promise;count=isDefined(count)?count:0;function callback(){if(!hasParams){fn(iteration)}else{fn.apply(null,args)}}function tick(){if(skipApply){$browser.defer(callback)}else{$rootScope.$evalAsync(callback)}deferred.notify(iteration++);if(count>0&&iteration>=count){deferred.resolve(iteration);clearIntervalFn(promise.$$intervalId)}if(!skipApply)$rootScope.$apply()}promise.$$intervalId=setIntervalFn(tick,delay,deferred,skipApply);return promise}}}]}var $jsonpCallbacksProvider=function(){this.$get=function(){var callbacks=angular.callbacks;var callbackMap={};function createCallback(callbackId){var callback=function(data){callback.data=data;callback.called=true};callback.id=callbackId;return callback}return{createCallback:function(url){var callbackId="_"+(callbacks.$$counter++).toString(36);var callbackPath="angular.callbacks."+callbackId;var callback=createCallback(callbackId);callbackMap[callbackPath]=callbacks[callbackId]=callback;return callbackPath},wasCalled:function(callbackPath){return callbackMap[callbackPath].called},getResponse:function(callbackPath){return callbackMap[callbackPath].data},removeCallback:function(callbackPath){var callback=callbackMap[callbackPath];delete callbacks[callback.id];delete callbackMap[callbackPath]}}}};var PATH_MATCH=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,DEFAULT_PORTS={http:80,https:443,ftp:21};var $locationMinErr=minErr("$location");function encodePath(path){var segments=path.split("/"),i=segments.length;while(i--){segments[i]=encodeUriSegment(segments[i].replace(/%2F/g,"/"))}return segments.join("/")}function decodePath(path,html5Mode){var segments=path.split("/"),i=segments.length;while(i--){segments[i]=decodeURIComponent(segments[i]);if(html5Mode){segments[i]=segments[i].replace(/\//g,"%2F")}}return segments.join("/")}function normalizePath(pathValue,searchValue,hashValue){var search=toKeyValue(searchValue),hash=hashValue?"#"+encodeUriSegment(hashValue):"",path=encodePath(pathValue);return path+(search?"?"+search:"")+hash}function parseAbsoluteUrl(absoluteUrl,locationObj){var parsedUrl=urlResolve(absoluteUrl);locationObj.$$protocol=parsedUrl.protocol;locationObj.$$host=parsedUrl.hostname;locationObj.$$port=toInt(parsedUrl.port)||DEFAULT_PORTS[parsedUrl.protocol]||null}var DOUBLE_SLASH_REGEX=/^\s*[\\/]{2,}/;function parseAppUrl(url,locationObj,html5Mode){if(DOUBLE_SLASH_REGEX.test(url)){throw $locationMinErr("badpath",'Invalid url "{0}".',url)}var prefixed=url.charAt(0)!=="/";if(prefixed){url="/"+url}var match=urlResolve(url);var path=prefixed&&match.pathname.charAt(0)==="/"?match.pathname.substring(1):match.pathname;locationObj.$$path=decodePath(path,html5Mode);locationObj.$$search=parseKeyValue(match.search);locationObj.$$hash=decodeURIComponent(match.hash);if(locationObj.$$path&&locationObj.$$path.charAt(0)!=="/"){locationObj.$$path="/"+locationObj.$$path}}function startsWith(str,search){return str.slice(0,search.length)===search}function stripBaseUrl(base,url){if(startsWith(url,base)){return url.substr(base.length)}}function stripHash(url){var index=url.indexOf("#");return index===-1?url:url.substr(0,index)}function stripFile(url){return url.substr(0,stripHash(url).lastIndexOf("/")+1)}function serverBase(url){return url.substring(0,url.indexOf("/",url.indexOf("//")+2))}function LocationHtml5Url(appBase,appBaseNoFile,basePrefix){this.$$html5=true;basePrefix=basePrefix||"";parseAbsoluteUrl(appBase,this);this.$$parse=function(url){var pathUrl=stripBaseUrl(appBaseNoFile,url);if(!isString(pathUrl)){throw $locationMinErr("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',url,appBaseNoFile)}parseAppUrl(pathUrl,this,true);if(!this.$$path){this.$$path="/"}this.$$compose()};this.$$normalizeUrl=function(url){return appBaseNoFile+url.substr(1)};this.$$parseLinkUrl=function(url,relHref){if(relHref&&relHref[0]==="#"){this.hash(relHref.slice(1));return true}var appUrl,prevAppUrl;var rewrittenUrl;if(isDefined(appUrl=stripBaseUrl(appBase,url))){prevAppUrl=appUrl;if(basePrefix&&isDefined(appUrl=stripBaseUrl(basePrefix,appUrl))){rewrittenUrl=appBaseNoFile+(stripBaseUrl("/",appUrl)||appUrl)}else{rewrittenUrl=appBase+prevAppUrl}}else if(isDefined(appUrl=stripBaseUrl(appBaseNoFile,url))){rewrittenUrl=appBaseNoFile+appUrl}else if(appBaseNoFile===url+"/"){rewrittenUrl=appBaseNoFile}if(rewrittenUrl){this.$$parse(rewrittenUrl)}return!!rewrittenUrl}}function LocationHashbangUrl(appBase,appBaseNoFile,hashPrefix){parseAbsoluteUrl(appBase,this);this.$$parse=function(url){var withoutBaseUrl=stripBaseUrl(appBase,url)||stripBaseUrl(appBaseNoFile,url);var withoutHashUrl;if(!isUndefined(withoutBaseUrl)&&withoutBaseUrl.charAt(0)==="#"){withoutHashUrl=stripBaseUrl(hashPrefix,withoutBaseUrl);if(isUndefined(withoutHashUrl)){withoutHashUrl=withoutBaseUrl}}else{if(this.$$html5){withoutHashUrl=withoutBaseUrl}else{withoutHashUrl="";if(isUndefined(withoutBaseUrl)){appBase=url;this.replace()}}}parseAppUrl(withoutHashUrl,this,false);this.$$path=removeWindowsDriveName(this.$$path,withoutHashUrl,appBase);this.$$compose();function removeWindowsDriveName(path,url,base){var windowsFilePathExp=/^\/[A-Z]:(\/.*)/;var firstPathSegmentMatch;if(startsWith(url,base)){url=url.replace(base,"")}if(windowsFilePathExp.exec(url)){return path}firstPathSegmentMatch=windowsFilePathExp.exec(path);return firstPathSegmentMatch?firstPathSegmentMatch[1]:path}};this.$$normalizeUrl=function(url){return appBase+(url?hashPrefix+url:"")};this.$$parseLinkUrl=function(url,relHref){if(stripHash(appBase)===stripHash(url)){this.$$parse(url);return true}return false}}function LocationHashbangInHtml5Url(appBase,appBaseNoFile,hashPrefix){this.$$html5=true;LocationHashbangUrl.apply(this,arguments);this.$$parseLinkUrl=function(url,relHref){if(relHref&&relHref[0]==="#"){this.hash(relHref.slice(1));return true}var rewrittenUrl;var appUrl;if(appBase===stripHash(url)){rewrittenUrl=url}else if(appUrl=stripBaseUrl(appBaseNoFile,url)){rewrittenUrl=appBase+hashPrefix+appUrl}else if(appBaseNoFile===url+"/"){rewrittenUrl=appBaseNoFile}if(rewrittenUrl){this.$$parse(rewrittenUrl)}return!!rewrittenUrl};this.$$normalizeUrl=function(url){return appBase+hashPrefix+url}}var locationPrototype={$$absUrl:"",$$html5:false,$$replace:false,$$compose:function(){this.$$url=normalizePath(this.$$path,this.$$search,this.$$hash);this.$$absUrl=this.$$normalizeUrl(this.$$url);this.$$urlUpdatedByLocation=true},absUrl:locationGetter("$$absUrl"),url:function(url){if(isUndefined(url)){return this.$$url}var match=PATH_MATCH.exec(url);if(match[1]||url==="")this.path(decodeURIComponent(match[1]));if(match[2]||match[1]||url==="")this.search(match[3]||"");this.hash(match[5]||"");return this},protocol:locationGetter("$$protocol"),host:locationGetter("$$host"),port:locationGetter("$$port"),path:locationGetterSetter("$$path",function(path){path=path!==null?path.toString():"";return path.charAt(0)==="/"?path:"/"+path}),search:function(search,paramValue){switch(arguments.length){case 0:return this.$$search;case 1:if(isString(search)||isNumber(search)){search=search.toString();this.$$search=parseKeyValue(search)}else if(isObject(search)){search=copy(search,{});forEach(search,function(value,key){if(value==null)delete search[key]});this.$$search=search}else{throw $locationMinErr("isrcharg","The first argument of the `$location#search()` call must be a string or an object.")}break;default:if(isUndefined(paramValue)||paramValue===null){delete this.$$search[search]}else{this.$$search[search]=paramValue}}this.$$compose();return this},hash:locationGetterSetter("$$hash",function(hash){return hash!==null?hash.toString():""}),replace:function(){this.$$replace=true;return this}};forEach([LocationHashbangInHtml5Url,LocationHashbangUrl,LocationHtml5Url],function(Location){Location.prototype=Object.create(locationPrototype);Location.prototype.state=function(state){if(!arguments.length){return this.$$state}if(Location!==LocationHtml5Url||!this.$$html5){throw $locationMinErr("nostate","History API state support is available only "+"in HTML5 mode and only in browsers supporting HTML5 History API")}this.$$state=isUndefined(state)?null:state;this.$$urlUpdatedByLocation=true;return this}});function locationGetter(property){return function(){return this[property]}}function locationGetterSetter(property,preprocess){return function(value){if(isUndefined(value)){return this[property]}this[property]=preprocess(value);this.$$compose();return this}}function $LocationProvider(){var hashPrefix="!",html5Mode={enabled:false,requireBase:true,rewriteLinks:true};this.hashPrefix=function(prefix){if(isDefined(prefix)){hashPrefix=prefix;return this}else{return hashPrefix}};this.html5Mode=function(mode){if(isBoolean(mode)){html5Mode.enabled=mode;return this}else if(isObject(mode)){if(isBoolean(mode.enabled)){html5Mode.enabled=mode.enabled}if(isBoolean(mode.requireBase)){html5Mode.requireBase=mode.requireBase}if(isBoolean(mode.rewriteLinks)||isString(mode.rewriteLinks)){html5Mode.rewriteLinks=mode.rewriteLinks}return this}else{return html5Mode}};this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function($rootScope,$browser,$sniffer,$rootElement,$window){var $location,LocationMode,baseHref=$browser.baseHref(),initialUrl=$browser.url(),appBase;if(html5Mode.enabled){if(!baseHref&&html5Mode.requireBase){throw $locationMinErr("nobase","$location in HTML5 mode requires a <base> tag to be present!")}appBase=serverBase(initialUrl)+(baseHref||"/");LocationMode=$sniffer.history?LocationHtml5Url:LocationHashbangInHtml5Url}else{appBase=stripHash(initialUrl);LocationMode=LocationHashbangUrl}var appBaseNoFile=stripFile(appBase);$location=new LocationMode(appBase,appBaseNoFile,"#"+hashPrefix);$location.$$parseLinkUrl(initialUrl,initialUrl);$location.$$state=$browser.state();var IGNORE_URI_REGEXP=/^\s*(javascript|mailto):/i;function urlsEqual(a,b){return a===b||urlResolve(a).href===urlResolve(b).href}function setBrowserUrlWithFallback(url,replace,state){var oldUrl=$location.url();var oldState=$location.$$state;try{$browser.url(url,replace,state);$location.$$state=$browser.state()}catch(e){$location.url(oldUrl);$location.$$state=oldState;throw e}}$rootElement.on("click",function(event){var rewriteLinks=html5Mode.rewriteLinks;if(!rewriteLinks||event.ctrlKey||event.metaKey||event.shiftKey||event.which===2||event.button===2)return;var elm=jqLite(event.target);while(nodeName_(elm[0])!=="a"){if(elm[0]===$rootElement[0]||!(elm=elm.parent())[0])return}if(isString(rewriteLinks)&&isUndefined(elm.attr(rewriteLinks)))return;var absHref=elm.prop("href");var relHref=elm.attr("href")||elm.attr("xlink:href");if(isObject(absHref)&&absHref.toString()==="[object SVGAnimatedString]"){absHref=urlResolve(absHref.animVal).href}if(IGNORE_URI_REGEXP.test(absHref))return;if(absHref&&!elm.attr("target")&&!event.isDefaultPrevented()){if($location.$$parseLinkUrl(absHref,relHref)){event.preventDefault();if($location.absUrl()!==$browser.url()){$rootScope.$apply()}}}});if($location.absUrl()!==initialUrl){$browser.url($location.absUrl(),true)}var initializing=true;$browser.onUrlChange(function(newUrl,newState){if(!startsWith(newUrl,appBaseNoFile)){$window.location.href=newUrl;return}$rootScope.$evalAsync(function(){var oldUrl=$location.absUrl();var oldState=$location.$$state;var defaultPrevented;$location.$$parse(newUrl);$location.$$state=newState;defaultPrevented=$rootScope.$broadcast("$locationChangeStart",newUrl,oldUrl,newState,oldState).defaultPrevented;if($location.absUrl()!==newUrl)return;if(defaultPrevented){$location.$$parse(oldUrl);$location.$$state=oldState;setBrowserUrlWithFallback(oldUrl,false,oldState)}else{initializing=false;afterLocationChange(oldUrl,oldState)}});if(!$rootScope.$$phase)$rootScope.$digest()});$rootScope.$watch(function $locationWatch(){if(initializing||$location.$$urlUpdatedByLocation){$location.$$urlUpdatedByLocation=false;var oldUrl=$browser.url();var newUrl=$location.absUrl();var oldState=$browser.state();var currentReplace=$location.$$replace;var urlOrStateChanged=!urlsEqual(oldUrl,newUrl)||$location.$$html5&&$sniffer.history&&oldState!==$location.$$state;if(initializing||urlOrStateChanged){initializing=false;$rootScope.$evalAsync(function(){var newUrl=$location.absUrl();var defaultPrevented=$rootScope.$broadcast("$locationChangeStart",newUrl,oldUrl,$location.$$state,oldState).defaultPrevented;if($location.absUrl()!==newUrl)return;if(defaultPrevented){$location.$$parse(oldUrl);$location.$$state=oldState}else{if(urlOrStateChanged){setBrowserUrlWithFallback(newUrl,currentReplace,oldState===$location.$$state?null:$location.$$state)}afterLocationChange(oldUrl,oldState)}})}}$location.$$replace=false});return $location;function afterLocationChange(oldUrl,oldState){$rootScope.$broadcast("$locationChangeSuccess",$location.absUrl(),oldUrl,$location.$$state,oldState)}}]}function $LogProvider(){var debug=true,self=this;this.debugEnabled=function(flag){if(isDefined(flag)){debug=flag;return this}else{return debug}};this.$get=["$window",function($window){var formatStackTrace=msie||/\bEdge\//.test($window.navigator&&$window.navigator.userAgent);return{log:consoleLog("log"),info:consoleLog("info"),warn:consoleLog("warn"),error:consoleLog("error"),debug:function(){var fn=consoleLog("debug");return function(){if(debug){fn.apply(self,arguments)}}}()};function formatError(arg){if(isError(arg)){if(arg.stack&&formatStackTrace){arg=arg.message&&arg.stack.indexOf(arg.message)===-1?"Error: "+arg.message+"\n"+arg.stack:arg.stack}else if(arg.sourceURL){arg=arg.message+"\n"+arg.sourceURL+":"+arg.line}}return arg}function consoleLog(type){var console=$window.console||{},logFn=console[type]||console.log||noop;return function(){var args=[];forEach(arguments,function(arg){args.push(formatError(arg))});return Function.prototype.apply.call(logFn,console,args)}}}]}var $parseMinErr=minErr("$parse");var objectValueOf={}.constructor.prototype.valueOf;function getStringValue(name){return name+""}var OPERATORS=createMap();forEach("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(operator){OPERATORS[operator]=true});var ESCAPE={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'};var Lexer=function Lexer(options){this.options=options};Lexer.prototype={constructor:Lexer,lex:function(text){this.text=text;this.index=0;this.tokens=[];while(this.index<this.text.length){var ch=this.text.charAt(this.index);if(ch==='"'||ch==="'"){this.readString(ch)}else if(this.isNumber(ch)||ch==="."&&this.isNumber(this.peek())){this.readNumber()}else if(this.isIdentifierStart(this.peekMultichar())){this.readIdent()}else if(this.is(ch,"(){}[].,;:?")){this.tokens.push({index:this.index,text:ch});this.index++}else if(this.isWhitespace(ch)){this.index++}else{var ch2=ch+this.peek();var ch3=ch2+this.peek(2);var op1=OPERATORS[ch];var op2=OPERATORS[ch2];var op3=OPERATORS[ch3];if(op1||op2||op3){var token=op3?ch3:op2?ch2:ch;this.tokens.push({index:this.index,text:token,operator:true});this.index+=token.length}else{this.throwError("Unexpected next character ",this.index,this.index+1)}}}return this.tokens},is:function(ch,chars){return chars.indexOf(ch)!==-1},peek:function(i){var num=i||1;return this.index+num<this.text.length?this.text.charAt(this.index+num):false},isNumber:function(ch){return"0"<=ch&&ch<="9"&&typeof ch==="string"},isWhitespace:function(ch){return ch===" "||ch==="\r"||ch==="\t"||ch==="\n"||ch==="\v"||ch===""},isIdentifierStart:function(ch){return this.options.isIdentifierStart?this.options.isIdentifierStart(ch,this.codePointAt(ch)):this.isValidIdentifierStart(ch)},isValidIdentifierStart:function(ch){return"a"<=ch&&ch<="z"||"A"<=ch&&ch<="Z"||"_"===ch||ch==="$"},isIdentifierContinue:function(ch){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(ch,this.codePointAt(ch)):this.isValidIdentifierContinue(ch)},isValidIdentifierContinue:function(ch,cp){return this.isValidIdentifierStart(ch,cp)||this.isNumber(ch)},codePointAt:function(ch){if(ch.length===1)return ch.charCodeAt(0);return(ch.charCodeAt(0)<<10)+ch.charCodeAt(1)-56613888},peekMultichar:function(){var ch=this.text.charAt(this.index);var peek=this.peek();if(!peek){return ch}var cp1=ch.charCodeAt(0);var cp2=peek.charCodeAt(0);if(cp1>=55296&&cp1<=56319&&cp2>=56320&&cp2<=57343){return ch+peek}return ch},isExpOperator:function(ch){return ch==="-"||ch==="+"||this.isNumber(ch)},throwError:function(error,start,end){end=end||this.index;var colStr=isDefined(start)?"s "+start+"-"+this.index+" ["+this.text.substring(start,end)+"]":" "+end;throw $parseMinErr("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",error,colStr,this.text)},readNumber:function(){var number="";var start=this.index;while(this.index<this.text.length){var ch=lowercase(this.text.charAt(this.index));if(ch==="."||this.isNumber(ch)){number+=ch}else{var peekCh=this.peek();if(ch==="e"&&this.isExpOperator(peekCh)){number+=ch}else if(this.isExpOperator(ch)&&peekCh&&this.isNumber(peekCh)&&number.charAt(number.length-1)==="e"){number+=ch}else if(this.isExpOperator(ch)&&(!peekCh||!this.isNumber(peekCh))&&number.charAt(number.length-1)==="e"){this.throwError("Invalid exponent")}else{break}}this.index++}this.tokens.push({index:start,text:number,constant:true,value:Number(number)})},readIdent:function(){var start=this.index;this.index+=this.peekMultichar().length;while(this.index<this.text.length){var ch=this.peekMultichar();if(!this.isIdentifierContinue(ch)){break}this.index+=ch.length}this.tokens.push({index:start,text:this.text.slice(start,this.index),identifier:true})},readString:function(quote){var start=this.index;this.index++;var string="";var rawString=quote;var escape=false;while(this.index<this.text.length){var ch=this.text.charAt(this.index);rawString+=ch;if(escape){if(ch==="u"){var hex=this.text.substring(this.index+1,this.index+5);if(!hex.match(/[\da-f]{4}/i)){this.throwError("Invalid unicode escape [\\u"+hex+"]")}this.index+=4;string+=String.fromCharCode(parseInt(hex,16))}else{var rep=ESCAPE[ch];string=string+(rep||ch)}escape=false}else if(ch==="\\"){escape=true}else if(ch===quote){this.index++;this.tokens.push({index:start,text:rawString,constant:true,value:string});return}else{string+=ch}this.index++}this.throwError("Unterminated quote",start)}};var AST=function AST(lexer,options){this.lexer=lexer;this.options=options};AST.Program="Program";AST.ExpressionStatement="ExpressionStatement";AST.AssignmentExpression="AssignmentExpression";AST.ConditionalExpression="ConditionalExpression";AST.LogicalExpression="LogicalExpression";AST.BinaryExpression="BinaryExpression";AST.UnaryExpression="UnaryExpression";AST.CallExpression="CallExpression";AST.MemberExpression="MemberExpression";AST.Identifier="Identifier";AST.Literal="Literal";AST.ArrayExpression="ArrayExpression";AST.Property="Property";AST.ObjectExpression="ObjectExpression";AST.ThisExpression="ThisExpression";AST.LocalsExpression="LocalsExpression";AST.NGValueParameter="NGValueParameter";AST.prototype={ast:function(text){this.text=text;this.tokens=this.lexer.lex(text);var value=this.program();if(this.tokens.length!==0){this.throwError("is an unexpected token",this.tokens[0])}return value},program:function(){var body=[];while(true){if(this.tokens.length>0&&!this.peek("}",")",";","]"))body.push(this.expressionStatement());if(!this.expect(";")){return{type:AST.Program,body:body}}}},expressionStatement:function(){return{type:AST.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){var left=this.expression();while(this.expect("|")){left=this.filter(left)}return left},expression:function(){return this.assignment()},assignment:function(){var result=this.ternary();if(this.expect("=")){if(!isAssignable(result)){throw $parseMinErr("lval","Trying to assign a value to a non l-value")}result={type:AST.AssignmentExpression,left:result,right:this.assignment(),operator:"="}}return result},ternary:function(){var test=this.logicalOR();var alternate;var consequent;if(this.expect("?")){alternate=this.expression();if(this.consume(":")){consequent=this.expression();return{type:AST.ConditionalExpression,test:test,alternate:alternate,consequent:consequent}}}return test},logicalOR:function(){var left=this.logicalAND();while(this.expect("||")){left={type:AST.LogicalExpression,operator:"||",left:left,right:this.logicalAND()}}return left},logicalAND:function(){var left=this.equality();while(this.expect("&&")){left={type:AST.LogicalExpression,operator:"&&",left:left,right:this.equality()}}return left},equality:function(){var left=this.relational();var token;while(token=this.expect("==","!=","===","!==")){left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.relational()}}return left},relational:function(){var left=this.additive();var token;while(token=this.expect("<",">","<=",">=")){left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.additive()}}return left},additive:function(){var left=this.multiplicative();var token;while(token=this.expect("+","-")){left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.multiplicative()}}return left},multiplicative:function(){var left=this.unary();var token;while(token=this.expect("*","/","%")){left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.unary()}}return left},unary:function(){var token;if(token=this.expect("+","-","!")){return{type:AST.UnaryExpression,operator:token.text,prefix:true,argument:this.unary()}}else{return this.primary()}},primary:function(){var primary;if(this.expect("(")){primary=this.filterChain();this.consume(")")}else if(this.expect("[")){primary=this.arrayDeclaration()}else if(this.expect("{")){primary=this.object()}else if(this.selfReferential.hasOwnProperty(this.peek().text)){primary=copy(this.selfReferential[this.consume().text])}else if(this.options.literals.hasOwnProperty(this.peek().text)){primary={type:AST.Literal,value:this.options.literals[this.consume().text]}}else if(this.peek().identifier){primary=this.identifier()}else if(this.peek().constant){primary=this.constant()}else{this.throwError("not a primary expression",this.peek())}var next;while(next=this.expect("(","[",".")){if(next.text==="("){primary={type:AST.CallExpression,callee:primary,arguments:this.parseArguments()};this.consume(")")}else if(next.text==="["){primary={type:AST.MemberExpression,object:primary,property:this.expression(),computed:true};this.consume("]")}else if(next.text==="."){primary={type:AST.MemberExpression,object:primary,property:this.identifier(),computed:false}}else{this.throwError("IMPOSSIBLE")}}return primary},filter:function(baseExpression){var args=[baseExpression];var result={type:AST.CallExpression,callee:this.identifier(),arguments:args,filter:true};while(this.expect(":")){args.push(this.expression())}return result},parseArguments:function(){var args=[];if(this.peekToken().text!==")"){do{args.push(this.filterChain())}while(this.expect(","))}return args},identifier:function(){var token=this.consume();if(!token.identifier){this.throwError("is not a valid identifier",token)}return{type:AST.Identifier,name:token.text}},constant:function(){return{type:AST.Literal,value:this.consume().value}},arrayDeclaration:function(){var elements=[];if(this.peekToken().text!=="]"){do{if(this.peek("]")){break}elements.push(this.expression())}while(this.expect(","))}this.consume("]");return{type:AST.ArrayExpression,elements:elements}},object:function(){var properties=[],property;if(this.peekToken().text!=="}"){do{if(this.peek("}")){break}property={type:AST.Property,kind:"init"};if(this.peek().constant){property.key=this.constant();property.computed=false;this.consume(":");property.value=this.expression()}else if(this.peek().identifier){property.key=this.identifier();property.computed=false;if(this.peek(":")){this.consume(":");property.value=this.expression()}else{property.value=property.key}}else if(this.peek("[")){this.consume("[");property.key=this.expression();this.consume("]");property.computed=true;this.consume(":");property.value=this.expression()}else{this.throwError("invalid key",this.peek())}properties.push(property)}while(this.expect(","))}this.consume("}");return{type:AST.ObjectExpression,properties:properties}},throwError:function(msg,token){throw $parseMinErr("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",token.text,msg,token.index+1,this.text,this.text.substring(token.index))},consume:function(e1){if(this.tokens.length===0){throw $parseMinErr("ueoe","Unexpected end of expression: {0}",this.text)}var token=this.expect(e1);if(!token){this.throwError("is unexpected, expecting ["+e1+"]",this.peek())}return token},peekToken:function(){if(this.tokens.length===0){throw $parseMinErr("ueoe","Unexpected end of expression: {0}",this.text)}return this.tokens[0]},peek:function(e1,e2,e3,e4){return this.peekAhead(0,e1,e2,e3,e4)},peekAhead:function(i,e1,e2,e3,e4){if(this.tokens.length>i){var token=this.tokens[i];var t=token.text;if(t===e1||t===e2||t===e3||t===e4||!e1&&!e2&&!e3&&!e4){return token}}return false},expect:function(e1,e2,e3,e4){var token=this.peek(e1,e2,e3,e4);if(token){this.tokens.shift();return token}return false},selfReferential:{this:{type:AST.ThisExpression},$locals:{type:AST.LocalsExpression}}};function ifDefined(v,d){return typeof v!=="undefined"?v:d}function plusFn(l,r){if(typeof l==="undefined")return r;if(typeof r==="undefined")return l;return l+r}function isStateless($filter,filterName){var fn=$filter(filterName);return!fn.$stateful}var PURITY_ABSOLUTE=1;var PURITY_RELATIVE=2;function isPure(node,parentIsPure){switch(node.type){case AST.MemberExpression:if(node.computed){return false}break;case AST.UnaryExpression:return PURITY_ABSOLUTE;case AST.BinaryExpression:return node.operator!=="+"?PURITY_ABSOLUTE:false;case AST.CallExpression:return false}return undefined===parentIsPure?PURITY_RELATIVE:parentIsPure}function findConstantAndWatchExpressions(ast,$filter,parentIsPure){var allConstants;var argsToWatch;var isStatelessFilter;var astIsPure=ast.isPure=isPure(ast,parentIsPure);switch(ast.type){case AST.Program:allConstants=true;forEach(ast.body,function(expr){findConstantAndWatchExpressions(expr.expression,$filter,astIsPure);allConstants=allConstants&&expr.expression.constant});ast.constant=allConstants;break;case AST.Literal:ast.constant=true;ast.toWatch=[];break;case AST.UnaryExpression:findConstantAndWatchExpressions(ast.argument,$filter,astIsPure);ast.constant=ast.argument.constant;ast.toWatch=ast.argument.toWatch;break;case AST.BinaryExpression:findConstantAndWatchExpressions(ast.left,$filter,astIsPure);findConstantAndWatchExpressions(ast.right,$filter,astIsPure);ast.constant=ast.left.constant&&ast.right.constant;ast.toWatch=ast.left.toWatch.concat(ast.right.toWatch);break;case AST.LogicalExpression:findConstantAndWatchExpressions(ast.left,$filter,astIsPure);findConstantAndWatchExpressions(ast.right,$filter,astIsPure);ast.constant=ast.left.constant&&ast.right.constant;ast.toWatch=ast.constant?[]:[ast];break;case AST.ConditionalExpression:findConstantAndWatchExpressions(ast.test,$filter,astIsPure);findConstantAndWatchExpressions(ast.alternate,$filter,astIsPure);findConstantAndWatchExpressions(ast.consequent,$filter,astIsPure);ast.constant=ast.test.constant&&ast.alternate.constant&&ast.consequent.constant;ast.toWatch=ast.constant?[]:[ast];break;case AST.Identifier:ast.constant=false;ast.toWatch=[ast];break;case AST.MemberExpression:findConstantAndWatchExpressions(ast.object,$filter,astIsPure);if(ast.computed){findConstantAndWatchExpressions(ast.property,$filter,astIsPure)}ast.constant=ast.object.constant&&(!ast.computed||ast.property.constant);ast.toWatch=ast.constant?[]:[ast];break;case AST.CallExpression:isStatelessFilter=ast.filter?isStateless($filter,ast.callee.name):false;allConstants=isStatelessFilter;argsToWatch=[];forEach(ast.arguments,function(expr){findConstantAndWatchExpressions(expr,$filter,astIsPure);allConstants=allConstants&&expr.constant;argsToWatch.push.apply(argsToWatch,expr.toWatch)});ast.constant=allConstants;ast.toWatch=isStatelessFilter?argsToWatch:[ast];break;case AST.AssignmentExpression:findConstantAndWatchExpressions(ast.left,$filter,astIsPure);findConstantAndWatchExpressions(ast.right,$filter,astIsPure);ast.constant=ast.left.constant&&ast.right.constant;ast.toWatch=[ast];break;case AST.ArrayExpression:allConstants=true;argsToWatch=[];forEach(ast.elements,function(expr){findConstantAndWatchExpressions(expr,$filter,astIsPure);allConstants=allConstants&&expr.constant;argsToWatch.push.apply(argsToWatch,expr.toWatch)});ast.constant=allConstants;ast.toWatch=argsToWatch;break;case AST.ObjectExpression:allConstants=true;argsToWatch=[];forEach(ast.properties,function(property){findConstantAndWatchExpressions(property.value,$filter,astIsPure);allConstants=allConstants&&property.value.constant;argsToWatch.push.apply(argsToWatch,property.value.toWatch);if(property.computed){findConstantAndWatchExpressions(property.key,$filter,false);allConstants=allConstants&&property.key.constant;argsToWatch.push.apply(argsToWatch,property.key.toWatch)}});ast.constant=allConstants;ast.toWatch=argsToWatch;break;case AST.ThisExpression:ast.constant=false;ast.toWatch=[];break;case AST.LocalsExpression:ast.constant=false;ast.toWatch=[];break}}function getInputs(body){if(body.length!==1)return;var lastExpression=body[0].expression;var candidate=lastExpression.toWatch;if(candidate.length!==1)return candidate;return candidate[0]!==lastExpression?candidate:undefined}function isAssignable(ast){return ast.type===AST.Identifier||ast.type===AST.MemberExpression}function assignableAST(ast){if(ast.body.length===1&&isAssignable(ast.body[0].expression)){return{type:AST.AssignmentExpression,left:ast.body[0].expression,right:{type:AST.NGValueParameter},operator:"="}}}function isLiteral(ast){return ast.body.length===0||ast.body.length===1&&(ast.body[0].expression.type===AST.Literal||ast.body[0].expression.type===AST.ArrayExpression||ast.body[0].expression.type===AST.ObjectExpression)}function isConstant(ast){return ast.constant}function ASTCompiler($filter){this.$filter=$filter}ASTCompiler.prototype={compile:function(ast){var self=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]};findConstantAndWatchExpressions(ast,self.$filter);var extra="";var assignable;this.stage="assign";if(assignable=assignableAST(ast)){this.state.computing="assign";var result=this.nextId();this.recurse(assignable,result);this.return_(result);extra="fn.assign="+this.generateFunction("assign","s,v,l")}var toWatch=getInputs(ast.body);self.stage="inputs";forEach(toWatch,function(watch,key){var fnKey="fn"+key;self.state[fnKey]={vars:[],body:[],own:{}};self.state.computing=fnKey;var intoId=self.nextId();self.recurse(watch,intoId);self.return_(intoId);self.state.inputs.push({name:fnKey,isPure:watch.isPure});watch.watchId=key});this.state.computing="fn";this.stage="main";this.recurse(ast);var fnString='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+extra+this.watchFns()+"return fn;";var fn=new Function("$filter","getStringValue","ifDefined","plus",fnString)(this.$filter,getStringValue,ifDefined,plusFn);this.state=this.stage=undefined;return fn},USE:"use",STRICT:"strict",watchFns:function(){var result=[];var inputs=this.state.inputs;var self=this;forEach(inputs,function(input){result.push("var "+input.name+"="+self.generateFunction(input.name,"s"));if(input.isPure){result.push(input.name,".isPure="+JSON.stringify(input.isPure)+";")}});if(inputs.length){result.push("fn.inputs=["+inputs.map(function(i){return i.name}).join(",")+"];")}return result.join("")},generateFunction:function(name,params){return"function("+params+"){"+this.varsPrefix(name)+this.body(name)+"};"},filterPrefix:function(){var parts=[];var self=this;forEach(this.state.filters,function(id,filter){parts.push(id+"=$filter("+self.escape(filter)+")")});if(parts.length)return"var "+parts.join(",")+";";return""},varsPrefix:function(section){return this.state[section].vars.length?"var "+this.state[section].vars.join(",")+";":""},body:function(section){return this.state[section].body.join("")},recurse:function(ast,intoId,nameId,recursionFn,create,skipWatchIdCheck){var left,right,self=this,args,expression,computed;recursionFn=recursionFn||noop;if(!skipWatchIdCheck&&isDefined(ast.watchId)){intoId=intoId||this.nextId();this.if_("i",this.lazyAssign(intoId,this.computedMember("i",ast.watchId)),this.lazyRecurse(ast,intoId,nameId,recursionFn,create,true));return}switch(ast.type){case AST.Program:forEach(ast.body,function(expression,pos){self.recurse(expression.expression,undefined,undefined,function(expr){right=expr});if(pos!==ast.body.length-1){self.current().body.push(right,";")}else{self.return_(right)}});break;case AST.Literal:expression=this.escape(ast.value);this.assign(intoId,expression);recursionFn(intoId||expression);break;case AST.UnaryExpression:this.recurse(ast.argument,undefined,undefined,function(expr){right=expr});expression=ast.operator+"("+this.ifDefined(right,0)+")";this.assign(intoId,expression);recursionFn(expression);break;case AST.BinaryExpression:this.recurse(ast.left,undefined,undefined,function(expr){left=expr});this.recurse(ast.right,undefined,undefined,function(expr){right=expr});if(ast.operator==="+"){expression=this.plus(left,right)}else if(ast.operator==="-"){expression=this.ifDefined(left,0)+ast.operator+this.ifDefined(right,0)}else{expression="("+left+")"+ast.operator+"("+right+")"}this.assign(intoId,expression);recursionFn(expression);break;case AST.LogicalExpression:intoId=intoId||this.nextId();self.recurse(ast.left,intoId);self.if_(ast.operator==="&&"?intoId:self.not(intoId),self.lazyRecurse(ast.right,intoId));recursionFn(intoId);break;case AST.ConditionalExpression:intoId=intoId||this.nextId();self.recurse(ast.test,intoId);self.if_(intoId,self.lazyRecurse(ast.alternate,intoId),self.lazyRecurse(ast.consequent,intoId));recursionFn(intoId);break;case AST.Identifier:intoId=intoId||this.nextId();if(nameId){nameId.context=self.stage==="inputs"?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",ast.name)+"?l:s");nameId.computed=false;nameId.name=ast.name}self.if_(self.stage==="inputs"||self.not(self.getHasOwnProperty("l",ast.name)),function(){self.if_(self.stage==="inputs"||"s",function(){if(create&&create!==1){self.if_(self.isNull(self.nonComputedMember("s",ast.name)),self.lazyAssign(self.nonComputedMember("s",ast.name),"{}"))}self.assign(intoId,self.nonComputedMember("s",ast.name))})},intoId&&self.lazyAssign(intoId,self.nonComputedMember("l",ast.name)));recursionFn(intoId);break;case AST.MemberExpression:left=nameId&&(nameId.context=this.nextId())||this.nextId();intoId=intoId||this.nextId();self.recurse(ast.object,left,undefined,function(){self.if_(self.notNull(left),function(){if(ast.computed){right=self.nextId();self.recurse(ast.property,right);self.getStringValue(right);if(create&&create!==1){self.if_(self.not(self.computedMember(left,right)),self.lazyAssign(self.computedMember(left,right),"{}"))}expression=self.computedMember(left,right);self.assign(intoId,expression);if(nameId){nameId.computed=true;nameId.name=right}}else{if(create&&create!==1){self.if_(self.isNull(self.nonComputedMember(left,ast.property.name)),self.lazyAssign(self.nonComputedMember(left,ast.property.name),"{}"))}expression=self.nonComputedMember(left,ast.property.name);self.assign(intoId,expression);if(nameId){nameId.computed=false;nameId.name=ast.property.name}}},function(){self.assign(intoId,"undefined")});recursionFn(intoId)},!!create);break;case AST.CallExpression:intoId=intoId||this.nextId();if(ast.filter){right=self.filter(ast.callee.name);args=[];forEach(ast.arguments,function(expr){var argument=self.nextId();self.recurse(expr,argument);args.push(argument)});expression=right+"("+args.join(",")+")";self.assign(intoId,expression);recursionFn(intoId)}else{right=self.nextId();left={};args=[];self.recurse(ast.callee,right,left,function(){self.if_(self.notNull(right),function(){forEach(ast.arguments,function(expr){self.recurse(expr,ast.constant?undefined:self.nextId(),undefined,function(argument){args.push(argument)})});if(left.name){expression=self.member(left.context,left.name,left.computed)+"("+args.join(",")+")"}else{expression=right+"("+args.join(",")+")"}self.assign(intoId,expression)},function(){self.assign(intoId,"undefined")});recursionFn(intoId)})}break;case AST.AssignmentExpression:right=this.nextId();left={};this.recurse(ast.left,undefined,left,function(){self.if_(self.notNull(left.context),function(){self.recurse(ast.right,right);expression=self.member(left.context,left.name,left.computed)+ast.operator+right;self.assign(intoId,expression);recursionFn(intoId||expression)})},1);break;case AST.ArrayExpression:args=[];forEach(ast.elements,function(expr){self.recurse(expr,ast.constant?undefined:self.nextId(),undefined,function(argument){args.push(argument)})});expression="["+args.join(",")+"]";this.assign(intoId,expression);recursionFn(intoId||expression);break;case AST.ObjectExpression:args=[];computed=false;forEach(ast.properties,function(property){if(property.computed){computed=true}});if(computed){intoId=intoId||this.nextId();this.assign(intoId,"{}");forEach(ast.properties,function(property){if(property.computed){left=self.nextId();self.recurse(property.key,left)}else{left=property.key.type===AST.Identifier?property.key.name:""+property.key.value}right=self.nextId();self.recurse(property.value,right);self.assign(self.member(intoId,left,property.computed),right)})}else{forEach(ast.properties,function(property){self.recurse(property.value,ast.constant?undefined:self.nextId(),undefined,function(expr){args.push(self.escape(property.key.type===AST.Identifier?property.key.name:""+property.key.value)+":"+expr)})});expression="{"+args.join(",")+"}";this.assign(intoId,expression)}recursionFn(intoId||expression);break;case AST.ThisExpression:this.assign(intoId,"s");recursionFn(intoId||"s");break;case AST.LocalsExpression:this.assign(intoId,"l");recursionFn(intoId||"l");break;case AST.NGValueParameter:this.assign(intoId,"v");recursionFn(intoId||"v");break}},getHasOwnProperty:function(element,property){var key=element+"."+property;var own=this.current().own;if(!own.hasOwnProperty(key)){own[key]=this.nextId(false,element+"&&("+this.escape(property)+" in "+element+")")}return own[key]},assign:function(id,value){if(!id)return;this.current().body.push(id,"=",value,";");return id},filter:function(filterName){if(!this.state.filters.hasOwnProperty(filterName)){this.state.filters[filterName]=this.nextId(true)}return this.state.filters[filterName]},ifDefined:function(id,defaultValue){return"ifDefined("+id+","+this.escape(defaultValue)+")"},plus:function(left,right){return"plus("+left+","+right+")"},return_:function(id){this.current().body.push("return ",id,";")},if_:function(test,alternate,consequent){if(test===true){alternate()}else{var body=this.current().body;body.push("if(",test,"){");alternate();body.push("}");if(consequent){body.push("else{");consequent();body.push("}")}}},not:function(expression){return"!("+expression+")"},isNull:function(expression){return expression+"==null"},notNull:function(expression){return expression+"!=null"},nonComputedMember:function(left,right){var SAFE_IDENTIFIER=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/;var UNSAFE_CHARACTERS=/[^$_a-zA-Z0-9]/g;if(SAFE_IDENTIFIER.test(right)){return left+"."+right}else{return left+'["'+right.replace(UNSAFE_CHARACTERS,this.stringEscapeFn)+'"]'}},computedMember:function(left,right){return left+"["+right+"]"},member:function(left,right,computed){if(computed)return this.computedMember(left,right);return this.nonComputedMember(left,right)},getStringValue:function(item){this.assign(item,"getStringValue("+item+")")},lazyRecurse:function(ast,intoId,nameId,recursionFn,create,skipWatchIdCheck){var self=this;return function(){self.recurse(ast,intoId,nameId,recursionFn,create,skipWatchIdCheck)}},lazyAssign:function(id,value){var self=this;return function(){self.assign(id,value)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(c){return"\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4)},escape:function(value){if(isString(value))return"'"+value.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(isNumber(value))return value.toString();if(value===true)return"true";if(value===false)return"false";if(value===null)return"null";if(typeof value==="undefined")return"undefined";throw $parseMinErr("esc","IMPOSSIBLE")},nextId:function(skip,init){var id="v"+this.state.nextId++;if(!skip){this.current().vars.push(id+(init?"="+init:""))}return id},current:function(){return this.state[this.state.computing]}};function ASTInterpreter($filter){this.$filter=$filter}ASTInterpreter.prototype={compile:function(ast){var self=this;findConstantAndWatchExpressions(ast,self.$filter);var assignable;var assign;if(assignable=assignableAST(ast)){assign=this.recurse(assignable)}var toWatch=getInputs(ast.body);var inputs;if(toWatch){inputs=[];forEach(toWatch,function(watch,key){var input=self.recurse(watch);input.isPure=watch.isPure;watch.input=input;inputs.push(input);watch.watchId=key})}var expressions=[];forEach(ast.body,function(expression){expressions.push(self.recurse(expression.expression))});var fn=ast.body.length===0?noop:ast.body.length===1?expressions[0]:function(scope,locals){var lastValue;forEach(expressions,function(exp){lastValue=exp(scope,locals)});return lastValue};if(assign){fn.assign=function(scope,value,locals){return assign(scope,locals,value)}}if(inputs){fn.inputs=inputs}return fn},recurse:function(ast,context,create){var left,right,self=this,args;if(ast.input){return this.inputs(ast.input,ast.watchId)}switch(ast.type){case AST.Literal:return this.value(ast.value,context);case AST.UnaryExpression:right=this.recurse(ast.argument);return this["unary"+ast.operator](right,context);case AST.BinaryExpression:left=this.recurse(ast.left);right=this.recurse(ast.right);return this["binary"+ast.operator](left,right,context);case AST.LogicalExpression:left=this.recurse(ast.left);right=this.recurse(ast.right);return this["binary"+ast.operator](left,right,context);case AST.ConditionalExpression:return this["ternary?:"](this.recurse(ast.test),this.recurse(ast.alternate),this.recurse(ast.consequent),context);case AST.Identifier:return self.identifier(ast.name,context,create);case AST.MemberExpression:left=this.recurse(ast.object,false,!!create);if(!ast.computed){right=ast.property.name}if(ast.computed)right=this.recurse(ast.property);return ast.computed?this.computedMember(left,right,context,create):this.nonComputedMember(left,right,context,create);case AST.CallExpression:args=[];forEach(ast.arguments,function(expr){args.push(self.recurse(expr))});if(ast.filter)right=this.$filter(ast.callee.name);if(!ast.filter)right=this.recurse(ast.callee,true);return ast.filter?function(scope,locals,assign,inputs){var values=[];for(var i=0;i<args.length;++i){values.push(args[i](scope,locals,assign,inputs))}var value=right.apply(undefined,values,inputs);return context?{context:undefined,name:undefined,value:value}:value}:function(scope,locals,assign,inputs){var rhs=right(scope,locals,assign,inputs);var value;if(rhs.value!=null){var values=[];for(var i=0;i<args.length;++i){values.push(args[i](scope,locals,assign,inputs))}value=rhs.value.apply(rhs.context,values)}return context?{value:value}:value};case AST.AssignmentExpression:left=this.recurse(ast.left,true,1);right=this.recurse(ast.right);return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs);var rhs=right(scope,locals,assign,inputs);lhs.context[lhs.name]=rhs;return context?{value:rhs}:rhs};case AST.ArrayExpression:args=[];forEach(ast.elements,function(expr){args.push(self.recurse(expr))});return function(scope,locals,assign,inputs){var value=[];for(var i=0;i<args.length;++i){value.push(args[i](scope,locals,assign,inputs))}return context?{value:value}:value};case AST.ObjectExpression:args=[];forEach(ast.properties,function(property){if(property.computed){args.push({key:self.recurse(property.key),computed:true,value:self.recurse(property.value)})}else{args.push({key:property.key.type===AST.Identifier?property.key.name:""+property.key.value,computed:false,value:self.recurse(property.value)})}});return function(scope,locals,assign,inputs){var value={};for(var i=0;i<args.length;++i){if(args[i].computed){value[args[i].key(scope,locals,assign,inputs)]=args[i].value(scope,locals,assign,inputs)}else{value[args[i].key]=args[i].value(scope,locals,assign,inputs)}}return context?{value:value}:value};case AST.ThisExpression:return function(scope){return context?{value:scope}:scope};case AST.LocalsExpression:return function(scope,locals){return context?{value:locals}:locals};case AST.NGValueParameter:return function(scope,locals,assign){return context?{value:assign}:assign}}},"unary+":function(argument,context){return function(scope,locals,assign,inputs){var arg=argument(scope,locals,assign,inputs);if(isDefined(arg)){arg=+arg}else{arg=0}return context?{value:arg}:arg}},"unary-":function(argument,context){return function(scope,locals,assign,inputs){var arg=argument(scope,locals,assign,inputs);if(isDefined(arg)){arg=-arg}else{arg=-0}return context?{value:arg}:arg}},"unary!":function(argument,context){return function(scope,locals,assign,inputs){var arg=!argument(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary+":function(left,right,context){return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs);var rhs=right(scope,locals,assign,inputs);var arg=plusFn(lhs,rhs);return context?{value:arg}:arg}},"binary-":function(left,right,context){return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs);var rhs=right(scope,locals,assign,inputs);var arg=(isDefined(lhs)?lhs:0)-(isDefined(rhs)?rhs:0);return context?{value:arg}:arg}},"binary*":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)*right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary/":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)/right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary%":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)%right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary===":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)===right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary!==":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)!==right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary==":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)==right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary!=":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)!=right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary<":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)<right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary>":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)>right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary<=":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)<=right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary>=":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)>=right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary&&":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)&&right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary||":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)||right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"ternary?:":function(test,alternate,consequent,context){return function(scope,locals,assign,inputs){var arg=test(scope,locals,assign,inputs)?alternate(scope,locals,assign,inputs):consequent(scope,locals,assign,inputs);return context?{value:arg}:arg}},value:function(value,context){return function(){return context?{context:undefined,name:undefined,value:value}:value}},identifier:function(name,context,create){return function(scope,locals,assign,inputs){var base=locals&&name in locals?locals:scope;if(create&&create!==1&&base&&base[name]==null){base[name]={}}var value=base?base[name]:undefined;if(context){return{context:base,name:name,value:value}}else{return value}}},computedMember:function(left,right,context,create){return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs);var rhs;var value;if(lhs!=null){rhs=right(scope,locals,assign,inputs);rhs=getStringValue(rhs);if(create&&create!==1){if(lhs&&!lhs[rhs]){lhs[rhs]={}}}value=lhs[rhs]}if(context){return{context:lhs,name:rhs,value:value}}else{return value}}},nonComputedMember:function(left,right,context,create){return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs);if(create&&create!==1){if(lhs&&lhs[right]==null){lhs[right]={}}}var value=lhs!=null?lhs[right]:undefined;if(context){return{context:lhs,name:right,value:value}}else{return value}}},inputs:function(input,watchId){return function(scope,value,locals,inputs){if(inputs)return inputs[watchId];return input(scope,value,locals)}}};function Parser(lexer,$filter,options){this.ast=new AST(lexer,options);this.astCompiler=options.csp?new ASTInterpreter($filter):new ASTCompiler($filter)}Parser.prototype={constructor:Parser,parse:function(text){var ast=this.getAst(text);var fn=this.astCompiler.compile(ast.ast);fn.literal=isLiteral(ast.ast);fn.constant=isConstant(ast.ast);fn.oneTime=ast.oneTime;return fn},getAst:function(exp){var oneTime=false;exp=exp.trim();if(exp.charAt(0)===":"&&exp.charAt(1)===":"){oneTime=true;exp=exp.substring(2)}return{ast:this.ast.ast(exp),oneTime:oneTime}}};function getValueOf(value){return isFunction(value.valueOf)?value.valueOf():objectValueOf.call(value)}function $ParseProvider(){var cache=createMap();var literals={true:true,false:false,null:null,undefined:undefined};var identStart,identContinue;this.addLiteral=function(literalName,literalValue){literals[literalName]=literalValue};this.setIdentifierFns=function(identifierStart,identifierContinue){identStart=identifierStart;identContinue=identifierContinue;return this};this.$get=["$filter",function($filter){var noUnsafeEval=csp().noUnsafeEval;var $parseOptions={csp:noUnsafeEval,literals:copy(literals),isIdentifierStart:isFunction(identStart)&&identStart,isIdentifierContinue:isFunction(identContinue)&&identContinue};$parse.$$getAst=$$getAst;return $parse;function $parse(exp,interceptorFn){var parsedExpression,cacheKey;switch(typeof exp){case"string":exp=exp.trim();cacheKey=exp;parsedExpression=cache[cacheKey];if(!parsedExpression){var lexer=new Lexer($parseOptions);var parser=new Parser(lexer,$filter,$parseOptions);parsedExpression=parser.parse(exp);cache[cacheKey]=addWatchDelegate(parsedExpression)}return addInterceptor(parsedExpression,interceptorFn);case"function":return addInterceptor(exp,interceptorFn);default:return addInterceptor(noop,interceptorFn)}}function $$getAst(exp){var lexer=new Lexer($parseOptions);var parser=new Parser(lexer,$filter,$parseOptions);return parser.getAst(exp).ast}function expressionInputDirtyCheck(newValue,oldValueOfValue,compareObjectIdentity){if(newValue==null||oldValueOfValue==null){return newValue===oldValueOfValue}if(typeof newValue==="object"){newValue=getValueOf(newValue);if(typeof newValue==="object"&&!compareObjectIdentity){return false}}return newValue===oldValueOfValue||newValue!==newValue&&oldValueOfValue!==oldValueOfValue}function inputsWatchDelegate(scope,listener,objectEquality,parsedExpression,prettyPrintExpression){var inputExpressions=parsedExpression.inputs;var lastResult;if(inputExpressions.length===1){var oldInputValueOf=expressionInputDirtyCheck;inputExpressions=inputExpressions[0];return scope.$watch(function expressionInputWatch(scope){var newInputValue=inputExpressions(scope);if(!expressionInputDirtyCheck(newInputValue,oldInputValueOf,inputExpressions.isPure)){lastResult=parsedExpression(scope,undefined,undefined,[newInputValue]);oldInputValueOf=newInputValue&&getValueOf(newInputValue)}return lastResult},listener,objectEquality,prettyPrintExpression)}var oldInputValueOfValues=[];var oldInputValues=[];for(var i=0,ii=inputExpressions.length;i<ii;i++){oldInputValueOfValues[i]=expressionInputDirtyCheck;oldInputValues[i]=null}return scope.$watch(function expressionInputsWatch(scope){var changed=false;for(var i=0,ii=inputExpressions.length;i<ii;i++){var newInputValue=inputExpressions[i](scope);if(changed||(changed=!expressionInputDirtyCheck(newInputValue,oldInputValueOfValues[i],inputExpressions[i].isPure))){oldInputValues[i]=newInputValue;oldInputValueOfValues[i]=newInputValue&&getValueOf(newInputValue)}}if(changed){lastResult=parsedExpression(scope,undefined,undefined,oldInputValues)}return lastResult},listener,objectEquality,prettyPrintExpression)}function oneTimeWatchDelegate(scope,listener,objectEquality,parsedExpression,prettyPrintExpression){var isDone=parsedExpression.literal?isAllDefined:isDefined;var unwatch,lastValue;var exp=parsedExpression.$$intercepted||parsedExpression;var post=parsedExpression.$$interceptor||identity;var useInputs=parsedExpression.inputs&&!exp.inputs;oneTimeWatch.literal=parsedExpression.literal;oneTimeWatch.constant=parsedExpression.constant;oneTimeWatch.inputs=parsedExpression.inputs;addWatchDelegate(oneTimeWatch);unwatch=scope.$watch(oneTimeWatch,listener,objectEquality,prettyPrintExpression);return unwatch;function unwatchIfDone(){if(isDone(lastValue)){unwatch()}}function oneTimeWatch(scope,locals,assign,inputs){lastValue=useInputs&&inputs?inputs[0]:exp(scope,locals,assign,inputs);if(isDone(lastValue)){scope.$$postDigest(unwatchIfDone)}return post(lastValue)}}function isAllDefined(value){var allDefined=true;forEach(value,function(val){if(!isDefined(val))allDefined=false});return allDefined}function constantWatchDelegate(scope,listener,objectEquality,parsedExpression){var unwatch=scope.$watch(function constantWatch(scope){unwatch();return parsedExpression(scope)},listener,objectEquality);return unwatch}function addWatchDelegate(parsedExpression){if(parsedExpression.constant){parsedExpression.$$watchDelegate=constantWatchDelegate}else if(parsedExpression.oneTime){parsedExpression.$$watchDelegate=oneTimeWatchDelegate}else if(parsedExpression.inputs){parsedExpression.$$watchDelegate=inputsWatchDelegate}return parsedExpression}function chainInterceptors(first,second){function chainedInterceptor(value){return second(first(value))}chainedInterceptor.$stateful=first.$stateful||second.$stateful;chainedInterceptor.$$pure=first.$$pure&&second.$$pure;return chainedInterceptor}function addInterceptor(parsedExpression,interceptorFn){if(!interceptorFn)return parsedExpression;if(parsedExpression.$$interceptor){interceptorFn=chainInterceptors(parsedExpression.$$interceptor,interceptorFn);parsedExpression=parsedExpression.$$intercepted}var useInputs=false;var fn=function interceptedExpression(scope,locals,assign,inputs){var value=useInputs&&inputs?inputs[0]:parsedExpression(scope,locals,assign,inputs);return interceptorFn(value)};fn.$$intercepted=parsedExpression;fn.$$interceptor=interceptorFn;fn.literal=parsedExpression.literal;fn.oneTime=parsedExpression.oneTime;fn.constant=parsedExpression.constant;if(!interceptorFn.$stateful){useInputs=!parsedExpression.inputs;fn.inputs=parsedExpression.inputs?parsedExpression.inputs:[parsedExpression];if(!interceptorFn.$$pure){fn.inputs=fn.inputs.map(function(e){if(e.isPure===PURITY_RELATIVE){return function depurifier(s){return e(s)}}return e})}}return addWatchDelegate(fn)}}]}function $QProvider(){var errorOnUnhandledRejections=true;this.$get=["$rootScope","$exceptionHandler",function($rootScope,$exceptionHandler){return qFactory(function(callback){$rootScope.$evalAsync(callback)},$exceptionHandler,errorOnUnhandledRejections)}];this.errorOnUnhandledRejections=function(value){if(isDefined(value)){errorOnUnhandledRejections=value;return this}else{return errorOnUnhandledRejections}}}function $$QProvider(){var errorOnUnhandledRejections=true;this.$get=["$browser","$exceptionHandler",function($browser,$exceptionHandler){return qFactory(function(callback){$browser.defer(callback)},$exceptionHandler,errorOnUnhandledRejections)}];this.errorOnUnhandledRejections=function(value){if(isDefined(value)){errorOnUnhandledRejections=value;return this}else{return errorOnUnhandledRejections}}}function qFactory(nextTick,exceptionHandler,errorOnUnhandledRejections){var $qMinErr=minErr("$q",TypeError);var queueSize=0;var checkQueue=[];function defer(){return new Deferred}function Deferred(){var promise=this.promise=new Promise;this.resolve=function(val){resolvePromise(promise,val)};this.reject=function(reason){rejectPromise(promise,reason)};this.notify=function(progress){notifyPromise(promise,progress)}}function Promise(){this.$$state={status:0}}extend(Promise.prototype,{then:function(onFulfilled,onRejected,progressBack){if(isUndefined(onFulfilled)&&isUndefined(onRejected)&&isUndefined(progressBack)){return this}var result=new Promise;this.$$state.pending=this.$$state.pending||[];this.$$state.pending.push([result,onFulfilled,onRejected,progressBack]);if(this.$$state.status>0)scheduleProcessQueue(this.$$state);return result},catch:function(callback){return this.then(null,callback)},finally:function(callback,progressBack){return this.then(function(value){return handleCallback(value,resolve,callback)},function(error){return handleCallback(error,reject,callback)},progressBack)}});function processQueue(state){var fn,promise,pending;pending=state.pending;state.processScheduled=false;state.pending=undefined;try{for(var i=0,ii=pending.length;i<ii;++i){markQStateExceptionHandled(state);promise=pending[i][0];fn=pending[i][state.status];try{if(isFunction(fn)){resolvePromise(promise,fn(state.value))}else if(state.status===1){resolvePromise(promise,state.value)}else{rejectPromise(promise,state.value)}}catch(e){rejectPromise(promise,e);if(e&&e.$$passToExceptionHandler===true){exceptionHandler(e)}}}}finally{--queueSize;if(errorOnUnhandledRejections&&queueSize===0){nextTick(processChecks)}}}function processChecks(){while(!queueSize&&checkQueue.length){var toCheck=checkQueue.shift();if(!isStateExceptionHandled(toCheck)){markQStateExceptionHandled(toCheck);var errorMessage="Possibly unhandled rejection: "+toDebugString(toCheck.value);if(isError(toCheck.value)){exceptionHandler(toCheck.value,errorMessage)}else{exceptionHandler(errorMessage)}}}}function scheduleProcessQueue(state){if(errorOnUnhandledRejections&&!state.pending&&state.status===2&&!isStateExceptionHandled(state)){if(queueSize===0&&checkQueue.length===0){nextTick(processChecks)}checkQueue.push(state)}if(state.processScheduled||!state.pending)return;state.processScheduled=true;++queueSize;nextTick(function(){processQueue(state)})}function resolvePromise(promise,val){if(promise.$$state.status)return;if(val===promise){$$reject(promise,$qMinErr("qcycle","Expected promise to be resolved with value other than itself '{0}'",val))}else{$$resolve(promise,val)}}function $$resolve(promise,val){var then;var done=false;try{if(isObject(val)||isFunction(val))then=val.then;if(isFunction(then)){promise.$$state.status=-1;then.call(val,doResolve,doReject,doNotify)}else{promise.$$state.value=val;promise.$$state.status=1;scheduleProcessQueue(promise.$$state)}}catch(e){doReject(e)}function doResolve(val){if(done)return;done=true;$$resolve(promise,val)}function doReject(val){if(done)return;done=true;$$reject(promise,val)}function doNotify(progress){notifyPromise(promise,progress)}}function rejectPromise(promise,reason){if(promise.$$state.status)return;$$reject(promise,reason)}function $$reject(promise,reason){promise.$$state.value=reason;promise.$$state.status=2;scheduleProcessQueue(promise.$$state)}function notifyPromise(promise,progress){var callbacks=promise.$$state.pending;if(promise.$$state.status<=0&&callbacks&&callbacks.length){nextTick(function(){var callback,result;for(var i=0,ii=callbacks.length;i<ii;i++){result=callbacks[i][0];callback=callbacks[i][3];try{notifyPromise(result,isFunction(callback)?callback(progress):progress)}catch(e){exceptionHandler(e)}}})}}function reject(reason){var result=new Promise;rejectPromise(result,reason);return result}function handleCallback(value,resolver,callback){var callbackOutput=null;try{if(isFunction(callback))callbackOutput=callback()}catch(e){return reject(e)}if(isPromiseLike(callbackOutput)){return callbackOutput.then(function(){return resolver(value)},reject)}else{return resolver(value)}}function when(value,callback,errback,progressBack){var result=new Promise;resolvePromise(result,value);return result.then(callback,errback,progressBack)}var resolve=when;function all(promises){var result=new Promise,counter=0,results=isArray(promises)?[]:{};forEach(promises,function(promise,key){counter++;when(promise).then(function(value){results[key]=value;if(!--counter)resolvePromise(result,results)},function(reason){rejectPromise(result,reason)})});if(counter===0){resolvePromise(result,results)}return result}function race(promises){var deferred=defer();forEach(promises,function(promise){when(promise).then(deferred.resolve,deferred.reject)});return deferred.promise}function $Q(resolver){if(!isFunction(resolver)){throw $qMinErr("norslvr","Expected resolverFn, got '{0}'",resolver)}var promise=new Promise;function resolveFn(value){resolvePromise(promise,value)}function rejectFn(reason){rejectPromise(promise,reason)}resolver(resolveFn,rejectFn);return promise}$Q.prototype=Promise.prototype;$Q.defer=defer;$Q.reject=reject;$Q.when=when;$Q.resolve=resolve;$Q.all=all;$Q.race=race;return $Q}function isStateExceptionHandled(state){return!!state.pur}function markQStateExceptionHandled(state){state.pur=true}function markQExceptionHandled(q){markQStateExceptionHandled(q.$$state)}function $$RAFProvider(){this.$get=["$window","$timeout",function($window,$timeout){var requestAnimationFrame=$window.requestAnimationFrame||$window.webkitRequestAnimationFrame;var cancelAnimationFrame=$window.cancelAnimationFrame||$window.webkitCancelAnimationFrame||$window.webkitCancelRequestAnimationFrame;var rafSupported=!!requestAnimationFrame;var raf=rafSupported?function(fn){var id=requestAnimationFrame(fn);return function(){cancelAnimationFrame(id)}}:function(fn){var timer=$timeout(fn,16.66,false);return function(){$timeout.cancel(timer)}};raf.supported=rafSupported;return raf}]}function $RootScopeProvider(){var TTL=10;var $rootScopeMinErr=minErr("$rootScope");var lastDirtyWatch=null;var applyAsyncId=null;this.digestTtl=function(value){if(arguments.length){TTL=value}return TTL};function createChildScopeClass(parent){function ChildScope(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$id=nextUid();this.$$ChildScope=null;this.$$suspended=false}ChildScope.prototype=parent;return ChildScope}this.$get=["$exceptionHandler","$parse","$browser",function($exceptionHandler,$parse,$browser){function destroyChildScope($event){$event.currentScope.$$destroyed=true}function cleanUpScope($scope){if(msie===9){if($scope.$$childHead){cleanUpScope($scope.$$childHead)}if($scope.$$nextSibling){cleanUpScope($scope.$$nextSibling)}}$scope.$parent=$scope.$$nextSibling=$scope.$$prevSibling=$scope.$$childHead=$scope.$$childTail=$scope.$root=$scope.$$watchers=null}function Scope(){this.$id=nextUid();this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=false;this.$$suspended=false;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$$isolateBindings=null}Scope.prototype={constructor:Scope,$new:function(isolate,parent){var child;parent=parent||this;if(isolate){child=new Scope;child.$root=this.$root}else{if(!this.$$ChildScope){this.$$ChildScope=createChildScopeClass(this)}child=new this.$$ChildScope}child.$parent=parent;child.$$prevSibling=parent.$$childTail;if(parent.$$childHead){parent.$$childTail.$$nextSibling=child;parent.$$childTail=child}else{parent.$$childHead=parent.$$childTail=child}if(isolate||parent!==this)child.$on("$destroy",destroyChildScope);return child},$watch:function(watchExp,listener,objectEquality,prettyPrintExpression){var get=$parse(watchExp);var fn=isFunction(listener)?listener:noop;if(get.$$watchDelegate){return get.$$watchDelegate(this,fn,objectEquality,get,watchExp)}var scope=this,array=scope.$$watchers,watcher={fn:fn,last:initWatchVal,get:get,exp:prettyPrintExpression||watchExp,eq:!!objectEquality};lastDirtyWatch=null;if(!array){array=scope.$$watchers=[];array.$$digestWatchIndex=-1}array.unshift(watcher);array.$$digestWatchIndex++;incrementWatchersCount(this,1);return function deregisterWatch(){var index=arrayRemove(array,watcher);if(index>=0){incrementWatchersCount(scope,-1);if(index<array.$$digestWatchIndex){array.$$digestWatchIndex--}}lastDirtyWatch=null}},$watchGroup:function(watchExpressions,listener){var oldValues=new Array(watchExpressions.length);var newValues=new Array(watchExpressions.length);var deregisterFns=[];var self=this;var changeReactionScheduled=false;var firstRun=true;if(!watchExpressions.length){var shouldCall=true;self.$evalAsync(function(){if(shouldCall)listener(newValues,newValues,self)});return function deregisterWatchGroup(){shouldCall=false}}if(watchExpressions.length===1){return this.$watch(watchExpressions[0],function watchGroupAction(value,oldValue,scope){newValues[0]=value;oldValues[0]=oldValue;listener(newValues,value===oldValue?newValues:oldValues,scope)})}forEach(watchExpressions,function(expr,i){var unwatchFn=self.$watch(expr,function watchGroupSubAction(value){newValues[i]=value;if(!changeReactionScheduled){changeReactionScheduled=true;self.$evalAsync(watchGroupAction)}});deregisterFns.push(unwatchFn)});function watchGroupAction(){changeReactionScheduled=false;try{if(firstRun){firstRun=false;listener(newValues,newValues,self)}else{listener(newValues,oldValues,self)}}finally{for(var i=0;i<watchExpressions.length;i++){oldValues[i]=newValues[i]}}}return function deregisterWatchGroup(){while(deregisterFns.length){deregisterFns.shift()()}}},$watchCollection:function(obj,listener){$watchCollectionInterceptor.$$pure=$parse(obj).literal;$watchCollectionInterceptor.$stateful=!$watchCollectionInterceptor.$$pure;var self=this;var newValue;var oldValue;var veryOldValue;var trackVeryOldValue=listener.length>1;var changeDetected=0;var changeDetector=$parse(obj,$watchCollectionInterceptor);var internalArray=[];var internalObject={};var initRun=true;var oldLength=0;function $watchCollectionInterceptor(_value){newValue=_value;var newLength,key,bothNaN,newItem,oldItem;if(isUndefined(newValue))return;if(!isObject(newValue)){if(oldValue!==newValue){oldValue=newValue;changeDetected++}}else if(isArrayLike(newValue)){if(oldValue!==internalArray){oldValue=internalArray;oldLength=oldValue.length=0;changeDetected++}newLength=newValue.length;if(oldLength!==newLength){changeDetected++;oldValue.length=oldLength=newLength}for(var i=0;i<newLength;i++){oldItem=oldValue[i];newItem=newValue[i];bothNaN=oldItem!==oldItem&&newItem!==newItem;if(!bothNaN&&oldItem!==newItem){changeDetected++;oldValue[i]=newItem}}}else{if(oldValue!==internalObject){oldValue=internalObject={};oldLength=0;changeDetected++}newLength=0;for(key in newValue){if(hasOwnProperty.call(newValue,key)){newLength++;newItem=newValue[key];oldItem=oldValue[key];if(key in oldValue){bothNaN=oldItem!==oldItem&&newItem!==newItem;if(!bothNaN&&oldItem!==newItem){changeDetected++;oldValue[key]=newItem}}else{oldLength++;oldValue[key]=newItem;changeDetected++}}}if(oldLength>newLength){changeDetected++;for(key in oldValue){if(!hasOwnProperty.call(newValue,key)){oldLength--;delete oldValue[key]}}}}return changeDetected}function $watchCollectionAction(){if(initRun){initRun=false;listener(newValue,newValue,self)}else{listener(newValue,veryOldValue,self)}if(trackVeryOldValue){if(!isObject(newValue)){veryOldValue=newValue}else if(isArrayLike(newValue)){veryOldValue=new Array(newValue.length);for(var i=0;i<newValue.length;i++){veryOldValue[i]=newValue[i]}}else{veryOldValue={};for(var key in newValue){if(hasOwnProperty.call(newValue,key)){veryOldValue[key]=newValue[key]}}}}}return this.$watch(changeDetector,$watchCollectionAction)},$digest:function(){var watch,value,last,fn,get,watchers,dirty,ttl=TTL,next,current,target=asyncQueue.length?$rootScope:this,watchLog=[],logIdx,asyncTask;beginPhase("$digest");$browser.$$checkUrlChange();if(this===$rootScope&&applyAsyncId!==null){$browser.defer.cancel(applyAsyncId);flushApplyAsync()}lastDirtyWatch=null;do{dirty=false;current=target;for(var asyncQueuePosition=0;asyncQueuePosition<asyncQueue.length;asyncQueuePosition++){try{asyncTask=asyncQueue[asyncQueuePosition];fn=asyncTask.fn;fn(asyncTask.scope,asyncTask.locals)}catch(e){$exceptionHandler(e)}lastDirtyWatch=null}asyncQueue.length=0;traverseScopesLoop:do{if(watchers=!current.$$suspended&&current.$$watchers){watchers.$$digestWatchIndex=watchers.length;while(watchers.$$digestWatchIndex--){try{watch=watchers[watchers.$$digestWatchIndex];if(watch){get=watch.get;if((value=get(current))!==(last=watch.last)&&!(watch.eq?equals(value,last):isNumberNaN(value)&&isNumberNaN(last))){dirty=true;lastDirtyWatch=watch;watch.last=watch.eq?copy(value,null):value;fn=watch.fn;fn(value,last===initWatchVal?value:last,current);if(ttl<5){logIdx=4-ttl;if(!watchLog[logIdx])watchLog[logIdx]=[];watchLog[logIdx].push({msg:isFunction(watch.exp)?"fn: "+(watch.exp.name||watch.exp.toString()):watch.exp,newVal:value,oldVal:last})}}else if(watch===lastDirtyWatch){dirty=false;break traverseScopesLoop}}}catch(e){$exceptionHandler(e)}}}if(!(next=!current.$$suspended&&current.$$watchersCount&&current.$$childHead||current!==target&&current.$$nextSibling)){while(current!==target&&!(next=current.$$nextSibling)){current=current.$parent}}}while(current=next);if((dirty||asyncQueue.length)&&!ttl--){clearPhase();throw $rootScopeMinErr("infdig","{0} $digest() iterations reached. Aborting!\n"+"Watchers fired in the last 5 iterations: {1}",TTL,watchLog)}}while(dirty||asyncQueue.length);clearPhase();while(postDigestQueuePosition<postDigestQueue.length){try{postDigestQueue[postDigestQueuePosition++]()}catch(e){$exceptionHandler(e)}}postDigestQueue.length=postDigestQueuePosition=0;$browser.$$checkUrlChange()},$suspend:function(){this.$$suspended=true},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=false},$destroy:function(){if(this.$$destroyed)return;var parent=this.$parent;this.$broadcast("$destroy");this.$$destroyed=true;if(this===$rootScope){$browser.$$applicationDestroyed()}incrementWatchersCount(this,-this.$$watchersCount);for(var eventName in this.$$listenerCount){decrementListenerCount(this,this.$$listenerCount[eventName],eventName)}if(parent&&parent.$$childHead===this)parent.$$childHead=this.$$nextSibling;if(parent&&parent.$$childTail===this)parent.$$childTail=this.$$prevSibling;if(this.$$prevSibling)this.$$prevSibling.$$nextSibling=this.$$nextSibling;if(this.$$nextSibling)this.$$nextSibling.$$prevSibling=this.$$prevSibling;this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=noop;this.$on=this.$watch=this.$watchGroup=function(){return noop};this.$$listeners={};this.$$nextSibling=null;cleanUpScope(this)},$eval:function(expr,locals){return $parse(expr)(this,locals)},$evalAsync:function(expr,locals){if(!$rootScope.$$phase&&!asyncQueue.length){$browser.defer(function(){if(asyncQueue.length){$rootScope.$digest()}},null,"$evalAsync")}asyncQueue.push({scope:this,fn:$parse(expr),locals:locals})},$$postDigest:function(fn){postDigestQueue.push(fn)},$apply:function(expr){try{beginPhase("$apply");try{return this.$eval(expr)}finally{clearPhase()}}catch(e){$exceptionHandler(e)}finally{try{$rootScope.$digest()}catch(e){$exceptionHandler(e);throw e}}},$applyAsync:function(expr){var scope=this;if(expr){applyAsyncQueue.push($applyAsyncExpression)}expr=$parse(expr);scheduleApplyAsync();function $applyAsyncExpression(){scope.$eval(expr)}},$on:function(name,listener){var namedListeners=this.$$listeners[name];if(!namedListeners){this.$$listeners[name]=namedListeners=[]}namedListeners.push(listener);var current=this;do{if(!current.$$listenerCount[name]){current.$$listenerCount[name]=0}current.$$listenerCount[name]++}while(current=current.$parent);var self=this;return function(){var indexOfListener=namedListeners.indexOf(listener);if(indexOfListener!==-1){delete namedListeners[indexOfListener];decrementListenerCount(self,1,name)}}},$emit:function(name,args){var empty=[],namedListeners,scope=this,stopPropagation=false,event={name:name,targetScope:scope,stopPropagation:function(){stopPropagation=true},preventDefault:function(){event.defaultPrevented=true},defaultPrevented:false},listenerArgs=concat([event],arguments,1),i,length;do{namedListeners=scope.$$listeners[name]||empty;event.currentScope=scope;for(i=0,length=namedListeners.length;i<length;i++){if(!namedListeners[i]){namedListeners.splice(i,1);i--;length--;continue}try{namedListeners[i].apply(null,listenerArgs)}catch(e){$exceptionHandler(e)}}if(stopPropagation){break}scope=scope.$parent}while(scope);event.currentScope=null;return event},$broadcast:function(name,args){var target=this,current=target,next=target,event={name:name,targetScope:target,preventDefault:function(){event.defaultPrevented=true},defaultPrevented:false};if(!target.$$listenerCount[name])return event;var listenerArgs=concat([event],arguments,1),listeners,i,length;while(current=next){event.currentScope=current;listeners=current.$$listeners[name]||[];for(i=0,length=listeners.length;i<length;i++){if(!listeners[i]){listeners.splice(i,1);i--;length--;continue}try{listeners[i].apply(null,listenerArgs)}catch(e){$exceptionHandler(e)}}if(!(next=current.$$listenerCount[name]&&current.$$childHead||current!==target&&current.$$nextSibling)){while(current!==target&&!(next=current.$$nextSibling)){current=current.$parent}}}event.currentScope=null;return event}};var $rootScope=new Scope;var asyncQueue=$rootScope.$$asyncQueue=[];var postDigestQueue=$rootScope.$$postDigestQueue=[];var applyAsyncQueue=$rootScope.$$applyAsyncQueue=[];var postDigestQueuePosition=0;return $rootScope;function beginPhase(phase){if($rootScope.$$phase){throw $rootScopeMinErr("inprog","{0} already in progress",$rootScope.$$phase)}$rootScope.$$phase=phase}function clearPhase(){$rootScope.$$phase=null}function incrementWatchersCount(current,count){do{current.$$watchersCount+=count}while(current=current.$parent)}function decrementListenerCount(current,count,name){do{current.$$listenerCount[name]-=count;if(current.$$listenerCount[name]===0){delete current.$$listenerCount[name]}}while(current=current.$parent)}function initWatchVal(){}function flushApplyAsync(){while(applyAsyncQueue.length){try{applyAsyncQueue.shift()()}catch(e){$exceptionHandler(e)}}applyAsyncId=null}function scheduleApplyAsync(){if(applyAsyncId===null){applyAsyncId=$browser.defer(function(){$rootScope.$apply(flushApplyAsync)},null,"$applyAsync")}}}]}function $$SanitizeUriProvider(){var aHrefSanitizationWhitelist=/^\s*(https?|s?ftp|mailto|tel|file):/,imgSrcSanitizationWhitelist=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(regexp){if(isDefined(regexp)){aHrefSanitizationWhitelist=regexp;return this}return aHrefSanitizationWhitelist};this.imgSrcSanitizationWhitelist=function(regexp){if(isDefined(regexp)){imgSrcSanitizationWhitelist=regexp;return this}return imgSrcSanitizationWhitelist};this.$get=function(){return function sanitizeUri(uri,isMediaUrl){var regex=isMediaUrl?imgSrcSanitizationWhitelist:aHrefSanitizationWhitelist;var normalizedVal=urlResolve(uri&&uri.trim()).href;if(normalizedVal!==""&&!normalizedVal.match(regex)){return"unsafe:"+normalizedVal}return uri}}}var $sceMinErr=minErr("$sce");var SCE_CONTEXTS={HTML:"html",CSS:"css",MEDIA_URL:"mediaUrl",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"};var UNDERSCORE_LOWERCASE_REGEXP=/_([a-z])/g;function snakeToCamel(name){return name.replace(UNDERSCORE_LOWERCASE_REGEXP,fnCamelCaseReplace)}function adjustMatcher(matcher){if(matcher==="self"){return matcher}else if(isString(matcher)){if(matcher.indexOf("***")>-1){throw $sceMinErr("iwcard","Illegal sequence *** in string matcher.  String: {0}",matcher)}matcher=escapeForRegexp(matcher).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*");return new RegExp("^"+matcher+"$")}else if(isRegExp(matcher)){return new RegExp("^"+matcher.source+"$")}else{throw $sceMinErr("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}}function adjustMatchers(matchers){var adjustedMatchers=[];if(isDefined(matchers)){forEach(matchers,function(matcher){adjustedMatchers.push(adjustMatcher(matcher))})}return adjustedMatchers}function $SceDelegateProvider(){this.SCE_CONTEXTS=SCE_CONTEXTS;var resourceUrlWhitelist=["self"],resourceUrlBlacklist=[];this.resourceUrlWhitelist=function(value){if(arguments.length){resourceUrlWhitelist=adjustMatchers(value)}return resourceUrlWhitelist};this.resourceUrlBlacklist=function(value){if(arguments.length){resourceUrlBlacklist=adjustMatchers(value)}return resourceUrlBlacklist};this.$get=["$injector","$$sanitizeUri",function($injector,$$sanitizeUri){var htmlSanitizer=function htmlSanitizer(html){throw $sceMinErr("unsafe","Attempting to use an unsafe value in a safe context.")};if($injector.has("$sanitize")){htmlSanitizer=$injector.get("$sanitize")}function matchUrl(matcher,parsedUrl){if(matcher==="self"){return urlIsSameOrigin(parsedUrl)||urlIsSameOriginAsBaseUrl(parsedUrl)}else{return!!matcher.exec(parsedUrl.href)}}function isResourceUrlAllowedByPolicy(url){var parsedUrl=urlResolve(url.toString());var i,n,allowed=false;for(i=0,n=resourceUrlWhitelist.length;i<n;i++){if(matchUrl(resourceUrlWhitelist[i],parsedUrl)){allowed=true;break}}if(allowed){for(i=0,n=resourceUrlBlacklist.length;i<n;i++){if(matchUrl(resourceUrlBlacklist[i],parsedUrl)){allowed=false;break}}}return allowed}function generateHolderType(Base){var holderType=function TrustedValueHolderType(trustedValue){this.$$unwrapTrustedValue=function(){return trustedValue}};if(Base){holderType.prototype=new Base}holderType.prototype.valueOf=function sceValueOf(){return this.$$unwrapTrustedValue()};holderType.prototype.toString=function sceToString(){return this.$$unwrapTrustedValue().toString()};return holderType}var trustedValueHolderBase=generateHolderType(),byType={};byType[SCE_CONTEXTS.HTML]=generateHolderType(trustedValueHolderBase);byType[SCE_CONTEXTS.CSS]=generateHolderType(trustedValueHolderBase);byType[SCE_CONTEXTS.MEDIA_URL]=generateHolderType(trustedValueHolderBase);byType[SCE_CONTEXTS.URL]=generateHolderType(byType[SCE_CONTEXTS.MEDIA_URL]);byType[SCE_CONTEXTS.JS]=generateHolderType(trustedValueHolderBase);byType[SCE_CONTEXTS.RESOURCE_URL]=generateHolderType(byType[SCE_CONTEXTS.URL]);function trustAs(type,trustedValue){var Constructor=byType.hasOwnProperty(type)?byType[type]:null;if(!Constructor){throw $sceMinErr("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",type,trustedValue)}if(trustedValue===null||isUndefined(trustedValue)||trustedValue===""){return trustedValue}if(typeof trustedValue!=="string"){throw $sceMinErr("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",type)}return new Constructor(trustedValue)}function valueOf(maybeTrusted){if(maybeTrusted instanceof trustedValueHolderBase){return maybeTrusted.$$unwrapTrustedValue()}else{return maybeTrusted}}function getTrusted(type,maybeTrusted){if(maybeTrusted===null||isUndefined(maybeTrusted)||maybeTrusted===""){return maybeTrusted}var constructor=byType.hasOwnProperty(type)?byType[type]:null;if(constructor&&maybeTrusted instanceof constructor){return maybeTrusted.$$unwrapTrustedValue()}if(isFunction(maybeTrusted.$$unwrapTrustedValue)){maybeTrusted=maybeTrusted.$$unwrapTrustedValue()}if(type===SCE_CONTEXTS.MEDIA_URL||type===SCE_CONTEXTS.URL){return $$sanitizeUri(maybeTrusted.toString(),type===SCE_CONTEXTS.MEDIA_URL)}else if(type===SCE_CONTEXTS.RESOURCE_URL){if(isResourceUrlAllowedByPolicy(maybeTrusted)){return maybeTrusted}else{throw $sceMinErr("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",maybeTrusted.toString())}}else if(type===SCE_CONTEXTS.HTML){return htmlSanitizer(maybeTrusted)}throw $sceMinErr("unsafe","Attempting to use an unsafe value in a safe context.")}return{trustAs:trustAs,getTrusted:getTrusted,valueOf:valueOf}}]}function $SceProvider(){var enabled=true;this.enabled=function(value){if(arguments.length){enabled=!!value}return enabled};this.$get=["$parse","$sceDelegate",function($parse,$sceDelegate){if(enabled&&msie<8){throw $sceMinErr("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks "+"mode.  You can fix this by adding the text <!doctype html> to the top of your HTML "+"document.  See http://docs.angularjs.org/api/ng.$sce for more information.")}var sce=shallowCopy(SCE_CONTEXTS);sce.isEnabled=function(){return enabled};sce.trustAs=$sceDelegate.trustAs;sce.getTrusted=$sceDelegate.getTrusted;sce.valueOf=$sceDelegate.valueOf;if(!enabled){sce.trustAs=sce.getTrusted=function(type,value){return value};sce.valueOf=identity}sce.parseAs=function sceParseAs(type,expr){var parsed=$parse(expr);if(parsed.literal&&parsed.constant){return parsed}else{return $parse(expr,function(value){return sce.getTrusted(type,value)})}};var parse=sce.parseAs,getTrusted=sce.getTrusted,trustAs=sce.trustAs;forEach(SCE_CONTEXTS,function(enumValue,name){var lName=lowercase(name);sce[snakeToCamel("parse_as_"+lName)]=function(expr){return parse(enumValue,expr)};sce[snakeToCamel("get_trusted_"+lName)]=function(value){return getTrusted(enumValue,value)};sce[snakeToCamel("trust_as_"+lName)]=function(value){return trustAs(enumValue,value)}});return sce}]}function $SnifferProvider(){this.$get=["$window","$document",function($window,$document){var eventSupport={},isNw=$window.nw&&$window.nw.process,isChromePackagedApp=!isNw&&$window.chrome&&($window.chrome.app&&$window.chrome.app.runtime||!$window.chrome.app&&$window.chrome.runtime&&$window.chrome.runtime.id),hasHistoryPushState=!isChromePackagedApp&&$window.history&&$window.history.pushState,android=toInt((/android (\d+)/.exec(lowercase(($window.navigator||{}).userAgent))||[])[1]),boxee=/Boxee/i.test(($window.navigator||{}).userAgent),document=$document[0]||{},bodyStyle=document.body&&document.body.style,transitions=false,animations=false;if(bodyStyle){transitions=!!("transition"in bodyStyle||"webkitTransition"in bodyStyle);animations=!!("animation"in bodyStyle||"webkitAnimation"in bodyStyle)}return{history:!!(hasHistoryPushState&&!(android<4)&&!boxee),hasEvent:function(event){if(event==="input"&&msie)return false;if(isUndefined(eventSupport[event])){var divElm=document.createElement("div");eventSupport[event]="on"+event in divElm}return eventSupport[event]},csp:csp(),transitions:transitions,animations:animations,android:android}}]}function $$TaskTrackerFactoryProvider(){this.$get=valueFn(function(log){return new TaskTracker(log)})}function TaskTracker(log){var self=this;var taskCounts={};var taskCallbacks=[];var ALL_TASKS_TYPE=self.ALL_TASKS_TYPE="$$all$$";var DEFAULT_TASK_TYPE=self.DEFAULT_TASK_TYPE="$$default$$";self.completeTask=completeTask;self.incTaskCount=incTaskCount;self.notifyWhenNoPendingTasks=notifyWhenNoPendingTasks;function completeTask(fn,taskType){taskType=taskType||DEFAULT_TASK_TYPE;try{fn()}finally{decTaskCount(taskType);var countForType=taskCounts[taskType];var countForAll=taskCounts[ALL_TASKS_TYPE];if(!countForAll||!countForType){var getNextCallback=!countForAll?getLastCallback:getLastCallbackForType;var nextCb;while(nextCb=getNextCallback(taskType)){try{nextCb()}catch(e){log.error(e)}}}}}function decTaskCount(taskType){taskType=taskType||DEFAULT_TASK_TYPE;if(taskCounts[taskType]){taskCounts[taskType]--;taskCounts[ALL_TASKS_TYPE]--}}function getLastCallback(){var cbInfo=taskCallbacks.pop();return cbInfo&&cbInfo.cb}function getLastCallbackForType(taskType){for(var i=taskCallbacks.length-1;i>=0;--i){var cbInfo=taskCallbacks[i];if(cbInfo.type===taskType){taskCallbacks.splice(i,1);return cbInfo.cb}}}function incTaskCount(taskType){taskType=taskType||DEFAULT_TASK_TYPE;taskCounts[taskType]=(taskCounts[taskType]||0)+1;taskCounts[ALL_TASKS_TYPE]=(taskCounts[ALL_TASKS_TYPE]||0)+1}function notifyWhenNoPendingTasks(callback,taskType){taskType=taskType||ALL_TASKS_TYPE;if(!taskCounts[taskType]){callback()}else{taskCallbacks.push({type:taskType,cb:callback})}}}var $templateRequestMinErr=minErr("$templateRequest");function $TemplateRequestProvider(){var httpOptions;this.httpOptions=function(val){if(val){httpOptions=val;return this}return httpOptions};this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function($exceptionHandler,$templateCache,$http,$q,$sce){function handleRequestFn(tpl,ignoreRequestError){handleRequestFn.totalPendingRequests++;if(!isString(tpl)||isUndefined($templateCache.get(tpl))){tpl=$sce.getTrustedResourceUrl(tpl)}var transformResponse=$http.defaults&&$http.defaults.transformResponse;if(isArray(transformResponse)){transformResponse=transformResponse.filter(function(transformer){return transformer!==defaultHttpResponseTransform})}else if(transformResponse===defaultHttpResponseTransform){transformResponse=null}return $http.get(tpl,extend({cache:$templateCache,transformResponse:transformResponse},httpOptions)).finally(function(){handleRequestFn.totalPendingRequests--}).then(function(response){return $templateCache.put(tpl,response.data)},handleError);function handleError(resp){if(!ignoreRequestError){resp=$templateRequestMinErr("tpload","Failed to load template: {0} (HTTP status: {1} {2})",tpl,resp.status,resp.statusText);$exceptionHandler(resp)}return $q.reject(resp)}}handleRequestFn.totalPendingRequests=0;return handleRequestFn}]}function $$TestabilityProvider(){this.$get=["$rootScope","$browser","$location",function($rootScope,$browser,$location){var testability={};testability.findBindings=function(element,expression,opt_exactMatch){var bindings=element.getElementsByClassName("ng-binding");var matches=[];forEach(bindings,function(binding){var dataBinding=angular.element(binding).data("$binding");if(dataBinding){forEach(dataBinding,function(bindingName){if(opt_exactMatch){var matcher=new RegExp("(^|\\s)"+escapeForRegexp(expression)+"(\\s|\\||$)");if(matcher.test(bindingName)){matches.push(binding)}}else{if(bindingName.indexOf(expression)!==-1){matches.push(binding)}}})}});return matches};testability.findModels=function(element,expression,opt_exactMatch){var prefixes=["ng-","data-ng-","ng\\:"];for(var p=0;p<prefixes.length;++p){var attributeEquals=opt_exactMatch?"=":"*=";var selector="["+prefixes[p]+"model"+attributeEquals+'"'+expression+'"]';var elements=element.querySelectorAll(selector);if(elements.length){return elements}}};testability.getLocation=function(){return $location.url()};testability.setLocation=function(url){if(url!==$location.url()){$location.url(url);$rootScope.$digest()}};testability.whenStable=function(callback){$browser.notifyWhenNoOutstandingRequests(callback)};return testability}]}var $timeoutMinErr=minErr("$timeout");function $TimeoutProvider(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function($rootScope,$browser,$q,$$q,$exceptionHandler){var deferreds={};function timeout(fn,delay,invokeApply){if(!isFunction(fn)){invokeApply=delay;delay=fn;fn=noop}var args=sliceArgs(arguments,3),skipApply=isDefined(invokeApply)&&!invokeApply,deferred=(skipApply?$$q:$q).defer(),promise=deferred.promise,timeoutId;timeoutId=$browser.defer(function(){try{deferred.resolve(fn.apply(null,args))}catch(e){deferred.reject(e);$exceptionHandler(e)}finally{delete deferreds[promise.$$timeoutId]}if(!skipApply)$rootScope.$apply()},delay,"$timeout");promise.$$timeoutId=timeoutId;deferreds[timeoutId]=deferred;return promise}timeout.cancel=function(promise){if(!promise)return false;if(!promise.hasOwnProperty("$$timeoutId")){throw $timeoutMinErr("badprom","`$timeout.cancel()` called with a promise that was not generated by `$timeout()`.")}if(!deferreds.hasOwnProperty(promise.$$timeoutId))return false;var id=promise.$$timeoutId;var deferred=deferreds[id];markQExceptionHandled(deferred.promise);deferred.reject("canceled");delete deferreds[id];return $browser.defer.cancel(id)};return timeout}]}var urlParsingNode=window.document.createElement("a");var originUrl=urlResolve(window.location.href);var baseUrlParsingNode;function urlResolve(url){if(!isString(url))return url;var href=url;if(msie){urlParsingNode.setAttribute("href",href);href=urlParsingNode.href}urlParsingNode.setAttribute("href",href);return{href:urlParsingNode.href,protocol:urlParsingNode.protocol?urlParsingNode.protocol.replace(/:$/,""):"",host:urlParsingNode.host,search:urlParsingNode.search?urlParsingNode.search.replace(/^\?/,""):"",hash:urlParsingNode.hash?urlParsingNode.hash.replace(/^#/,""):"",hostname:urlParsingNode.hostname,port:urlParsingNode.port,pathname:urlParsingNode.pathname.charAt(0)==="/"?urlParsingNode.pathname:"/"+urlParsingNode.pathname}}function urlIsSameOrigin(requestUrl){return urlsAreSameOrigin(requestUrl,originUrl)}function urlIsSameOriginAsBaseUrl(requestUrl){return urlsAreSameOrigin(requestUrl,getBaseUrl())}function urlIsAllowedOriginFactory(whitelistedOriginUrls){var parsedAllowedOriginUrls=[originUrl].concat(whitelistedOriginUrls.map(urlResolve));return function urlIsAllowedOrigin(requestUrl){var parsedUrl=urlResolve(requestUrl);return parsedAllowedOriginUrls.some(urlsAreSameOrigin.bind(null,parsedUrl))}}function urlsAreSameOrigin(url1,url2){url1=urlResolve(url1);url2=urlResolve(url2);return url1.protocol===url2.protocol&&url1.host===url2.host}function getBaseUrl(){if(window.document.baseURI){return window.document.baseURI}if(!baseUrlParsingNode){baseUrlParsingNode=window.document.createElement("a");baseUrlParsingNode.href=".";baseUrlParsingNode=baseUrlParsingNode.cloneNode(false)}return baseUrlParsingNode.href}function $WindowProvider(){this.$get=valueFn(window)}function $$CookieReader($document){var rawDocument=$document[0]||{};var lastCookies={};var lastCookieString="";function safeGetCookie(rawDocument){try{return rawDocument.cookie||""}catch(e){return""}}function safeDecodeURIComponent(str){try{return decodeURIComponent(str)}catch(e){return str}}return function(){var cookieArray,cookie,i,index,name;var currentCookieString=safeGetCookie(rawDocument);if(currentCookieString!==lastCookieString){lastCookieString=currentCookieString;cookieArray=lastCookieString.split("; ");lastCookies={};for(i=0;i<cookieArray.length;i++){cookie=cookieArray[i];index=cookie.indexOf("=");if(index>0){name=safeDecodeURIComponent(cookie.substring(0,index));if(isUndefined(lastCookies[name])){lastCookies[name]=safeDecodeURIComponent(cookie.substring(index+1))}}}}return lastCookies}}$$CookieReader.$inject=["$document"];function $$CookieReaderProvider(){this.$get=$$CookieReader}$FilterProvider.$inject=["$provide"];function $FilterProvider($provide){var suffix="Filter";function register(name,factory){if(isObject(name)){var filters={};forEach(name,function(filter,key){filters[key]=register(key,filter)});return filters}else{return $provide.factory(name+suffix,factory)}}this.register=register;this.$get=["$injector",function($injector){return function(name){return $injector.get(name+suffix)}}];register("currency",currencyFilter);register("date",dateFilter);register("filter",filterFilter);register("json",jsonFilter);register("limitTo",limitToFilter);register("lowercase",lowercaseFilter);register("number",numberFilter);register("orderBy",orderByFilter);register("uppercase",uppercaseFilter)}function filterFilter(){return function(array,expression,comparator,anyPropertyKey){if(!isArrayLike(array)){if(array==null){return array}else{throw minErr("filter")("notarray","Expected array but received: {0}",array)}}anyPropertyKey=anyPropertyKey||"$";var expressionType=getTypeForFilter(expression);var predicateFn;var matchAgainstAnyProp;switch(expressionType){case"function":predicateFn=expression;break;case"boolean":case"null":case"number":case"string":matchAgainstAnyProp=true;case"object":predicateFn=createPredicateFn(expression,comparator,anyPropertyKey,matchAgainstAnyProp);break;default:return array}return Array.prototype.filter.call(array,predicateFn)}}function createPredicateFn(expression,comparator,anyPropertyKey,matchAgainstAnyProp){var shouldMatchPrimitives=isObject(expression)&&anyPropertyKey in expression;var predicateFn;if(comparator===true){comparator=equals}else if(!isFunction(comparator)){comparator=function(actual,expected){if(isUndefined(actual)){return false}if(actual===null||expected===null){return actual===expected}if(isObject(expected)||isObject(actual)&&!hasCustomToString(actual)){return false}actual=lowercase(""+actual);expected=lowercase(""+expected);return actual.indexOf(expected)!==-1}}predicateFn=function(item){if(shouldMatchPrimitives&&!isObject(item)){return deepCompare(item,expression[anyPropertyKey],comparator,anyPropertyKey,false)}return deepCompare(item,expression,comparator,anyPropertyKey,matchAgainstAnyProp)};return predicateFn}function deepCompare(actual,expected,comparator,anyPropertyKey,matchAgainstAnyProp,dontMatchWholeObject){var actualType=getTypeForFilter(actual);var expectedType=getTypeForFilter(expected);if(expectedType==="string"&&expected.charAt(0)==="!"){return!deepCompare(actual,expected.substring(1),comparator,anyPropertyKey,matchAgainstAnyProp)}else if(isArray(actual)){return actual.some(function(item){return deepCompare(item,expected,comparator,anyPropertyKey,matchAgainstAnyProp)})}switch(actualType){case"object":var key;if(matchAgainstAnyProp){for(key in actual){if(key.charAt&&key.charAt(0)!=="$"&&deepCompare(actual[key],expected,comparator,anyPropertyKey,true)){return true}}return dontMatchWholeObject?false:deepCompare(actual,expected,comparator,anyPropertyKey,false)}else if(expectedType==="object"){for(key in expected){var expectedVal=expected[key];if(isFunction(expectedVal)||isUndefined(expectedVal)){continue}var matchAnyProperty=key===anyPropertyKey;var actualVal=matchAnyProperty?actual:actual[key];if(!deepCompare(actualVal,expectedVal,comparator,anyPropertyKey,matchAnyProperty,matchAnyProperty)){return false}}return true}else{return comparator(actual,expected)}case"function":return false;default:return comparator(actual,expected)}}function getTypeForFilter(val){return val===null?"null":typeof val}var MAX_DIGITS=22;var DECIMAL_SEP=".";var ZERO_CHAR="0";currencyFilter.$inject=["$locale"];function currencyFilter($locale){var formats=$locale.NUMBER_FORMATS;return function(amount,currencySymbol,fractionSize){if(isUndefined(currencySymbol)){currencySymbol=formats.CURRENCY_SYM}if(isUndefined(fractionSize)){fractionSize=formats.PATTERNS[1].maxFrac}var currencySymbolRe=!currencySymbol?/\s*\u00A4\s*/g:/\u00A4/g;return amount==null?amount:formatNumber(amount,formats.PATTERNS[1],formats.GROUP_SEP,formats.DECIMAL_SEP,fractionSize).replace(currencySymbolRe,currencySymbol)}}numberFilter.$inject=["$locale"];function numberFilter($locale){var formats=$locale.NUMBER_FORMATS;return function(number,fractionSize){return number==null?number:formatNumber(number,formats.PATTERNS[0],formats.GROUP_SEP,formats.DECIMAL_SEP,fractionSize)}}function parse(numStr){var exponent=0,digits,numberOfIntegerDigits;var i,j,zeros;if((numberOfIntegerDigits=numStr.indexOf(DECIMAL_SEP))>-1){numStr=numStr.replace(DECIMAL_SEP,"")}if((i=numStr.search(/e/i))>0){if(numberOfIntegerDigits<0)numberOfIntegerDigits=i;numberOfIntegerDigits+=+numStr.slice(i+1);numStr=numStr.substring(0,i)}else if(numberOfIntegerDigits<0){numberOfIntegerDigits=numStr.length}for(i=0;numStr.charAt(i)===ZERO_CHAR;i++){}if(i===(zeros=numStr.length)){digits=[0];numberOfIntegerDigits=1}else{zeros--;while(numStr.charAt(zeros)===ZERO_CHAR)zeros--;numberOfIntegerDigits-=i;digits=[];for(j=0;i<=zeros;i++,j++){digits[j]=+numStr.charAt(i)}}if(numberOfIntegerDigits>MAX_DIGITS){digits=digits.splice(0,MAX_DIGITS-1);exponent=numberOfIntegerDigits-1;numberOfIntegerDigits=1}return{d:digits,e:exponent,i:numberOfIntegerDigits}}function roundNumber(parsedNumber,fractionSize,minFrac,maxFrac){var digits=parsedNumber.d;var fractionLen=digits.length-parsedNumber.i;fractionSize=isUndefined(fractionSize)?Math.min(Math.max(minFrac,fractionLen),maxFrac):+fractionSize;var roundAt=fractionSize+parsedNumber.i;var digit=digits[roundAt];if(roundAt>0){digits.splice(Math.max(parsedNumber.i,roundAt));for(var j=roundAt;j<digits.length;j++){digits[j]=0}}else{fractionLen=Math.max(0,fractionLen);parsedNumber.i=1;digits.length=Math.max(1,roundAt=fractionSize+1);digits[0]=0;for(var i=1;i<roundAt;i++)digits[i]=0}if(digit>=5){if(roundAt-1<0){for(var k=0;k>roundAt;k--){digits.unshift(0);parsedNumber.i++}digits.unshift(1);parsedNumber.i++}else{digits[roundAt-1]++}}for(;fractionLen<Math.max(0,fractionSize);fractionLen++)digits.push(0);var carry=digits.reduceRight(function(carry,d,i,digits){d=d+carry;digits[i]=d%10;return Math.floor(d/10)},0);if(carry){digits.unshift(carry);parsedNumber.i++}}function formatNumber(number,pattern,groupSep,decimalSep,fractionSize){if(!(isString(number)||isNumber(number))||isNaN(number))return"";var isInfinity=!isFinite(number);var isZero=false;var numStr=Math.abs(number)+"",formattedText="",parsedNumber;if(isInfinity){formattedText=""}else{parsedNumber=parse(numStr);roundNumber(parsedNumber,fractionSize,pattern.minFrac,pattern.maxFrac);var digits=parsedNumber.d;var integerLen=parsedNumber.i;var exponent=parsedNumber.e;var decimals=[];isZero=digits.reduce(function(isZero,d){return isZero&&!d},true);while(integerLen<0){digits.unshift(0);integerLen++}if(integerLen>0){decimals=digits.splice(integerLen,digits.length)}else{decimals=digits;digits=[0]}var groups=[];if(digits.length>=pattern.lgSize){groups.unshift(digits.splice(-pattern.lgSize,digits.length).join(""))}while(digits.length>pattern.gSize){groups.unshift(digits.splice(-pattern.gSize,digits.length).join(""))}if(digits.length){groups.unshift(digits.join(""))}formattedText=groups.join(groupSep);if(decimals.length){formattedText+=decimalSep+decimals.join("")}if(exponent){formattedText+="e+"+exponent}}if(number<0&&!isZero){return pattern.negPre+formattedText+pattern.negSuf}else{return pattern.posPre+formattedText+pattern.posSuf}}function padNumber(num,digits,trim,negWrap){var neg="";if(num<0||negWrap&&num<=0){if(negWrap){num=-num+1}else{num=-num;neg="-"}}num=""+num;while(num.length<digits)num=ZERO_CHAR+num;if(trim){num=num.substr(num.length-digits)}return neg+num}function dateGetter(name,size,offset,trim,negWrap){offset=offset||0;return function(date){var value=date["get"+name]();if(offset>0||value>-offset){value+=offset}if(value===0&&offset===-12)value=12;return padNumber(value,size,trim,negWrap)}}function dateStrGetter(name,shortForm,standAlone){return function(date,formats){var value=date["get"+name]();var propPrefix=(standAlone?"STANDALONE":"")+(shortForm?"SHORT":"");var get=uppercase(propPrefix+name);return formats[get][value]}}function timeZoneGetter(date,formats,offset){var zone=-1*offset;var paddedZone=zone>=0?"+":"";paddedZone+=padNumber(Math[zone>0?"floor":"ceil"](zone/60),2)+padNumber(Math.abs(zone%60),2);return paddedZone}function getFirstThursdayOfYear(year){var dayOfWeekOnFirst=new Date(year,0,1).getDay();return new Date(year,0,(dayOfWeekOnFirst<=4?5:12)-dayOfWeekOnFirst)}function getThursdayThisWeek(datetime){return new Date(datetime.getFullYear(),datetime.getMonth(),datetime.getDate()+(4-datetime.getDay()))}function weekGetter(size){return function(date){var firstThurs=getFirstThursdayOfYear(date.getFullYear()),thisThurs=getThursdayThisWeek(date);var diff=+thisThurs-+firstThurs,result=1+Math.round(diff/6048e5);return padNumber(result,size)}}function ampmGetter(date,formats){return date.getHours()<12?formats.AMPMS[0]:formats.AMPMS[1]}function eraGetter(date,formats){return date.getFullYear()<=0?formats.ERAS[0]:formats.ERAS[1]}function longEraGetter(date,formats){return date.getFullYear()<=0?formats.ERANAMES[0]:formats.ERANAMES[1]}var DATE_FORMATS={yyyy:dateGetter("FullYear",4,0,false,true),yy:dateGetter("FullYear",2,0,true,true),y:dateGetter("FullYear",1,0,false,true),MMMM:dateStrGetter("Month"),MMM:dateStrGetter("Month",true),MM:dateGetter("Month",2,1),M:dateGetter("Month",1,1),LLLL:dateStrGetter("Month",false,true),dd:dateGetter("Date",2),d:dateGetter("Date",1),HH:dateGetter("Hours",2),H:dateGetter("Hours",1),hh:dateGetter("Hours",2,-12),h:dateGetter("Hours",1,-12),mm:dateGetter("Minutes",2),m:dateGetter("Minutes",1),ss:dateGetter("Seconds",2),s:dateGetter("Seconds",1),sss:dateGetter("Milliseconds",3),EEEE:dateStrGetter("Day"),EEE:dateStrGetter("Day",true),a:ampmGetter,Z:timeZoneGetter,ww:weekGetter(2),w:weekGetter(1),G:eraGetter,GG:eraGetter,GGG:eraGetter,GGGG:longEraGetter};var DATE_FORMATS_SPLIT=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,NUMBER_STRING=/^-?\d+$/;dateFilter.$inject=["$locale"];function dateFilter($locale){var R_ISO8601_STR=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;function jsonStringToDate(string){var match;if(match=string.match(R_ISO8601_STR)){var date=new Date(0),tzHour=0,tzMin=0,dateSetter=match[8]?date.setUTCFullYear:date.setFullYear,timeSetter=match[8]?date.setUTCHours:date.setHours;if(match[9]){tzHour=toInt(match[9]+match[10]);tzMin=toInt(match[9]+match[11])}dateSetter.call(date,toInt(match[1]),toInt(match[2])-1,toInt(match[3]));var h=toInt(match[4]||0)-tzHour;var m=toInt(match[5]||0)-tzMin;var s=toInt(match[6]||0);var ms=Math.round(parseFloat("0."+(match[7]||0))*1e3);timeSetter.call(date,h,m,s,ms);return date}return string}return function(date,format,timezone){var text="",parts=[],fn,match;format=format||"mediumDate";format=$locale.DATETIME_FORMATS[format]||format;if(isString(date)){date=NUMBER_STRING.test(date)?toInt(date):jsonStringToDate(date)}if(isNumber(date)){date=new Date(date)}if(!isDate(date)||!isFinite(date.getTime())){return date}while(format){match=DATE_FORMATS_SPLIT.exec(format);if(match){parts=concat(parts,match,1);format=parts.pop()}else{parts.push(format);format=null}}var dateTimezoneOffset=date.getTimezoneOffset();if(timezone){dateTimezoneOffset=timezoneToOffset(timezone,dateTimezoneOffset);date=convertTimezoneToLocal(date,timezone,true)}forEach(parts,function(value){fn=DATE_FORMATS[value];text+=fn?fn(date,$locale.DATETIME_FORMATS,dateTimezoneOffset):value==="''"?"'":value.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return text}}function jsonFilter(){return function(object,spacing){if(isUndefined(spacing)){spacing=2}return toJson(object,spacing)}}var lowercaseFilter=valueFn(lowercase);var uppercaseFilter=valueFn(uppercase);function limitToFilter(){return function(input,limit,begin){if(Math.abs(Number(limit))===Infinity){limit=Number(limit)}else{limit=toInt(limit)}if(isNumberNaN(limit))return input;if(isNumber(input))input=input.toString();if(!isArrayLike(input))return input;begin=!begin||isNaN(begin)?0:toInt(begin);begin=begin<0?Math.max(0,input.length+begin):begin;if(limit>=0){return sliceFn(input,begin,begin+limit)}else{if(begin===0){return sliceFn(input,limit,input.length)}else{return sliceFn(input,Math.max(0,begin+limit),begin)}}}}function sliceFn(input,begin,end){if(isString(input))return input.slice(begin,end);return slice.call(input,begin,end)}orderByFilter.$inject=["$parse"];function orderByFilter($parse){return function(array,sortPredicate,reverseOrder,compareFn){if(array==null)return array;if(!isArrayLike(array)){throw minErr("orderBy")("notarray","Expected array but received: {0}",array)}if(!isArray(sortPredicate)){sortPredicate=[sortPredicate]}if(sortPredicate.length===0){sortPredicate=["+"]}var predicates=processPredicates(sortPredicate);var descending=reverseOrder?-1:1;var compare=isFunction(compareFn)?compareFn:defaultCompare;var compareValues=Array.prototype.map.call(array,getComparisonObject);compareValues.sort(doComparison);array=compareValues.map(function(item){return item.value});return array;function getComparisonObject(value,index){return{value:value,tieBreaker:{value:index,type:"number",index:index},predicateValues:predicates.map(function(predicate){return getPredicateValue(predicate.get(value),index)})}}function doComparison(v1,v2){for(var i=0,ii=predicates.length;i<ii;i++){var result=compare(v1.predicateValues[i],v2.predicateValues[i]);if(result){return result*predicates[i].descending*descending}}return(compare(v1.tieBreaker,v2.tieBreaker)||defaultCompare(v1.tieBreaker,v2.tieBreaker))*descending}};function processPredicates(sortPredicates){return sortPredicates.map(function(predicate){var descending=1,get=identity;if(isFunction(predicate)){get=predicate}else if(isString(predicate)){if(predicate.charAt(0)==="+"||predicate.charAt(0)==="-"){descending=predicate.charAt(0)==="-"?-1:1;predicate=predicate.substring(1)}if(predicate!==""){get=$parse(predicate);if(get.constant){var key=get();get=function(value){return value[key]}}}}return{get:get,descending:descending}})}function isPrimitive(value){switch(typeof value){case"number":case"boolean":case"string":return true;default:return false}}function objectValue(value){if(isFunction(value.valueOf)){value=value.valueOf();if(isPrimitive(value))return value}if(hasCustomToString(value)){value=value.toString();if(isPrimitive(value))return value}return value}function getPredicateValue(value,index){var type=typeof value;if(value===null){type="null"}else if(type==="object"){value=objectValue(value)}return{value:value,type:type,index:index}}function defaultCompare(v1,v2){var result=0;var type1=v1.type;var type2=v2.type;if(type1===type2){var value1=v1.value;var value2=v2.value;if(type1==="string"){value1=value1.toLowerCase();value2=value2.toLowerCase()}else if(type1==="object"){if(isObject(value1))value1=v1.index;if(isObject(value2))value2=v2.index}if(value1!==value2){result=value1<value2?-1:1}}else{result=type1==="undefined"?1:type2==="undefined"?-1:type1==="null"?1:type2==="null"?-1:type1<type2?-1:1}return result}}function ngDirective(directive){if(isFunction(directive)){directive={link:directive}}directive.restrict=directive.restrict||"AC";return valueFn(directive)}var htmlAnchorDirective=valueFn({restrict:"E",compile:function(element,attr){if(!attr.href&&!attr.xlinkHref){return function(scope,element){if(element[0].nodeName.toLowerCase()!=="a")return;var href=toString.call(element.prop("href"))==="[object SVGAnimatedString]"?"xlink:href":"href";element.on("click",function(event){if(!element.attr(href)){event.preventDefault()}})}}}});var ngAttributeAliasDirectives={};forEach(BOOLEAN_ATTR,function(propName,attrName){if(propName==="multiple")return;function defaultLinkFn(scope,element,attr){scope.$watch(attr[normalized],function ngBooleanAttrWatchAction(value){attr.$set(attrName,!!value)})}var normalized=directiveNormalize("ng-"+attrName);var linkFn=defaultLinkFn;if(propName==="checked"){linkFn=function(scope,element,attr){if(attr.ngModel!==attr[normalized]){defaultLinkFn(scope,element,attr)}}}ngAttributeAliasDirectives[normalized]=function(){return{restrict:"A",priority:100,link:linkFn}}});forEach(ALIASED_ATTR,function(htmlAttr,ngAttr){ngAttributeAliasDirectives[ngAttr]=function(){return{priority:100,link:function(scope,element,attr){if(ngAttr==="ngPattern"&&attr.ngPattern.charAt(0)==="/"){var match=attr.ngPattern.match(REGEX_STRING_REGEXP);if(match){attr.$set("ngPattern",new RegExp(match[1],match[2]));return}}scope.$watch(attr[ngAttr],function ngAttrAliasWatchAction(value){attr.$set(ngAttr,value)})}}}});forEach(["src","srcset","href"],function(attrName){var normalized=directiveNormalize("ng-"+attrName);ngAttributeAliasDirectives[normalized]=function(){return{priority:99,link:function(scope,element,attr){var propName=attrName,name=attrName;if(attrName==="href"&&toString.call(element.prop("href"))==="[object SVGAnimatedString]"){name="xlinkHref";attr.$attr[name]="xlink:href";propName=null}attr.$observe(normalized,function(value){if(!value){if(attrName==="href"){attr.$set(name,null)}return}attr.$set(name,value);if(msie&&propName)element.prop(propName,attr[name])})}}}});var nullFormCtrl={$addControl:noop,$getControls:valueFn([]),$$renameControl:nullFormRenameControl,$removeControl:noop,$setValidity:noop,$setDirty:noop,$setPristine:noop,$setSubmitted:noop,$$setSubmitted:noop},PENDING_CLASS="ng-pending",SUBMITTED_CLASS="ng-submitted";function nullFormRenameControl(control,name){control.$name=name}FormController.$inject=["$element","$attrs","$scope","$animate","$interpolate"];function FormController($element,$attrs,$scope,$animate,$interpolate){this.$$controls=[];this.$error={};this.$$success={};this.$pending=undefined;this.$name=$interpolate($attrs.name||$attrs.ngForm||"")($scope);this.$dirty=false;this.$pristine=true;this.$valid=true;this.$invalid=false;this.$submitted=false;this.$$parentForm=nullFormCtrl;this.$$element=$element;this.$$animate=$animate;setupValidity(this)}FormController.prototype={$rollbackViewValue:function(){forEach(this.$$controls,function(control){control.$rollbackViewValue()})},$commitViewValue:function(){forEach(this.$$controls,function(control){control.$commitViewValue()})},$addControl:function(control){assertNotHasOwnProperty(control.$name,"input");this.$$controls.push(control);if(control.$name){this[control.$name]=control}control.$$parentForm=this},$getControls:function(){return shallowCopy(this.$$controls)},$$renameControl:function(control,newName){var oldName=control.$name;if(this[oldName]===control){delete this[oldName]}this[newName]=control;control.$name=newName},$removeControl:function(control){if(control.$name&&this[control.$name]===control){delete this[control.$name]}forEach(this.$pending,function(value,name){this.$setValidity(name,null,control)},this);forEach(this.$error,function(value,name){this.$setValidity(name,null,control)},this);forEach(this.$$success,function(value,name){this.$setValidity(name,null,control)},this);arrayRemove(this.$$controls,control);control.$$parentForm=nullFormCtrl},$setDirty:function(){this.$$animate.removeClass(this.$$element,PRISTINE_CLASS);this.$$animate.addClass(this.$$element,DIRTY_CLASS);this.$dirty=true;this.$pristine=false;this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,PRISTINE_CLASS,DIRTY_CLASS+" "+SUBMITTED_CLASS);this.$dirty=false;this.$pristine=true;this.$submitted=false;forEach(this.$$controls,function(control){control.$setPristine()})},$setUntouched:function(){forEach(this.$$controls,function(control){control.$setUntouched()})},$setSubmitted:function(){var rootForm=this;while(rootForm.$$parentForm&&rootForm.$$parentForm!==nullFormCtrl){rootForm=rootForm.$$parentForm}rootForm.$$setSubmitted()},$$setSubmitted:function(){this.$$animate.addClass(this.$$element,SUBMITTED_CLASS);this.$submitted=true;forEach(this.$$controls,function(control){if(control.$$setSubmitted){control.$$setSubmitted()}})}};addSetValidityMethod({clazz:FormController,set:function(object,property,controller){var list=object[property];if(!list){object[property]=[controller]}else{var index=list.indexOf(controller);if(index===-1){list.push(controller)}}},unset:function(object,property,controller){var list=object[property];if(!list){return}arrayRemove(list,controller);if(list.length===0){delete object[property]}}});var formDirectiveFactory=function(isNgForm){return["$timeout","$parse",function($timeout,$parse){var formDirective={name:"form",restrict:isNgForm?"EAC":"E",require:["form","^^?form"],controller:FormController,compile:function ngFormCompile(formElement,attr){formElement.addClass(PRISTINE_CLASS).addClass(VALID_CLASS);var nameAttr=attr.name?"name":isNgForm&&attr.ngForm?"ngForm":false;return{pre:function ngFormPreLink(scope,formElement,attr,ctrls){var controller=ctrls[0];if(!("action"in attr)){var handleFormSubmission=function(event){scope.$apply(function(){controller.$commitViewValue();controller.$setSubmitted()});event.preventDefault()};formElement[0].addEventListener("submit",handleFormSubmission);formElement.on("$destroy",function(){$timeout(function(){formElement[0].removeEventListener("submit",handleFormSubmission)},0,false)})}var parentFormCtrl=ctrls[1]||controller.$$parentForm;parentFormCtrl.$addControl(controller);var setter=nameAttr?getSetter(controller.$name):noop;if(nameAttr){setter(scope,controller);attr.$observe(nameAttr,function(newValue){if(controller.$name===newValue)return;setter(scope,undefined);controller.$$parentForm.$$renameControl(controller,newValue);setter=getSetter(controller.$name);setter(scope,controller)})}formElement.on("$destroy",function(){controller.$$parentForm.$removeControl(controller);setter(scope,undefined);extend(controller,nullFormCtrl)})}}}};return formDirective;function getSetter(expression){if(expression===""){return $parse('this[""]').assign}return $parse(expression).assign||noop}}]};var formDirective=formDirectiveFactory();var ngFormDirective=formDirectiveFactory(true);function setupValidity(instance){instance.$$classCache={};instance.$$classCache[INVALID_CLASS]=!(instance.$$classCache[VALID_CLASS]=instance.$$element.hasClass(VALID_CLASS))}function addSetValidityMethod(context){var clazz=context.clazz,set=context.set,unset=context.unset;clazz.prototype.$setValidity=function(validationErrorKey,state,controller){if(isUndefined(state)){createAndSet(this,"$pending",validationErrorKey,controller)}else{unsetAndCleanup(this,"$pending",validationErrorKey,controller)}if(!isBoolean(state)){unset(this.$error,validationErrorKey,controller);unset(this.$$success,validationErrorKey,controller)}else{if(state){unset(this.$error,validationErrorKey,controller);set(this.$$success,validationErrorKey,controller)}else{set(this.$error,validationErrorKey,controller);unset(this.$$success,validationErrorKey,controller)}}if(this.$pending){cachedToggleClass(this,PENDING_CLASS,true);this.$valid=this.$invalid=undefined;toggleValidationCss(this,"",null)}else{cachedToggleClass(this,PENDING_CLASS,false);this.$valid=isObjectEmpty(this.$error);this.$invalid=!this.$valid;toggleValidationCss(this,"",this.$valid)}var combinedState;if(this.$pending&&this.$pending[validationErrorKey]){combinedState=undefined}else if(this.$error[validationErrorKey]){combinedState=false}else if(this.$$success[validationErrorKey]){combinedState=true}else{combinedState=null}toggleValidationCss(this,validationErrorKey,combinedState);this.$$parentForm.$setValidity(validationErrorKey,combinedState,this)};function createAndSet(ctrl,name,value,controller){if(!ctrl[name]){ctrl[name]={}}set(ctrl[name],value,controller)}function unsetAndCleanup(ctrl,name,value,controller){if(ctrl[name]){unset(ctrl[name],value,controller)}if(isObjectEmpty(ctrl[name])){ctrl[name]=undefined}}function cachedToggleClass(ctrl,className,switchValue){if(switchValue&&!ctrl.$$classCache[className]){ctrl.$$animate.addClass(ctrl.$$element,className);ctrl.$$classCache[className]=true}else if(!switchValue&&ctrl.$$classCache[className]){ctrl.$$animate.removeClass(ctrl.$$element,className);ctrl.$$classCache[className]=false}}function toggleValidationCss(ctrl,validationErrorKey,isValid){validationErrorKey=validationErrorKey?"-"+snake_case(validationErrorKey,"-"):"";cachedToggleClass(ctrl,VALID_CLASS+validationErrorKey,isValid===true);cachedToggleClass(ctrl,INVALID_CLASS+validationErrorKey,isValid===false)}}function isObjectEmpty(obj){if(obj){for(var prop in obj){if(obj.hasOwnProperty(prop)){return false}}}return true}var ISO_DATE_REGEXP=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/;var URL_REGEXP=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i;var EMAIL_REGEXP=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;var NUMBER_REGEXP=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/;var DATE_REGEXP=/^(\d{4,})-(\d{2})-(\d{2})$/;var DATETIMELOCAL_REGEXP=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/;var WEEK_REGEXP=/^(\d{4,})-W(\d\d)$/;var MONTH_REGEXP=/^(\d{4,})-(\d\d)$/;var TIME_REGEXP=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/;var PARTIAL_VALIDATION_EVENTS="keydown wheel mousedown";var PARTIAL_VALIDATION_TYPES=createMap();forEach("date,datetime-local,month,time,week".split(","),function(type){PARTIAL_VALIDATION_TYPES[type]=true});var inputType={text:textInputType,date:createDateInputType("date",DATE_REGEXP,createDateParser(DATE_REGEXP,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":createDateInputType("datetimelocal",DATETIMELOCAL_REGEXP,createDateParser(DATETIMELOCAL_REGEXP,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:createDateInputType("time",TIME_REGEXP,createDateParser(TIME_REGEXP,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:createDateInputType("week",WEEK_REGEXP,weekParser,"yyyy-Www"),month:createDateInputType("month",MONTH_REGEXP,createDateParser(MONTH_REGEXP,["yyyy","MM"]),"yyyy-MM"),number:numberInputType,url:urlInputType,email:emailInputType,radio:radioInputType,range:rangeInputType,checkbox:checkboxInputType,hidden:noop,button:noop,submit:noop,reset:noop,file:noop};function stringBasedInputType(ctrl){ctrl.$formatters.push(function(value){return ctrl.$isEmpty(value)?value:value.toString()})}function textInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser);stringBasedInputType(ctrl)}function baseInputType(scope,element,attr,ctrl,$sniffer,$browser){var type=lowercase(element[0].type);if(!$sniffer.android){var composing=false;element.on("compositionstart",function(){composing=true});element.on("compositionupdate",function(ev){if(isUndefined(ev.data)||ev.data===""){composing=false}});element.on("compositionend",function(){composing=false;listener()})}var timeout;var listener=function(ev){if(timeout){$browser.defer.cancel(timeout);timeout=null}if(composing)return;var value=element.val(),event=ev&&ev.type;if(type!=="password"&&(!attr.ngTrim||attr.ngTrim!=="false")){value=trim(value)}if(ctrl.$viewValue!==value||value===""&&ctrl.$$hasNativeValidators){ctrl.$setViewValue(value,event)}};if($sniffer.hasEvent("input")){element.on("input",listener)}else{var deferListener=function(ev,input,origValue){if(!timeout){timeout=$browser.defer(function(){timeout=null;if(!input||input.value!==origValue){listener(ev)}})}};element.on("keydown",function(event){var key=event.keyCode;if(key===91||15<key&&key<19||37<=key&&key<=40)return;deferListener(event,this,this.value)});if($sniffer.hasEvent("paste")){element.on("paste cut drop",deferListener)}}element.on("change",listener);if(PARTIAL_VALIDATION_TYPES[type]&&ctrl.$$hasNativeValidators&&type===attr.type){element.on(PARTIAL_VALIDATION_EVENTS,function(ev){if(!timeout){var validity=this[VALIDITY_STATE_PROPERTY];var origBadInput=validity.badInput;var origTypeMismatch=validity.typeMismatch;timeout=$browser.defer(function(){timeout=null;if(validity.badInput!==origBadInput||validity.typeMismatch!==origTypeMismatch){listener(ev)}})}})}ctrl.$render=function(){var value=ctrl.$isEmpty(ctrl.$viewValue)?"":ctrl.$viewValue;if(element.val()!==value){element.val(value)}}}function weekParser(isoWeek,existingDate){if(isDate(isoWeek)){return isoWeek}if(isString(isoWeek)){WEEK_REGEXP.lastIndex=0;var parts=WEEK_REGEXP.exec(isoWeek);if(parts){var year=+parts[1],week=+parts[2],hours=0,minutes=0,seconds=0,milliseconds=0,firstThurs=getFirstThursdayOfYear(year),addDays=(week-1)*7;if(existingDate){hours=existingDate.getHours();minutes=existingDate.getMinutes();seconds=existingDate.getSeconds();milliseconds=existingDate.getMilliseconds()}return new Date(year,0,firstThurs.getDate()+addDays,hours,minutes,seconds,milliseconds)}}return NaN}function createDateParser(regexp,mapping){return function(iso,previousDate){var parts,map;if(isDate(iso)){return iso}if(isString(iso)){if(iso.charAt(0)==='"'&&iso.charAt(iso.length-1)==='"'){iso=iso.substring(1,iso.length-1)}if(ISO_DATE_REGEXP.test(iso)){return new Date(iso)}regexp.lastIndex=0;parts=regexp.exec(iso);if(parts){parts.shift();if(previousDate){map={yyyy:previousDate.getFullYear(),MM:previousDate.getMonth()+1,dd:previousDate.getDate(),HH:previousDate.getHours(),mm:previousDate.getMinutes(),ss:previousDate.getSeconds(),sss:previousDate.getMilliseconds()/1e3}}else{map={yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0}}forEach(parts,function(part,index){if(index<mapping.length){map[mapping[index]]=+part}});var date=new Date(map.yyyy,map.MM-1,map.dd,map.HH,map.mm,map.ss||0,map.sss*1e3||0);if(map.yyyy<100){date.setFullYear(map.yyyy)}return date}}return NaN}}function createDateInputType(type,regexp,parseDate,format){return function dynamicDateInputType(scope,element,attr,ctrl,$sniffer,$browser,$filter){badInputChecker(scope,element,attr,ctrl,type);baseInputType(scope,element,attr,ctrl,$sniffer,$browser);var isTimeType=type==="time"||type==="datetimelocal";var previousDate;var previousTimezone;ctrl.$parsers.push(function(value){if(ctrl.$isEmpty(value))return null;if(regexp.test(value)){return parseDateAndConvertTimeZoneToLocal(value,previousDate)}ctrl.$$parserName=type;return undefined});ctrl.$formatters.push(function(value){if(value&&!isDate(value)){throw ngModelMinErr("datefmt","Expected `{0}` to be a date",value)}if(isValidDate(value)){previousDate=value;var timezone=ctrl.$options.getOption("timezone");if(timezone){previousTimezone=timezone;previousDate=convertTimezoneToLocal(previousDate,timezone,true)}return formatter(value,timezone)}else{previousDate=null;previousTimezone=null;return""}});if(isDefined(attr.min)||attr.ngMin){var minVal;ctrl.$validators.min=function(value){return!isValidDate(value)||isUndefined(minVal)||parseDate(value)>=minVal};attr.$observe("min",function(val){minVal=parseObservedDateValue(val);ctrl.$validate()})}if(isDefined(attr.max)||attr.ngMax){var maxVal;ctrl.$validators.max=function(value){return!isValidDate(value)||isUndefined(maxVal)||parseDate(value)<=maxVal};attr.$observe("max",function(val){maxVal=parseObservedDateValue(val);ctrl.$validate()})}function isValidDate(value){return value&&!(value.getTime&&value.getTime()!==value.getTime())}function parseObservedDateValue(val){return isDefined(val)&&!isDate(val)?parseDateAndConvertTimeZoneToLocal(val)||undefined:val}function parseDateAndConvertTimeZoneToLocal(value,previousDate){var timezone=ctrl.$options.getOption("timezone");if(previousTimezone&&previousTimezone!==timezone){previousDate=addDateMinutes(previousDate,timezoneToOffset(previousTimezone))}var parsedDate=parseDate(value,previousDate);if(!isNaN(parsedDate)&&timezone){parsedDate=convertTimezoneToLocal(parsedDate,timezone)}return parsedDate}function formatter(value,timezone){var targetFormat=format;if(isTimeType&&isString(ctrl.$options.getOption("timeSecondsFormat"))){targetFormat=format.replace("ss.sss",ctrl.$options.getOption("timeSecondsFormat")).replace(/:$/,"")}var formatted=$filter("date")(value,targetFormat,timezone);if(isTimeType&&ctrl.$options.getOption("timeStripZeroSeconds")){formatted=formatted.replace(/(?::00)?(?:\.000)?$/,"")}return formatted}}}function badInputChecker(scope,element,attr,ctrl,parserName){var node=element[0];var nativeValidation=ctrl.$$hasNativeValidators=isObject(node.validity);if(nativeValidation){ctrl.$parsers.push(function(value){var validity=element.prop(VALIDITY_STATE_PROPERTY)||{};if(validity.badInput||validity.typeMismatch){ctrl.$$parserName=parserName;return undefined}return value})}}function numberFormatterParser(ctrl){ctrl.$parsers.push(function(value){if(ctrl.$isEmpty(value))return null;if(NUMBER_REGEXP.test(value))return parseFloat(value);ctrl.$$parserName="number";return undefined});ctrl.$formatters.push(function(value){if(!ctrl.$isEmpty(value)){if(!isNumber(value)){throw ngModelMinErr("numfmt","Expected `{0}` to be a number",value)}value=value.toString()}return value})}function parseNumberAttrVal(val){if(isDefined(val)&&!isNumber(val)){val=parseFloat(val)}return!isNumberNaN(val)?val:undefined}function isNumberInteger(num){return(num|0)===num}function countDecimals(num){var numString=num.toString();var decimalSymbolIndex=numString.indexOf(".");if(decimalSymbolIndex===-1){if(-1<num&&num<1){var match=/e-(\d+)$/.exec(numString);if(match){return Number(match[1])}}return 0}return numString.length-decimalSymbolIndex-1}function isValidForStep(viewValue,stepBase,step){var value=Number(viewValue);var isNonIntegerValue=!isNumberInteger(value);var isNonIntegerStepBase=!isNumberInteger(stepBase);var isNonIntegerStep=!isNumberInteger(step);if(isNonIntegerValue||isNonIntegerStepBase||isNonIntegerStep){var valueDecimals=isNonIntegerValue?countDecimals(value):0;var stepBaseDecimals=isNonIntegerStepBase?countDecimals(stepBase):0;var stepDecimals=isNonIntegerStep?countDecimals(step):0;var decimalCount=Math.max(valueDecimals,stepBaseDecimals,stepDecimals);var multiplier=Math.pow(10,decimalCount);value=value*multiplier;stepBase=stepBase*multiplier;step=step*multiplier;if(isNonIntegerValue)value=Math.round(value);if(isNonIntegerStepBase)stepBase=Math.round(stepBase);if(isNonIntegerStep)step=Math.round(step)}return(value-stepBase)%step===0}function numberInputType(scope,element,attr,ctrl,$sniffer,$browser){badInputChecker(scope,element,attr,ctrl,"number");numberFormatterParser(ctrl);baseInputType(scope,element,attr,ctrl,$sniffer,$browser);var minVal;var maxVal;if(isDefined(attr.min)||attr.ngMin){ctrl.$validators.min=function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||isUndefined(minVal)||viewValue>=minVal};attr.$observe("min",function(val){minVal=parseNumberAttrVal(val);ctrl.$validate()})}if(isDefined(attr.max)||attr.ngMax){ctrl.$validators.max=function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||isUndefined(maxVal)||viewValue<=maxVal};attr.$observe("max",function(val){maxVal=parseNumberAttrVal(val);ctrl.$validate()})}if(isDefined(attr.step)||attr.ngStep){var stepVal;ctrl.$validators.step=function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||isUndefined(stepVal)||isValidForStep(viewValue,minVal||0,stepVal)};attr.$observe("step",function(val){stepVal=parseNumberAttrVal(val);ctrl.$validate()})}}function rangeInputType(scope,element,attr,ctrl,$sniffer,$browser){badInputChecker(scope,element,attr,ctrl,"range");numberFormatterParser(ctrl);baseInputType(scope,element,attr,ctrl,$sniffer,$browser);var supportsRange=ctrl.$$hasNativeValidators&&element[0].type==="range",minVal=supportsRange?0:undefined,maxVal=supportsRange?100:undefined,stepVal=supportsRange?1:undefined,validity=element[0].validity,hasMinAttr=isDefined(attr.min),hasMaxAttr=isDefined(attr.max),hasStepAttr=isDefined(attr.step);var originalRender=ctrl.$render;ctrl.$render=supportsRange&&isDefined(validity.rangeUnderflow)&&isDefined(validity.rangeOverflow)?function rangeRender(){originalRender();ctrl.$setViewValue(element.val())}:originalRender;if(hasMinAttr){ctrl.$validators.min=supportsRange?function noopMinValidator(){return true}:function minValidator(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||isUndefined(minVal)||viewValue>=minVal};setInitialValueAndObserver("min",minChange)}if(hasMaxAttr){ctrl.$validators.max=supportsRange?function noopMaxValidator(){return true}:function maxValidator(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||isUndefined(maxVal)||viewValue<=maxVal};setInitialValueAndObserver("max",maxChange)}if(hasStepAttr){ctrl.$validators.step=supportsRange?function nativeStepValidator(){return!validity.stepMismatch}:function stepValidator(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||isUndefined(stepVal)||isValidForStep(viewValue,minVal||0,stepVal)};setInitialValueAndObserver("step",stepChange)}function setInitialValueAndObserver(htmlAttrName,changeFn){element.attr(htmlAttrName,attr[htmlAttrName]);attr.$observe(htmlAttrName,changeFn)}function minChange(val){minVal=parseNumberAttrVal(val);if(isNumberNaN(ctrl.$modelValue)){return}if(supportsRange){var elVal=element.val();if(minVal>elVal){elVal=minVal;element.val(elVal)}ctrl.$setViewValue(elVal)}else{ctrl.$validate()}}function maxChange(val){maxVal=parseNumberAttrVal(val);if(isNumberNaN(ctrl.$modelValue)){return}if(supportsRange){var elVal=element.val();if(maxVal<elVal){element.val(maxVal);elVal=maxVal<minVal?minVal:maxVal}ctrl.$setViewValue(elVal)}else{ctrl.$validate()}}function stepChange(val){stepVal=parseNumberAttrVal(val);if(isNumberNaN(ctrl.$modelValue)){return}if(supportsRange&&ctrl.$viewValue!==element.val()){ctrl.$setViewValue(element.val())}else{ctrl.$validate()}}}function urlInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser);stringBasedInputType(ctrl);ctrl.$validators.url=function(modelValue,viewValue){var value=modelValue||viewValue;return ctrl.$isEmpty(value)||URL_REGEXP.test(value)}}function emailInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser);stringBasedInputType(ctrl);ctrl.$validators.email=function(modelValue,viewValue){var value=modelValue||viewValue;return ctrl.$isEmpty(value)||EMAIL_REGEXP.test(value)}}function radioInputType(scope,element,attr,ctrl){var doTrim=!attr.ngTrim||trim(attr.ngTrim)!=="false";if(isUndefined(attr.name)){element.attr("name",nextUid())}var listener=function(ev){var value;if(element[0].checked){value=attr.value;if(doTrim){value=trim(value)}ctrl.$setViewValue(value,ev&&ev.type)}};element.on("change",listener);ctrl.$render=function(){var value=attr.value;if(doTrim){value=trim(value)}element[0].checked=value===ctrl.$viewValue};attr.$observe("value",ctrl.$render)}function parseConstantExpr($parse,context,name,expression,fallback){var parseFn;if(isDefined(expression)){parseFn=$parse(expression);if(!parseFn.constant){throw ngModelMinErr("constexpr","Expected constant expression for `{0}`, but saw "+"`{1}`.",name,expression)}return parseFn(context)}return fallback}function checkboxInputType(scope,element,attr,ctrl,$sniffer,$browser,$filter,$parse){var trueValue=parseConstantExpr($parse,scope,"ngTrueValue",attr.ngTrueValue,true);var falseValue=parseConstantExpr($parse,scope,"ngFalseValue",attr.ngFalseValue,false);var listener=function(ev){ctrl.$setViewValue(element[0].checked,ev&&ev.type)};element.on("change",listener);ctrl.$render=function(){element[0].checked=ctrl.$viewValue};ctrl.$isEmpty=function(value){return value===false};ctrl.$formatters.push(function(value){return equals(value,trueValue)});ctrl.$parsers.push(function(value){return value?trueValue:falseValue})}var inputDirective=["$browser","$sniffer","$filter","$parse",function($browser,$sniffer,$filter,$parse){return{restrict:"E",require:["?ngModel"],link:{pre:function(scope,element,attr,ctrls){if(ctrls[0]){(inputType[lowercase(attr.type)]||inputType.text)(scope,element,attr,ctrls[0],$sniffer,$browser,$filter,$parse)}}}}}];var CONSTANT_VALUE_REGEXP=/^(true|false|\d+)$/;var ngValueDirective=function(){function updateElementValue(element,attr,value){var propValue=isDefined(value)?value:msie===9?"":null;element.prop("value",propValue);attr.$set("value",value)}return{restrict:"A",priority:100,compile:function(tpl,tplAttr){if(CONSTANT_VALUE_REGEXP.test(tplAttr.ngValue)){return function ngValueConstantLink(scope,elm,attr){var value=scope.$eval(attr.ngValue);updateElementValue(elm,attr,value)}}else{return function ngValueLink(scope,elm,attr){scope.$watch(attr.ngValue,function valueWatchAction(value){updateElementValue(elm,attr,value)})}}}}};var ngBindDirective=["$compile",function($compile){return{restrict:"AC",compile:function ngBindCompile(templateElement){$compile.$$addBindingClass(templateElement);return function ngBindLink(scope,element,attr){$compile.$$addBindingInfo(element,attr.ngBind);element=element[0];scope.$watch(attr.ngBind,function ngBindWatchAction(value){element.textContent=stringify(value)})}}}}];var ngBindTemplateDirective=["$interpolate","$compile",function($interpolate,$compile){return{compile:function ngBindTemplateCompile(templateElement){$compile.$$addBindingClass(templateElement);return function ngBindTemplateLink(scope,element,attr){var interpolateFn=$interpolate(element.attr(attr.$attr.ngBindTemplate));$compile.$$addBindingInfo(element,interpolateFn.expressions);element=element[0];attr.$observe("ngBindTemplate",function(value){element.textContent=isUndefined(value)?"":value})}}}}];var ngBindHtmlDirective=["$sce","$parse","$compile",function($sce,$parse,$compile){return{restrict:"A",compile:function ngBindHtmlCompile(tElement,tAttrs){var ngBindHtmlGetter=$parse(tAttrs.ngBindHtml);var ngBindHtmlWatch=$parse(tAttrs.ngBindHtml,function sceValueOf(val){return $sce.valueOf(val)});$compile.$$addBindingClass(tElement);return function ngBindHtmlLink(scope,element,attr){$compile.$$addBindingInfo(element,attr.ngBindHtml);scope.$watch(ngBindHtmlWatch,function ngBindHtmlWatchAction(){var value=ngBindHtmlGetter(scope);element.html($sce.getTrustedHtml(value)||"")})}}}}];var ngChangeDirective=valueFn({restrict:"A",require:"ngModel",link:function(scope,element,attr,ctrl){ctrl.$viewChangeListeners.push(function(){scope.$eval(attr.ngChange)})}});function classDirective(name,selector){name="ngClass"+name;var indexWatchExpression;return["$parse",function($parse){return{restrict:"AC",link:function(scope,element,attr){var classCounts=element.data("$classCounts");var oldModulo=true;var oldClassString;if(!classCounts){classCounts=createMap();element.data("$classCounts",classCounts)}if(name!=="ngClass"){if(!indexWatchExpression){indexWatchExpression=$parse("$index",function moduloTwo($index){return $index&1})}scope.$watch(indexWatchExpression,ngClassIndexWatchAction)}scope.$watch($parse(attr[name],toClassString),ngClassWatchAction);function addClasses(classString){classString=digestClassCounts(split(classString),1);attr.$addClass(classString)}function removeClasses(classString){classString=digestClassCounts(split(classString),-1);attr.$removeClass(classString)}function updateClasses(oldClassString,newClassString){var oldClassArray=split(oldClassString);var newClassArray=split(newClassString);var toRemoveArray=arrayDifference(oldClassArray,newClassArray);var toAddArray=arrayDifference(newClassArray,oldClassArray);var toRemoveString=digestClassCounts(toRemoveArray,-1);var toAddString=digestClassCounts(toAddArray,1);attr.$addClass(toAddString);attr.$removeClass(toRemoveString)}function digestClassCounts(classArray,count){var classesToUpdate=[];forEach(classArray,function(className){if(count>0||classCounts[className]){classCounts[className]=(classCounts[className]||0)+count;if(classCounts[className]===+(count>0)){classesToUpdate.push(className)}}});return classesToUpdate.join(" ")}function ngClassIndexWatchAction(newModulo){if(newModulo===selector){addClasses(oldClassString)}else{removeClasses(oldClassString)}oldModulo=newModulo}function ngClassWatchAction(newClassString){if(oldModulo===selector){updateClasses(oldClassString,newClassString)}oldClassString=newClassString}}}}];function arrayDifference(tokens1,tokens2){if(!tokens1||!tokens1.length)return[];if(!tokens2||!tokens2.length)return tokens1;var values=[];outer:for(var i=0;i<tokens1.length;i++){var token=tokens1[i];for(var j=0;j<tokens2.length;j++){if(token===tokens2[j])continue outer}values.push(token)}return values}function split(classString){return classString&&classString.split(" ")}function toClassString(classValue){if(!classValue)return classValue;var classString=classValue;if(isArray(classValue)){classString=classValue.map(toClassString).join(" ")}else if(isObject(classValue)){classString=Object.keys(classValue).filter(function(key){return classValue[key]}).join(" ")}else if(!isString(classValue)){classString=classValue+""}return classString}}var ngClassDirective=classDirective("",true);var ngClassOddDirective=classDirective("Odd",0);var ngClassEvenDirective=classDirective("Even",1);var ngCloakDirective=ngDirective({compile:function(element,attr){attr.$set("ngCloak",undefined);element.removeClass("ng-cloak")}});var ngControllerDirective=[function(){return{restrict:"A",scope:true,controller:"@",priority:500}}];var ngEventDirectives={};var forceAsyncEvents={blur:true,focus:true};forEach("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(eventName){var directiveName=directiveNormalize("ng-"+eventName);ngEventDirectives[directiveName]=["$parse","$rootScope","$exceptionHandler",function($parse,$rootScope,$exceptionHandler){return createEventDirective($parse,$rootScope,$exceptionHandler,directiveName,eventName,forceAsyncEvents[eventName])}]});function createEventDirective($parse,$rootScope,$exceptionHandler,directiveName,eventName,forceAsync){return{restrict:"A",compile:function($element,attr){var fn=$parse(attr[directiveName]);return function ngEventHandler(scope,element){element.on(eventName,function(event){var callback=function(){fn(scope,{$event:event})};if(!$rootScope.$$phase){scope.$apply(callback)}else if(forceAsync){scope.$evalAsync(callback)}else{try{callback()}catch(error){$exceptionHandler(error)}}})}}}}var ngIfDirective=["$animate","$compile",function($animate,$compile){return{multiElement:true,transclude:"element",priority:600,terminal:true,restrict:"A",$$tlb:true,link:function($scope,$element,$attr,ctrl,$transclude){var block,childScope,previousElements;$scope.$watch($attr.ngIf,function ngIfWatchAction(value){if(value){if(!childScope){$transclude(function(clone,newScope){childScope=newScope;clone[clone.length++]=$compile.$$createComment("end ngIf",$attr.ngIf);block={clone:clone};$animate.enter(clone,$element.parent(),$element)})}}else{if(previousElements){previousElements.remove();previousElements=null}if(childScope){childScope.$destroy();childScope=null}if(block){previousElements=getBlockNodes(block.clone);$animate.leave(previousElements).done(function(response){if(response!==false)previousElements=null});block=null}}})}}}];var ngIncludeDirective=["$templateRequest","$anchorScroll","$animate",function($templateRequest,$anchorScroll,$animate){return{restrict:"ECA",priority:400,terminal:true,transclude:"element",controller:angular.noop,compile:function(element,attr){var srcExp=attr.ngInclude||attr.src,onloadExp=attr.onload||"",autoScrollExp=attr.autoscroll;return function(scope,$element,$attr,ctrl,$transclude){var changeCounter=0,currentScope,previousElement,currentElement;var cleanupLastIncludeContent=function(){if(previousElement){previousElement.remove();previousElement=null}if(currentScope){currentScope.$destroy();currentScope=null}if(currentElement){$animate.leave(currentElement).done(function(response){if(response!==false)previousElement=null});previousElement=currentElement;currentElement=null}};scope.$watch(srcExp,function ngIncludeWatchAction(src){var afterAnimation=function(response){if(response!==false&&isDefined(autoScrollExp)&&(!autoScrollExp||scope.$eval(autoScrollExp))){$anchorScroll()}};var thisChangeId=++changeCounter;if(src){$templateRequest(src,true).then(function(response){if(scope.$$destroyed)return;if(thisChangeId!==changeCounter)return;var newScope=scope.$new();ctrl.template=response;var clone=$transclude(newScope,function(clone){cleanupLastIncludeContent();$animate.enter(clone,null,$element).done(afterAnimation)});currentScope=newScope;currentElement=clone;currentScope.$emit("$includeContentLoaded",src);scope.$eval(onloadExp)},function(){if(scope.$$destroyed)return;if(thisChangeId===changeCounter){cleanupLastIncludeContent();scope.$emit("$includeContentError",src)}});scope.$emit("$includeContentRequested",src)}else{cleanupLastIncludeContent();ctrl.template=null}})}}}}];var ngIncludeFillContentDirective=["$compile",function($compile){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(scope,$element,$attr,ctrl){if(toString.call($element[0]).match(/SVG/)){$element.empty();$compile(jqLiteBuildFragment(ctrl.template,window.document).childNodes)(scope,function namespaceAdaptedClone(clone){$element.append(clone)},{futureParentElement:$element});return}$element.html(ctrl.template);$compile($element.contents())(scope)}}}];var ngInitDirective=ngDirective({priority:450,compile:function(){return{pre:function(scope,element,attrs){scope.$eval(attrs.ngInit)}}}});var ngListDirective=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(scope,element,attr,ctrl){var ngList=attr.ngList||", ";var trimValues=attr.ngTrim!=="false";var separator=trimValues?trim(ngList):ngList;var parse=function(viewValue){if(isUndefined(viewValue))return;var list=[];if(viewValue){forEach(viewValue.split(separator),function(value){if(value)list.push(trimValues?trim(value):value)})}return list};ctrl.$parsers.push(parse);ctrl.$formatters.push(function(value){if(isArray(value)){return value.join(ngList)}return undefined});ctrl.$isEmpty=function(value){return!value||!value.length}}}};var VALID_CLASS="ng-valid",INVALID_CLASS="ng-invalid",PRISTINE_CLASS="ng-pristine",DIRTY_CLASS="ng-dirty",UNTOUCHED_CLASS="ng-untouched",TOUCHED_CLASS="ng-touched",EMPTY_CLASS="ng-empty",NOT_EMPTY_CLASS="ng-not-empty";var ngModelMinErr=minErr("ngModel");NgModelController.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"];function NgModelController($scope,$exceptionHandler,$attr,$element,$parse,$animate,$timeout,$q,$interpolate){this.$viewValue=Number.NaN;this.$modelValue=Number.NaN;this.$$rawModelValue=undefined;this.$validators={};this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=true;this.$touched=false;this.$pristine=true;this.$dirty=false;this.$valid=true;this.$invalid=false;this.$error={};this.$$success={};this.$pending=undefined;this.$name=$interpolate($attr.name||"",false)($scope);this.$$parentForm=nullFormCtrl;this.$options=defaultModelOptions;this.$$updateEvents="";this.$$updateEventHandler=this.$$updateEventHandler.bind(this);this.$$parsedNgModel=$parse($attr.ngModel);this.$$parsedNgModelAssign=this.$$parsedNgModel.assign;this.$$ngModelGet=this.$$parsedNgModel;this.$$ngModelSet=this.$$parsedNgModelAssign;this.$$pendingDebounce=null;this.$$parserValid=undefined;this.$$parserName="parse";this.$$currentValidationRunId=0;this.$$scope=$scope;this.$$rootScope=$scope.$root;this.$$attr=$attr;this.$$element=$element;this.$$animate=$animate;this.$$timeout=$timeout;this.$$parse=$parse;this.$$q=$q;this.$$exceptionHandler=$exceptionHandler;setupValidity(this);setupModelWatcher(this)}NgModelController.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var invokeModelGetter=this.$$parse(this.$$attr.ngModel+"()"),invokeModelSetter=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function($scope){var modelValue=this.$$parsedNgModel($scope);if(isFunction(modelValue)){modelValue=invokeModelGetter($scope)}return modelValue};this.$$ngModelSet=function($scope,newValue){if(isFunction(this.$$parsedNgModel($scope))){invokeModelSetter($scope,{$$$p:newValue})}else{this.$$parsedNgModelAssign($scope,newValue)}}}else if(!this.$$parsedNgModel.assign){throw ngModelMinErr("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,startingTag(this.$$element))}},$render:noop,$isEmpty:function(value){return isUndefined(value)||value===""||value===null||value!==value},$$updateEmptyClasses:function(value){if(this.$isEmpty(value)){this.$$animate.removeClass(this.$$element,NOT_EMPTY_CLASS);this.$$animate.addClass(this.$$element,EMPTY_CLASS)}else{this.$$animate.removeClass(this.$$element,EMPTY_CLASS);this.$$animate.addClass(this.$$element,NOT_EMPTY_CLASS)}},$setPristine:function(){this.$dirty=false;this.$pristine=true;this.$$animate.removeClass(this.$$element,DIRTY_CLASS);this.$$animate.addClass(this.$$element,PRISTINE_CLASS)},$setDirty:function(){this.$dirty=true;this.$pristine=false;this.$$animate.removeClass(this.$$element,PRISTINE_CLASS);this.$$animate.addClass(this.$$element,DIRTY_CLASS);this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=false;this.$untouched=true;this.$$animate.setClass(this.$$element,UNTOUCHED_CLASS,TOUCHED_CLASS)},$setTouched:function(){this.$touched=true;this.$untouched=false;this.$$animate.setClass(this.$$element,TOUCHED_CLASS,UNTOUCHED_CLASS)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce);this.$viewValue=this.$$lastCommittedViewValue;this.$render()},$validate:function(){if(isNumberNaN(this.$modelValue)){return}var viewValue=this.$$lastCommittedViewValue;var modelValue=this.$$rawModelValue;var prevValid=this.$valid;var prevModelValue=this.$modelValue;var allowInvalid=this.$options.getOption("allowInvalid");var that=this;this.$$runValidators(modelValue,viewValue,function(allValid){if(!allowInvalid&&prevValid!==allValid){that.$modelValue=allValid?modelValue:undefined;if(that.$modelValue!==prevModelValue){that.$$writeModelToScope()}}})},$$runValidators:function(modelValue,viewValue,doneCallback){this.$$currentValidationRunId++;var localValidationRunId=this.$$currentValidationRunId;var that=this;if(!processParseErrors()){validationDone(false);return}if(!processSyncValidators()){validationDone(false);return}processAsyncValidators();function processParseErrors(){var errorKey=that.$$parserName;if(isUndefined(that.$$parserValid)){setValidity(errorKey,null)}else{if(!that.$$parserValid){forEach(that.$validators,function(v,name){setValidity(name,null)});forEach(that.$asyncValidators,function(v,name){setValidity(name,null)})}setValidity(errorKey,that.$$parserValid);return that.$$parserValid}return true}function processSyncValidators(){var syncValidatorsValid=true;forEach(that.$validators,function(validator,name){var result=Boolean(validator(modelValue,viewValue));syncValidatorsValid=syncValidatorsValid&&result;setValidity(name,result)});if(!syncValidatorsValid){forEach(that.$asyncValidators,function(v,name){setValidity(name,null)});return false}return true}function processAsyncValidators(){var validatorPromises=[];var allValid=true;forEach(that.$asyncValidators,function(validator,name){var promise=validator(modelValue,viewValue);if(!isPromiseLike(promise)){throw ngModelMinErr("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",promise)}setValidity(name,undefined);validatorPromises.push(promise.then(function(){setValidity(name,true)},function(){allValid=false;setValidity(name,false)}))});if(!validatorPromises.length){validationDone(true)}else{that.$$q.all(validatorPromises).then(function(){validationDone(allValid)},noop)}}function setValidity(name,isValid){if(localValidationRunId===that.$$currentValidationRunId){that.$setValidity(name,isValid)}}function validationDone(allValid){if(localValidationRunId===that.$$currentValidationRunId){doneCallback(allValid)}}},$commitViewValue:function(){var viewValue=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce);if(this.$$lastCommittedViewValue===viewValue&&(viewValue!==""||!this.$$hasNativeValidators)){return}this.$$updateEmptyClasses(viewValue);this.$$lastCommittedViewValue=viewValue;if(this.$pristine){this.$setDirty()}this.$$parseAndValidate()},$$parseAndValidate:function(){var viewValue=this.$$lastCommittedViewValue;var modelValue=viewValue;var that=this;this.$$parserValid=isUndefined(modelValue)?undefined:true;this.$setValidity(this.$$parserName,null);this.$$parserName="parse";if(this.$$parserValid){for(var i=0;i<this.$parsers.length;i++){modelValue=this.$parsers[i](modelValue);if(isUndefined(modelValue)){this.$$parserValid=false;break}}}if(isNumberNaN(this.$modelValue)){this.$modelValue=this.$$ngModelGet(this.$$scope)}var prevModelValue=this.$modelValue;var allowInvalid=this.$options.getOption("allowInvalid");this.$$rawModelValue=modelValue;if(allowInvalid){this.$modelValue=modelValue;writeToModelIfNeeded()}this.$$runValidators(modelValue,this.$$lastCommittedViewValue,function(allValid){if(!allowInvalid){that.$modelValue=allValid?modelValue:undefined;writeToModelIfNeeded()}});function writeToModelIfNeeded(){if(that.$modelValue!==prevModelValue){that.$$writeModelToScope()}}},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue);forEach(this.$viewChangeListeners,function(listener){try{listener()}catch(e){this.$$exceptionHandler(e)}},this)},$setViewValue:function(value,trigger){this.$viewValue=value;if(this.$options.getOption("updateOnDefault")){this.$$debounceViewValueCommit(trigger)}},$$debounceViewValueCommit:function(trigger){var debounceDelay=this.$options.getOption("debounce");if(isNumber(debounceDelay[trigger])){debounceDelay=debounceDelay[trigger]}else if(isNumber(debounceDelay["default"])&&this.$options.getOption("updateOn").indexOf(trigger)===-1){debounceDelay=debounceDelay["default"]}else if(isNumber(debounceDelay["*"])){debounceDelay=debounceDelay["*"]}this.$$timeout.cancel(this.$$pendingDebounce);var that=this;if(debounceDelay>0){this.$$pendingDebounce=this.$$timeout(function(){that.$commitViewValue()},debounceDelay)}else if(this.$$rootScope.$$phase){this.$commitViewValue()}else{this.$$scope.$apply(function(){that.$commitViewValue()})}},$overrideModelOptions:function(options){this.$options=this.$options.createChild(options);this.$$setUpdateOnEvents()},$processModelValue:function(){var viewValue=this.$$format();if(this.$viewValue!==viewValue){this.$$updateEmptyClasses(viewValue);this.$viewValue=this.$$lastCommittedViewValue=viewValue;this.$render();this.$$runValidators(this.$modelValue,this.$viewValue,noop)}},$$format:function(){var formatters=this.$formatters,idx=formatters.length;var viewValue=this.$modelValue;while(idx--){viewValue=formatters[idx](viewValue)}return viewValue},$$setModelValue:function(modelValue){this.$modelValue=this.$$rawModelValue=modelValue;this.$$parserValid=undefined;this.$processModelValue()},$$setUpdateOnEvents:function(){if(this.$$updateEvents){this.$$element.off(this.$$updateEvents,this.$$updateEventHandler)}this.$$updateEvents=this.$options.getOption("updateOn");if(this.$$updateEvents){this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)}},$$updateEventHandler:function(ev){this.$$debounceViewValueCommit(ev&&ev.type)}};function setupModelWatcher(ctrl){ctrl.$$scope.$watch(function ngModelWatch(scope){var modelValue=ctrl.$$ngModelGet(scope);if(modelValue!==ctrl.$modelValue&&(ctrl.$modelValue===ctrl.$modelValue||modelValue===modelValue)){ctrl.$$setModelValue(modelValue)}return modelValue})}addSetValidityMethod({clazz:NgModelController,set:function(object,property){object[property]=true},unset:function(object,property){delete object[property]}});var ngModelDirective=["$rootScope",function($rootScope){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:NgModelController,priority:1,compile:function ngModelCompile(element){element.addClass(PRISTINE_CLASS).addClass(UNTOUCHED_CLASS).addClass(VALID_CLASS);return{pre:function ngModelPreLink(scope,element,attr,ctrls){var modelCtrl=ctrls[0],formCtrl=ctrls[1]||modelCtrl.$$parentForm,optionsCtrl=ctrls[2];if(optionsCtrl){modelCtrl.$options=optionsCtrl.$options}modelCtrl.$$initGetterSetters();formCtrl.$addControl(modelCtrl);attr.$observe("name",function(newValue){if(modelCtrl.$name!==newValue){modelCtrl.$$parentForm.$$renameControl(modelCtrl,newValue)}});scope.$on("$destroy",function(){modelCtrl.$$parentForm.$removeControl(modelCtrl)})},post:function ngModelPostLink(scope,element,attr,ctrls){var modelCtrl=ctrls[0];modelCtrl.$$setUpdateOnEvents();function setTouched(){modelCtrl.$setTouched()}element.on("blur",function(){if(modelCtrl.$touched)return;if($rootScope.$$phase){scope.$evalAsync(setTouched)}else{scope.$apply(setTouched)}})}}}}}];var defaultModelOptions;var DEFAULT_REGEXP=/(\s+|^)default(\s+|$)/;function ModelOptions(options){this.$$options=options}ModelOptions.prototype={getOption:function(name){return this.$$options[name]},createChild:function(options){var inheritAll=false;options=extend({},options);forEach(options,function(option,key){if(option==="$inherit"){if(key==="*"){inheritAll=true}else{options[key]=this.$$options[key];if(key==="updateOn"){options.updateOnDefault=this.$$options.updateOnDefault}}}else{if(key==="updateOn"){options.updateOnDefault=false;options[key]=trim(option.replace(DEFAULT_REGEXP,function(){options.updateOnDefault=true;return" "}))}}},this);if(inheritAll){delete options["*"];defaults(options,this.$$options)}defaults(options,defaultModelOptions.$$options);return new ModelOptions(options)}};defaultModelOptions=new ModelOptions({updateOn:"",updateOnDefault:true,debounce:0,getterSetter:false,allowInvalid:false,timezone:null});var ngModelOptionsDirective=function(){NgModelOptionsController.$inject=["$attrs","$scope"];function NgModelOptionsController($attrs,$scope){this.$$attrs=$attrs;this.$$scope=$scope}NgModelOptionsController.prototype={$onInit:function(){var parentOptions=this.parentCtrl?this.parentCtrl.$options:defaultModelOptions;var modelOptionsDefinition=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=parentOptions.createChild(modelOptionsDefinition)}};return{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:true,controller:NgModelOptionsController}};function defaults(dst,src){forEach(src,function(value,key){if(!isDefined(dst[key])){dst[key]=value}})}var ngNonBindableDirective=ngDirective({terminal:true,priority:1e3});var ngOptionsMinErr=minErr("ngOptions");var NG_OPTIONS_REGEXP=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/;var ngOptionsDirective=["$compile","$document","$parse",function($compile,$document,$parse){function parseOptionsExpression(optionsExp,selectElement,scope){var match=optionsExp.match(NG_OPTIONS_REGEXP);if(!match){throw ngOptionsMinErr("iexp","Expected expression in form of "+"'_select_ (as _label_)? for (_key_,)?_value_ in _collection_'"+" but got '{0}'. Element: {1}",optionsExp,startingTag(selectElement))}var valueName=match[5]||match[7];var keyName=match[6];var selectAs=/ as /.test(match[0])&&match[1];var trackBy=match[9];var valueFn=$parse(match[2]?match[1]:valueName);var selectAsFn=selectAs&&$parse(selectAs);var viewValueFn=selectAsFn||valueFn;var trackByFn=trackBy&&$parse(trackBy);var getTrackByValueFn=trackBy?function(value,locals){return trackByFn(scope,locals)}:function getHashOfValue(value){return hashKey(value)};var getTrackByValue=function(value,key){return getTrackByValueFn(value,getLocals(value,key))};var displayFn=$parse(match[2]||match[1]);var groupByFn=$parse(match[3]||"");var disableWhenFn=$parse(match[4]||"");var valuesFn=$parse(match[8]);var locals={};var getLocals=keyName?function(value,key){locals[keyName]=key;locals[valueName]=value;return locals}:function(value){locals[valueName]=value;return locals};function Option(selectValue,viewValue,label,group,disabled){this.selectValue=selectValue;this.viewValue=viewValue;this.label=label;this.group=group;this.disabled=disabled}function getOptionValuesKeys(optionValues){var optionValuesKeys;if(!keyName&&isArrayLike(optionValues)){optionValuesKeys=optionValues}else{optionValuesKeys=[];for(var itemKey in optionValues){if(optionValues.hasOwnProperty(itemKey)&&itemKey.charAt(0)!=="$"){optionValuesKeys.push(itemKey)}}}return optionValuesKeys}return{trackBy:trackBy,getTrackByValue:getTrackByValue,getWatchables:$parse(valuesFn,function(optionValues){var watchedArray=[];optionValues=optionValues||[];var optionValuesKeys=getOptionValuesKeys(optionValues);var optionValuesLength=optionValuesKeys.length;for(var index=0;index<optionValuesLength;index++){var key=optionValues===optionValuesKeys?index:optionValuesKeys[index];var value=optionValues[key];var locals=getLocals(value,key);var selectValue=getTrackByValueFn(value,locals);watchedArray.push(selectValue);if(match[2]||match[1]){var label=displayFn(scope,locals);watchedArray.push(label)}if(match[4]){var disableWhen=disableWhenFn(scope,locals);watchedArray.push(disableWhen)}}return watchedArray}),getOptions:function(){var optionItems=[];var selectValueMap={};var optionValues=valuesFn(scope)||[];var optionValuesKeys=getOptionValuesKeys(optionValues);var optionValuesLength=optionValuesKeys.length;for(var index=0;index<optionValuesLength;index++){var key=optionValues===optionValuesKeys?index:optionValuesKeys[index];var value=optionValues[key];var locals=getLocals(value,key);var viewValue=viewValueFn(scope,locals);var selectValue=getTrackByValueFn(viewValue,locals);var label=displayFn(scope,locals);var group=groupByFn(scope,locals);var disabled=disableWhenFn(scope,locals);var optionItem=new Option(selectValue,viewValue,label,group,disabled);optionItems.push(optionItem);selectValueMap[selectValue]=optionItem}return{items:optionItems,selectValueMap:selectValueMap,getOptionFromViewValue:function(value){return selectValueMap[getTrackByValue(value)]},getViewValueFromOption:function(option){return trackBy?copy(option.viewValue):option.viewValue}}}}}var optionTemplate=window.document.createElement("option"),optGroupTemplate=window.document.createElement("optgroup");function ngOptionsPostLink(scope,selectElement,attr,ctrls){var selectCtrl=ctrls[0];var ngModelCtrl=ctrls[1];var multiple=attr.multiple;for(var i=0,children=selectElement.children(),ii=children.length;i<ii;i++){if(children[i].value===""){selectCtrl.hasEmptyOption=true;selectCtrl.emptyOption=children.eq(i);break}}selectElement.empty();var providedEmptyOption=!!selectCtrl.emptyOption;var unknownOption=jqLite(optionTemplate.cloneNode(false));unknownOption.val("?");var options;var ngOptions=parseOptionsExpression(attr.ngOptions,selectElement,scope);var listFragment=$document[0].createDocumentFragment();selectCtrl.generateUnknownOptionValue=function(val){return"?"};if(!multiple){selectCtrl.writeValue=function writeNgOptionsValue(value){if(!options)return;var selectedOption=selectElement[0].options[selectElement[0].selectedIndex];var option=options.getOptionFromViewValue(value);if(selectedOption)selectedOption.removeAttribute("selected");if(option){if(selectElement[0].value!==option.selectValue){selectCtrl.removeUnknownOption();selectElement[0].value=option.selectValue;option.element.selected=true}option.element.setAttribute("selected","selected")}else{selectCtrl.selectUnknownOrEmptyOption(value)}};selectCtrl.readValue=function readNgOptionsValue(){var selectedOption=options.selectValueMap[selectElement.val()];if(selectedOption&&!selectedOption.disabled){selectCtrl.unselectEmptyOption();selectCtrl.removeUnknownOption();return options.getViewValueFromOption(selectedOption)}return null};if(ngOptions.trackBy){scope.$watch(function(){return ngOptions.getTrackByValue(ngModelCtrl.$viewValue)},function(){ngModelCtrl.$render()})}}else{selectCtrl.writeValue=function writeNgOptionsMultiple(values){if(!options)return;var selectedOptions=values&&values.map(getAndUpdateSelectedOption)||[];options.items.forEach(function(option){if(option.element.selected&&!includes(selectedOptions,option)){option.element.selected=false}})};selectCtrl.readValue=function readNgOptionsMultiple(){var selectedValues=selectElement.val()||[],selections=[];forEach(selectedValues,function(value){var option=options.selectValueMap[value];if(option&&!option.disabled)selections.push(options.getViewValueFromOption(option))});return selections};if(ngOptions.trackBy){scope.$watchCollection(function(){if(isArray(ngModelCtrl.$viewValue)){return ngModelCtrl.$viewValue.map(function(value){return ngOptions.getTrackByValue(value)})}},function(){ngModelCtrl.$render()})}}if(providedEmptyOption){$compile(selectCtrl.emptyOption)(scope);selectElement.prepend(selectCtrl.emptyOption);if(selectCtrl.emptyOption[0].nodeType===NODE_TYPE_COMMENT){selectCtrl.hasEmptyOption=false;selectCtrl.registerOption=function(optionScope,optionEl){if(optionEl.val()===""){selectCtrl.hasEmptyOption=true;selectCtrl.emptyOption=optionEl;selectCtrl.emptyOption.removeClass("ng-scope");ngModelCtrl.$render();optionEl.on("$destroy",function(){var needsRerender=selectCtrl.$isEmptyOptionSelected();selectCtrl.hasEmptyOption=false;selectCtrl.emptyOption=undefined;if(needsRerender)ngModelCtrl.$render()})}}}else{selectCtrl.emptyOption.removeClass("ng-scope")}}scope.$watchCollection(ngOptions.getWatchables,updateOptions);function addOptionElement(option,parent){var optionElement=optionTemplate.cloneNode(false);parent.appendChild(optionElement);updateOptionElement(option,optionElement)}function getAndUpdateSelectedOption(viewValue){var option=options.getOptionFromViewValue(viewValue);var element=option&&option.element;if(element&&!element.selected)element.selected=true;return option}function updateOptionElement(option,element){option.element=element;element.disabled=option.disabled;if(option.label!==element.label){element.label=option.label;element.textContent=option.label}element.value=option.selectValue}function updateOptions(){var previousValue=options&&selectCtrl.readValue();if(options){for(var i=options.items.length-1;i>=0;i--){var option=options.items[i];if(isDefined(option.group)){jqLiteRemove(option.element.parentNode)}else{jqLiteRemove(option.element)}}}options=ngOptions.getOptions();var groupElementMap={};options.items.forEach(function addOption(option){var groupElement;if(isDefined(option.group)){groupElement=groupElementMap[option.group];if(!groupElement){groupElement=optGroupTemplate.cloneNode(false);listFragment.appendChild(groupElement);groupElement.label=option.group===null?"null":option.group;groupElementMap[option.group]=groupElement}addOptionElement(option,groupElement)}else{addOptionElement(option,listFragment)}});selectElement[0].appendChild(listFragment);ngModelCtrl.$render();if(!ngModelCtrl.$isEmpty(previousValue)){var nextValue=selectCtrl.readValue();var isNotPrimitive=ngOptions.trackBy||multiple;if(isNotPrimitive?!equals(previousValue,nextValue):previousValue!==nextValue){ngModelCtrl.$setViewValue(nextValue);ngModelCtrl.$render()}}}}return{restrict:"A",terminal:true,require:["select","ngModel"],link:{pre:function ngOptionsPreLink(scope,selectElement,attr,ctrls){ctrls[0].registerOption=noop},post:ngOptionsPostLink}}}];var ngPluralizeDirective=["$locale","$interpolate","$log",function($locale,$interpolate,$log){var BRACE=/{}/g,IS_WHEN=/^when(Minus)?(.+)$/;return{link:function(scope,element,attr){var numberExp=attr.count,whenExp=attr.$attr.when&&element.attr(attr.$attr.when),offset=attr.offset||0,whens=scope.$eval(whenExp)||{},whensExpFns={},startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),braceReplacement=startSymbol+numberExp+"-"+offset+endSymbol,watchRemover=angular.noop,lastCount;forEach(attr,function(expression,attributeName){var tmpMatch=IS_WHEN.exec(attributeName);if(tmpMatch){var whenKey=(tmpMatch[1]?"-":"")+lowercase(tmpMatch[2]);whens[whenKey]=element.attr(attr.$attr[attributeName])}});forEach(whens,function(expression,key){whensExpFns[key]=$interpolate(expression.replace(BRACE,braceReplacement))});scope.$watch(numberExp,function ngPluralizeWatchAction(newVal){var count=parseFloat(newVal);var countIsNaN=isNumberNaN(count);if(!countIsNaN&&!(count in whens)){count=$locale.pluralCat(count-offset)}if(count!==lastCount&&!(countIsNaN&&isNumberNaN(lastCount))){watchRemover();var whenExpFn=whensExpFns[count];if(isUndefined(whenExpFn)){if(newVal!=null){$log.debug("ngPluralize: no rule defined for '"+count+"' in "+whenExp)}watchRemover=noop;updateElementText()}else{watchRemover=scope.$watch(whenExpFn,updateElementText)}lastCount=count}});function updateElementText(newText){element.text(newText||"")}}}}];var ngRefMinErr=minErr("ngRef");var ngRefDirective=["$parse",function($parse){return{priority:-1,restrict:"A",compile:function(tElement,tAttrs){var controllerName=directiveNormalize(nodeName_(tElement));var getter=$parse(tAttrs.ngRef);var setter=getter.assign||function(){throw ngRefMinErr("nonassign",'Expression in ngRef="{0}" is non-assignable!',tAttrs.ngRef)};return function(scope,element,attrs){var refValue;if(attrs.hasOwnProperty("ngRefRead")){if(attrs.ngRefRead==="$element"){refValue=element}else{refValue=element.data("$"+attrs.ngRefRead+"Controller");if(!refValue){throw ngRefMinErr("noctrl",'The controller for ngRefRead="{0}" could not be found on ngRef="{1}"',attrs.ngRefRead,tAttrs.ngRef)}}}else{refValue=element.data("$"+controllerName+"Controller")}refValue=refValue||element;setter(scope,refValue);element.on("$destroy",function(){if(getter(scope)===refValue){setter(scope,null)}})}}}}];var ngRepeatDirective=["$parse","$animate","$compile",function($parse,$animate,$compile){var NG_REMOVED="$$NG_REMOVED";var ngRepeatMinErr=minErr("ngRepeat");var updateScope=function(scope,index,valueIdentifier,value,keyIdentifier,key,arrayLength){scope[valueIdentifier]=value;if(keyIdentifier)scope[keyIdentifier]=key;scope.$index=index;scope.$first=index===0;scope.$last=index===arrayLength-1;scope.$middle=!(scope.$first||scope.$last);scope.$odd=!(scope.$even=(index&1)===0)};var getBlockStart=function(block){return block.clone[0]};var getBlockEnd=function(block){return block.clone[block.clone.length-1]};return{restrict:"A",multiElement:true,transclude:"element",priority:1e3,terminal:true,$$tlb:true,compile:function ngRepeatCompile($element,$attr){var expression=$attr.ngRepeat;var ngRepeatEndComment=$compile.$$createComment("end ngRepeat",expression);var match=expression.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!match){throw ngRepeatMinErr("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",expression)}var lhs=match[1];var rhs=match[2];var aliasAs=match[3];var trackByExp=match[4];match=lhs.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/);if(!match){throw ngRepeatMinErr("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",lhs)}var valueIdentifier=match[3]||match[1];var keyIdentifier=match[2];if(aliasAs&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(aliasAs)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(aliasAs))){throw ngRepeatMinErr("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",aliasAs)}var trackByExpGetter,trackByIdExpFn,trackByIdArrayFn,trackByIdObjFn;var hashFnLocals={$id:hashKey};if(trackByExp){trackByExpGetter=$parse(trackByExp)}else{trackByIdArrayFn=function(key,value){return hashKey(value)};trackByIdObjFn=function(key){return key}}return function ngRepeatLink($scope,$element,$attr,ctrl,$transclude){if(trackByExpGetter){trackByIdExpFn=function(key,value,index){if(keyIdentifier)hashFnLocals[keyIdentifier]=key;hashFnLocals[valueIdentifier]=value;hashFnLocals.$index=index;return trackByExpGetter($scope,hashFnLocals)}}var lastBlockMap=createMap();$scope.$watchCollection(rhs,function ngRepeatAction(collection){var index,length,previousNode=$element[0],nextNode,nextBlockMap=createMap(),collectionLength,key,value,trackById,trackByIdFn,collectionKeys,block,nextBlockOrder,elementsToRemove;if(aliasAs){$scope[aliasAs]=collection}if(isArrayLike(collection)){collectionKeys=collection;trackByIdFn=trackByIdExpFn||trackByIdArrayFn}else{trackByIdFn=trackByIdExpFn||trackByIdObjFn;collectionKeys=[];for(var itemKey in collection){if(hasOwnProperty.call(collection,itemKey)&&itemKey.charAt(0)!=="$"){collectionKeys.push(itemKey)}}}collectionLength=collectionKeys.length;nextBlockOrder=new Array(collectionLength);for(index=0;index<collectionLength;index++){key=collection===collectionKeys?index:collectionKeys[index];value=collection[key];trackById=trackByIdFn(key,value,index);if(lastBlockMap[trackById]){block=lastBlockMap[trackById];delete lastBlockMap[trackById];nextBlockMap[trackById]=block;nextBlockOrder[index]=block}else if(nextBlockMap[trackById]){forEach(nextBlockOrder,function(block){if(block&&block.scope)lastBlockMap[block.id]=block});throw ngRepeatMinErr("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",expression,trackById,value)}else{nextBlockOrder[index]={id:trackById,scope:undefined,clone:undefined};nextBlockMap[trackById]=true}}for(var blockKey in lastBlockMap){block=lastBlockMap[blockKey];elementsToRemove=getBlockNodes(block.clone);$animate.leave(elementsToRemove);if(elementsToRemove[0].parentNode){for(index=0,length=elementsToRemove.length;index<length;index++){elementsToRemove[index][NG_REMOVED]=true}}block.scope.$destroy()}for(index=0;index<collectionLength;index++){key=collection===collectionKeys?index:collectionKeys[index];value=collection[key];block=nextBlockOrder[index];if(block.scope){nextNode=previousNode;do{nextNode=nextNode.nextSibling}while(nextNode&&nextNode[NG_REMOVED]);if(getBlockStart(block)!==nextNode){$animate.move(getBlockNodes(block.clone),null,previousNode)}previousNode=getBlockEnd(block);updateScope(block.scope,index,valueIdentifier,value,keyIdentifier,key,collectionLength)}else{$transclude(function ngRepeatTransclude(clone,scope){block.scope=scope;var endNode=ngRepeatEndComment.cloneNode(false);clone[clone.length++]=endNode;$animate.enter(clone,null,previousNode);previousNode=endNode;block.clone=clone;nextBlockMap[block.id]=block;updateScope(block.scope,index,valueIdentifier,value,keyIdentifier,key,collectionLength)})}}lastBlockMap=nextBlockMap})}}}}];var NG_HIDE_CLASS="ng-hide";var NG_HIDE_IN_PROGRESS_CLASS="ng-hide-animate";var ngShowDirective=["$animate",function($animate){return{restrict:"A",multiElement:true,link:function(scope,element,attr){scope.$watch(attr.ngShow,function ngShowWatchAction(value){$animate[value?"removeClass":"addClass"](element,NG_HIDE_CLASS,{tempClasses:NG_HIDE_IN_PROGRESS_CLASS})})}}}];var ngHideDirective=["$animate",function($animate){return{restrict:"A",multiElement:true,link:function(scope,element,attr){scope.$watch(attr.ngHide,function ngHideWatchAction(value){$animate[value?"addClass":"removeClass"](element,NG_HIDE_CLASS,{tempClasses:NG_HIDE_IN_PROGRESS_CLASS})})}}}];var ngStyleDirective=ngDirective(function(scope,element,attr){scope.$watchCollection(attr.ngStyle,function ngStyleWatchAction(newStyles,oldStyles){if(oldStyles&&newStyles!==oldStyles){forEach(oldStyles,function(val,style){element.css(style,"")})}if(newStyles)element.css(newStyles)})});var ngSwitchDirective=["$animate","$compile",function($animate,$compile){return{require:"ngSwitch",controller:["$scope",function NgSwitchController(){this.cases={}}],link:function(scope,element,attr,ngSwitchController){var watchExpr=attr.ngSwitch||attr.on,selectedTranscludes=[],selectedElements=[],previousLeaveAnimations=[],selectedScopes=[];var spliceFactory=function(array,index){return function(response){if(response!==false)array.splice(index,1)}};scope.$watch(watchExpr,function ngSwitchWatchAction(value){var i,ii;while(previousLeaveAnimations.length){$animate.cancel(previousLeaveAnimations.pop())}for(i=0,ii=selectedScopes.length;i<ii;++i){var selected=getBlockNodes(selectedElements[i].clone);selectedScopes[i].$destroy();var runner=previousLeaveAnimations[i]=$animate.leave(selected);runner.done(spliceFactory(previousLeaveAnimations,i))}selectedElements.length=0;selectedScopes.length=0;if(selectedTranscludes=ngSwitchController.cases["!"+value]||ngSwitchController.cases["?"]){forEach(selectedTranscludes,function(selectedTransclude){selectedTransclude.transclude(function(caseElement,selectedScope){selectedScopes.push(selectedScope);var anchor=selectedTransclude.element;caseElement[caseElement.length++]=$compile.$$createComment("end ngSwitchWhen");var block={clone:caseElement};selectedElements.push(block);$animate.enter(caseElement,anchor.parent(),anchor)})})}})}}}];var ngSwitchWhenDirective=ngDirective({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:true,link:function(scope,element,attrs,ctrl,$transclude){var cases=attrs.ngSwitchWhen.split(attrs.ngSwitchWhenSeparator).sort().filter(function(element,index,array){return array[index-1]!==element});forEach(cases,function(whenCase){ctrl.cases["!"+whenCase]=ctrl.cases["!"+whenCase]||[];ctrl.cases["!"+whenCase].push({transclude:$transclude,element:element})})}});var ngSwitchDefaultDirective=ngDirective({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:true,link:function(scope,element,attr,ctrl,$transclude){ctrl.cases["?"]=ctrl.cases["?"]||[];ctrl.cases["?"].push({transclude:$transclude,element:element})}});var ngTranscludeMinErr=minErr("ngTransclude");var ngTranscludeDirective=["$compile",function($compile){return{restrict:"EAC",compile:function ngTranscludeCompile(tElement){var fallbackLinkFn=$compile(tElement.contents());tElement.empty();return function ngTranscludePostLink($scope,$element,$attrs,controller,$transclude){if(!$transclude){throw ngTranscludeMinErr("orphan","Illegal use of ngTransclude directive in the template! "+"No parent directive that requires a transclusion found. "+"Element: {0}",startingTag($element))}if($attrs.ngTransclude===$attrs.$attr.ngTransclude){$attrs.ngTransclude=""}var slotName=$attrs.ngTransclude||$attrs.ngTranscludeSlot;$transclude(ngTranscludeCloneAttachFn,null,slotName);if(slotName&&!$transclude.isSlotFilled(slotName)){useFallbackContent()}function ngTranscludeCloneAttachFn(clone,transcludedScope){if(clone.length&&notWhitespace(clone)){$element.append(clone)}else{useFallbackContent();transcludedScope.$destroy()}}function useFallbackContent(){fallbackLinkFn($scope,function(clone){$element.append(clone)})}function notWhitespace(nodes){for(var i=0,ii=nodes.length;i<ii;i++){var node=nodes[i];if(node.nodeType!==NODE_TYPE_TEXT||node.nodeValue.trim()){return true}}}}}}}];var scriptDirective=["$templateCache",function($templateCache){return{restrict:"E",terminal:true,compile:function(element,attr){if(attr.type==="text/ng-template"){var templateUrl=attr.id,text=element[0].text;$templateCache.put(templateUrl,text)}}}}];var noopNgModelController={$setViewValue:noop,$render:noop};function setOptionSelectedStatus(optionEl,value){optionEl.prop("selected",value);optionEl.attr("selected",value)}var SelectController=["$element","$scope",function($element,$scope){var self=this,optionsMap=new NgMap;self.selectValueMap={};self.ngModelCtrl=noopNgModelController;self.multiple=false;self.unknownOption=jqLite(window.document.createElement("option"));self.hasEmptyOption=false;self.emptyOption=undefined;self.renderUnknownOption=function(val){var unknownVal=self.generateUnknownOptionValue(val);self.unknownOption.val(unknownVal);$element.prepend(self.unknownOption);setOptionSelectedStatus(self.unknownOption,true);$element.val(unknownVal)};self.updateUnknownOption=function(val){var unknownVal=self.generateUnknownOptionValue(val);self.unknownOption.val(unknownVal);setOptionSelectedStatus(self.unknownOption,true);$element.val(unknownVal)};self.generateUnknownOptionValue=function(val){return"? "+hashKey(val)+" ?"};self.removeUnknownOption=function(){if(self.unknownOption.parent())self.unknownOption.remove()};self.selectEmptyOption=function(){if(self.emptyOption){$element.val("");setOptionSelectedStatus(self.emptyOption,true)}};self.unselectEmptyOption=function(){if(self.hasEmptyOption){setOptionSelectedStatus(self.emptyOption,false)}};$scope.$on("$destroy",function(){self.renderUnknownOption=noop});self.readValue=function readSingleValue(){var val=$element.val();var realVal=val in self.selectValueMap?self.selectValueMap[val]:val;if(self.hasOption(realVal)){return realVal}return null};self.writeValue=function writeSingleValue(value){var currentlySelectedOption=$element[0].options[$element[0].selectedIndex];if(currentlySelectedOption)setOptionSelectedStatus(jqLite(currentlySelectedOption),false);if(self.hasOption(value)){self.removeUnknownOption();var hashedVal=hashKey(value);$element.val(hashedVal in self.selectValueMap?hashedVal:value);var selectedOption=$element[0].options[$element[0].selectedIndex];setOptionSelectedStatus(jqLite(selectedOption),true)}else{self.selectUnknownOrEmptyOption(value)}};self.addOption=function(value,element){if(element[0].nodeType===NODE_TYPE_COMMENT)return;assertNotHasOwnProperty(value,'"option value"');if(value===""){self.hasEmptyOption=true;self.emptyOption=element}var count=optionsMap.get(value)||0;optionsMap.set(value,count+1);scheduleRender()};self.removeOption=function(value){var count=optionsMap.get(value);if(count){if(count===1){optionsMap.delete(value);if(value===""){self.hasEmptyOption=false;self.emptyOption=undefined}}else{optionsMap.set(value,count-1)}}};self.hasOption=function(value){return!!optionsMap.get(value)};self.$hasEmptyOption=function(){return self.hasEmptyOption};self.$isUnknownOptionSelected=function(){return $element[0].options[0]===self.unknownOption[0]};self.$isEmptyOptionSelected=function(){return self.hasEmptyOption&&$element[0].options[$element[0].selectedIndex]===self.emptyOption[0]};self.selectUnknownOrEmptyOption=function(value){if(value==null&&self.emptyOption){self.removeUnknownOption();self.selectEmptyOption()}else if(self.unknownOption.parent().length){self.updateUnknownOption(value)}else{self.renderUnknownOption(value)}};var renderScheduled=false;function scheduleRender(){if(renderScheduled)return;renderScheduled=true;$scope.$$postDigest(function(){renderScheduled=false;self.ngModelCtrl.$render()})}var updateScheduled=false;function scheduleViewValueUpdate(renderAfter){if(updateScheduled)return;updateScheduled=true;$scope.$$postDigest(function(){if($scope.$$destroyed)return;updateScheduled=false;self.ngModelCtrl.$setViewValue(self.readValue());if(renderAfter)self.ngModelCtrl.$render()})}self.registerOption=function(optionScope,optionElement,optionAttrs,interpolateValueFn,interpolateTextFn){if(optionAttrs.$attr.ngValue){var oldVal,hashedVal;optionAttrs.$observe("value",function valueAttributeObserveAction(newVal){var removal;var previouslySelected=optionElement.prop("selected");if(isDefined(hashedVal)){self.removeOption(oldVal);delete self.selectValueMap[hashedVal];removal=true}hashedVal=hashKey(newVal);oldVal=newVal;self.selectValueMap[hashedVal]=newVal;self.addOption(newVal,optionElement);optionElement.attr("value",hashedVal);if(removal&&previouslySelected){scheduleViewValueUpdate()}})}else if(interpolateValueFn){optionAttrs.$observe("value",function valueAttributeObserveAction(newVal){self.readValue();var removal;var previouslySelected=optionElement.prop("selected");if(isDefined(oldVal)){self.removeOption(oldVal);removal=true}oldVal=newVal;self.addOption(newVal,optionElement);if(removal&&previouslySelected){scheduleViewValueUpdate()}})}else if(interpolateTextFn){optionScope.$watch(interpolateTextFn,function interpolateWatchAction(newVal,oldVal){optionAttrs.$set("value",newVal);var previouslySelected=optionElement.prop("selected");if(oldVal!==newVal){self.removeOption(oldVal)}self.addOption(newVal,optionElement);if(oldVal&&previouslySelected){scheduleViewValueUpdate()}})}else{self.addOption(optionAttrs.value,optionElement)}optionAttrs.$observe("disabled",function(newVal){if(newVal==="true"||newVal&&optionElement.prop("selected")){if(self.multiple){scheduleViewValueUpdate(true)}else{self.ngModelCtrl.$setViewValue(null);self.ngModelCtrl.$render()}}});optionElement.on("$destroy",function(){var currentValue=self.readValue();var removeValue=optionAttrs.value;self.removeOption(removeValue);scheduleRender();if(self.multiple&&currentValue&&currentValue.indexOf(removeValue)!==-1||currentValue===removeValue){scheduleViewValueUpdate(true)}})}}];var selectDirective=function(){return{restrict:"E",require:["select","?ngModel"],controller:SelectController,priority:1,link:{pre:selectPreLink,post:selectPostLink}};function selectPreLink(scope,element,attr,ctrls){var selectCtrl=ctrls[0];var ngModelCtrl=ctrls[1];if(!ngModelCtrl){selectCtrl.registerOption=noop;return}selectCtrl.ngModelCtrl=ngModelCtrl;element.on("change",function(){selectCtrl.removeUnknownOption();scope.$apply(function(){ngModelCtrl.$setViewValue(selectCtrl.readValue())})});if(attr.multiple){selectCtrl.multiple=true;selectCtrl.readValue=function readMultipleValue(){var array=[];forEach(element.find("option"),function(option){if(option.selected&&!option.disabled){var val=option.value;array.push(val in selectCtrl.selectValueMap?selectCtrl.selectValueMap[val]:val)}});return array};selectCtrl.writeValue=function writeMultipleValue(value){forEach(element.find("option"),function(option){var shouldBeSelected=!!value&&(includes(value,option.value)||includes(value,selectCtrl.selectValueMap[option.value]));var currentlySelected=option.selected;if(shouldBeSelected!==currentlySelected){setOptionSelectedStatus(jqLite(option),shouldBeSelected)}})};var lastView,lastViewRef=NaN;scope.$watch(function selectMultipleWatch(){if(lastViewRef===ngModelCtrl.$viewValue&&!equals(lastView,ngModelCtrl.$viewValue)){lastView=shallowCopy(ngModelCtrl.$viewValue);ngModelCtrl.$render()}lastViewRef=ngModelCtrl.$viewValue});ngModelCtrl.$isEmpty=function(value){return!value||value.length===0}}}function selectPostLink(scope,element,attrs,ctrls){var ngModelCtrl=ctrls[1];if(!ngModelCtrl)return;var selectCtrl=ctrls[0];ngModelCtrl.$render=function(){selectCtrl.writeValue(ngModelCtrl.$viewValue)}}};var optionDirective=["$interpolate",function($interpolate){return{restrict:"E",priority:100,compile:function(element,attr){var interpolateValueFn,interpolateTextFn;if(isDefined(attr.ngValue)){}else if(isDefined(attr.value)){interpolateValueFn=$interpolate(attr.value,true)}else{interpolateTextFn=$interpolate(element.text(),true);if(!interpolateTextFn){attr.$set("value",element.text())}}return function(scope,element,attr){var selectCtrlName="$selectController",parent=element.parent(),selectCtrl=parent.data(selectCtrlName)||parent.parent().data(selectCtrlName);if(selectCtrl){selectCtrl.registerOption(scope,element,attr,interpolateValueFn,interpolateTextFn)}}}}}];var requiredDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(!ctrl)return;attr.required=true;ctrl.$validators.required=function(modelValue,viewValue){return!attr.required||!ctrl.$isEmpty(viewValue)};attr.$observe("required",function(){ctrl.$validate()})}}};var patternDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(!ctrl)return;var regexp,patternExp=attr.ngPattern||attr.pattern;attr.$observe("pattern",function(regex){if(isString(regex)&&regex.length>0){regex=new RegExp("^"+regex+"$")}if(regex&&!regex.test){throw minErr("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",patternExp,regex,startingTag(elm))}regexp=regex||undefined;ctrl.$validate()});ctrl.$validators.pattern=function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||isUndefined(regexp)||regexp.test(viewValue)}}}};var maxlengthDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(!ctrl)return;var maxlength=-1;attr.$observe("maxlength",function(value){var intVal=toInt(value);maxlength=isNumberNaN(intVal)?-1:intVal;ctrl.$validate()});ctrl.$validators.maxlength=function(modelValue,viewValue){return maxlength<0||ctrl.$isEmpty(viewValue)||viewValue.length<=maxlength}}}};var minlengthDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(!ctrl)return;var minlength=0;attr.$observe("minlength",function(value){minlength=toInt(value)||0;ctrl.$validate()});ctrl.$validators.minlength=function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||viewValue.length>=minlength}}}};if(window.angular.bootstrap){if(window.console){console.log("WARNING: Tried to load AngularJS more than once.")}return}bindJQuery();publishExternalAPI(angular);angular.module("ngLocale",[],["$provide",function($provide){var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};function getDecimals(n){n=n+"";var i=n.indexOf(".");return i==-1?0:n.length-i-1}function getVF(n,opt_precision){var v=opt_precision;if(undefined===v){v=Math.min(getDecimals(n),3)}var base=Math.pow(10,v);var f=(n*base|0)%base;return{v:v,f:f}}$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(n,opt_precision){var i=n|0;var vf=getVF(n,opt_precision);if(i==1&&vf.v==0){return PLURAL_CATEGORY.ONE}return PLURAL_CATEGORY.OTHER}})}]);jqLite(function(){angularInit(window.document,bootstrap)})})(window);!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>');(function(window,angular){"use strict";var ARIA_DISABLE_ATTR="ngAriaDisable";var ngAriaModule=angular.module("ngAria",["ng"]).info({angularVersion:"1.7.5"}).provider("$aria",$AriaProvider);var nodeBlackList=["BUTTON","A","INPUT","TEXTAREA","SELECT","DETAILS","SUMMARY"];var isNodeOneOf=function(elem,nodeTypeArray){if(nodeTypeArray.indexOf(elem[0].nodeName)!==-1){return true}};function $AriaProvider(){var config={ariaHidden:true,ariaChecked:true,ariaReadonly:true,ariaDisabled:true,ariaRequired:true,ariaInvalid:true,ariaValue:true,tabindex:true,bindKeydown:true,bindRoleForClick:true};this.config=function(newConfig){config=angular.extend(config,newConfig)};function watchExpr(attrName,ariaAttr,nodeBlackList,negate){return function(scope,elem,attr){if(attr.hasOwnProperty(ARIA_DISABLE_ATTR))return;var ariaCamelName=attr.$normalize(ariaAttr);if(config[ariaCamelName]&&!isNodeOneOf(elem,nodeBlackList)&&!attr[ariaCamelName]){scope.$watch(attr[attrName],function(boolVal){boolVal=negate?!boolVal:!!boolVal;elem.attr(ariaAttr,boolVal)})}}}this.$get=function(){return{config:function(key){return config[key]},$$watchExpr:watchExpr}}}ngAriaModule.directive("ngShow",["$aria",function($aria){return $aria.$$watchExpr("ngShow","aria-hidden",[],true)}]).directive("ngHide",["$aria",function($aria){return $aria.$$watchExpr("ngHide","aria-hidden",[],false)}]).directive("ngValue",["$aria",function($aria){return $aria.$$watchExpr("ngValue","aria-checked",nodeBlackList,false)}]).directive("ngChecked",["$aria",function($aria){return $aria.$$watchExpr("ngChecked","aria-checked",nodeBlackList,false)}]).directive("ngReadonly",["$aria",function($aria){return $aria.$$watchExpr("ngReadonly","aria-readonly",nodeBlackList,false)}]).directive("ngRequired",["$aria",function($aria){return $aria.$$watchExpr("ngRequired","aria-required",nodeBlackList,false)}]).directive("ngModel",["$aria",function($aria){function shouldAttachAttr(attr,normalizedAttr,elem,allowBlacklistEls){return $aria.config(normalizedAttr)&&!elem.attr(attr)&&(allowBlacklistEls||!isNodeOneOf(elem,nodeBlackList))&&(elem.attr("type")!=="hidden"||elem[0].nodeName!=="INPUT")}function shouldAttachRole(role,elem){return!elem.attr("role")&&elem.attr("type")===role&&!isNodeOneOf(elem,nodeBlackList)}function getShape(attr,elem){var type=attr.type,role=attr.role;return(type||role)==="checkbox"||role==="menuitemcheckbox"?"checkbox":(type||role)==="radio"||role==="menuitemradio"?"radio":type==="range"||role==="progressbar"||role==="slider"?"range":""}return{restrict:"A",require:"ngModel",priority:200,compile:function(elem,attr){if(attr.hasOwnProperty(ARIA_DISABLE_ATTR))return;var shape=getShape(attr,elem);return{post:function(scope,elem,attr,ngModel){var needsTabIndex=shouldAttachAttr("tabindex","tabindex",elem,false);function ngAriaWatchModelValue(){return ngModel.$modelValue}function getRadioReaction(newVal){var boolVal=attr.value==ngModel.$viewValue;elem.attr("aria-checked",boolVal)}function getCheckboxReaction(){elem.attr("aria-checked",!ngModel.$isEmpty(ngModel.$viewValue))}switch(shape){case"radio":case"checkbox":if(shouldAttachRole(shape,elem)){elem.attr("role",shape)}if(shouldAttachAttr("aria-checked","ariaChecked",elem,false)){scope.$watch(ngAriaWatchModelValue,shape==="radio"?getRadioReaction:getCheckboxReaction)}if(needsTabIndex){elem.attr("tabindex",0)}break;case"range":if(shouldAttachRole(shape,elem)){elem.attr("role","slider")}if($aria.config("ariaValue")){var needsAriaValuemin=!elem.attr("aria-valuemin")&&(attr.hasOwnProperty("min")||attr.hasOwnProperty("ngMin"));var needsAriaValuemax=!elem.attr("aria-valuemax")&&(attr.hasOwnProperty("max")||attr.hasOwnProperty("ngMax"));var needsAriaValuenow=!elem.attr("aria-valuenow");if(needsAriaValuemin){attr.$observe("min",function ngAriaValueMinReaction(newVal){elem.attr("aria-valuemin",newVal)})}if(needsAriaValuemax){attr.$observe("max",function ngAriaValueMinReaction(newVal){elem.attr("aria-valuemax",newVal)})}if(needsAriaValuenow){scope.$watch(ngAriaWatchModelValue,function ngAriaValueNowReaction(newVal){elem.attr("aria-valuenow",newVal)})}}if(needsTabIndex){elem.attr("tabindex",0)}break}if(!attr.hasOwnProperty("ngRequired")&&ngModel.$validators.required&&shouldAttachAttr("aria-required","ariaRequired",elem,false)){attr.$observe("required",function(){elem.attr("aria-required",!!attr["required"])})}if(shouldAttachAttr("aria-invalid","ariaInvalid",elem,true)){scope.$watch(function ngAriaInvalidWatch(){return ngModel.$invalid},function ngAriaInvalidReaction(newVal){elem.attr("aria-invalid",!!newVal)})}}}}}}]).directive("ngDisabled",["$aria",function($aria){return $aria.$$watchExpr("ngDisabled","aria-disabled",nodeBlackList,false)}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(scope,elem,attr,ngMessages){if(attr.hasOwnProperty(ARIA_DISABLE_ATTR))return;if(!elem.attr("aria-live")){elem.attr("aria-live","assertive")}}}}).directive("ngClick",["$aria","$parse",function($aria,$parse){return{restrict:"A",compile:function(elem,attr){if(attr.hasOwnProperty(ARIA_DISABLE_ATTR))return;var fn=$parse(attr.ngClick);return function(scope,elem,attr){if(!isNodeOneOf(elem,nodeBlackList)){if($aria.config("bindRoleForClick")&&!elem.attr("role")){elem.attr("role","button")}if($aria.config("tabindex")&&!elem.attr("tabindex")){elem.attr("tabindex",0)}if($aria.config("bindKeydown")&&!attr.ngKeydown&&!attr.ngKeypress&&!attr.ngKeyup){elem.on("keydown",function(event){var keyCode=event.which||event.keyCode;if(keyCode===13||keyCode===32){if(nodeBlackList.indexOf(event.target.nodeName)===-1){event.preventDefault()}scope.$apply(callback)}function callback(){fn(scope,{$event:event})}})}}}}}}]).directive("ngDblclick",["$aria",function($aria){return function(scope,elem,attr){if(attr.hasOwnProperty(ARIA_DISABLE_ATTR))return;if($aria.config("tabindex")&&!elem.attr("tabindex")&&!isNodeOneOf(elem,nodeBlackList)){elem.attr("tabindex",0)}}}])})(window,window.angular);(function(window,angular){"use strict";var ELEMENT_NODE=1;var COMMENT_NODE=8;var ADD_CLASS_SUFFIX="-add";var REMOVE_CLASS_SUFFIX="-remove";var EVENT_CLASS_PREFIX="ng-";var ACTIVE_CLASS_SUFFIX="-active";var PREPARE_CLASS_SUFFIX="-prepare";var NG_ANIMATE_CLASSNAME="ng-animate";var NG_ANIMATE_CHILDREN_DATA="$$ngAnimateChildren";var CSS_PREFIX="",TRANSITION_PROP,TRANSITIONEND_EVENT,ANIMATION_PROP,ANIMATIONEND_EVENT;if(window.ontransitionend===undefined&&window.onwebkittransitionend!==undefined){CSS_PREFIX="-webkit-";TRANSITION_PROP="WebkitTransition";TRANSITIONEND_EVENT="webkitTransitionEnd transitionend"}else{TRANSITION_PROP="transition";TRANSITIONEND_EVENT="transitionend"}if(window.onanimationend===undefined&&window.onwebkitanimationend!==undefined){CSS_PREFIX="-webkit-";ANIMATION_PROP="WebkitAnimation";ANIMATIONEND_EVENT="webkitAnimationEnd animationend"}else{ANIMATION_PROP="animation";ANIMATIONEND_EVENT="animationend"}var DURATION_KEY="Duration";var PROPERTY_KEY="Property";var DELAY_KEY="Delay";var TIMING_KEY="TimingFunction";var ANIMATION_ITERATION_COUNT_KEY="IterationCount";var ANIMATION_PLAYSTATE_KEY="PlayState";var SAFE_FAST_FORWARD_DURATION_VALUE=9999;var ANIMATION_DELAY_PROP=ANIMATION_PROP+DELAY_KEY;var ANIMATION_DURATION_PROP=ANIMATION_PROP+DURATION_KEY;var TRANSITION_DELAY_PROP=TRANSITION_PROP+DELAY_KEY;var TRANSITION_DURATION_PROP=TRANSITION_PROP+DURATION_KEY;var ngMinErr=angular.$$minErr("ng");function assertArg(arg,name,reason){if(!arg){throw ngMinErr("areq","Argument '{0}' is {1}",name||"?",reason||"required")}return arg}function mergeClasses(a,b){if(!a&&!b)return"";if(!a)return b;if(!b)return a;if(isArray(a))a=a.join(" ");if(isArray(b))b=b.join(" ");return a+" "+b}function packageStyles(options){var styles={};if(options&&(options.to||options.from)){styles.to=options.to;styles.from=options.from}return styles}function pendClasses(classes,fix,isPrefix){var className="";classes=isArray(classes)?classes:classes&&isString(classes)&&classes.length?classes.split(/\s+/):[];forEach(classes,function(klass,i){if(klass&&klass.length>0){className+=i>0?" ":"";className+=isPrefix?fix+klass:klass+fix}});return className}function removeFromArray(arr,val){var index=arr.indexOf(val);if(val>=0){arr.splice(index,1)}}function stripCommentsFromElement(element){if(element instanceof jqLite){switch(element.length){case 0:return element;case 1:if(element[0].nodeType===ELEMENT_NODE){return element}break;default:return jqLite(extractElementNode(element))}}if(element.nodeType===ELEMENT_NODE){return jqLite(element)}}function extractElementNode(element){if(!element[0])return element;for(var i=0;i<element.length;i++){var elm=element[i];if(elm.nodeType===ELEMENT_NODE){return elm}}}function $$addClass($$jqLite,element,className){forEach(element,function(elm){$$jqLite.addClass(elm,className)})}function $$removeClass($$jqLite,element,className){forEach(element,function(elm){$$jqLite.removeClass(elm,className)})}function applyAnimationClassesFactory($$jqLite){return function(element,options){if(options.addClass){$$addClass($$jqLite,element,options.addClass);options.addClass=null}if(options.removeClass){$$removeClass($$jqLite,element,options.removeClass);options.removeClass=null}}}function prepareAnimationOptions(options){options=options||{};if(!options.$$prepared){var domOperation=options.domOperation||noop;options.domOperation=function(){options.$$domOperationFired=true;domOperation();domOperation=noop};options.$$prepared=true}return options}function applyAnimationStyles(element,options){applyAnimationFromStyles(element,options);applyAnimationToStyles(element,options)}function applyAnimationFromStyles(element,options){if(options.from){element.css(options.from);options.from=null}}function applyAnimationToStyles(element,options){if(options.to){element.css(options.to);options.to=null}}function mergeAnimationDetails(element,oldAnimation,newAnimation){var target=oldAnimation.options||{};var newOptions=newAnimation.options||{};var toAdd=(target.addClass||"")+" "+(newOptions.addClass||"");var toRemove=(target.removeClass||"")+" "+(newOptions.removeClass||"");var classes=resolveElementClasses(element.attr("class"),toAdd,toRemove);if(newOptions.preparationClasses){target.preparationClasses=concatWithSpace(newOptions.preparationClasses,target.preparationClasses);delete newOptions.preparationClasses}var realDomOperation=target.domOperation!==noop?target.domOperation:null;extend(target,newOptions);if(realDomOperation){target.domOperation=realDomOperation}if(classes.addClass){target.addClass=classes.addClass}else{target.addClass=null}if(classes.removeClass){target.removeClass=classes.removeClass}else{target.removeClass=null}oldAnimation.addClass=target.addClass;oldAnimation.removeClass=target.removeClass;return target}function resolveElementClasses(existing,toAdd,toRemove){var ADD_CLASS=1;var REMOVE_CLASS=-1;var flags={};existing=splitClassesToLookup(existing);toAdd=splitClassesToLookup(toAdd);forEach(toAdd,function(value,key){flags[key]=ADD_CLASS});toRemove=splitClassesToLookup(toRemove);forEach(toRemove,function(value,key){flags[key]=flags[key]===ADD_CLASS?null:REMOVE_CLASS});var classes={addClass:"",removeClass:""};forEach(flags,function(val,klass){var prop,allow;if(val===ADD_CLASS){prop="addClass";allow=!existing[klass]||existing[klass+REMOVE_CLASS_SUFFIX]}else if(val===REMOVE_CLASS){prop="removeClass";allow=existing[klass]||existing[klass+ADD_CLASS_SUFFIX]}if(allow){if(classes[prop].length){classes[prop]+=" "}classes[prop]+=klass}});function splitClassesToLookup(classes){if(isString(classes)){classes=classes.split(" ")}var obj={};forEach(classes,function(klass){if(klass.length){obj[klass]=true}});return obj}return classes}function getDomNode(element){return element instanceof jqLite?element[0]:element}function applyGeneratedPreparationClasses($$jqLite,element,event,options){var classes="";if(event){classes=pendClasses(event,EVENT_CLASS_PREFIX,true)}if(options.addClass){classes=concatWithSpace(classes,pendClasses(options.addClass,ADD_CLASS_SUFFIX))}if(options.removeClass){classes=concatWithSpace(classes,pendClasses(options.removeClass,REMOVE_CLASS_SUFFIX))}if(classes.length){options.preparationClasses=classes;element.addClass(classes)}}function clearGeneratedClasses(element,options){if(options.preparationClasses){element.removeClass(options.preparationClasses);options.preparationClasses=null}if(options.activeClasses){element.removeClass(options.activeClasses);options.activeClasses=null}}function blockTransitions(node,duration){var value=duration?"-"+duration+"s":"";applyInlineStyle(node,[TRANSITION_DELAY_PROP,value]);return[TRANSITION_DELAY_PROP,value]}function blockKeyframeAnimations(node,applyBlock){var value=applyBlock?"paused":"";var key=ANIMATION_PROP+ANIMATION_PLAYSTATE_KEY;applyInlineStyle(node,[key,value]);return[key,value]}function applyInlineStyle(node,styleTuple){var prop=styleTuple[0];var value=styleTuple[1];node.style[prop]=value}function concatWithSpace(a,b){if(!a)return b;if(!b)return a;return a+" "+b}var $$rAFSchedulerFactory=["$$rAF",function($$rAF){var queue,cancelFn;function scheduler(tasks){queue=queue.concat(tasks);nextTick()}queue=scheduler.queue=[];scheduler.waitUntilQuiet=function(fn){if(cancelFn)cancelFn();cancelFn=$$rAF(function(){cancelFn=null;fn();nextTick()})};return scheduler;function nextTick(){if(!queue.length)return;var items=queue.shift();for(var i=0;i<items.length;i++){items[i]()}if(!cancelFn){$$rAF(function(){if(!cancelFn)nextTick()})}}}];var $$AnimateChildrenDirective=["$interpolate",function($interpolate){return{link:function(scope,element,attrs){var val=attrs.ngAnimateChildren;if(isString(val)&&val.length===0){element.data(NG_ANIMATE_CHILDREN_DATA,true)}else{setData($interpolate(val)(scope));attrs.$observe("ngAnimateChildren",setData)}function setData(value){value=value==="on"||value==="true";element.data(NG_ANIMATE_CHILDREN_DATA,value)}}}}];var ANIMATE_TIMER_KEY="$$animateCss";var ONE_SECOND=1e3;var ELAPSED_TIME_MAX_DECIMAL_PLACES=3;var CLOSING_TIME_BUFFER=1.5;var DETECT_CSS_PROPERTIES={transitionDuration:TRANSITION_DURATION_PROP,transitionDelay:TRANSITION_DELAY_PROP,transitionProperty:TRANSITION_PROP+PROPERTY_KEY,animationDuration:ANIMATION_DURATION_PROP,animationDelay:ANIMATION_DELAY_PROP,animationIterationCount:ANIMATION_PROP+ANIMATION_ITERATION_COUNT_KEY};var DETECT_STAGGER_CSS_PROPERTIES={transitionDuration:TRANSITION_DURATION_PROP,transitionDelay:TRANSITION_DELAY_PROP,animationDuration:ANIMATION_DURATION_PROP,animationDelay:ANIMATION_DELAY_PROP};function getCssKeyframeDurationStyle(duration){return[ANIMATION_DURATION_PROP,duration+"s"]}function getCssDelayStyle(delay,isKeyframeAnimation){var prop=isKeyframeAnimation?ANIMATION_DELAY_PROP:TRANSITION_DELAY_PROP;return[prop,delay+"s"]}function computeCssStyles($window,element,properties){var styles=Object.create(null);var detectedStyles=$window.getComputedStyle(element)||{};forEach(properties,function(formalStyleName,actualStyleName){var val=detectedStyles[formalStyleName];if(val){var c=val.charAt(0);if(c==="-"||c==="+"||c>=0){val=parseMaxTime(val)}if(val===0){val=null}styles[actualStyleName]=val}});return styles}function parseMaxTime(str){var maxValue=0;var values=str.split(/\s*,\s*/);forEach(values,function(value){if(value.charAt(value.length-1)==="s"){value=value.substring(0,value.length-1)}value=parseFloat(value)||0;maxValue=maxValue?Math.max(value,maxValue):value});return maxValue}function truthyTimingValue(val){return val===0||val!=null}function getCssTransitionDurationStyle(duration,applyOnlyDuration){var style=TRANSITION_PROP;var value=duration+"s";if(applyOnlyDuration){style+=DURATION_KEY}else{value+=" linear all"}return[style,value]}function registerRestorableStyles(backup,node,properties){forEach(properties,function(prop){backup[prop]=isDefined(backup[prop])?backup[prop]:node.style.getPropertyValue(prop)})}var $AnimateCssProvider=["$animateProvider",function($animateProvider){this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$animateCache","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function($window,$$jqLite,$$AnimateRunner,$timeout,$$animateCache,$$forceReflow,$sniffer,$$rAFScheduler,$$animateQueue){var applyAnimationClasses=applyAnimationClassesFactory($$jqLite);function computeCachedCssStyles(node,className,cacheKey,allowNoDuration,properties){var timings=$$animateCache.get(cacheKey);if(!timings){timings=computeCssStyles($window,node,properties);if(timings.animationIterationCount==="infinite"){timings.animationIterationCount=1}}var hasDuration=allowNoDuration||(timings.transitionDuration>0||timings.animationDuration>0);$$animateCache.put(cacheKey,timings,hasDuration);return timings}function computeCachedCssStaggerStyles(node,className,cacheKey,properties){var stagger;var staggerCacheKey="stagger-"+cacheKey;if($$animateCache.count(cacheKey)>0){stagger=$$animateCache.get(staggerCacheKey);if(!stagger){var staggerClassName=pendClasses(className,"-stagger");$$jqLite.addClass(node,staggerClassName);stagger=computeCssStyles($window,node,properties);stagger.animationDuration=Math.max(stagger.animationDuration,0);stagger.transitionDuration=Math.max(stagger.transitionDuration,0);$$jqLite.removeClass(node,staggerClassName);$$animateCache.put(staggerCacheKey,stagger,true)}}return stagger||{}}var rafWaitQueue=[];function waitUntilQuiet(callback){rafWaitQueue.push(callback);$$rAFScheduler.waitUntilQuiet(function(){$$animateCache.flush();var pageWidth=$$forceReflow();for(var i=0;i<rafWaitQueue.length;i++){rafWaitQueue[i](pageWidth)}rafWaitQueue.length=0})}function computeTimings(node,className,cacheKey,allowNoDuration){var timings=computeCachedCssStyles(node,className,cacheKey,allowNoDuration,DETECT_CSS_PROPERTIES);var aD=timings.animationDelay;var tD=timings.transitionDelay;timings.maxDelay=aD&&tD?Math.max(aD,tD):aD||tD;timings.maxDuration=Math.max(timings.animationDuration*timings.animationIterationCount,timings.transitionDuration);return timings}return function init(element,initialOptions){var options=initialOptions||{};if(!options.$$prepared){options=prepareAnimationOptions(copy(options))}var restoreStyles={};var node=getDomNode(element);if(!node||!node.parentNode||!$$animateQueue.enabled()){return closeAndReturnNoopAnimator()}var temporaryStyles=[];var classes=element.attr("class");var styles=packageStyles(options);var animationClosed;var animationPaused;var animationCompleted;var runner;var runnerHost;var maxDelay;var maxDelayTime;var maxDuration;var maxDurationTime;var startTime;var events=[];if(options.duration===0||!$sniffer.animations&&!$sniffer.transitions){return closeAndReturnNoopAnimator()}var method=options.event&&isArray(options.event)?options.event.join(" "):options.event;var isStructural=method&&options.structural;var structuralClassName="";var addRemoveClassName="";if(isStructural){structuralClassName=pendClasses(method,EVENT_CLASS_PREFIX,true)}else if(method){structuralClassName=method}if(options.addClass){addRemoveClassName+=pendClasses(options.addClass,ADD_CLASS_SUFFIX)}if(options.removeClass){if(addRemoveClassName.length){addRemoveClassName+=" "}addRemoveClassName+=pendClasses(options.removeClass,REMOVE_CLASS_SUFFIX)}if(options.applyClassesEarly&&addRemoveClassName.length){applyAnimationClasses(element,options)}var preparationClasses=[structuralClassName,addRemoveClassName].join(" ").trim();var fullClassName=classes+" "+preparationClasses;var hasToStyles=styles.to&&Object.keys(styles.to).length>0;var containsKeyframeAnimation=(options.keyframeStyle||"").length>0;if(!containsKeyframeAnimation&&!hasToStyles&&!preparationClasses){return closeAndReturnNoopAnimator()}var stagger,cacheKey=$$animateCache.cacheKey(node,method,options.addClass,options.removeClass);if($$animateCache.containsCachedAnimationWithoutDuration(cacheKey)){preparationClasses=null;return closeAndReturnNoopAnimator()}if(options.stagger>0){var staggerVal=parseFloat(options.stagger);stagger={transitionDelay:staggerVal,animationDelay:staggerVal,transitionDuration:0,animationDuration:0}}else{stagger=computeCachedCssStaggerStyles(node,preparationClasses,cacheKey,DETECT_STAGGER_CSS_PROPERTIES)}if(!options.$$skipPreparationClasses){$$jqLite.addClass(element,preparationClasses)}var applyOnlyDuration;if(options.transitionStyle){var transitionStyle=[TRANSITION_PROP,options.transitionStyle];applyInlineStyle(node,transitionStyle);temporaryStyles.push(transitionStyle)}if(options.duration>=0){applyOnlyDuration=node.style[TRANSITION_PROP].length>0;var durationStyle=getCssTransitionDurationStyle(options.duration,applyOnlyDuration);applyInlineStyle(node,durationStyle);temporaryStyles.push(durationStyle)}if(options.keyframeStyle){var keyframeStyle=[ANIMATION_PROP,options.keyframeStyle];applyInlineStyle(node,keyframeStyle);temporaryStyles.push(keyframeStyle)}var itemIndex=stagger?options.staggerIndex>=0?options.staggerIndex:$$animateCache.count(cacheKey):0;var isFirst=itemIndex===0;if(isFirst&&!options.skipBlocking){blockTransitions(node,SAFE_FAST_FORWARD_DURATION_VALUE)}var timings=computeTimings(node,fullClassName,cacheKey,!isStructural);var relativeDelay=timings.maxDelay;maxDelay=Math.max(relativeDelay,0);maxDuration=timings.maxDuration;var flags={};flags.hasTransitions=timings.transitionDuration>0;flags.hasAnimations=timings.animationDuration>0;flags.hasTransitionAll=flags.hasTransitions&&timings.transitionProperty==="all";flags.applyTransitionDuration=hasToStyles&&(flags.hasTransitions&&!flags.hasTransitionAll||flags.hasAnimations&&!flags.hasTransitions);flags.applyAnimationDuration=options.duration&&flags.hasAnimations;flags.applyTransitionDelay=truthyTimingValue(options.delay)&&(flags.applyTransitionDuration||flags.hasTransitions);flags.applyAnimationDelay=truthyTimingValue(options.delay)&&flags.hasAnimations;flags.recalculateTimingStyles=addRemoveClassName.length>0;if(flags.applyTransitionDuration||flags.applyAnimationDuration){maxDuration=options.duration?parseFloat(options.duration):maxDuration;if(flags.applyTransitionDuration){flags.hasTransitions=true;timings.transitionDuration=maxDuration;applyOnlyDuration=node.style[TRANSITION_PROP+PROPERTY_KEY].length>0;temporaryStyles.push(getCssTransitionDurationStyle(maxDuration,applyOnlyDuration))}if(flags.applyAnimationDuration){flags.hasAnimations=true;timings.animationDuration=maxDuration;temporaryStyles.push(getCssKeyframeDurationStyle(maxDuration))}}if(maxDuration===0&&!flags.recalculateTimingStyles){return closeAndReturnNoopAnimator()}var activeClasses=pendClasses(preparationClasses,ACTIVE_CLASS_SUFFIX);if(options.delay!=null){var delayStyle;if(typeof options.delay!=="boolean"){delayStyle=parseFloat(options.delay);maxDelay=Math.max(delayStyle,0)}if(flags.applyTransitionDelay){temporaryStyles.push(getCssDelayStyle(delayStyle))}if(flags.applyAnimationDelay){temporaryStyles.push(getCssDelayStyle(delayStyle,true))}}if(options.duration==null&&timings.transitionDuration>0){flags.recalculateTimingStyles=flags.recalculateTimingStyles||isFirst}maxDelayTime=maxDelay*ONE_SECOND;maxDurationTime=maxDuration*ONE_SECOND;if(!options.skipBlocking){flags.blockTransition=timings.transitionDuration>0;flags.blockKeyframeAnimation=timings.animationDuration>0&&stagger.animationDelay>0&&stagger.animationDuration===0}if(options.from){if(options.cleanupStyles){registerRestorableStyles(restoreStyles,node,Object.keys(options.from))}applyAnimationFromStyles(element,options)}if(flags.blockTransition||flags.blockKeyframeAnimation){applyBlocking(maxDuration)}else if(!options.skipBlocking){blockTransitions(node,false)}return{$$willAnimate:true,end:endFn,start:function(){if(animationClosed)return;runnerHost={end:endFn,cancel:cancelFn,resume:null,pause:null};runner=new $$AnimateRunner(runnerHost);waitUntilQuiet(start);return runner}};function endFn(){close()}function cancelFn(){close(true)}function close(rejected){if(animationClosed||animationCompleted&&animationPaused)return;animationClosed=true;animationPaused=false;if(preparationClasses&&!options.$$skipPreparationClasses){$$jqLite.removeClass(element,preparationClasses)}if(activeClasses){$$jqLite.removeClass(element,activeClasses)}blockKeyframeAnimations(node,false);blockTransitions(node,false);forEach(temporaryStyles,function(entry){node.style[entry[0]]=""});applyAnimationClasses(element,options);applyAnimationStyles(element,options);if(Object.keys(restoreStyles).length){forEach(restoreStyles,function(value,prop){if(value){node.style.setProperty(prop,value)}else{node.style.removeProperty(prop)}})}if(options.onDone){options.onDone()}if(events&&events.length){element.off(events.join(" "),onAnimationProgress)}var animationTimerData=element.data(ANIMATE_TIMER_KEY);if(animationTimerData){$timeout.cancel(animationTimerData[0].timer);element.removeData(ANIMATE_TIMER_KEY)}if(runner){runner.complete(!rejected)}}function applyBlocking(duration){if(flags.blockTransition){blockTransitions(node,duration)}if(flags.blockKeyframeAnimation){blockKeyframeAnimations(node,!!duration)}}function closeAndReturnNoopAnimator(){runner=new $$AnimateRunner({end:endFn,cancel:cancelFn});waitUntilQuiet(noop);close();return{$$willAnimate:false,start:function(){return runner},end:endFn}}function onAnimationProgress(event){event.stopPropagation();var ev=event.originalEvent||event;if(ev.target!==node){return}var timeStamp=ev.$manualTimeStamp||Date.now();var elapsedTime=parseFloat(ev.elapsedTime.toFixed(ELAPSED_TIME_MAX_DECIMAL_PLACES));if(Math.max(timeStamp-startTime,0)>=maxDelayTime&&elapsedTime>=maxDuration){animationCompleted=true;close()}}function start(){if(animationClosed)return;if(!node.parentNode){close();return}var playPause=function(playAnimation){if(!animationCompleted){animationPaused=!playAnimation;if(timings.animationDuration){var value=blockKeyframeAnimations(node,animationPaused);if(animationPaused){temporaryStyles.push(value)}else{removeFromArray(temporaryStyles,value)}}}else if(animationPaused&&playAnimation){animationPaused=false;close()}};var maxStagger=itemIndex>0&&(timings.transitionDuration&&stagger.transitionDuration===0||timings.animationDuration&&stagger.animationDuration===0)&&Math.max(stagger.animationDelay,stagger.transitionDelay);if(maxStagger){$timeout(triggerAnimationStart,Math.floor(maxStagger*itemIndex*ONE_SECOND),false)}else{triggerAnimationStart()}runnerHost.resume=function(){playPause(true)};runnerHost.pause=function(){playPause(false)};function triggerAnimationStart(){if(animationClosed)return;applyBlocking(false);forEach(temporaryStyles,function(entry){var key=entry[0];var value=entry[1];node.style[key]=value});applyAnimationClasses(element,options);$$jqLite.addClass(element,activeClasses);if(flags.recalculateTimingStyles){fullClassName=node.getAttribute("class")+" "+preparationClasses;cacheKey=$$animateCache.cacheKey(node,method,options.addClass,options.removeClass);timings=computeTimings(node,fullClassName,cacheKey,false);relativeDelay=timings.maxDelay;maxDelay=Math.max(relativeDelay,0);maxDuration=timings.maxDuration;if(maxDuration===0){close();return}flags.hasTransitions=timings.transitionDuration>0;flags.hasAnimations=timings.animationDuration>0}if(flags.applyAnimationDelay){relativeDelay=typeof options.delay!=="boolean"&&truthyTimingValue(options.delay)?parseFloat(options.delay):relativeDelay;maxDelay=Math.max(relativeDelay,0);timings.animationDelay=relativeDelay;delayStyle=getCssDelayStyle(relativeDelay,true);temporaryStyles.push(delayStyle);node.style[delayStyle[0]]=delayStyle[1]}maxDelayTime=maxDelay*ONE_SECOND;maxDurationTime=maxDuration*ONE_SECOND;if(options.easing){var easeProp,easeVal=options.easing;if(flags.hasTransitions){easeProp=TRANSITION_PROP+TIMING_KEY;temporaryStyles.push([easeProp,easeVal]);node.style[easeProp]=easeVal}if(flags.hasAnimations){easeProp=ANIMATION_PROP+TIMING_KEY;temporaryStyles.push([easeProp,easeVal]);node.style[easeProp]=easeVal}}if(timings.transitionDuration){events.push(TRANSITIONEND_EVENT)}if(timings.animationDuration){events.push(ANIMATIONEND_EVENT)}startTime=Date.now();var timerTime=maxDelayTime+CLOSING_TIME_BUFFER*maxDurationTime;var endTime=startTime+timerTime;var animationsData=element.data(ANIMATE_TIMER_KEY)||[];var setupFallbackTimer=true;if(animationsData.length){var currentTimerData=animationsData[0];setupFallbackTimer=endTime>currentTimerData.expectedEndTime;if(setupFallbackTimer){$timeout.cancel(currentTimerData.timer)}else{animationsData.push(close)}}if(setupFallbackTimer){var timer=$timeout(onAnimationExpired,timerTime,false);animationsData[0]={timer:timer,expectedEndTime:endTime};animationsData.push(close);element.data(ANIMATE_TIMER_KEY,animationsData)}if(events.length){element.on(events.join(" "),onAnimationProgress)}if(options.to){if(options.cleanupStyles){registerRestorableStyles(restoreStyles,node,Object.keys(options.to))}applyAnimationToStyles(element,options)}}function onAnimationExpired(){var animationsData=element.data(ANIMATE_TIMER_KEY);if(animationsData){for(var i=1;i<animationsData.length;i++){animationsData[i]()}element.removeData(ANIMATE_TIMER_KEY)}}}}}]}];var $$AnimateCssDriverProvider=["$$animationProvider",function($$animationProvider){$$animationProvider.drivers.push("$$animateCssDriver");var NG_ANIMATE_SHIM_CLASS_NAME="ng-animate-shim";var NG_ANIMATE_ANCHOR_CLASS_NAME="ng-anchor";var NG_OUT_ANCHOR_CLASS_NAME="ng-anchor-out";var NG_IN_ANCHOR_CLASS_NAME="ng-anchor-in";function isDocumentFragment(node){return node.parentNode&&node.parentNode.nodeType===11}this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function($animateCss,$rootScope,$$AnimateRunner,$rootElement,$sniffer,$$jqLite,$document){if(!$sniffer.animations&&!$sniffer.transitions)return noop;var bodyNode=$document[0].body;var rootNode=getDomNode($rootElement);var rootBodyElement=jqLite(isDocumentFragment(rootNode)||bodyNode.contains(rootNode)?rootNode:bodyNode);return function initDriverFn(animationDetails){return animationDetails.from&&animationDetails.to?prepareFromToAnchorAnimation(animationDetails.from,animationDetails.to,animationDetails.classes,animationDetails.anchors):prepareRegularAnimation(animationDetails)};function filterCssClasses(classes){return classes.replace(/\bng-\S+\b/g,"")}function getUniqueValues(a,b){if(isString(a))a=a.split(" ");if(isString(b))b=b.split(" ");return a.filter(function(val){return b.indexOf(val)===-1}).join(" ")}function prepareAnchoredAnimation(classes,outAnchor,inAnchor){var clone=jqLite(getDomNode(outAnchor).cloneNode(true));var startingClasses=filterCssClasses(getClassVal(clone));outAnchor.addClass(NG_ANIMATE_SHIM_CLASS_NAME);inAnchor.addClass(NG_ANIMATE_SHIM_CLASS_NAME);clone.addClass(NG_ANIMATE_ANCHOR_CLASS_NAME);rootBodyElement.append(clone);var animatorIn,animatorOut=prepareOutAnimation();if(!animatorOut){animatorIn=prepareInAnimation();if(!animatorIn){return end()}}var startingAnimator=animatorOut||animatorIn;return{start:function(){var runner;var currentAnimation=startingAnimator.start();currentAnimation.done(function(){currentAnimation=null;if(!animatorIn){animatorIn=prepareInAnimation();if(animatorIn){currentAnimation=animatorIn.start();currentAnimation.done(function(){currentAnimation=null;end();runner.complete()});return currentAnimation}}end();runner.complete()});runner=new $$AnimateRunner({end:endFn,cancel:endFn});return runner;function endFn(){if(currentAnimation){currentAnimation.end()}}}};function calculateAnchorStyles(anchor){var styles={};var coords=getDomNode(anchor).getBoundingClientRect();forEach(["width","height","top","left"],function(key){var value=coords[key];switch(key){case"top":value+=bodyNode.scrollTop;break;case"left":value+=bodyNode.scrollLeft;break}styles[key]=Math.floor(value)+"px"});return styles}function prepareOutAnimation(){var animator=$animateCss(clone,{addClass:NG_OUT_ANCHOR_CLASS_NAME,delay:true,from:calculateAnchorStyles(outAnchor)});return animator.$$willAnimate?animator:null}function getClassVal(element){return element.attr("class")||""}function prepareInAnimation(){var endingClasses=filterCssClasses(getClassVal(inAnchor));var toAdd=getUniqueValues(endingClasses,startingClasses);var toRemove=getUniqueValues(startingClasses,endingClasses);var animator=$animateCss(clone,{to:calculateAnchorStyles(inAnchor),addClass:NG_IN_ANCHOR_CLASS_NAME+" "+toAdd,removeClass:NG_OUT_ANCHOR_CLASS_NAME+" "+toRemove,delay:true});return animator.$$willAnimate?animator:null}function end(){clone.remove();outAnchor.removeClass(NG_ANIMATE_SHIM_CLASS_NAME);inAnchor.removeClass(NG_ANIMATE_SHIM_CLASS_NAME)}}function prepareFromToAnchorAnimation(from,to,classes,anchors){var fromAnimation=prepareRegularAnimation(from,noop);var toAnimation=prepareRegularAnimation(to,noop);var anchorAnimations=[];forEach(anchors,function(anchor){var outElement=anchor["out"];var inElement=anchor["in"];var animator=prepareAnchoredAnimation(classes,outElement,inElement);if(animator){anchorAnimations.push(animator)}});if(!fromAnimation&&!toAnimation&&anchorAnimations.length===0)return;return{start:function(){var animationRunners=[];if(fromAnimation){animationRunners.push(fromAnimation.start())}if(toAnimation){animationRunners.push(toAnimation.start())}forEach(anchorAnimations,function(animation){animationRunners.push(animation.start())});var runner=new $$AnimateRunner({end:endFn,cancel:endFn});$$AnimateRunner.all(animationRunners,function(status){runner.complete(status)});return runner;function endFn(){forEach(animationRunners,function(runner){runner.end()})}}}}function prepareRegularAnimation(animationDetails){var element=animationDetails.element;var options=animationDetails.options||{};if(animationDetails.structural){options.event=animationDetails.event;options.structural=true;options.applyClassesEarly=true;if(animationDetails.event==="leave"){options.onDone=options.domOperation}}if(options.preparationClasses){options.event=concatWithSpace(options.event,options.preparationClasses)}var animator=$animateCss(element,options);return animator.$$willAnimate?animator:null}}]}];var $$AnimateJsProvider=["$animateProvider",function($animateProvider){this.$get=["$injector","$$AnimateRunner","$$jqLite",function($injector,$$AnimateRunner,$$jqLite){var applyAnimationClasses=applyAnimationClassesFactory($$jqLite);return function(element,event,classes,options){var animationClosed=false;if(arguments.length===3&&isObject(classes)){options=classes;classes=null}options=prepareAnimationOptions(options);if(!classes){classes=element.attr("class")||"";if(options.addClass){classes+=" "+options.addClass}if(options.removeClass){classes+=" "+options.removeClass}}var classesToAdd=options.addClass;var classesToRemove=options.removeClass;var animations=lookupAnimations(classes);var before,after;if(animations.length){var afterFn,beforeFn;if(event==="leave"){beforeFn="leave";afterFn="afterLeave"}else{beforeFn="before"+event.charAt(0).toUpperCase()+event.substr(1);afterFn=event}if(event!=="enter"&&event!=="move"){before=packageAnimations(element,event,options,animations,beforeFn)}after=packageAnimations(element,event,options,animations,afterFn)}if(!before&&!after)return;function applyOptions(){options.domOperation();applyAnimationClasses(element,options)}function close(){animationClosed=true;applyOptions();applyAnimationStyles(element,options)}var runner;return{$$willAnimate:true,end:function(){if(runner){runner.end()}else{close();runner=new $$AnimateRunner;runner.complete(true)}return runner},start:function(){if(runner){return runner}runner=new $$AnimateRunner;var closeActiveAnimations;var chain=[];if(before){chain.push(function(fn){closeActiveAnimations=before(fn)})}if(chain.length){chain.push(function(fn){applyOptions();fn(true)})}else{applyOptions()}if(after){chain.push(function(fn){closeActiveAnimations=after(fn)})}runner.setHost({end:function(){endAnimations()},cancel:function(){endAnimations(true)}});$$AnimateRunner.chain(chain,onComplete);return runner;function onComplete(success){close(success);runner.complete(success)}function endAnimations(cancelled){if(!animationClosed){(closeActiveAnimations||noop)(cancelled);onComplete(cancelled)}}}};function executeAnimationFn(fn,element,event,options,onDone){var args;switch(event){case"animate":args=[element,options.from,options.to,onDone];break;case"setClass":args=[element,classesToAdd,classesToRemove,onDone];break;case"addClass":args=[element,classesToAdd,onDone];break;case"removeClass":args=[element,classesToRemove,onDone];break;default:args=[element,onDone];break}args.push(options);var value=fn.apply(fn,args);if(value){if(isFunction(value.start)){value=value.start()}if(value instanceof $$AnimateRunner){value.done(onDone)}else if(isFunction(value)){return value}}return noop}function groupEventedAnimations(element,event,options,animations,fnName){var operations=[];forEach(animations,function(ani){var animation=ani[fnName];if(!animation)return;operations.push(function(){var runner;var endProgressCb;var resolved=false;var onAnimationComplete=function(rejected){if(!resolved){resolved=true;(endProgressCb||noop)(rejected);runner.complete(!rejected)}};runner=new $$AnimateRunner({end:function(){onAnimationComplete()},cancel:function(){onAnimationComplete(true)}});endProgressCb=executeAnimationFn(animation,element,event,options,function(result){var cancelled=result===false;onAnimationComplete(cancelled)});return runner})});return operations}function packageAnimations(element,event,options,animations,fnName){var operations=groupEventedAnimations(element,event,options,animations,fnName);if(operations.length===0){var a,b;if(fnName==="beforeSetClass"){a=groupEventedAnimations(element,"removeClass",options,animations,"beforeRemoveClass");b=groupEventedAnimations(element,"addClass",options,animations,"beforeAddClass")}else if(fnName==="setClass"){a=groupEventedAnimations(element,"removeClass",options,animations,"removeClass");b=groupEventedAnimations(element,"addClass",options,animations,"addClass")}if(a){operations=operations.concat(a)}if(b){operations=operations.concat(b)}}if(operations.length===0)return;return function startAnimation(callback){var runners=[];if(operations.length){forEach(operations,function(animateFn){runners.push(animateFn())})}if(runners.length){$$AnimateRunner.all(runners,callback)}else{callback()}return function endFn(reject){forEach(runners,function(runner){if(reject){runner.cancel()}else{runner.end()}})}}}};function lookupAnimations(classes){classes=isArray(classes)?classes:classes.split(" ");var matches=[],flagMap={};for(var i=0;i<classes.length;i++){var klass=classes[i],animationFactory=$animateProvider.$$registeredAnimations[klass];if(animationFactory&&!flagMap[klass]){matches.push($injector.get(animationFactory));flagMap[klass]=true}}return matches}}]}];var $$AnimateJsDriverProvider=["$$animationProvider",function($$animationProvider){$$animationProvider.drivers.push("$$animateJsDriver");this.$get=["$$animateJs","$$AnimateRunner",function($$animateJs,$$AnimateRunner){return function initDriverFn(animationDetails){if(animationDetails.from&&animationDetails.to){var fromAnimation=prepareAnimation(animationDetails.from);var toAnimation=prepareAnimation(animationDetails.to);if(!fromAnimation&&!toAnimation)return;return{start:function(){var animationRunners=[];if(fromAnimation){animationRunners.push(fromAnimation.start())}if(toAnimation){animationRunners.push(toAnimation.start())}$$AnimateRunner.all(animationRunners,done);var runner=new $$AnimateRunner({end:endFnFactory(),cancel:endFnFactory()});return runner;function endFnFactory(){return function(){forEach(animationRunners,function(runner){runner.end()})}}function done(status){runner.complete(status)}}}}else{return prepareAnimation(animationDetails)}};function prepareAnimation(animationDetails){var element=animationDetails.element;var event=animationDetails.event;var options=animationDetails.options;var classes=animationDetails.classes;return $$animateJs(element,event,classes,options)}}]}];var NG_ANIMATE_ATTR_NAME="data-ng-animate";var NG_ANIMATE_PIN_DATA="$ngAnimatePin";var $$AnimateQueueProvider=["$animateProvider",function($animateProvider){var PRE_DIGEST_STATE=1;var RUNNING_STATE=2;var ONE_SPACE=" ";var rules=this.rules={skip:[],cancel:[],join:[]};function getEventData(options){return{addClass:options.addClass,removeClass:options.removeClass,from:options.from,to:options.to}}function makeTruthyCssClassMap(classString){if(!classString){return null}var keys=classString.split(ONE_SPACE);var map=Object.create(null);forEach(keys,function(key){map[key]=true});return map}function hasMatchingClasses(newClassString,currentClassString){if(newClassString&&currentClassString){var currentClassMap=makeTruthyCssClassMap(currentClassString);return newClassString.split(ONE_SPACE).some(function(className){return currentClassMap[className]})}}function isAllowed(ruleType,currentAnimation,previousAnimation){return rules[ruleType].some(function(fn){return fn(currentAnimation,previousAnimation)})}function hasAnimationClasses(animation,and){var a=(animation.addClass||"").length>0;var b=(animation.removeClass||"").length>0;return and?a&&b:a||b}rules.join.push(function(newAnimation,currentAnimation){return!newAnimation.structural&&hasAnimationClasses(newAnimation)});rules.skip.push(function(newAnimation,currentAnimation){return!newAnimation.structural&&!hasAnimationClasses(newAnimation)});rules.skip.push(function(newAnimation,currentAnimation){return currentAnimation.event==="leave"&&newAnimation.structural});rules.skip.push(function(newAnimation,currentAnimation){return currentAnimation.structural&&currentAnimation.state===RUNNING_STATE&&!newAnimation.structural});rules.cancel.push(function(newAnimation,currentAnimation){return currentAnimation.structural&&newAnimation.structural});rules.cancel.push(function(newAnimation,currentAnimation){return currentAnimation.state===RUNNING_STATE&&newAnimation.structural});rules.cancel.push(function(newAnimation,currentAnimation){if(currentAnimation.structural)return false;var nA=newAnimation.addClass;var nR=newAnimation.removeClass;var cA=currentAnimation.addClass;var cR=currentAnimation.removeClass;if(isUndefined(nA)&&isUndefined(nR)||isUndefined(cA)&&isUndefined(cR)){return false}return hasMatchingClasses(nA,cR)||hasMatchingClasses(nR,cA)});this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function($$rAF,$rootScope,$rootElement,$document,$$Map,$$animation,$$AnimateRunner,$templateRequest,$$jqLite,$$forceReflow,$$isDocumentHidden){var activeAnimationsLookup=new $$Map;var disabledElementsLookup=new $$Map;var animationsEnabled=null;function removeFromDisabledElementsLookup(evt){disabledElementsLookup.delete(evt.target)}function postDigestTaskFactory(){var postDigestCalled=false;return function(fn){if(postDigestCalled){fn()}else{$rootScope.$$postDigest(function(){postDigestCalled=true;fn()})}}}var deregisterWatch=$rootScope.$watch(function(){return $templateRequest.totalPendingRequests===0},function(isEmpty){if(!isEmpty)return;deregisterWatch();$rootScope.$$postDigest(function(){$rootScope.$$postDigest(function(){if(animationsEnabled===null){animationsEnabled=true}})})});var callbackRegistry=Object.create(null);var customFilter=$animateProvider.customFilter();var classNameFilter=$animateProvider.classNameFilter();var returnTrue=function(){return true};var isAnimatableByFilter=customFilter||returnTrue;var isAnimatableClassName=!classNameFilter?returnTrue:function(node,options){var className=[node.getAttribute("class"),options.addClass,options.removeClass].join(" ");return classNameFilter.test(className)};var applyAnimationClasses=applyAnimationClassesFactory($$jqLite);function normalizeAnimationDetails(element,animation){return mergeAnimationDetails(element,animation,{})}var contains=window.Node.prototype.contains||function(arg){return this===arg||!!(this.compareDocumentPosition(arg)&16)};function findCallbacks(targetParentNode,targetNode,event){var matches=[];var entries=callbackRegistry[event];if(entries){forEach(entries,function(entry){if(contains.call(entry.node,targetNode)){matches.push(entry.callback)}else if(event==="leave"&&contains.call(entry.node,targetParentNode)){matches.push(entry.callback)}})}return matches}function filterFromRegistry(list,matchContainer,matchCallback){var containerNode=extractElementNode(matchContainer);return list.filter(function(entry){var isMatch=entry.node===containerNode&&(!matchCallback||entry.callback===matchCallback);return!isMatch})}function cleanupEventListeners(phase,node){if(phase==="close"&&!node.parentNode){$animate.off(node)}}var $animate={on:function(event,container,callback){var node=extractElementNode(container);callbackRegistry[event]=callbackRegistry[event]||[];callbackRegistry[event].push({node:node,callback:callback});jqLite(container).on("$destroy",function(){var animationDetails=activeAnimationsLookup.get(node);if(!animationDetails){$animate.off(event,container,callback)}})},off:function(event,container,callback){if(arguments.length===1&&!isString(arguments[0])){container=arguments[0];for(var eventType in callbackRegistry){callbackRegistry[eventType]=filterFromRegistry(callbackRegistry[eventType],container)}return}var entries=callbackRegistry[event];if(!entries)return;callbackRegistry[event]=arguments.length===1?null:filterFromRegistry(entries,container,callback)},pin:function(element,parentElement){assertArg(isElement(element),"element","not an element");assertArg(isElement(parentElement),"parentElement","not an element");element.data(NG_ANIMATE_PIN_DATA,parentElement)},push:function(element,event,options,domOperation){options=options||{};options.domOperation=domOperation;return queueAnimation(element,event,options)},enabled:function(element,bool){var argCount=arguments.length;if(argCount===0){bool=!!animationsEnabled}else{var hasElement=isElement(element);if(!hasElement){bool=animationsEnabled=!!element}else{var node=getDomNode(element);if(argCount===1){bool=!disabledElementsLookup.get(node)}else{if(!disabledElementsLookup.has(node)){jqLite(element).on("$destroy",removeFromDisabledElementsLookup)}disabledElementsLookup.set(node,!bool)}}}return bool}};return $animate;function queueAnimation(originalElement,event,initialOptions){var options=copy(initialOptions);var element=stripCommentsFromElement(originalElement);var node=getDomNode(element);var parentNode=node&&node.parentNode;options=prepareAnimationOptions(options);var runner=new $$AnimateRunner;var runInNextPostDigestOrNow=postDigestTaskFactory();if(isArray(options.addClass)){options.addClass=options.addClass.join(" ")}if(options.addClass&&!isString(options.addClass)){options.addClass=null}if(isArray(options.removeClass)){options.removeClass=options.removeClass.join(" ")}if(options.removeClass&&!isString(options.removeClass)){options.removeClass=null}if(options.from&&!isObject(options.from)){options.from=null}if(options.to&&!isObject(options.to)){options.to=null}if(!animationsEnabled||!node||!isAnimatableByFilter(node,event,initialOptions)||!isAnimatableClassName(node,options)){close();return runner}var isStructural=["enter","move","leave"].indexOf(event)>=0;var documentHidden=$$isDocumentHidden();var skipAnimations=documentHidden||disabledElementsLookup.get(node);var existingAnimation=!skipAnimations&&activeAnimationsLookup.get(node)||{};var hasExistingAnimation=!!existingAnimation.state;if(!skipAnimations&&(!hasExistingAnimation||existingAnimation.state!==PRE_DIGEST_STATE)){skipAnimations=!areAnimationsAllowed(node,parentNode,event)}if(skipAnimations){if(documentHidden)notifyProgress(runner,event,"start",getEventData(options));close();if(documentHidden)notifyProgress(runner,event,"close",getEventData(options));return runner}if(isStructural){closeChildAnimations(node)}var newAnimation={structural:isStructural,element:element,event:event,addClass:options.addClass,removeClass:options.removeClass,close:close,options:options,runner:runner};if(hasExistingAnimation){var skipAnimationFlag=isAllowed("skip",newAnimation,existingAnimation);if(skipAnimationFlag){if(existingAnimation.state===RUNNING_STATE){close();return runner}else{mergeAnimationDetails(element,existingAnimation,newAnimation);return existingAnimation.runner}}var cancelAnimationFlag=isAllowed("cancel",newAnimation,existingAnimation);if(cancelAnimationFlag){if(existingAnimation.state===RUNNING_STATE){existingAnimation.runner.end()}else if(existingAnimation.structural){existingAnimation.close()}else{mergeAnimationDetails(element,existingAnimation,newAnimation);return existingAnimation.runner}}else{var joinAnimationFlag=isAllowed("join",newAnimation,existingAnimation);if(joinAnimationFlag){if(existingAnimation.state===RUNNING_STATE){normalizeAnimationDetails(element,newAnimation)}else{applyGeneratedPreparationClasses($$jqLite,element,isStructural?event:null,options);event=newAnimation.event=existingAnimation.event;options=mergeAnimationDetails(element,existingAnimation,newAnimation);return existingAnimation.runner}}}}else{normalizeAnimationDetails(element,newAnimation)}var isValidAnimation=newAnimation.structural;if(!isValidAnimation){isValidAnimation=newAnimation.event==="animate"&&Object.keys(newAnimation.options.to||{}).length>0||hasAnimationClasses(newAnimation)}if(!isValidAnimation){close();clearElementAnimationState(node);return runner}var counter=(existingAnimation.counter||0)+1;newAnimation.counter=counter;markElementAnimationState(node,PRE_DIGEST_STATE,newAnimation);$rootScope.$$postDigest(function(){element=stripCommentsFromElement(originalElement);var animationDetails=activeAnimationsLookup.get(node);var animationCancelled=!animationDetails;animationDetails=animationDetails||{};var parentElement=element.parent()||[];var isValidAnimation=parentElement.length>0&&(animationDetails.event==="animate"||animationDetails.structural||hasAnimationClasses(animationDetails));if(animationCancelled||animationDetails.counter!==counter||!isValidAnimation){if(animationCancelled){applyAnimationClasses(element,options);applyAnimationStyles(element,options)}if(animationCancelled||isStructural&&animationDetails.event!==event){options.domOperation();runner.end()}if(!isValidAnimation){clearElementAnimationState(node)}return}event=!animationDetails.structural&&hasAnimationClasses(animationDetails,true)?"setClass":animationDetails.event;markElementAnimationState(node,RUNNING_STATE);var realRunner=$$animation(element,event,animationDetails.options);runner.setHost(realRunner);notifyProgress(runner,event,"start",getEventData(options));realRunner.done(function(status){close(!status);var animationDetails=activeAnimationsLookup.get(node);if(animationDetails&&animationDetails.counter===counter){clearElementAnimationState(node)}notifyProgress(runner,event,"close",getEventData(options))})});return runner;function notifyProgress(runner,event,phase,data){runInNextPostDigestOrNow(function(){var callbacks=findCallbacks(parentNode,node,event);if(callbacks.length){$$rAF(function(){forEach(callbacks,function(callback){callback(element,phase,data)});cleanupEventListeners(phase,node)})}else{cleanupEventListeners(phase,node)}});runner.progress(event,phase,data)}function close(reject){clearGeneratedClasses(element,options);applyAnimationClasses(element,options);applyAnimationStyles(element,options);options.domOperation();runner.complete(!reject)}}function closeChildAnimations(node){var children=node.querySelectorAll("["+NG_ANIMATE_ATTR_NAME+"]");forEach(children,function(child){var state=parseInt(child.getAttribute(NG_ANIMATE_ATTR_NAME),10);var animationDetails=activeAnimationsLookup.get(child);if(animationDetails){switch(state){case RUNNING_STATE:animationDetails.runner.end();case PRE_DIGEST_STATE:activeAnimationsLookup.delete(child);break}}})}function clearElementAnimationState(node){node.removeAttribute(NG_ANIMATE_ATTR_NAME);activeAnimationsLookup.delete(node)}function areAnimationsAllowed(node,parentNode,event){var bodyNode=$document[0].body;var rootNode=getDomNode($rootElement);var bodyNodeDetected=node===bodyNode||node.nodeName==="HTML";var rootNodeDetected=node===rootNode;var parentAnimationDetected=false;var elementDisabled=disabledElementsLookup.get(node);var animateChildren;var parentHost=jqLite.data(node,NG_ANIMATE_PIN_DATA);if(parentHost){parentNode=getDomNode(parentHost)}while(parentNode){if(!rootNodeDetected){rootNodeDetected=parentNode===rootNode}if(parentNode.nodeType!==ELEMENT_NODE){break}var details=activeAnimationsLookup.get(parentNode)||{};if(!parentAnimationDetected){var parentNodeDisabled=disabledElementsLookup.get(parentNode);if(parentNodeDisabled===true&&elementDisabled!==false){elementDisabled=true;break}else if(parentNodeDisabled===false){elementDisabled=false}parentAnimationDetected=details.structural}if(isUndefined(animateChildren)||animateChildren===true){var value=jqLite.data(parentNode,NG_ANIMATE_CHILDREN_DATA);if(isDefined(value)){animateChildren=value}}if(parentAnimationDetected&&animateChildren===false)break;if(!bodyNodeDetected){bodyNodeDetected=parentNode===bodyNode}if(bodyNodeDetected&&rootNodeDetected){break}if(!rootNodeDetected){parentHost=jqLite.data(parentNode,NG_ANIMATE_PIN_DATA);if(parentHost){parentNode=getDomNode(parentHost);continue}}parentNode=parentNode.parentNode}var allowAnimation=(!parentAnimationDetected||animateChildren)&&elementDisabled!==true;return allowAnimation&&rootNodeDetected&&bodyNodeDetected}function markElementAnimationState(node,state,details){details=details||{};details.state=state;node.setAttribute(NG_ANIMATE_ATTR_NAME,state);var oldValue=activeAnimationsLookup.get(node);var newValue=oldValue?extend(oldValue,details):details;activeAnimationsLookup.set(node,newValue)}}]}];var $$AnimateCacheProvider=function(){var KEY="$$ngAnimateParentKey";var parentCounter=0;var cache=Object.create(null);this.$get=[function(){return{cacheKey:function(node,method,addClass,removeClass){var parentNode=node.parentNode;var parentID=parentNode[KEY]||(parentNode[KEY]=++parentCounter);var parts=[parentID,method,node.getAttribute("class")];if(addClass){parts.push(addClass)}if(removeClass){parts.push(removeClass)}return parts.join(" ")},containsCachedAnimationWithoutDuration:function(key){var entry=cache[key];return entry&&!entry.isValid||false},flush:function(){cache=Object.create(null)},count:function(key){var entry=cache[key];return entry?entry.total:0},get:function(key){var entry=cache[key];return entry&&entry.value},put:function(key,value,isValid){if(!cache[key]){cache[key]={total:1,value:value,isValid:isValid}}else{cache[key].total++;cache[key].value=value}}}}]};var $$AnimationProvider=["$animateProvider",function($animateProvider){var NG_ANIMATE_REF_ATTR="ng-animate-ref";var drivers=this.drivers=[];var RUNNER_STORAGE_KEY="$$animationRunner";var PREPARE_CLASSES_KEY="$$animatePrepareClasses";function setRunner(element,runner){element.data(RUNNER_STORAGE_KEY,runner)}function removeRunner(element){element.removeData(RUNNER_STORAGE_KEY)}function getRunner(element){return element.data(RUNNER_STORAGE_KEY)}this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler","$$animateCache",function($$jqLite,$rootScope,$injector,$$AnimateRunner,$$Map,$$rAFScheduler,$$animateCache){var animationQueue=[];var applyAnimationClasses=applyAnimationClassesFactory($$jqLite);function sortAnimations(animations){var tree={children:[]};var i,lookup=new $$Map;for(i=0;i<animations.length;i++){var animation=animations[i];lookup.set(animation.domNode,animations[i]={domNode:animation.domNode,element:animation.element,fn:animation.fn,children:[]})}for(i=0;i<animations.length;i++){processNode(animations[i])}return flatten(tree);function processNode(entry){if(entry.processed)return entry;entry.processed=true;var elementNode=entry.domNode;var parentNode=elementNode.parentNode;lookup.set(elementNode,entry);var parentEntry;while(parentNode){parentEntry=lookup.get(parentNode);if(parentEntry){if(!parentEntry.processed){parentEntry=processNode(parentEntry)}break}parentNode=parentNode.parentNode}(parentEntry||tree).children.push(entry);return entry}function flatten(tree){var result=[];var queue=[];var i;for(i=0;i<tree.children.length;i++){queue.push(tree.children[i])}var remainingLevelEntries=queue.length;var nextLevelEntries=0;var row=[];for(i=0;i<queue.length;i++){var entry=queue[i];if(remainingLevelEntries<=0){remainingLevelEntries=nextLevelEntries;nextLevelEntries=0;result.push(row);row=[]}row.push(entry);entry.children.forEach(function(childEntry){nextLevelEntries++;queue.push(childEntry)});remainingLevelEntries--}if(row.length){result.push(row)}return result}}return function(element,event,options){options=prepareAnimationOptions(options);var isStructural=["enter","move","leave"].indexOf(event)>=0;var runner=new $$AnimateRunner({end:function(){close()},cancel:function(){close(true)}});if(!drivers.length){close();return runner}var classes=mergeClasses(element.attr("class"),mergeClasses(options.addClass,options.removeClass));var tempClasses=options.tempClasses;if(tempClasses){classes+=" "+tempClasses;options.tempClasses=null}if(isStructural){element.data(PREPARE_CLASSES_KEY,"ng-"+event+PREPARE_CLASS_SUFFIX)}setRunner(element,runner);animationQueue.push({element:element,classes:classes,event:event,structural:isStructural,options:options,beforeStart:beforeStart,close:close});element.on("$destroy",handleDestroyedElement);if(animationQueue.length>1)return runner;$rootScope.$$postDigest(function(){var animations=[];forEach(animationQueue,function(entry){if(getRunner(entry.element)){animations.push(entry)}else{entry.close()}});animationQueue.length=0;var groupedAnimations=groupAnimations(animations);var toBeSortedAnimations=[];forEach(groupedAnimations,function(animationEntry){var element=animationEntry.from?animationEntry.from.element:animationEntry.element;var extraClasses=options.addClass;extraClasses=(extraClasses?extraClasses+" ":"")+NG_ANIMATE_CLASSNAME;var cacheKey=$$animateCache.cacheKey(element[0],animationEntry.event,extraClasses,options.removeClass);toBeSortedAnimations.push({element:element,domNode:getDomNode(element),fn:function triggerAnimationStart(){var startAnimationFn,closeFn=animationEntry.close;if($$animateCache.containsCachedAnimationWithoutDuration(cacheKey)){closeFn();return}animationEntry.beforeStart();var targetElement=animationEntry.anchors?animationEntry.from.element||animationEntry.to.element:animationEntry.element;if(getRunner(targetElement)){var operation=invokeFirstDriver(animationEntry);if(operation){startAnimationFn=operation.start}}if(!startAnimationFn){closeFn()}else{var animationRunner=startAnimationFn();animationRunner.done(function(status){closeFn(!status)});updateAnimationRunners(animationEntry,animationRunner)}}})});var finalAnimations=sortAnimations(toBeSortedAnimations);for(var i=0;i<finalAnimations.length;i++){var innerArray=finalAnimations[i];for(var j=0;j<innerArray.length;j++){var entry=innerArray[j];var element=entry.element;finalAnimations[i][j]=entry.fn;if(i===0){element.removeData(PREPARE_CLASSES_KEY);continue}var prepareClassName=element.data(PREPARE_CLASSES_KEY);if(prepareClassName){$$jqLite.addClass(element,prepareClassName)}}}$$rAFScheduler(finalAnimations)});return runner;function getAnchorNodes(node){var SELECTOR="["+NG_ANIMATE_REF_ATTR+"]";var items=node.hasAttribute(NG_ANIMATE_REF_ATTR)?[node]:node.querySelectorAll(SELECTOR);var anchors=[];forEach(items,function(node){var attr=node.getAttribute(NG_ANIMATE_REF_ATTR);if(attr&&attr.length){anchors.push(node)}});return anchors}function groupAnimations(animations){var preparedAnimations=[];var refLookup={};forEach(animations,function(animation,index){var element=animation.element;var node=getDomNode(element);var event=animation.event;var enterOrMove=["enter","move"].indexOf(event)>=0;var anchorNodes=animation.structural?getAnchorNodes(node):[];if(anchorNodes.length){var direction=enterOrMove?"to":"from";forEach(anchorNodes,function(anchor){var key=anchor.getAttribute(NG_ANIMATE_REF_ATTR);refLookup[key]=refLookup[key]||{};refLookup[key][direction]={animationID:index,element:jqLite(anchor)}})}else{preparedAnimations.push(animation)}});var usedIndicesLookup={};var anchorGroups={};forEach(refLookup,function(operations,key){var from=operations.from;var to=operations.to;if(!from||!to){var index=from?from.animationID:to.animationID;var indexKey=index.toString();if(!usedIndicesLookup[indexKey]){usedIndicesLookup[indexKey]=true;preparedAnimations.push(animations[index])}return}var fromAnimation=animations[from.animationID];var toAnimation=animations[to.animationID];var lookupKey=from.animationID.toString();if(!anchorGroups[lookupKey]){var group=anchorGroups[lookupKey]={structural:true,beforeStart:function(){fromAnimation.beforeStart();toAnimation.beforeStart()},close:function(){fromAnimation.close();toAnimation.close()},classes:cssClassesIntersection(fromAnimation.classes,toAnimation.classes),from:fromAnimation,to:toAnimation,anchors:[]};if(group.classes.length){preparedAnimations.push(group)}else{preparedAnimations.push(fromAnimation);preparedAnimations.push(toAnimation)}}anchorGroups[lookupKey].anchors.push({out:from.element,in:to.element})});return preparedAnimations}function cssClassesIntersection(a,b){a=a.split(" ");b=b.split(" ");var matches=[];for(var i=0;i<a.length;i++){var aa=a[i];if(aa.substring(0,3)==="ng-")continue;for(var j=0;j<b.length;j++){if(aa===b[j]){matches.push(aa);break}}}return matches.join(" ")}function invokeFirstDriver(animationDetails){for(var i=drivers.length-1;i>=0;i--){var driverName=drivers[i];var factory=$injector.get(driverName);var driver=factory(animationDetails);if(driver){return driver}}}function beforeStart(){tempClasses=(tempClasses?tempClasses+" ":"")+NG_ANIMATE_CLASSNAME;$$jqLite.addClass(element,tempClasses);var prepareClassName=element.data(PREPARE_CLASSES_KEY);if(prepareClassName){$$jqLite.removeClass(element,prepareClassName);prepareClassName=null}}function updateAnimationRunners(animation,newRunner){if(animation.from&&animation.to){update(animation.from.element);update(animation.to.element)}else{update(animation.element)}function update(element){var runner=getRunner(element);if(runner)runner.setHost(newRunner)}}function handleDestroyedElement(){var runner=getRunner(element);if(runner&&(event!=="leave"||!options.$$domOperationFired)){runner.end()}}function close(rejected){element.off("$destroy",handleDestroyedElement);removeRunner(element);applyAnimationClasses(element,options);applyAnimationStyles(element,options);options.domOperation();if(tempClasses){$$jqLite.removeClass(element,tempClasses)}runner.complete(!rejected)}}}]}];var ngAnimateSwapDirective=["$animate",function($animate){return{restrict:"A",transclude:"element",terminal:true,priority:600,link:function(scope,$element,attrs,ctrl,$transclude){var previousElement,previousScope;scope.$watchCollection(attrs.ngAnimateSwap||attrs["for"],function(value){if(previousElement){$animate.leave(previousElement)}if(previousScope){previousScope.$destroy();previousScope=null}if(value||value===0){$transclude(function(clone,childScope){previousElement=clone;previousScope=childScope;$animate.enter(clone,null,$element)})}})}}}];var copy;var extend;var forEach;var isArray;var isDefined;var isElement;var isFunction;var isObject;var isString;var isUndefined;var jqLite;var noop;angular.module("ngAnimate",[],function initAngularHelpers(){noop=angular.noop;copy=angular.copy;extend=angular.extend;jqLite=angular.element;forEach=angular.forEach;isArray=angular.isArray;isString=angular.isString;isObject=angular.isObject;isUndefined=angular.isUndefined;isDefined=angular.isDefined;isFunction=angular.isFunction;isElement=angular.isElement}).info({angularVersion:"1.7.5"}).directive("ngAnimateSwap",ngAnimateSwapDirective).directive("ngAnimateChildren",$$AnimateChildrenDirective).factory("$$rAFScheduler",$$rAFSchedulerFactory).provider("$$animateQueue",$$AnimateQueueProvider).provider("$$animateCache",$$AnimateCacheProvider).provider("$$animation",$$AnimationProvider).provider("$animateCss",$AnimateCssProvider).provider("$$animateCssDriver",$$AnimateCssDriverProvider).provider("$$animateJs",$$AnimateJsProvider).provider("$$animateJsDriver",$$AnimateJsDriverProvider)})(window,window.angular);(function(window,angular,undefined){"use strict";(function(){"use strict";angular.module("ngMaterial",["ng","ngAnimate","ngAria","material.core","material.core.gestures","material.core.theming.palette","material.core.theming","material.components.autocomplete","material.components.bottomSheet","material.components.backdrop","material.components.card","material.components.checkbox","material.components.content","material.components.button","material.components.divider","material.components.chips","material.components.dialog","material.components.fabSpeedDial","material.components.fabActions","material.components.fabToolbar","material.components.fabTrigger","material.components.gridList","material.components.icon","material.components.input","material.components.list","material.components.menu","material.components.progressCircular","material.components.progressLinear","material.components.radioButton","material.components.select","material.components.sidenav","material.components.slider","material.components.sticky","material.components.subheader","material.components.swipe","material.components.switch","material.components.tabs","material.components.toast","material.components.toolbar","material.components.tooltip","material.components.virtualRepeat","material.components.whiteframe"])})();(function(){"use strict";angular.module("material.core",["material.core.gestures","material.core.theming"]).config(MdCoreConfigure);function MdCoreConfigure($provide,$mdThemingProvider){$provide.decorator("$$rAF",["$delegate",rAFDecorator]);$mdThemingProvider.theme("default").primaryPalette("indigo").accentPalette("pink").warnPalette("red").backgroundPalette("grey")}MdCoreConfigure.$inject=["$provide","$mdThemingProvider"];function rAFDecorator($delegate){$delegate.throttle=function(cb){var queuedArgs,alreadyQueued,queueCb,context;return function debounced(){queuedArgs=arguments;context=this;queueCb=cb;if(!alreadyQueued){alreadyQueued=true;$delegate(function(){queueCb.apply(context,Array.prototype.slice.call(queuedArgs));alreadyQueued=false})}}};return $delegate}})();(function(){"use strict";angular.module("material.core").factory("$$mdAnimate",["$$rAF","$q","$timeout","$mdConstant",function($$rAF,$q,$timeout,$mdConstant){return function($mdUtil){return AnimateDomUtils($mdUtil,$$rAF,$q,$timeout,$mdConstant)}}]);function AnimateDomUtils($mdUtil,$$rAF,$q,$timeout,$mdConstant){var self;return self={translate3d:function(target,from,to,options){target.css(from);$$rAF(function(){target.css(to).addClass(options.transitionInClass)});return self.waitTransitionEnd(target).then(function(){return reverseTranslate});function reverseTranslate(newFrom){target.removeClass(options.transitionInClass).addClass(options.transitionOutClass).css(newFrom||from);return self.waitTransitionEnd(target)}},waitTransitionEnd:function(element,opts){var TIMEOUT=3e3;return $q(function(resolve,reject){opts=opts||{};var timer=$timeout(finished,opts.timeout||TIMEOUT);element.on($mdConstant.CSS.TRANSITIONEND,finished);function finished(ev){if(ev&&ev.target!==element[0])return;if(ev)$timeout.cancel(timer);element.off($mdConstant.CSS.TRANSITIONEND,finished);resolve()}})},calculateZoomToOrigin:function(element,originator){var origin=originator.element;var zoomTemplate="translate3d( {centerX}px, {centerY}px, 0 ) scale( {scaleX}, {scaleY} )";var buildZoom=angular.bind(null,$mdUtil.supplant,zoomTemplate);var zoomStyle=buildZoom({centerX:0,centerY:0,scaleX:.5,scaleY:.5});if(origin){var originBnds=self.clientRect(origin)||self.copyRect(originator.bounds);var dialogRect=self.copyRect(element[0].getBoundingClientRect());var dialogCenterPt=self.centerPointFor(dialogRect);var originCenterPt=self.centerPointFor(originBnds);zoomStyle=buildZoom({centerX:originCenterPt.x-dialogCenterPt.x,centerY:originCenterPt.y-dialogCenterPt.y,scaleX:Math.min(.5,originBnds.width/dialogRect.width),scaleY:Math.min(.5,originBnds.height/dialogRect.height)})}return zoomStyle},toTransformCss:function(transform,addTransition){var css={};angular.forEach($mdConstant.CSS.TRANSFORM.split(" "),function(key){css[key]=transform});if(addTransition)css["transition"]="all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1) !important";return css},copyRect:function(source,destination){if(!source)return null;destination=destination||{};angular.forEach("left top right bottom width height".split(" "),function(key){destination[key]=Math.round(source[key])});destination.width=destination.width||destination.right-destination.left;destination.height=destination.height||destination.bottom-destination.top;return destination},clientRect:function(element){var bounds=angular.element(element)[0].getBoundingClientRect();var isPositiveSizeClientRect=function(rect){return rect&&rect.width>0&&rect.height>0};return isPositiveSizeClientRect(bounds)?self.copyRect(bounds):null},centerPointFor:function(targetRect){return{x:Math.round(targetRect.left+targetRect.width/2),y:Math.round(targetRect.top+targetRect.height/2)}}}}})();(function(){"use strict";angular.module("material.core").factory("$mdConstant",MdConstantFactory);function MdConstantFactory($sniffer){var webkit=/webkit/i.test($sniffer.vendorPrefix);function vendorProperty(name){return webkit?"webkit"+name.charAt(0).toUpperCase()+name.substring(1):name}return{KEY_CODE:{ENTER:13,ESCAPE:27,SPACE:32,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,TAB:9,BACKSPACE:8,DELETE:46},CSS:{TRANSITIONEND:"transitionend"+(webkit?" webkitTransitionEnd":""),ANIMATIONEND:"animationend"+(webkit?" webkitAnimationEnd":""),TRANSFORM:vendorProperty("transform"),TRANSFORM_ORIGIN:vendorProperty("transformOrigin"),TRANSITION:vendorProperty("transition"),TRANSITION_DURATION:vendorProperty("transitionDuration"),ANIMATION_PLAY_STATE:vendorProperty("animationPlayState"),ANIMATION_DURATION:vendorProperty("animationDuration"),ANIMATION_NAME:vendorProperty("animationName"),ANIMATION_TIMING:vendorProperty("animationTimingFunction"),ANIMATION_DIRECTION:vendorProperty("animationDirection")},MEDIA:{sm:"(max-width: 599px)","gt-sm":"(min-width: 600px)",md:"(min-width: 600px) and (max-width: 959px)","gt-md":"(min-width: 960px)",lg:"(min-width: 960px) and (max-width: 1199px)","gt-lg":"(min-width: 1200px)"},MEDIA_PRIORITY:["gt-lg","lg","gt-md","md","gt-sm","sm"]}}MdConstantFactory.$inject=["$sniffer"]})();(function(){"use strict";angular.module("material.core").config(["$provide",function($provide){$provide.decorator("$mdUtil",["$delegate",function($delegate){$delegate.iterator=MdIterator;return $delegate}])}]);function MdIterator(items,reloop){var trueFn=function(){return true};if(items&&!angular.isArray(items)){items=Array.prototype.slice.call(items)}reloop=!!reloop;var _items=items||[];return{items:getItems,count:count,inRange:inRange,contains:contains,indexOf:indexOf,itemAt:itemAt,findBy:findBy,add:add,remove:remove,first:first,last:last,next:angular.bind(null,findSubsequentItem,false),previous:angular.bind(null,findSubsequentItem,true),hasPrevious:hasPrevious,hasNext:hasNext};function getItems(){return[].concat(_items)}function count(){return _items.length}function inRange(index){return _items.length&&index>-1&&index<_items.length}function hasNext(item){return item?inRange(indexOf(item)+1):false}function hasPrevious(item){return item?inRange(indexOf(item)-1):false}function itemAt(index){return inRange(index)?_items[index]:null}function findBy(key,val){return _items.filter(function(item){return item[key]===val})}function add(item,index){if(!item)return-1;if(!angular.isNumber(index)){index=_items.length}_items.splice(index,0,item);return indexOf(item)}function remove(item){if(contains(item)){_items.splice(indexOf(item),1)}}function indexOf(item){return _items.indexOf(item)}function contains(item){return item&&indexOf(item)>-1}function first(){return _items.length?_items[0]:null}function last(){return _items.length?_items[_items.length-1]:null}function findSubsequentItem(backwards,item,validate,limit){validate=validate||trueFn;var curIndex=indexOf(item);while(true){if(!inRange(curIndex))return null;var nextIndex=curIndex+(backwards?-1:1);var foundItem=null;if(inRange(nextIndex)){foundItem=_items[nextIndex]}else if(reloop){foundItem=backwards?last():first();nextIndex=indexOf(foundItem)}if(foundItem===null||nextIndex===limit)return null;if(validate(foundItem))return foundItem;if(angular.isUndefined(limit))limit=nextIndex;curIndex=nextIndex}}}})();(function(){"use strict";angular.module("material.core").factory("$mdMedia",mdMediaFactory);function mdMediaFactory($mdConstant,$rootScope,$window){var queries={};var mqls={};var results={};var normalizeCache={};$mdMedia.getResponsiveAttribute=getResponsiveAttribute;$mdMedia.getQuery=getQuery;$mdMedia.watchResponsiveAttributes=watchResponsiveAttributes;return $mdMedia;function $mdMedia(query){var validated=queries[query];if(angular.isUndefined(validated)){validated=queries[query]=validate(query)}var result=results[validated];if(angular.isUndefined(result)){result=add(validated)}return result}function validate(query){return $mdConstant.MEDIA[query]||(query.charAt(0)!=="("?"("+query+")":query)}function add(query){var result=mqls[query]=$window.matchMedia(query);result.addListener(onQueryChange);return results[result.media]=!!result.matches}function onQueryChange(query){$rootScope.$evalAsync(function(){results[query.media]=!!query.matches})}function getQuery(name){return mqls[name]}function getResponsiveAttribute(attrs,attrName){for(var i=0;i<$mdConstant.MEDIA_PRIORITY.length;i++){var mediaName=$mdConstant.MEDIA_PRIORITY[i];if(!mqls[queries[mediaName]].matches){continue}var normalizedName=getNormalizedName(attrs,attrName+"-"+mediaName);if(attrs[normalizedName]){return attrs[normalizedName]}}return attrs[getNormalizedName(attrs,attrName)]}function watchResponsiveAttributes(attrNames,attrs,watchFn){var unwatchFns=[];attrNames.forEach(function(attrName){var normalizedName=getNormalizedName(attrs,attrName);if(attrs[normalizedName]){unwatchFns.push(attrs.$observe(normalizedName,angular.bind(void 0,watchFn,null)))}for(var mediaName in $mdConstant.MEDIA){normalizedName=getNormalizedName(attrs,attrName+"-"+mediaName);if(!attrs[normalizedName]){return}unwatchFns.push(attrs.$observe(normalizedName,angular.bind(void 0,watchFn,mediaName)))}});return function unwatch(){unwatchFns.forEach(function(fn){fn()})}}function getNormalizedName(attrs,attrName){return normalizeCache[attrName]||(normalizeCache[attrName]=attrs.$normalize(attrName))}}mdMediaFactory.$inject=["$mdConstant","$rootScope","$window"]})();(function(){"use strict";var nextUniqueId=0;angular.module("material.core").factory("$mdUtil",["$cacheFactory","$document","$timeout","$q","$compile","$window","$mdConstant","$$rAF","$rootScope","$$mdAnimate",function($cacheFactory,$document,$timeout,$q,$compile,$window,$mdConstant,$$rAF,$rootScope,$$mdAnimate){var $mdUtil={dom:{},now:window.performance?angular.bind(window.performance,window.performance.now):Date.now,clientRect:function(element,offsetParent,isOffsetRect){var node=getNode(element);offsetParent=getNode(offsetParent||node.offsetParent||document.body);var nodeRect=node.getBoundingClientRect();var offsetRect=isOffsetRect?offsetParent.getBoundingClientRect():{left:0,top:0,width:0,height:0};return{left:nodeRect.left-offsetRect.left,top:nodeRect.top-offsetRect.top,width:nodeRect.width,height:nodeRect.height}},offsetRect:function(element,offsetParent){return $mdUtil.clientRect(element,offsetParent,true)},nodesToArray:function(nodes){nodes=nodes||[];var results=[];for(var i=0;i<nodes.length;++i){results.push(nodes.item(i))}return results},scrollTop:function(element){element=angular.element(element||$document[0].body);var body=element[0]==$document[0].body?$document[0].body:undefined;var scrollTop=body?body.scrollTop+body.parentElement.scrollTop:0;return scrollTop||Math.abs(element[0].getBoundingClientRect().top)},disableScrollAround:function(element,parent){$mdUtil.disableScrollAround._count=$mdUtil.disableScrollAround._count||0;++$mdUtil.disableScrollAround._count;if($mdUtil.disableScrollAround._enableScrolling)return $mdUtil.disableScrollAround._enableScrolling;element=angular.element(element);var body=$document[0].body,restoreBody=disableBodyScroll(),restoreElement=disableElementScroll(parent);return $mdUtil.disableScrollAround._enableScrolling=function(){if(!--$mdUtil.disableScrollAround._count){restoreBody();restoreElement();delete $mdUtil.disableScrollAround._enableScrolling}};function disableElementScroll(element){element=angular.element(element||body)[0];var zIndex=50;var scrollMask=angular.element('<div class="md-scroll-mask" style="z-index: '+zIndex+'">'+'  <div class="md-scroll-mask-bar"></div>'+"</div>");element.appendChild(scrollMask[0]);scrollMask.on("wheel",preventDefault);scrollMask.on("touchmove",preventDefault);$document.on("keydown",disableKeyNav);return function restoreScroll(){scrollMask.off("wheel");scrollMask.off("touchmove");scrollMask[0].parentNode.removeChild(scrollMask[0]);$document.off("keydown",disableKeyNav);delete $mdUtil.disableScrollAround._enableScrolling};function disableKeyNav(e){return;if(!element[0].contains(e.target)){e.preventDefault();e.stopImmediatePropagation()}}function preventDefault(e){e.preventDefault()}}function disableBodyScroll(){var htmlNode=body.parentNode;var restoreHtmlStyle=htmlNode.getAttribute("style")||"";var restoreBodyStyle=body.getAttribute("style")||"";var scrollOffset=$mdUtil.scrollTop(body);var clientWidth=body.clientWidth;if(body.scrollHeight>body.clientHeight){applyStyles(body,{position:"fixed",width:"100%",top:-scrollOffset+"px"});applyStyles(htmlNode,{overflowY:"scroll"})}if(body.clientWidth<clientWidth)applyStyles(body,{overflow:"hidden"});return function restoreScroll(){body.setAttribute("style",restoreBodyStyle);htmlNode.setAttribute("style",restoreHtmlStyle);body.scrollTop=scrollOffset}}function applyStyles(el,styles){for(var key in styles){el.style[key]=styles[key]}}},enableScrolling:function(){var method=this.disableScrollAround._enableScrolling;method&&method()},floatingScrollbars:function(){if(this.floatingScrollbars.cached===undefined){var tempNode=angular.element('<div style="width: 100%; z-index: -1; position: absolute; height: 35px; overflow-y: scroll"><div style="height: 60;"></div></div>');$document[0].body.appendChild(tempNode[0]);this.floatingScrollbars.cached=tempNode[0].offsetWidth==tempNode[0].childNodes[0].offsetWidth;tempNode.remove()}return this.floatingScrollbars.cached},forceFocus:function(element){var node=element[0]||element;document.addEventListener("click",function focusOnClick(ev){if(ev.target===node&&ev.$focus){node.focus();ev.stopImmediatePropagation();ev.preventDefault();node.removeEventListener("click",focusOnClick)}},true);var newEvent=document.createEvent("MouseEvents");newEvent.initMouseEvent("click",false,true,window,{},0,0,0,0,false,false,false,false,0,null);newEvent.$material=true;newEvent.$focus=true;node.dispatchEvent(newEvent)},createBackdrop:function(scope,addClass){return $compile($mdUtil.supplant('<md-backdrop class="{0}">',[addClass]))(scope)},supplant:function(template,values,pattern){pattern=pattern||/\{([^\{\}]*)\}/g;return template.replace(pattern,function(a,b){var p=b.split("."),r=values;try{for(var s in p){r=r[p[s]]}}catch(e){r=a}return typeof r==="string"||typeof r==="number"?r:a})},fakeNgModel:function(){return{$fake:true,$setTouched:angular.noop,$setViewValue:function(value){this.$viewValue=value;this.$render(value);this.$viewChangeListeners.forEach(function(cb){cb()})},$isEmpty:function(value){return(""+value).length===0},$parsers:[],$formatters:[],$viewChangeListeners:[],$render:angular.noop}},debounce:function(func,wait,scope,invokeApply){var timer;return function debounced(){var context=scope,args=Array.prototype.slice.call(arguments);$timeout.cancel(timer);timer=$timeout(function(){timer=undefined;func.apply(context,args)},wait||10,invokeApply)}},throttle:function throttle(func,delay){var recent;return function throttled(){var context=this;var args=arguments;var now=$mdUtil.now();if(!recent||now-recent>delay){func.apply(context,args);recent=now}}},time:function time(cb){var start=$mdUtil.now();cb();return $mdUtil.now()-start},nextUid:function(){return""+nextUniqueId++},disconnectScope:function disconnectScope(scope){if(!scope)return;if(scope.$root===scope)return;if(scope.$$destroyed)return;var parent=scope.$parent;scope.$$disconnected=true;if(parent.$$childHead===scope)parent.$$childHead=scope.$$nextSibling;if(parent.$$childTail===scope)parent.$$childTail=scope.$$prevSibling;if(scope.$$prevSibling)scope.$$prevSibling.$$nextSibling=scope.$$nextSibling;if(scope.$$nextSibling)scope.$$nextSibling.$$prevSibling=scope.$$prevSibling;scope.$$nextSibling=scope.$$prevSibling=null},reconnectScope:function reconnectScope(scope){if(!scope)return;if(scope.$root===scope)return;if(!scope.$$disconnected)return;var child=scope;var parent=child.$parent;child.$$disconnected=false;child.$$prevSibling=parent.$$childTail;if(parent.$$childHead){parent.$$childTail.$$nextSibling=child;parent.$$childTail=child}else{parent.$$childHead=parent.$$childTail=child}},getClosest:function getClosest(el,tagName,onlyParent){if(el instanceof angular.element)el=el[0];tagName=tagName.toUpperCase();if(onlyParent)el=el.parentNode;if(!el)return null;do{if(el.nodeName===tagName){return el}}while(el=el.parentNode);return null},extractElementByName:function(element,nodeName){for(var i=0,len=element.length;i<len;i++){if(element[i].nodeName.toLowerCase()===nodeName){return angular.element(element[i])}}return element},initOptionalProperties:function(scope,attr,defaults){defaults=defaults||{};angular.forEach(scope.$$isolateBindings,function(binding,key){if(binding.optional&&angular.isUndefined(scope[key])){var attrIsDefined=angular.isDefined(attr[binding.attrName]);scope[key]=angular.isDefined(defaults[key])?defaults[key]:attrIsDefined}})},nextTick:function(callback,digest){var nextTick=$mdUtil.nextTick;var timeout=nextTick.timeout;var queue=nextTick.queue||[];queue.push(callback);if(digest==null)digest=true;nextTick.digest=nextTick.digest||digest;nextTick.queue=queue;return timeout||(nextTick.timeout=$timeout(processQueue,0,false));function processQueue(){var queue=nextTick.queue;var digest=nextTick.digest;nextTick.queue=[];nextTick.timeout=null;nextTick.digest=false;queue.forEach(function(callback){callback()});if(digest)$rootScope.$digest()}}};$mdUtil.dom.animator=$$mdAnimate($mdUtil);return $mdUtil;function getNode(el){return el[0]||el}}]);angular.element.prototype.focus=angular.element.prototype.focus||function(){if(this.length){this[0].focus()}return this};angular.element.prototype.blur=angular.element.prototype.blur||function(){if(this.length){this[0].blur()}return this}})();(function(){"use strict";angular.module("material.core").service("$mdAria",AriaService);function AriaService($$rAF,$log,$window){return{expect:expect,expectAsync:expectAsync,expectWithText:expectWithText};function expect(element,attrName,defaultValue){var node=element[0]||element;if(node&&((!node.hasAttribute(attrName)||node.getAttribute(attrName).length===0)&&!childHasAttribute(node,attrName))){defaultValue=angular.isString(defaultValue)?defaultValue.trim():"";if(defaultValue.length){element.attr(attrName,defaultValue)}else{$log.warn('ARIA: Attribute "',attrName,'", required for accessibility, is missing on node:',node)}}}function expectAsync(element,attrName,defaultValueGetter){$$rAF(function(){expect(element,attrName,defaultValueGetter())})}function expectWithText(element,attrName){expectAsync(element,attrName,function(){return getText(element)})}function getText(element){return element.text().trim()}function childHasAttribute(node,attrName){var hasChildren=node.hasChildNodes(),hasAttr=false;function isHidden(el){var style=el.currentStyle?el.currentStyle:$window.getComputedStyle(el);return style.display==="none"}if(hasChildren){var children=node.childNodes;for(var i=0;i<children.length;i++){var child=children[i];if(child.nodeType===1&&child.hasAttribute(attrName)){if(!isHidden(child)){hasAttr=true}}}}return hasAttr}}AriaService.$inject=["$$rAF","$log","$window"]})();(function(){"use strict";angular.module("material.core").service("$mdCompiler",mdCompilerService);function mdCompilerService($q,$http,$injector,$compile,$controller,$templateCache){this.compile=function(options){var templateUrl=options.templateUrl;var template=options.template||"";var controller=options.controller;var controllerAs=options.controllerAs;var resolve=angular.extend({},options.resolve||{});var locals=angular.extend({},options.locals||{});var transformTemplate=options.transformTemplate||angular.identity;var bindToController=options.bindToController;angular.forEach(resolve,function(value,key){if(angular.isString(value)){resolve[key]=$injector.get(value)}else{resolve[key]=$injector.invoke(value)}});angular.extend(resolve,locals);if(templateUrl){resolve.$template=$http.get(templateUrl,{cache:$templateCache}).then(function(response){return response.data})}else{resolve.$template=$q.when(template)}return $q.all(resolve).then(function(locals){var template=transformTemplate(locals.$template);var element=options.element||angular.element("<div>").html(template.trim()).contents();var linkFn=$compile(element);return{locals:locals,element:element,link:function link(scope){locals.$scope=scope;if(controller){var invokeCtrl=$controller(controller,locals,true);if(bindToController){angular.extend(invokeCtrl.instance,locals)}var ctrl=invokeCtrl();element.data("$ngControllerController",ctrl);element.children().data("$ngControllerController",ctrl);if(controllerAs){scope[controllerAs]=ctrl}}return linkFn(scope)}}})}}mdCompilerService.$inject=["$q","$http","$injector","$compile","$controller","$templateCache"]})();(function(){"use strict";var HANDLERS={};var pointer,lastPointer,forceSkipClickHijack=false;var isInitialized=false;angular.module("material.core.gestures",[]).provider("$mdGesture",MdGestureProvider).factory("$$MdGestureHandler",MdGestureHandler).run(attachToDocument);function MdGestureProvider(){}MdGestureProvider.prototype={skipClickHijack:function(){return forceSkipClickHijack=true},$get:["$$MdGestureHandler","$$rAF","$timeout",function($$MdGestureHandler,$$rAF,$timeout){return new MdGesture($$MdGestureHandler,$$rAF,$timeout)}]};function MdGesture($$MdGestureHandler,$$rAF,$timeout){var userAgent=navigator.userAgent||navigator.vendor||window.opera;var isIos=userAgent.match(/ipad|iphone|ipod/i);var isAndroid=userAgent.match(/android/i);var hasJQuery=typeof window.jQuery!=="undefined"&&angular.element===window.jQuery;var self={handler:addHandler,register:register,isHijackingClicks:(isIos||isAndroid)&&!hasJQuery&&!forceSkipClickHijack};if(self.isHijackingClicks){self.handler("click",{options:{maxDistance:6},onEnd:function(ev,pointer){if(pointer.distance<this.state.options.maxDistance){this.dispatchEvent(ev,"click")}}})}function register(element,handlerName,options){var handler=HANDLERS[handlerName.replace(/^\$md./,"")];if(!handler){throw new Error("Failed to register element with handler "+handlerName+". "+"Available handlers: "+Object.keys(HANDLERS).join(", "))}return handler.registerElement(element,options)}function addHandler(name,definition){var handler=new $$MdGestureHandler(name);angular.extend(handler,definition);HANDLERS[name]=handler;return self}return self.handler("press",{onStart:function(ev,pointer){this.dispatchEvent(ev,"$md.pressdown")},onEnd:function(ev,pointer){this.dispatchEvent(ev,"$md.pressup")}}).handler("hold",{options:{maxDistance:6,delay:500},onCancel:function(){$timeout.cancel(this.state.timeout)},onStart:function(ev,pointer){if(!this.state.registeredParent)return this.cancel();this.state.pos={x:pointer.x,y:pointer.y};this.state.timeout=$timeout(angular.bind(this,function holdDelayFn(){this.dispatchEvent(ev,"$md.hold");this.cancel()}),this.state.options.delay,false)},onMove:function(ev,pointer){ev.preventDefault();var dx=this.state.pos.x-pointer.x;var dy=this.state.pos.y-pointer.y;if(Math.sqrt(dx*dx+dy*dy)>this.options.maxDistance){this.cancel()}},onEnd:function(){this.onCancel()}}).handler("drag",{options:{minDistance:6,horizontal:true,cancelMultiplier:1.5},onStart:function(ev){if(!this.state.registeredParent)this.cancel()},onMove:function(ev,pointer){var shouldStartDrag,shouldCancel;ev.preventDefault();if(!this.state.dragPointer){if(this.state.options.horizontal){shouldStartDrag=Math.abs(pointer.distanceX)>this.state.options.minDistance;shouldCancel=Math.abs(pointer.distanceY)>this.state.options.minDistance*this.state.options.cancelMultiplier}else{shouldStartDrag=Math.abs(pointer.distanceY)>this.state.options.minDistance;shouldCancel=Math.abs(pointer.distanceX)>this.state.options.minDistance*this.state.options.cancelMultiplier}if(shouldStartDrag){this.state.dragPointer=makeStartPointer(ev);updatePointerState(ev,this.state.dragPointer);this.dispatchEvent(ev,"$md.dragstart",this.state.dragPointer)}else if(shouldCancel){this.cancel()}}else{this.dispatchDragMove(ev)}},dispatchDragMove:$$rAF.throttle(function(ev){if(this.state.isRunning){updatePointerState(ev,this.state.dragPointer);this.dispatchEvent(ev,"$md.drag",this.state.dragPointer)}}),onEnd:function(ev,pointer){if(this.state.dragPointer){updatePointerState(ev,this.state.dragPointer);this.dispatchEvent(ev,"$md.dragend",this.state.dragPointer)}}}).handler("swipe",{options:{minVelocity:.65,minDistance:10},onEnd:function(ev,pointer){if(Math.abs(pointer.velocityX)>this.state.options.minVelocity&&Math.abs(pointer.distanceX)>this.state.options.minDistance){var eventType=pointer.directionX=="left"?"$md.swipeleft":"$md.swiperight";this.dispatchEvent(ev,eventType)}}})}MdGesture.$inject=["$$MdGestureHandler","$$rAF","$timeout"];function GestureHandler(name){this.name=name;this.state={}}function MdGestureHandler(){var hasJQuery=typeof window.jQuery!=="undefined"&&angular.element===window.jQuery;GestureHandler.prototype={options:{},dispatchEvent:hasJQuery?jQueryDispatchEvent:nativeDispatchEvent,onStart:angular.noop,onMove:angular.noop,onEnd:angular.noop,onCancel:angular.noop,start:function(ev,pointer){if(this.state.isRunning)return;var parentTarget=this.getNearestParent(ev.target);var parentTargetOptions=parentTarget&&parentTarget.$mdGesture[this.name]||{};this.state={isRunning:true,options:angular.extend({},this.options,parentTargetOptions),registeredParent:parentTarget};this.onStart(ev,pointer)},move:function(ev,pointer){if(!this.state.isRunning)return;this.onMove(ev,pointer)},end:function(ev,pointer){if(!this.state.isRunning)return;this.onEnd(ev,pointer);this.state.isRunning=false},cancel:function(ev,pointer){this.onCancel(ev,pointer);this.state={}},getNearestParent:function(node){var current=node;while(current){if((current.$mdGesture||{})[this.name]){return current}current=current.parentNode}return null},registerElement:function(element,options){var self=this;element[0].$mdGesture=element[0].$mdGesture||{};element[0].$mdGesture[this.name]=options||{};element.on("$destroy",onDestroy);return onDestroy;function onDestroy(){delete element[0].$mdGesture[self.name];element.off("$destroy",onDestroy)}}};return GestureHandler;function jQueryDispatchEvent(srcEvent,eventType,eventPointer){eventPointer=eventPointer||pointer;var eventObj=new angular.element.Event(eventType);eventObj.$material=true;eventObj.pointer=eventPointer;eventObj.srcEvent=srcEvent;angular.extend(eventObj,{clientX:eventPointer.x,clientY:eventPointer.y,screenX:eventPointer.x,screenY:eventPointer.y,pageX:eventPointer.x,pageY:eventPointer.y,ctrlKey:srcEvent.ctrlKey,altKey:srcEvent.altKey,shiftKey:srcEvent.shiftKey,metaKey:srcEvent.metaKey});angular.element(eventPointer.target).trigger(eventObj)}function nativeDispatchEvent(srcEvent,eventType,eventPointer){eventPointer=eventPointer||pointer;var eventObj;if(eventType==="click"){eventObj=document.createEvent("MouseEvents");eventObj.initMouseEvent("click",true,true,window,srcEvent.detail,eventPointer.x,eventPointer.y,eventPointer.x,eventPointer.y,srcEvent.ctrlKey,srcEvent.altKey,srcEvent.shiftKey,srcEvent.metaKey,srcEvent.button,srcEvent.relatedTarget||null)}else{eventObj=document.createEvent("CustomEvent");eventObj.initCustomEvent(eventType,true,true,{})}eventObj.$material=true;eventObj.pointer=eventPointer;eventObj.srcEvent=srcEvent;eventPointer.target.dispatchEvent(eventObj)}}function attachToDocument($mdGesture,$$MdGestureHandler){document.contains||(document.contains=function(node){return document.body.contains(node)});if(!isInitialized&&$mdGesture.isHijackingClicks){document.addEventListener("click",function clickHijacker(ev){var isKeyClick=ev.clientX===0&&ev.clientY===0;if(!isKeyClick&&!ev.$material&&!ev.isIonicTap){ev.preventDefault();ev.stopPropagation()}},true);isInitialized=true}var START_EVENTS="mousedown touchstart pointerdown";var MOVE_EVENTS="mousemove touchmove pointermove";var END_EVENTS="mouseup mouseleave touchend touchcancel pointerup pointercancel";angular.element(document).on(START_EVENTS,gestureStart).on(MOVE_EVENTS,gestureMove).on(END_EVENTS,gestureEnd).on("$$mdGestureReset",function gestureClearCache(){lastPointer=pointer=null});function runHandlers(handlerEvent,event){var handler;for(var name in HANDLERS){handler=HANDLERS[name];if(handler instanceof $$MdGestureHandler){if(handlerEvent==="start"){handler.cancel()}handler[handlerEvent](event,pointer)}}}function gestureStart(ev){if(pointer)return;var now=+Date.now();if(lastPointer&&!typesMatch(ev,lastPointer)&&now-lastPointer.endTime<1500){return}pointer=makeStartPointer(ev);runHandlers("start",ev)}function gestureMove(ev){if(!pointer||!typesMatch(ev,pointer))return;updatePointerState(ev,pointer);runHandlers("move",ev)}function gestureEnd(ev){if(!pointer||!typesMatch(ev,pointer))return;updatePointerState(ev,pointer);pointer.endTime=+Date.now();runHandlers("end",ev);lastPointer=pointer;pointer=null}}attachToDocument.$inject=["$mdGesture","$$MdGestureHandler"];function makeStartPointer(ev){var point=getEventPoint(ev);var startPointer={startTime:+Date.now(),target:ev.target,type:ev.type.charAt(0)};startPointer.startX=startPointer.x=point.pageX;startPointer.startY=startPointer.y=point.pageY;return startPointer}function typesMatch(ev,pointer){return ev&&pointer&&ev.type.charAt(0)===pointer.type}function updatePointerState(ev,pointer){var point=getEventPoint(ev);var x=pointer.x=point.pageX;var y=pointer.y=point.pageY;pointer.distanceX=x-pointer.startX;pointer.distanceY=y-pointer.startY;pointer.distance=Math.sqrt(pointer.distanceX*pointer.distanceX+pointer.distanceY*pointer.distanceY);pointer.directionX=pointer.distanceX>0?"right":pointer.distanceX<0?"left":"";pointer.directionY=pointer.distanceY>0?"up":pointer.distanceY<0?"down":"";pointer.duration=+Date.now()-pointer.startTime;pointer.velocityX=pointer.distanceX/pointer.duration;pointer.velocityY=pointer.distanceY/pointer.duration}function getEventPoint(ev){ev=ev.originalEvent||ev;return ev.touches&&ev.touches[0]||ev.changedTouches&&ev.changedTouches[0]||ev}})();(function(){"use strict";angular.module("material.core").provider("$$interimElement",InterimElementProvider);function InterimElementProvider(){createInterimElementProvider.$get=InterimElementFactory;InterimElementFactory.$inject=["$document","$q","$rootScope","$timeout","$rootElement","$animate","$interpolate","$mdCompiler","$mdTheming","$log"];return createInterimElementProvider;function createInterimElementProvider(interimFactoryName){var EXPOSED_METHODS=["onHide","onShow","onRemove"];var customMethods={};var providerConfig={presets:{}};var provider={setDefaults:setDefaults,addPreset:addPreset,addMethod:addMethod,$get:factory};provider.addPreset("build",{methods:["controller","controllerAs","resolve","template","templateUrl","themable","transformTemplate","parent"]});factory.$inject=["$$interimElement","$injector"];return provider;function setDefaults(definition){providerConfig.optionsFactory=definition.options;providerConfig.methods=(definition.methods||[]).concat(EXPOSED_METHODS);return provider}function addMethod(name,fn){customMethods[name]=fn;return provider}function addPreset(name,definition){definition=definition||{};definition.methods=definition.methods||[];definition.options=definition.options||function(){return{}};if(/^cancel|hide|show$/.test(name)){throw new Error("Preset '"+name+"' in "+interimFactoryName+" is reserved!")}if(definition.methods.indexOf("_options")>-1){throw new Error("Method '_options' in "+interimFactoryName+" is reserved!")}providerConfig.presets[name]={methods:definition.methods.concat(EXPOSED_METHODS),optionsFactory:definition.options,argOption:definition.argOption};return provider}function factory($$interimElement,$injector){var defaultMethods;var defaultOptions;var interimElementService=$$interimElement();var publicService={hide:interimElementService.hide,cancel:interimElementService.cancel,show:showInterimElement};defaultMethods=providerConfig.methods||[];defaultOptions=invokeFactory(providerConfig.optionsFactory,{});angular.forEach(customMethods,function(fn,name){publicService[name]=fn});angular.forEach(providerConfig.presets,function(definition,name){var presetDefaults=invokeFactory(definition.optionsFactory,{});var presetMethods=(definition.methods||[]).concat(defaultMethods);angular.extend(presetDefaults,{$type:name});function Preset(opts){this._options=angular.extend({},presetDefaults,opts)}angular.forEach(presetMethods,function(name){Preset.prototype[name]=function(value){this._options[name]=value;return this}});if(definition.argOption){var methodName="show"+name.charAt(0).toUpperCase()+name.slice(1);publicService[methodName]=function(arg){var config=publicService[name](arg);return publicService.show(config)}}publicService[name]=function(arg){if(arguments.length&&definition.argOption&&!angular.isObject(arg)&&!angular.isArray(arg)){return(new Preset)[definition.argOption](arg)}else{return new Preset(arg)}}});return publicService;function showInterimElement(opts){opts=opts||{};if(opts._options)opts=opts._options;return interimElementService.show(angular.extend({},defaultOptions,opts))}function invokeFactory(factory,defaultVal){var locals={};locals[interimFactoryName]=publicService;return $injector.invoke(factory||function(){return defaultVal},{},locals)}}}function InterimElementFactory($document,$q,$rootScope,$timeout,$rootElement,$animate,$interpolate,$mdCompiler,$mdTheming,$log){var startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),usesStandardSymbols=startSymbol==="{{"&&endSymbol==="}}",processTemplate=usesStandardSymbols?angular.identity:replaceInterpolationSymbols;return function createInterimElementService(){var SHOW_CANCELLED=false;var SHOW_CLOSED=true;var service,stack=[];return service={show:show,hide:hide,cancel:cancel};function show(options){var interimElement=new InterimElement(options);var hideExisting=stack.length?service.hide():$q.when(true);hideExisting.finally(function(){stack.push(interimElement);interimElement.show().catch(function(reason){})});return interimElement.deferred.promise}function hide(reason){var interim=stack.shift();if(!interim)return $q.when(reason);interim.remove(reason||SHOW_CLOSED,false).catch(function(reason){});return interim.deferred.promise}function cancel(reason){var interim=stack.shift();if(!interim)return $q.when(reason);interim.remove(reason||SHOW_CANCELLED,true).catch(function(reason){});return interim.deferred.promise}function InterimElement(options){var self,element,showAction=$q.when(true);options=configureScopeAndTransitions(options);return self={options:options,deferred:$q.defer(),show:createAndTransitionIn,remove:transitionOutAndRemove};function createAndTransitionIn(){return $q(function(resolve,reject){compileElement(options).then(function(compiledData){element=linkElement(compiledData,options);showAction=showElement(element,options).then(resolve,rejectAll)});function rejectAll(fault){self.deferred.reject(fault);reject(fault)}})}function transitionOutAndRemove(response,isCancelled){options.cancelAutoHide&&options.cancelAutoHide();return $q(function(resolve,reject){$q.when(showAction).finally(function(){hideElement(options.element,options).then(function(){isCancelled&&rejectAll(response)||resolveAll()},rejectAll)});function resolveAll(){self.deferred.resolve(response);resolve(response)}function rejectAll(fault){self.deferred.reject(fault);reject(fault)}})}function configureScopeAndTransitions(options){options=options||{};if(options.template){options.template=processTemplate(options.template)}return angular.extend({preserveScope:false,cancelAutoHide:angular.noop,scope:options.scope||$rootScope.$new(options.isolateScope),onShow:function transitionIn(scope,element,options){return $animate.enter(element,options.parent)},onRemove:function transitionOut(scope,element){return element&&$animate.leave(element)||$q.when()}},options)}function compileElement(options){var compiled=!options.skipCompile?$mdCompiler.compile(options):null;return compiled||$q(function(resolve){resolve({locals:{},link:function(){return options.element}})})}function linkElement(compileData,options){angular.extend(compileData.locals,options);var element=compileData.link(options.scope);options.element=element;options.parent=findParent(element,options);if(options.themable)$mdTheming(element);return element}function findParent(element,options){var parent=options.parent;if(angular.isFunction(parent)){parent=parent(options.scope,element,options)}else if(angular.isString(parent)){parent=angular.element($document[0].querySelector(parent))}else{parent=angular.element(parent)}if(!(parent||{}).length){var el;if($rootElement[0]&&$rootElement[0].querySelector){el=$rootElement[0].querySelector(":not(svg) > body")}if(!el)el=$rootElement[0];if(el.nodeName=="#comment"){el=$document[0].body}return angular.element(el)}return parent}function startAutoHide(){var autoHideTimer,cancelAutoHide=angular.noop;if(options.hideDelay){autoHideTimer=$timeout(service.hide,options.hideDelay);cancelAutoHide=function(){$timeout.cancel(autoHideTimer)}}options.cancelAutoHide=function(){cancelAutoHide();options.cancelAutoHide=undefined}}function showElement(element,options){var notifyComplete=options.onComplete||angular.noop;return $q(function(resolve,reject){try{$q.when(options.onShow(options.scope,element,options)).then(function(){notifyComplete(options.scope,element,options);startAutoHide();resolve(element)},reject)}catch(e){reject(e.message)}})}function hideElement(element,options){var announceRemoving=options.onRemoving||angular.noop;return $q(function(resolve,reject){try{var action=$q.when(element?options.onRemove(options.scope,element,options):true);announceRemoving(element,action);action.then(function(){!options.preserveScope&&options.scope.$destroy();resolve(element)},reject)}catch(e){reject(e.message)}})}}};function replaceInterpolationSymbols(text){if(!text||!angular.isString(text))return text;return text.replace(/\{\{/g,startSymbol).replace(/}}/g,endSymbol)}}}})();(function(){"use strict";angular.module("material.core").factory("$mdComponentRegistry",ComponentRegistry);function ComponentRegistry($log,$q){var self;var instances=[];var pendings={};return self={notFoundError:function(handle){$log.error("No instance found for handle",handle)},getInstances:function(){return instances},get:function(handle){if(!isValidID(handle))return null;var i,j,instance;for(i=0,j=instances.length;i<j;i++){instance=instances[i];if(instance.$$mdHandle===handle){return instance}}return null},register:function(instance,handle){if(!handle)return angular.noop;instance.$$mdHandle=handle;instances.push(instance);resolveWhen();return deregister;function deregister(){var index=instances.indexOf(instance);if(index!==-1){instances.splice(index,1)}}function resolveWhen(){var dfd=pendings[handle];if(dfd){dfd.resolve(instance);delete pendings[handle]}}},when:function(handle){if(isValidID(handle)){var deferred=$q.defer();var instance=self.get(handle);if(instance){deferred.resolve(instance)}else{pendings[handle]=deferred}return deferred.promise}return $q.reject("Invalid `md-component-id` value.")}};function isValidID(handle){return handle&&handle!==""}}ComponentRegistry.$inject=["$log","$q"]})();(function(){"use strict";(function(){"use strict";angular.module("material.core").factory("$mdButtonInkRipple",MdButtonInkRipple);function MdButtonInkRipple($mdInkRipple){return{attach:attach};function attach(scope,element,options){var elementOptions=optionsForElement(element);return $mdInkRipple.attach(scope,element,angular.extend(elementOptions,options))}function optionsForElement(element){if(element.hasClass("md-icon-button")){return{isMenuItem:element.hasClass("md-menu-item"),fitRipple:true,center:true}}else{return{isMenuItem:element.hasClass("md-menu-item"),dimBackground:true}}}}MdButtonInkRipple.$inject=["$mdInkRipple"]})()})();(function(){"use strict";(function(){"use strict";angular.module("material.core").factory("$mdCheckboxInkRipple",MdCheckboxInkRipple);function MdCheckboxInkRipple($mdInkRipple){return{attach:attach};function attach(scope,element,options){return $mdInkRipple.attach(scope,element,angular.extend({center:true,dimBackground:false,fitRipple:true},options))}}MdCheckboxInkRipple.$inject=["$mdInkRipple"]})()})();(function(){"use strict";(function(){"use strict";angular.module("material.core").factory("$mdListInkRipple",MdListInkRipple);function MdListInkRipple($mdInkRipple){return{attach:attach};function attach(scope,element,options){return $mdInkRipple.attach(scope,element,angular.extend({center:false,dimBackground:true,outline:false,rippleSize:"full"},options))}}MdListInkRipple.$inject=["$mdInkRipple"]})()})();(function(){"use strict";angular.module("material.core").factory("$mdInkRipple",InkRippleService).directive("mdInkRipple",InkRippleDirective).directive("mdNoInk",attrNoDirective()).directive("mdNoBar",attrNoDirective()).directive("mdNoStretch",attrNoDirective());function InkRippleDirective($mdButtonInkRipple,$mdCheckboxInkRipple){return{controller:angular.noop,link:function(scope,element,attr){if(attr.hasOwnProperty("mdInkRippleCheckbox")){$mdCheckboxInkRipple.attach(scope,element)}else{$mdButtonInkRipple.attach(scope,element)}}}}InkRippleDirective.$inject=["$mdButtonInkRipple","$mdCheckboxInkRipple"];function InkRippleService($window,$timeout,$mdUtil){return{attach:attach};function attach(scope,element,options){if(element.controller("mdNoInk"))return angular.noop;options=angular.extend({colorElement:element,mousedown:true,hover:true,focus:true,center:false,mousedownPauseTime:150,dimBackground:false,outline:false,fullRipple:true,isMenuItem:false,fitRipple:false},options);var rippleSize,controller=element.controller("mdInkRipple")||{},counter=0,ripples=[],states=[],isActiveExpr=element.attr("md-highlight"),isActive=false,isHeld=false,node=element[0],rippleSizeSetting=element.attr("md-ripple-size"),color=parseColor(element.attr("md-ink-ripple"))||parseColor(options.colorElement.length&&$window.getComputedStyle(options.colorElement[0]).color||"rgb(0, 0, 0)");switch(rippleSizeSetting){case"full":options.fullRipple=true;break;case"partial":options.fullRipple=false;break}if(options.mousedown){element.on("$md.pressdown",onPressDown).on("$md.pressup",onPressUp)}controller.createRipple=createRipple;if(isActiveExpr){scope.$watch(isActiveExpr,function watchActive(newValue){isActive=newValue;if(isActive&&!ripples.length){$mdUtil.nextTick(function(){createRipple(0,0)})}angular.forEach(ripples,updateElement)})}return function detach(){element.off("$md.pressdown",onPressDown).off("$md.pressup",onPressUp);getRippleContainer().remove()};function getRippleContainer(){var container=element.data("$mdRippleContainer");if(container)return container;container=angular.element('<div class="md-ripple-container">');element.append(container);element.data("$mdRippleContainer",container);return container}function parseColor(color){if(!color)return;if(color.indexOf("rgba")===0)return color.replace(/\d?\.?\d*\s*\)\s*$/,"0.1)");if(color.indexOf("rgb")===0)return rgbToRGBA(color);if(color.indexOf("#")===0)return hexToRGBA(color);function hexToRGBA(color){var hex=color.charAt(0)==="#"?color.substr(1):color,dig=hex.length/3,red=hex.substr(0,dig),grn=hex.substr(dig,dig),blu=hex.substr(dig*2);if(dig===1){red+=red;grn+=grn;blu+=blu}return"rgba("+parseInt(red,16)+","+parseInt(grn,16)+","+parseInt(blu,16)+",0.1)"}function rgbToRGBA(color){return color.replace(")",", 0.1)").replace("(","a(")}}function removeElement(elem,wait){ripples.splice(ripples.indexOf(elem),1);if(ripples.length===0){getRippleContainer().css({backgroundColor:""})}$timeout(function(){elem.remove()},wait,false)}function updateElement(elem){var index=ripples.indexOf(elem),state=states[index]||{},elemIsActive=ripples.length>1?false:isActive,elemIsHeld=ripples.length>1?false:isHeld;if(elemIsActive||state.animating||elemIsHeld){elem.addClass("md-ripple-visible")}else if(elem){elem.removeClass("md-ripple-visible");if(options.outline){elem.css({width:rippleSize+"px",height:rippleSize+"px",marginLeft:rippleSize*-1+"px",marginTop:rippleSize*-1+"px"})}removeElement(elem,options.outline?450:650)}}function createRipple(left,top){color=parseColor(element.attr("md-ink-ripple"))||parseColor($window.getComputedStyle(options.colorElement[0]).color||"rgb(0, 0, 0)");var container=getRippleContainer(),size=getRippleSize(left,top),css=getRippleCss(size,left,top),elem=getRippleElement(css),index=ripples.indexOf(elem),state=states[index]||{};rippleSize=size;state.animating=true;$mdUtil.nextTick(function(){if(options.dimBackground){container.css({backgroundColor:color})}elem.addClass("md-ripple-placed md-ripple-scaled");if(options.outline){elem.css({borderWidth:size*.5+"px",marginLeft:size*-.5+"px",marginTop:size*-.5+"px"})}else{elem.css({left:"50%",top:"50%"})}updateElement(elem);$timeout(function(){state.animating=false;updateElement(elem)},options.outline?450:225,false)});return elem;function getRippleElement(css){var elem=angular.element('<div class="md-ripple" data-counter="'+counter+++'">');ripples.unshift(elem);states.unshift({animating:true});container.append(elem);css&&elem.css(css);return elem}function getRippleSize(left,top){var width=container.prop("offsetWidth"),height=container.prop("offsetHeight"),multiplier,size,rect;if(options.isMenuItem){size=Math.sqrt(Math.pow(width,2)+Math.pow(height,2))}else if(options.outline){rect=node.getBoundingClientRect();left-=rect.left;top-=rect.top;width=Math.max(left,width-left);height=Math.max(top,height-top);size=2*Math.sqrt(Math.pow(width,2)+Math.pow(height,2))}else{multiplier=options.fullRipple?1.1:.8;size=Math.sqrt(Math.pow(width,2)+Math.pow(height,2))*multiplier;if(options.fitRipple){size=Math.min(height,width,size)}}return size}function getRippleCss(size,left,top){var rect=node.getBoundingClientRect(),css={backgroundColor:rgbaToRGB(color),borderColor:rgbaToRGB(color),width:size+"px",height:size+"px"};if(options.outline){css.width=0;css.height=0}else{css.marginLeft=css.marginTop=size*-.5+"px"}if(options.center){css.left=css.top="50%"}else{css.left=Math.round((left-rect.left)/container.prop("offsetWidth")*100)+"%";css.top=Math.round((top-rect.top)/container.prop("offsetHeight")*100)+"%"}return css;function rgbaToRGB(color){return color.replace("rgba","rgb").replace(/,[^\),]+\)/,")")}}}function onPressDown(ev){if(!isRippleAllowed())return;createRipple(ev.pointer.x,ev.pointer.y);isHeld=true}function onPressUp(){isHeld=false;var ripple=ripples[ripples.length-1];$mdUtil.nextTick(function(){updateElement(ripple)})}function isRippleAllowed(){var parent=node.parentNode;var grandparent=parent&&parent.parentNode;var ancestor=grandparent&&grandparent.parentNode;return!isDisabled(node)&&!isDisabled(parent)&&!isDisabled(grandparent)&&!isDisabled(ancestor);function isDisabled(elem){return elem&&elem.hasAttribute&&elem.hasAttribute("disabled")}}}}InkRippleService.$inject=["$window","$timeout","$mdUtil"];function attrNoDirective(){return function(){return{controller:angular.noop}}}})();(function(){"use strict";(function(){"use strict";angular.module("material.core").factory("$mdTabInkRipple",MdTabInkRipple);function MdTabInkRipple($mdInkRipple){return{attach:attach};function attach(scope,element,options){return $mdInkRipple.attach(scope,element,angular.extend({center:false,dimBackground:true,outline:false,rippleSize:"full"},options))}}MdTabInkRipple.$inject=["$mdInkRipple"]})()})();(function(){"use strict";angular.module("material.core.theming.palette",[]).constant("$mdColorPalette",{red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 A200 A400 A700"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400 A700"},"deep-purple":{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff",contrastDefaultColor:"light",contrastDarkColors:"100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},"light-blue":{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900 A700",contrastStrongLightColors:"500 600 700 800 A700"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700 800"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},"light-green":{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00",contrastDefaultColor:"dark",contrastLightColors:"900",contrastStrongLightColors:"900"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600",contrastDefaultColor:"dark"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00",contrastDefaultColor:"dark"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},"deep-orange":{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100 A200",contrastStrongLightColors:"500 600 700 800 900 A400 A700"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037",contrastDefaultColor:"light",contrastDarkColors:"50 100 200",contrastStrongLightColors:"300 400"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",1e3:"#000000",A100:"#ffffff",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900"},"blue-grey":{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300",contrastStrongLightColors:"400 500"}})})();(function(){"use strict";angular.module("material.core.theming",["material.core.theming.palette"]).directive("mdTheme",ThemingDirective).directive("mdThemable",ThemableDirective).provider("$mdTheming",ThemingProvider).run(generateThemes);var GENERATED={};var PALETTES;var THEMES;var DARK_FOREGROUND={name:"dark",1:"rgba(0,0,0,0.87)",2:"rgba(0,0,0,0.54)",3:"rgba(0,0,0,0.26)",4:"rgba(0,0,0,0.12)"};var LIGHT_FOREGROUND={name:"light",1:"rgba(255,255,255,1.0)",2:"rgba(255,255,255,0.7)",3:"rgba(255,255,255,0.3)",4:"rgba(255,255,255,0.12)"};var DARK_SHADOW="1px 1px 0px rgba(0,0,0,0.4), -1px -1px 0px rgba(0,0,0,0.4)";var LIGHT_SHADOW="";var DARK_CONTRAST_COLOR=colorToRgbaArray("rgba(0,0,0,0.87)");var LIGHT_CONTRAST_COLOR=colorToRgbaArray("rgba(255,255,255,0.87");var STRONG_LIGHT_CONTRAST_COLOR=colorToRgbaArray("rgb(255,255,255)");var THEME_COLOR_TYPES=["primary","accent","warn","background"];var DEFAULT_COLOR_TYPE="primary";var LIGHT_DEFAULT_HUES={accent:{default:"A200","hue-1":"A100","hue-2":"A400","hue-3":"A700"},background:{default:"A100","hue-1":"300","hue-2":"800","hue-3":"900"}};var DARK_DEFAULT_HUES={background:{default:"800","hue-1":"300","hue-2":"600","hue-3":"900"}};THEME_COLOR_TYPES.forEach(function(colorType){var defaultDefaultHues={default:"500","hue-1":"300","hue-2":"800","hue-3":"A100"};if(!LIGHT_DEFAULT_HUES[colorType])LIGHT_DEFAULT_HUES[colorType]=defaultDefaultHues;if(!DARK_DEFAULT_HUES[colorType])DARK_DEFAULT_HUES[colorType]=defaultDefaultHues});var VALID_HUE_VALUES=["50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700"];function ThemingProvider($mdColorPalette){PALETTES={};THEMES={};var themingProvider;var defaultTheme="default";var alwaysWatchTheme=false;angular.extend(PALETTES,$mdColorPalette);ThemingService.$inject=["$rootScope","$log"];return themingProvider={definePalette:definePalette,extendPalette:extendPalette,theme:registerTheme,setDefaultTheme:function(theme){defaultTheme=theme},alwaysWatchTheme:function(alwaysWatch){alwaysWatchTheme=alwaysWatch},$get:ThemingService,_LIGHT_DEFAULT_HUES:LIGHT_DEFAULT_HUES,_DARK_DEFAULT_HUES:DARK_DEFAULT_HUES,_PALETTES:PALETTES,_THEMES:THEMES,_parseRules:parseRules,_rgba:rgba};function definePalette(name,map){map=map||{};PALETTES[name]=checkPaletteValid(name,map);return themingProvider}function extendPalette(name,map){return checkPaletteValid(name,angular.extend({},PALETTES[name]||{},map))}function checkPaletteValid(name,map){var missingColors=VALID_HUE_VALUES.filter(function(field){return!map[field]});if(missingColors.length){throw new Error("Missing colors %1 in palette %2!".replace("%1",missingColors.join(", ")).replace("%2",name))}return map}function registerTheme(name,inheritFrom){if(THEMES[name])return THEMES[name];inheritFrom=inheritFrom||"default";var parentTheme=typeof inheritFrom==="string"?THEMES[inheritFrom]:inheritFrom;var theme=new Theme(name);if(parentTheme){angular.forEach(parentTheme.colors,function(color,colorType){theme.colors[colorType]={name:color.name,hues:angular.extend({},color.hues)}})}THEMES[name]=theme;return theme}function Theme(name){var self=this;self.name=name;self.colors={};self.dark=setDark;setDark(false);function setDark(isDark){isDark=arguments.length===0?true:!!isDark;if(isDark===self.isDark)return;self.isDark=isDark;self.foregroundPalette=self.isDark?LIGHT_FOREGROUND:DARK_FOREGROUND;self.foregroundShadow=self.isDark?DARK_SHADOW:LIGHT_SHADOW;var newDefaultHues=self.isDark?DARK_DEFAULT_HUES:LIGHT_DEFAULT_HUES;var oldDefaultHues=self.isDark?LIGHT_DEFAULT_HUES:DARK_DEFAULT_HUES;angular.forEach(newDefaultHues,function(newDefaults,colorType){var color=self.colors[colorType];var oldDefaults=oldDefaultHues[colorType];if(color){for(var hueName in color.hues){if(color.hues[hueName]===oldDefaults[hueName]){color.hues[hueName]=newDefaults[hueName]}}}});return self}THEME_COLOR_TYPES.forEach(function(colorType){var defaultHues=(self.isDark?DARK_DEFAULT_HUES:LIGHT_DEFAULT_HUES)[colorType];self[colorType+"Palette"]=function setPaletteType(paletteName,hues){var color=self.colors[colorType]={name:paletteName,hues:angular.extend({},defaultHues,hues)};Object.keys(color.hues).forEach(function(name){if(!defaultHues[name]){throw new Error("Invalid hue name '%1' in theme %2's %3 color %4. Available hue names: %4".replace("%1",name).replace("%2",self.name).replace("%3",paletteName).replace("%4",Object.keys(defaultHues).join(", ")))}});Object.keys(color.hues).map(function(key){return color.hues[key]}).forEach(function(hueValue){if(VALID_HUE_VALUES.indexOf(hueValue)==-1){throw new Error("Invalid hue value '%1' in theme %2's %3 color %4. Available hue values: %5".replace("%1",hueValue).replace("%2",self.name).replace("%3",colorType).replace("%4",paletteName).replace("%5",VALID_HUE_VALUES.join(", ")))}});return self};self[colorType+"Color"]=function(){var args=Array.prototype.slice.call(arguments);console.warn("$mdThemingProviderTheme."+colorType+"Color() has been deprecated. "+"Use $mdThemingProviderTheme."+colorType+"Palette() instead.");return self[colorType+"Palette"].apply(self,args)}})}function ThemingService($rootScope,$log){applyTheme.inherit=function(el,parent){var ctrl=parent.controller("mdTheme");var attrThemeValue=el.attr("md-theme-watch");if((alwaysWatchTheme||angular.isDefined(attrThemeValue))&&attrThemeValue!="false"){var deregisterWatch=$rootScope.$watch(function(){return ctrl&&ctrl.$mdTheme||defaultTheme},changeTheme);el.on("$destroy",deregisterWatch)}else{var theme=ctrl&&ctrl.$mdTheme||defaultTheme;changeTheme(theme)}function changeTheme(theme){if(!registered(theme)){$log.warn("Attempted to use unregistered theme '"+theme+"'. "+"Register it with $mdThemingProvider.theme().")}var oldTheme=el.data("$mdThemeName");if(oldTheme)el.removeClass("md-"+oldTheme+"-theme");el.addClass("md-"+theme+"-theme");el.data("$mdThemeName",theme);if(ctrl){el.data("$mdThemeController",ctrl)}}};applyTheme.THEMES=angular.extend({},THEMES);applyTheme.defaultTheme=function(){return defaultTheme};applyTheme.registered=registered;return applyTheme;function registered(themeName){if(themeName===undefined||themeName==="")return true;return applyTheme.THEMES[themeName]!==undefined}function applyTheme(scope,el){if(el===undefined){el=scope;scope=undefined}if(scope===undefined){scope=$rootScope}applyTheme.inherit(el,el)}}}ThemingProvider.$inject=["$mdColorPalette"];function ThemingDirective($mdTheming,$interpolate,$log){return{priority:100,link:{pre:function(scope,el,attrs){var ctrl={$setTheme:function(theme){if(!$mdTheming.registered(theme)){$log.warn("attempted to use unregistered theme '"+theme+"'")}ctrl.$mdTheme=theme}};el.data("$mdThemeController",ctrl);ctrl.$setTheme($interpolate(attrs.mdTheme)(scope));attrs.$observe("mdTheme",ctrl.$setTheme)}}}}ThemingDirective.$inject=["$mdTheming","$interpolate","$log"];function ThemableDirective($mdTheming){return $mdTheming}ThemableDirective.$inject=["$mdTheming"];function parseRules(theme,colorType,rules){checkValidPalette(theme,colorType);rules=rules.replace(/THEME_NAME/g,theme.name);var generatedRules=[];var color=theme.colors[colorType];var themeNameRegex=new RegExp(".md-"+theme.name+"-theme","g");var hueRegex=new RegExp("('|\")?{{\\s*("+colorType+")-(color|contrast)-?(\\d\\.?\\d*)?\\s*}}(\"|')?","g");var simpleVariableRegex=/'?"?\{\{\s*([a-zA-Z]+)-(A?\d+|hue\-[0-3]|shadow)-?(\d\.?\d*)?\s*\}\}'?"?/g;var palette=PALETTES[color.name];rules=rules.replace(simpleVariableRegex,function(match,colorType,hue,opacity){if(colorType==="foreground"){if(hue=="shadow"){return theme.foregroundShadow}else{return theme.foregroundPalette[hue]||theme.foregroundPalette["1"]}}if(hue.indexOf("hue")===0){hue=theme.colors[colorType].hues[hue]}return rgba((PALETTES[theme.colors[colorType].name][hue]||"").value,opacity)});angular.forEach(color.hues,function(hueValue,hueName){var newRule=rules.replace(hueRegex,function(match,_,colorType,hueType,opacity){return rgba(palette[hueValue][hueType==="color"?"value":"contrast"],opacity)});if(hueName!=="default"){newRule=newRule.replace(themeNameRegex,".md-"+theme.name+"-theme.md-"+hueName)}if(theme.name=="default"){newRule=newRule.replace(/\.md-default-theme/g,"")}generatedRules.push(newRule)});return generatedRules}function generateThemes($injector){var head=document.getElementsByTagName("head")[0];var firstChild=head?head.firstElementChild:null;var themeCss=$injector.has("$MD_THEME_CSS")?$injector.get("$MD_THEME_CSS"):"";if(!firstChild)return;if(themeCss.length===0)return;angular.forEach(PALETTES,sanitizePalette);var rulesByType={};var rules=themeCss.split(/\}(?!(\}|'|"|;))/).filter(function(rule){return rule&&rule.length}).map(function(rule){return rule.trim()+"}"});var ruleMatchRegex=new RegExp("md-("+THEME_COLOR_TYPES.join("|")+")","g");THEME_COLOR_TYPES.forEach(function(type){rulesByType[type]=""});rules.forEach(function(rule){var match=rule.match(ruleMatchRegex);for(var i=0,type;type=THEME_COLOR_TYPES[i];i++){if(rule.indexOf(".md-"+type)>-1){return rulesByType[type]+=rule}}for(i=0;type=THEME_COLOR_TYPES[i];i++){if(rule.indexOf(type)>-1){return rulesByType[type]+=rule}}return rulesByType[DEFAULT_COLOR_TYPE]+=rule});angular.forEach(THEMES,function(theme){if(!GENERATED[theme.name]){THEME_COLOR_TYPES.forEach(function(colorType){var styleStrings=parseRules(theme,colorType,rulesByType[colorType]);while(styleStrings.length){var style=document.createElement("style");style.setAttribute("type","text/css");style.appendChild(document.createTextNode(styleStrings.shift()));head.insertBefore(style,firstChild)}});if(theme.colors.primary.name==theme.colors.accent.name){console.warn("$mdThemingProvider: Using the same palette for primary and"+" accent. This violates the material design spec.")}GENERATED[theme.name]=true}});function sanitizePalette(palette){var defaultContrast=palette.contrastDefaultColor;var lightColors=palette.contrastLightColors||[];var strongLightColors=palette.contrastStrongLightColors||[];var darkColors=palette.contrastDarkColors||[];if(typeof lightColors==="string")lightColors=lightColors.split(" ");if(typeof strongLightColors==="string")strongLightColors=strongLightColors.split(" ");if(typeof darkColors==="string")darkColors=darkColors.split(" ");delete palette.contrastDefaultColor;delete palette.contrastLightColors;delete palette.contrastStrongLightColors;delete palette.contrastDarkColors;angular.forEach(palette,function(hueValue,hueName){if(angular.isObject(hueValue))return;var rgbValue=colorToRgbaArray(hueValue);if(!rgbValue){throw new Error("Color %1, in palette %2's hue %3, is invalid. Hex or rgb(a) color expected.".replace("%1",hueValue).replace("%2",palette.name).replace("%3",hueName))}palette[hueName]={value:rgbValue,contrast:getContrastColor()};function getContrastColor(){if(defaultContrast==="light"){if(darkColors.indexOf(hueName)>-1){return DARK_CONTRAST_COLOR}else{return strongLightColors.indexOf(hueName)>-1?STRONG_LIGHT_CONTRAST_COLOR:LIGHT_CONTRAST_COLOR}}else{if(lightColors.indexOf(hueName)>-1){return strongLightColors.indexOf(hueName)>-1?STRONG_LIGHT_CONTRAST_COLOR:LIGHT_CONTRAST_COLOR}else{return DARK_CONTRAST_COLOR}}}})}}generateThemes.$inject=["$injector"];function checkValidPalette(theme,colorType){if(!PALETTES[(theme.colors[colorType]||{}).name]){throw new Error("You supplied an invalid color palette for theme %1's %2 palette. Available palettes: %3".replace("%1",theme.name).replace("%2",colorType).replace("%3",Object.keys(PALETTES).join(", ")))}}function colorToRgbaArray(clr){if(angular.isArray(clr)&&clr.length==3)return clr;if(/^rgb/.test(clr)){return clr.replace(/(^\s*rgba?\(|\)\s*$)/g,"").split(",").map(function(value,i){return i==3?parseFloat(value,10):parseInt(value,10)})}if(clr.charAt(0)=="#")clr=clr.substring(1);if(!/^([a-fA-F0-9]{3}){1,2}$/g.test(clr))return;var dig=clr.length/3;var red=clr.substr(0,dig);var grn=clr.substr(dig,dig);var blu=clr.substr(dig*2);if(dig===1){red+=red;grn+=grn;blu+=blu}return[parseInt(red,16),parseInt(grn,16),parseInt(blu,16)]}function rgba(rgbArray,opacity){if(!rgbArray)return"rgb('0,0,0')";if(rgbArray.length==4){rgbArray=angular.copy(rgbArray);opacity?rgbArray.pop():opacity=rgbArray.pop()}return opacity&&(typeof opacity=="number"||typeof opacity=="string"&&opacity.length)?"rgba("+rgbArray.join(",")+","+opacity+")":"rgb("+rgbArray.join(",")+")"}})();(function(){"use strict";angular.module("material.components.autocomplete",["material.core","material.components.icon"])})();(function(){"use strict";angular.module("material.components.bottomSheet",["material.core","material.components.backdrop"]).directive("mdBottomSheet",MdBottomSheetDirective).provider("$mdBottomSheet",MdBottomSheetProvider);function MdBottomSheetDirective(){return{restrict:"E"}}function MdBottomSheetProvider($$interimElementProvider){var CLOSING_VELOCITY=.5;var PADDING=80;bottomSheetDefaults.$inject=["$animate","$mdConstant","$mdUtil","$mdTheming","$mdBottomSheet","$rootElement","$mdGesture"];return $$interimElementProvider("$mdBottomSheet").setDefaults({methods:["disableParentScroll","escapeToClose","targetEvent"],options:bottomSheetDefaults});function bottomSheetDefaults($animate,$mdConstant,$mdUtil,$mdTheming,$mdBottomSheet,$rootElement,$mdGesture){var backdrop;return{themable:true,targetEvent:null,onShow:onShow,onRemove:onRemove,escapeToClose:true,disableParentScroll:true};function onShow(scope,element,options){element=$mdUtil.extractElementByName(element,"md-bottom-sheet");backdrop=$mdUtil.createBackdrop(scope,"md-bottom-sheet-backdrop md-opaque");backdrop.on("click",function(){$mdUtil.nextTick($mdBottomSheet.cancel,true)});$mdTheming.inherit(backdrop,options.parent);$animate.enter(backdrop,options.parent,null);var bottomSheet=new BottomSheet(element,options.parent);options.bottomSheet=bottomSheet;options.targetEvent&&angular.element(options.targetEvent.target).blur();$mdTheming.inherit(bottomSheet.element,options.parent);if(options.disableParentScroll){options.lastOverflow=options.parent.css("overflow");options.parent.css("overflow","hidden")}return $animate.enter(bottomSheet.element,options.parent).then(function(){var focusable=angular.element(element[0].querySelector("button")||element[0].querySelector("a")||element[0].querySelector("[ng-click]"));focusable.focus();if(options.escapeToClose){options.rootElementKeyupCallback=function(e){if(e.keyCode===$mdConstant.KEY_CODE.ESCAPE){$mdUtil.nextTick($mdBottomSheet.cancel,true)}};$rootElement.on("keyup",options.rootElementKeyupCallback)}})}function onRemove(scope,element,options){var bottomSheet=options.bottomSheet;$animate.leave(backdrop);return $animate.leave(bottomSheet.element).then(function(){if(options.disableParentScroll){options.parent.css("overflow",options.lastOverflow);delete options.lastOverflow}bottomSheet.cleanup();options.targetEvent&&angular.element(options.targetEvent.target).focus()})}function BottomSheet(element,parent){var deregister=$mdGesture.register(parent,"drag",{horizontal:false});parent.on("$md.dragstart",onDragStart).on("$md.drag",onDrag).on("$md.dragend",onDragEnd);return{element:element,cleanup:function cleanup(){deregister();parent.off("$md.dragstart",onDragStart).off("$md.drag",onDrag).off("$md.dragend",onDragEnd)}};function onDragStart(ev){element.css($mdConstant.CSS.TRANSITION_DURATION,"0ms")}function onDrag(ev){var transform=ev.pointer.distanceY;if(transform<5){transform=Math.max(-PADDING,transform/2)}element.css($mdConstant.CSS.TRANSFORM,"translate3d(0,"+(PADDING+transform)+"px,0)")}function onDragEnd(ev){if(ev.pointer.distanceY>0&&(ev.pointer.distanceY>20||Math.abs(ev.pointer.velocityY)>CLOSING_VELOCITY)){var distanceRemaining=element.prop("offsetHeight")-ev.pointer.distanceY;var transitionDuration=Math.min(distanceRemaining/ev.pointer.velocityY*.75,500);element.css($mdConstant.CSS.TRANSITION_DURATION,transitionDuration+"ms");$mdUtil.nextTick($mdBottomSheet.cancel,true)}else{element.css($mdConstant.CSS.TRANSITION_DURATION,"");element.css($mdConstant.CSS.TRANSFORM,"")}}}}}MdBottomSheetProvider.$inject=["$$interimElementProvider"]})();(function(){"use strict";angular.module("material.components.backdrop",["material.core"]).directive("mdBackdrop",["$mdTheming","$animate","$rootElement","$window","$log","$$rAF","$document",function BackdropDirective($mdTheming,$animate,$rootElement,$window,$log,$$rAF,$document){var ERROR_CSS_POSITION="<md-backdrop> may not work properly in a scrolled, static-positioned parent container.";return{restrict:"E",link:postLink};function postLink(scope,element,attrs){var body=$window.getComputedStyle($document[0].body);if(body.position=="fixed"){var hViewport=parseInt(body.height,10)+Math.abs(parseInt(body.top,10));element.css({height:hViewport+"px"})}if($animate.pin)$animate.pin(element,$rootElement);$$rAF(function(){var parent=element.parent()[0];if(parent){var styles=$window.getComputedStyle(parent);if(styles.position=="static"){$log.warn(ERROR_CSS_POSITION)}}$mdTheming.inherit(element,element.parent())})}}])})();(function(){"use strict";angular.module("material.components.card",["material.core"]).directive("mdCard",mdCardDirective);function mdCardDirective($mdTheming){return{restrict:"E",link:function($scope,$element,$attr){$mdTheming($element)}}}mdCardDirective.$inject=["$mdTheming"]})();(function(){"use strict";angular.module("material.components.checkbox",["material.core"]).directive("mdCheckbox",MdCheckboxDirective);function MdCheckboxDirective(inputDirective,$mdInkRipple,$mdAria,$mdConstant,$mdTheming,$mdUtil,$timeout){inputDirective=inputDirective[0];var CHECKED_CSS="md-checked";return{restrict:"E",transclude:true,require:"?ngModel",priority:210,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox>'+'<div class="md-icon"></div>'+"</div>"+'<div ng-transclude class="md-label"></div>',compile:compile};function compile(tElement,tAttrs){tAttrs.type="checkbox";tAttrs.tabindex=tAttrs.tabindex||"0";tElement.attr("role",tAttrs.type);return function postLink(scope,element,attr,ngModelCtrl){ngModelCtrl=ngModelCtrl||$mdUtil.fakeNgModel();$mdTheming(element);if(attr.ngChecked){scope.$watch(scope.$eval.bind(scope,attr.ngChecked),ngModelCtrl.$setViewValue.bind(ngModelCtrl))}$$watchExpr("ngDisabled","tabindex",{true:"-1",false:attr.tabindex});$mdAria.expectWithText(element,"aria-label");inputDirective.link.pre(scope,{on:angular.noop,0:{}},attr,[ngModelCtrl]);scope.mouseActive=false;element.on("click",listener).on("keypress",keypressHandler).on("mousedown",function(){scope.mouseActive=true;$timeout(function(){scope.mouseActive=false},100)}).on("focus",function(){if(scope.mouseActive===false){element.addClass("md-focused")}}).on("blur",function(){element.removeClass("md-focused")});ngModelCtrl.$render=render;function $$watchExpr(expr,htmlAttr,valueOpts){if(attr[expr]){scope.$watch(attr[expr],function(val){if(valueOpts[val]){element.attr(htmlAttr,valueOpts[val])}})}}function keypressHandler(ev){var keyCode=ev.which||ev.keyCode;if(keyCode===$mdConstant.KEY_CODE.SPACE||keyCode===$mdConstant.KEY_CODE.ENTER){ev.preventDefault();if(!element.hasClass("md-focused")){element.addClass("md-focused")}listener(ev)}}function listener(ev){if(element[0].hasAttribute("disabled"))return;scope.$apply(function(){var viewValue=attr.ngChecked?attr.checked:!ngModelCtrl.$viewValue;ngModelCtrl.$setViewValue(viewValue,ev&&ev.type);ngModelCtrl.$render()})}function render(){if(ngModelCtrl.$viewValue){element.addClass(CHECKED_CSS)}else{element.removeClass(CHECKED_CSS)}}}}}MdCheckboxDirective.$inject=["inputDirective","$mdInkRipple","$mdAria","$mdConstant","$mdTheming","$mdUtil","$timeout"]})();(function(){"use strict";angular.module("material.components.content",["material.core"]).directive("mdContent",mdContentDirective);function mdContentDirective($mdTheming){return{restrict:"E",controller:["$scope","$element",ContentController],link:function(scope,element,attr){var node=element[0];$mdTheming(element);scope.$broadcast("$mdContentLoaded",element);iosScrollFix(element[0])}};function ContentController($scope,$element){this.$scope=$scope;this.$element=$element}}mdContentDirective.$inject=["$mdTheming"];function iosScrollFix(node){angular.element(node).on("$md.pressdown",function(ev){if(ev.pointer.type!=="t")return;if(ev.$materialScrollFixed)return;ev.$materialScrollFixed=true;if(node.scrollTop===0){node.scrollTop=1}else if(node.scrollHeight===node.scrollTop+node.offsetHeight){node.scrollTop-=1}})}})();(function(){"use strict";angular.module("material.components.button",["material.core"]).directive("mdButton",MdButtonDirective);function MdButtonDirective($mdButtonInkRipple,$mdTheming,$mdAria,$timeout){return{restrict:"EA",replace:true,transclude:true,template:getTemplate,link:postLink};function isAnchor(attr){return angular.isDefined(attr.href)||angular.isDefined(attr.ngHref)||angular.isDefined(attr.ngLink)||angular.isDefined(attr.uiSref)}function getTemplate(element,attr){return isAnchor(attr)?'<a class="md-button" ng-transclude></a>':'<button class="md-button" ng-transclude></button>'}function postLink(scope,element,attr){var node=element[0];$mdTheming(element);$mdButtonInkRipple.attach(scope,element);var elementHasText=node.textContent.trim();if(!elementHasText){$mdAria.expect(element,"aria-label")}if(isAnchor(attr)&&angular.isDefined(attr.ngDisabled)){scope.$watch(attr.ngDisabled,function(isDisabled){element.attr("tabindex",isDisabled?-1:0)})}element.on("click",function(e){if(attr.disabled===true){e.preventDefault();e.stopImmediatePropagation()}});scope.mouseActive=false;element.on("mousedown",function(){scope.mouseActive=true;$timeout(function(){scope.mouseActive=false},100)}).on("focus",function(){if(scope.mouseActive===false){element.addClass("md-focused")}}).on("blur",function(){element.removeClass("md-focused")})}}MdButtonDirective.$inject=["$mdButtonInkRipple","$mdTheming","$mdAria","$timeout"]})();(function(){"use strict";angular.module("material.components.divider",["material.core"]).directive("mdDivider",MdDividerDirective);function MdDividerDirective($mdTheming){return{restrict:"E",link:$mdTheming}}MdDividerDirective.$inject=["$mdTheming"]})();(function(){"use strict";angular.module("material.components.chips",["material.core","material.components.autocomplete"])})();(function(){"use strict";angular.module("material.components.dialog",["material.core","material.components.backdrop"]).directive("mdDialog",MdDialogDirective).provider("$mdDialog",MdDialogProvider);function MdDialogDirective($$rAF,$mdTheming){return{restrict:"E",link:function(scope,element,attr){$mdTheming(element);$$rAF(function(){var images;var content=element[0].querySelector("md-dialog-content");if(content){images=content.getElementsByTagName("img");addOverflowClass();angular.element(images).on("load",addOverflowClass)}function addOverflowClass(){element.toggleClass("md-content-overflow",content.scrollHeight>content.clientHeight)}})}}}MdDialogDirective.$inject=["$$rAF","$mdTheming"];function MdDialogProvider($$interimElementProvider){advancedDialogOptions.$inject=["$mdDialog","$mdTheming"];dialogDefaultOptions.$inject=["$mdDialog","$mdAria","$mdUtil","$mdConstant","$animate","$document","$window","$rootElement"];return $$interimElementProvider("$mdDialog").setDefaults({methods:["disableParentScroll","hasBackdrop","clickOutsideToClose","escapeToClose","targetEvent","parent"],options:dialogDefaultOptions}).addPreset("alert",{methods:["title","content","ariaLabel","ok","theme"],options:advancedDialogOptions}).addPreset("confirm",{methods:["title","content","ariaLabel","ok","cancel","theme"],options:advancedDialogOptions});function advancedDialogOptions($mdDialog,$mdTheming){return{template:['<md-dialog md-theme="{{ dialog.theme }}" aria-label="{{ dialog.ariaLabel }}">',' <md-dialog-content role="document" tabIndex="-1">','   <h2 class="md-title">{{ dialog.title }}</h2>',"   <p>{{ dialog.content }}</p>"," </md-dialog-content>",' <div class="md-actions">',"   <md-button ng-if=\"dialog.$type == 'confirm'\""+'     ng-click="dialog.abort()" class="md-primary">',"     {{ dialog.cancel }}","   </md-button>",'   <md-button ng-click="dialog.hide()" class="md-primary">',"     {{ dialog.ok }}","   </md-button>"," </div>","</md-dialog>"].join("").replace(/\s\s+/g,""),controller:function mdDialogCtrl(){this.hide=function(){$mdDialog.hide(true)};this.abort=function(){$mdDialog.cancel()}},controllerAs:"dialog",bindToController:true,theme:$mdTheming.defaultTheme()}}function dialogDefaultOptions($mdDialog,$mdAria,$mdUtil,$mdConstant,$animate,$document,$window,$rootElement){return{hasBackdrop:true,isolateScope:true,onShow:onShow,onRemove:onRemove,clickOutsideToClose:false,escapeToClose:true,targetEvent:null,focusOnOpen:true,disableParentScroll:true,transformTemplate:function(template){return'<div class="md-dialog-container">'+template+"</div>"}};function onShow(scope,element,options){element=$mdUtil.extractElementByName(element,"md-dialog");angular.element($document[0].body).addClass("md-dialog-is-showing");captureSourceAndParent(element,options);configureAria(element.find("md-dialog"),options);showBackdrop(scope,element,options);return dialogPopIn(element,options).then(function(){activateListeners(element,options);lockScreenReader(element,options);focusOnOpen()});function focusOnOpen(){if(options.focusOnOpen){var target=options.$type==="alert"?element.find("md-dialog-content"):findCloseButton();target.focus()}function findCloseButton(){var closeButton=element[0].querySelector(".dialog-close");if(!closeButton){var actionButtons=element[0].querySelectorAll(".md-actions button");closeButton=actionButtons[actionButtons.length-1]}return angular.element(closeButton)}}}function onRemove(scope,element,options){options.deactivateListeners();options.unlockScreenReader();options.hideBackdrop();return dialogPopOut(element,options).finally(function(){angular.element($document[0].body).removeClass("md-dialog-is-showing");element.remove();options.origin.focus()})}function captureSourceAndParent(element,options){var origin={element:null,bounds:null,focus:angular.noop};options.origin=angular.extend({},origin,options.origin||{});var source=angular.element((options.targetEvent||{}).target);if(source&&source.length){options.origin.element=source;options.origin.bounds=source[0].getBoundingClientRect();options.origin.focus=function(){source.focus()}}options.parent=angular.element(options.parent||$rootElement);if(options.disableParentScroll){options.restoreScroll=$mdUtil.disableScrollAround(element,options.parent)}}function activateListeners(element,options){var removeListeners=[];var smartClose=function(){var closeFn=options.$type=="alert"?$mdDialog.hide:$mdDialog.cancel;$mdUtil.nextTick(closeFn,true)};if(options.escapeToClose){var target=options.parent;var keyHandlerFn=function(ev){if(ev.keyCode===$mdConstant.KEY_CODE.ESCAPE){ev.stopPropagation();ev.preventDefault();smartClose()}};element.on("keyup",keyHandlerFn);target.on("keyup",keyHandlerFn);removeListeners.push(function(){element.off("keyup",keyHandlerFn);target.off("keyup",keyHandlerFn)})}if(options.clickOutsideToClose){var target=element;var clickHandler=function(ev){if(ev.target===target[0]){ev.stopPropagation();ev.preventDefault();smartClose()}};target.on("click",clickHandler);removeListeners.push(function(){target.off("click",clickHandler)})}options.deactivateListeners=function(){removeListeners.forEach(function(removeFn){removeFn()});options.deactivateListeners=null}}function showBackdrop(scope,element,options){if(options.hasBackdrop){options.backdrop=$mdUtil.createBackdrop(scope,"md-dialog-backdrop md-opaque");$animate.enter(options.backdrop,options.parent)}options.hideBackdrop=function hideBackdrop(){if(options.backdrop){$animate.leave(options.backdrop)}if(options.disableParentScroll){options.restoreScroll()}options.hideBackdrop=null}}function configureAria(element,options){var role=options.$type==="alert"?"alertdialog":"dialog";var dialogContent=element.find("md-dialog-content");var dialogId=element.attr("id")||"dialog_"+$mdUtil.nextUid();element.attr({role:role,tabIndex:"-1"});if(dialogContent.length===0){dialogContent=element}dialogContent.attr("id",dialogId);element.attr("aria-describedby",dialogId);if(options.ariaLabel){$mdAria.expect(element,"aria-label",options.ariaLabel)}else{$mdAria.expectAsync(element,"aria-label",function(){var words=dialogContent.text().split(/\s+/);if(words.length>3)words=words.slice(0,3).concat("...");return words.join(" ")})}}function lockScreenReader(element,options){var isHidden=true;walkDOM(element[0]);options.unlockScreenReader=function(){isHidden=false;walkDOM(element[0]);options.unlockScreenReader=null};function walkDOM(element){while(element.parentNode){if(element===document.body){return}var children=element.parentNode.children;for(var i=0;i<children.length;i++){if(element!==children[i]&&!isNodeOneOf(children[i],["SCRIPT","STYLE"])){children[i].setAttribute("aria-hidden",isHidden)}}walkDOM(element=element.parentNode)}}}function stretchDialogContainerToViewport(container,options){var isFixed=$window.getComputedStyle($document[0].body).position=="fixed";var backdrop=options.backdrop?$window.getComputedStyle(options.backdrop[0]):null;var height=backdrop?Math.ceil(Math.abs(parseInt(backdrop.height,10))):0;container.css({top:(isFixed?$mdUtil.scrollTop(options.parent)/2:0)+"px",height:height?height+"px":"100%"});return container}function dialogPopIn(container,options){options.parent.append(container);stretchDialogContainerToViewport(container,options);var dialogEl=container.find("md-dialog");var animator=$mdUtil.dom.animator;var buildTranslateToOrigin=animator.calculateZoomToOrigin;var translateOptions={transitionInClass:"md-transition-in",transitionOutClass:"md-transition-out"};var from=animator.toTransformCss(buildTranslateToOrigin(dialogEl,options.origin));var to=animator.toTransformCss("");return animator.translate3d(dialogEl,from,to,translateOptions).then(function(animateReversal){options.reverseAnimate=function(){delete options.reverseAnimate;return animateReversal(animator.toTransformCss(buildTranslateToOrigin(dialogEl,options.origin)))};return true})}function dialogPopOut(container,options){return options.reverseAnimate()}function isNodeOneOf(elem,nodeTypeArray){if(nodeTypeArray.indexOf(elem.nodeName)!==-1){return true}}}}MdDialogProvider.$inject=["$$interimElementProvider"]})();(function(){"use strict";(function(){"use strict";angular.module("material.components.fabSpeedDial",["material.core","material.components.fabTrigger","material.components.fabActions"]).directive("mdFabSpeedDial",MdFabSpeedDialDirective).animation(".md-fling",MdFabSpeedDialFlingAnimation).animation(".md-scale",MdFabSpeedDialScaleAnimation).service("mdFabSpeedDialFlingAnimation",MdFabSpeedDialFlingAnimation).service("mdFabSpeedDialScaleAnimation",MdFabSpeedDialScaleAnimation);function MdFabSpeedDialDirective(){FabSpeedDialController.$inject=["$scope","$element","$animate","$mdUtil"];return{restrict:"E",scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:true,controller:FabSpeedDialController,controllerAs:"vm",link:FabSpeedDialLink};function FabSpeedDialLink(scope,element){element.prepend('<div class="md-css-variables"></div>')}function FabSpeedDialController($scope,$element,$animate,$mdUtil){var vm=this;vm.open=function(){$scope.$evalAsync("vm.isOpen = true")};vm.close=function(){!vm.moused&&$scope.$evalAsync("vm.isOpen = false")};vm.mouseenter=function(){vm.moused=true;vm.open()};vm.mouseleave=function(){vm.moused=false;vm.close()};setupDefaults();setupListeners();setupWatchers();$mdUtil.nextTick(function(){$animate.addClass($element,"md-noop")});function setupDefaults(){vm.direction=vm.direction||"down";vm.isOpen=vm.isOpen||false}function setupListeners(){$element.on("mouseenter",vm.mouseenter);$element.on("mouseleave",vm.mouseleave)}function setupWatchers(){$scope.$watch("vm.direction",function(newDir,oldDir){$animate.removeClass($element,"md-"+oldDir);$animate.addClass($element,"md-"+newDir)});$scope.$watch("vm.isOpen",function(isOpen){var toAdd=isOpen?"md-is-open":"";var toRemove=isOpen?"":"md-is-open";$animate.setClass($element,toAdd,toRemove)})}}}function MdFabSpeedDialFlingAnimation(){function runAnimation(element){var el=element[0];var ctrl=element.controller("mdFabSpeedDial");var items=el.querySelectorAll(".md-fab-action-item");var variablesElement=el.querySelector(".md-css-variables");var startZIndex=variablesElement.style.zIndex;angular.forEach(items,function(item,index){var styles=item.style;styles.transform=styles.webkitTransform="";styles.transitionDelay="";styles.opacity=1;styles.zIndex=items.length-index+startZIndex});if(!ctrl.isOpen){angular.forEach(items,function(item,index){var newPosition,axis;var styles=item.style;switch(ctrl.direction){case"up":newPosition=item.scrollHeight*(index+1);axis="Y";break;case"down":newPosition=-item.scrollHeight*(index+1);axis="Y";break;case"left":newPosition=item.scrollWidth*(index+1);axis="X";break;case"right":newPosition=-item.scrollWidth*(index+1);axis="X";break}var newTranslate="translate"+axis+"("+newPosition+"px)";styles.transform=styles.webkitTransform=newTranslate})}}return{addClass:function(element,className,done){if(element.hasClass("md-fling")){runAnimation(element);done()}},removeClass:function(element,className,done){runAnimation(element);done()}}}function MdFabSpeedDialScaleAnimation(){var delay=65;function runAnimation(element){var el=element[0];var ctrl=element.controller("mdFabSpeedDial");var items=el.querySelectorAll(".md-fab-action-item");angular.forEach(items,function(item,index){var styles=item.style,offsetDelay=index*delay;styles.opacity=ctrl.isOpen?1:0;styles.transform=styles.webkitTransform=ctrl.isOpen?"scale(1)":"scale(0)";styles.transitionDelay=(ctrl.isOpen?offsetDelay:items.length-offsetDelay)+"ms"})}return{addClass:function(element,className,done){runAnimation(element);done()},removeClass:function(element,className,done){runAnimation(element);done()}}}})()})();(function(){"use strict";(function(){"use strict";angular.module("material.components.fabActions",["material.core"]).directive("mdFabActions",MdFabActionsDirective);function MdFabActionsDirective(){return{restrict:"E",require:["^?mdFabSpeedDial","^?mdFabToolbar"],compile:function(element,attributes){var children=element.children();if(children.attr("ng-repeat")){children.addClass("md-fab-action-item")}else{children.wrap('<div class="md-fab-action-item">')}return function postLink(scope,element,attributes,controllers){var controller=controllers[0]||controllers[1];if(controller){angular.forEach(element.children(),function(child){child=angular.element(child).children()[0];angular.element(child).on("focus",controller.open);angular.element(child).on("blur",controller.close)})}}}}}})()})();(function(){"use strict";(function(){"use strict";angular.module("material.components.fabToolbar",["material.core","material.components.fabTrigger","material.components.fabActions"]).directive("mdFabToolbar",MdFabToolbarDirective).animation(".md-fab-toolbar",MdFabToolbarAnimation).service("mdFabToolbarAnimation",MdFabToolbarAnimation);function MdFabToolbarDirective(){FabToolbarController.$inject=["$scope","$element","$animate"];return{restrict:"E",transclude:true,template:'<div class="md-fab-toolbar-wrapper">'+'  <div class="md-fab-toolbar-content" ng-transclude></div>'+"</div>",scope:{isOpen:"=?mdOpen"},bindToController:true,controller:FabToolbarController,controllerAs:"vm",link:link};function FabToolbarController($scope,$element,$animate){var vm=this;vm.isOpen=vm.isOpen||false;vm.open=function(){vm.isOpen=true;$scope.$apply()};vm.close=function(){vm.isOpen=false;$scope.$apply()};$element.addClass("md-fab-toolbar");$element.on("mouseenter",vm.open);$element.on("mouseleave",vm.close);$scope.$watch("vm.isOpen",function(isOpen){var toAdd=isOpen?"md-is-open":"";var toRemove=isOpen?"":"md-is-open";$animate.setClass($element,toAdd,toRemove)})}function link(scope,element,attributes){element.find("md-fab-trigger").find("button").attr("tabindex","-1");element.find("md-fab-trigger").find("button").prepend('<div class="md-fab-toolbar-background"></div>')}}function MdFabToolbarAnimation(){var originalIconDelay;function runAnimation(element,className,done){var el=element[0];var ctrl=element.controller("mdFabToolbar");var backgroundElement=el.querySelector(".md-fab-toolbar-background");var triggerElement=el.querySelector("md-fab-trigger button");var iconElement=el.querySelector("md-fab-trigger button md-icon");var actions=element.find("md-fab-actions").children();if(triggerElement&&backgroundElement){var color=window.getComputedStyle(triggerElement).getPropertyValue("background-color");var width=el.offsetWidth;var height=el.offsetHeight;var scale=width*2;backgroundElement.style.backgroundColor=color;backgroundElement.style.borderRadius=width+"px";if(ctrl.isOpen){backgroundElement.style.width=scale+"px";backgroundElement.style.height=scale+"px";backgroundElement.style.top=-(scale/2)+"px";if(element.hasClass("md-left")){backgroundElement.style.left=-(scale/2)+"px";backgroundElement.style.right=null}if(element.hasClass("md-right")){backgroundElement.style.right=-(scale/2)+"px";backgroundElement.style.left=null}backgroundElement.style.transitionDelay="0ms";iconElement&&(iconElement.style.transitionDelay=".3s");angular.forEach(actions,function(action,index){action.style.transitionDelay=(actions.length-index)*25+"ms"})}else{backgroundElement.style.width=triggerElement.offsetWidth+"px";backgroundElement.style.height=triggerElement.offsetHeight+"px";backgroundElement.style.top="0px";if(element.hasClass("md-left")){backgroundElement.style.left="0px";backgroundElement.style.right=null}if(element.hasClass("md-right")){backgroundElement.style.right="0px";backgroundElement.style.left=null}backgroundElement.style.transitionDelay="200ms";iconElement&&(iconElement.style.transitionDelay="0ms");angular.forEach(actions,function(action,index){action.style.transitionDelay=index*25+"ms"})}}}return{addClass:function(element,className,done){runAnimation(element,className,done);done()},removeClass:function(element,className,done){runAnimation(element,className,done);done()}}}})()})();(function(){"use strict";(function(){"use strict";angular.module("material.components.fabTrigger",["material.core"]).directive("mdFabTrigger",MdFabTriggerDirective);function MdFabTriggerDirective(){return{restrict:"E",require:["^?mdFabSpeedDial","^?mdFabToolbar"],link:function(scope,element,attributes,controllers){var controller=controllers[0]||controllers[1];if(controller){angular.forEach(element.children(),function(child){angular.element(child).on("focus",controller.open);angular.element(child).on("blur",controller.close)})}}}}})()})();(function(){"use strict";angular.module("material.components.gridList",["material.core"]).directive("mdGridList",GridListDirective).directive("mdGridTile",GridTileDirective).directive("mdGridTileFooter",GridTileCaptionDirective).directive("mdGridTileHeader",GridTileCaptionDirective).factory("$mdGridLayout",GridLayoutFactory);function GridListDirective($interpolate,$mdConstant,$mdGridLayout,$mdMedia){return{restrict:"E",controller:GridListController,scope:{mdOnLayout:"&"},link:postLink};function postLink(scope,element,attrs,ctrl){element.attr("role","list");ctrl.layoutDelegate=layoutDelegate;var invalidateLayout=angular.bind(ctrl,ctrl.invalidateLayout),unwatchAttrs=watchMedia();scope.$on("$destroy",unwatchMedia);function watchMedia(){for(var mediaName in $mdConstant.MEDIA){$mdMedia(mediaName);$mdMedia.getQuery($mdConstant.MEDIA[mediaName]).addListener(invalidateLayout)}return $mdMedia.watchResponsiveAttributes(["md-cols","md-row-height"],attrs,layoutIfMediaMatch)}function unwatchMedia(){ctrl.layoutDelegate=angular.noop;unwatchAttrs();for(var mediaName in $mdConstant.MEDIA){$mdMedia.getQuery($mdConstant.MEDIA[mediaName]).removeListener(invalidateLayout)}}function layoutIfMediaMatch(mediaName){if(mediaName==null){ctrl.invalidateLayout()}else if($mdMedia(mediaName)){ctrl.invalidateLayout()}}var lastLayoutProps;function layoutDelegate(tilesInvalidated){var tiles=getTileElements();var props={tileSpans:getTileSpans(tiles),colCount:getColumnCount(),rowMode:getRowMode(),rowHeight:getRowHeight(),gutter:getGutter()};if(!tilesInvalidated&&angular.equals(props,lastLayoutProps)){return}var performance=$mdGridLayout(props.colCount,props.tileSpans,tiles).map(function(tilePositions,rowCount){return{grid:{element:element,style:getGridStyle(props.colCount,rowCount,props.gutter,props.rowMode,props.rowHeight)},tiles:tilePositions.map(function(ps,i){return{element:angular.element(tiles[i]),style:getTileStyle(ps.position,ps.spans,props.colCount,props.rowCount,props.gutter,props.rowMode,props.rowHeight)}})}}).reflow().performance();scope.mdOnLayout({$event:{performance:performance}});lastLayoutProps=props}var startSymbol=$interpolate.startSymbol();var endSymbol=$interpolate.endSymbol();function expr(exprStr){return startSymbol+exprStr+endSymbol}var UNIT=$interpolate(expr("share")+"% - ("+expr("gutter")+" * "+expr("gutterShare")+")");var POSITION=$interpolate("calc(("+expr("unit")+" + "+expr("gutter")+") * "+expr("offset")+")");var DIMENSION=$interpolate("calc(("+expr("unit")+") * "+expr("span")+" + ("+expr("span")+" - 1) * "+expr("gutter")+")");function getTileStyle(position,spans,colCount,rowCount,gutter,rowMode,rowHeight){var hShare=1/colCount*100;var hGutterShare=(colCount-1)/colCount;var hUnit=UNIT({share:hShare,gutterShare:hGutterShare,gutter:gutter});var style={left:POSITION({unit:hUnit,offset:position.col,gutter:gutter}),width:DIMENSION({unit:hUnit,span:spans.col,gutter:gutter}),paddingTop:"",marginTop:"",top:"",height:""};switch(rowMode){case"fixed":style.top=POSITION({unit:rowHeight,offset:position.row,gutter:gutter});style.height=DIMENSION({unit:rowHeight,span:spans.row,gutter:gutter});break;case"ratio":var vShare=hShare/rowHeight;var vUnit=UNIT({share:vShare,gutterShare:hGutterShare,gutter:gutter});style.paddingTop=DIMENSION({unit:vUnit,span:spans.row,gutter:gutter});style.marginTop=POSITION({unit:vUnit,offset:position.row,gutter:gutter});break;case"fit":var vGutterShare=(rowCount-1)/rowCount;var vShare=1/rowCount*100;var vUnit=UNIT({share:vShare,gutterShare:vGutterShare,gutter:gutter});style.top=POSITION({unit:vUnit,offset:position.row,gutter:gutter});style.height=DIMENSION({unit:vUnit,span:spans.row,gutter:gutter});break}return style}function getGridStyle(colCount,rowCount,gutter,rowMode,rowHeight){var style={height:"",paddingBottom:""};switch(rowMode){case"fixed":style.height=DIMENSION({unit:rowHeight,span:rowCount,gutter:gutter});break;case"ratio":var hGutterShare=colCount===1?0:(colCount-1)/colCount,hShare=1/colCount*100,vShare=hShare*(1/rowHeight),vUnit=UNIT({share:vShare,gutterShare:hGutterShare,gutter:gutter});style.paddingBottom=DIMENSION({unit:vUnit,span:rowCount,gutter:gutter});break;case"fit":break}return style}function getTileElements(){return[].filter.call(element.children(),function(ele){return ele.tagName=="MD-GRID-TILE"})}function getTileSpans(tileElements){return[].map.call(tileElements,function(ele){var ctrl=angular.element(ele).controller("mdGridTile");return{row:parseInt($mdMedia.getResponsiveAttribute(ctrl.$attrs,"md-rowspan"),10)||1,col:parseInt($mdMedia.getResponsiveAttribute(ctrl.$attrs,"md-colspan"),10)||1}})}function getColumnCount(){var colCount=parseInt($mdMedia.getResponsiveAttribute(attrs,"md-cols"),10);if(isNaN(colCount)){throw"md-grid-list: md-cols attribute was not found, or contained a non-numeric value"}return colCount}function getGutter(){return applyDefaultUnit($mdMedia.getResponsiveAttribute(attrs,"md-gutter")||1)}function getRowHeight(){var rowHeight=$mdMedia.getResponsiveAttribute(attrs,"md-row-height");switch(getRowMode()){case"fixed":return applyDefaultUnit(rowHeight);case"ratio":var whRatio=rowHeight.split(":");return parseFloat(whRatio[0])/parseFloat(whRatio[1]);case"fit":return 0}}function getRowMode(){var rowHeight=$mdMedia.getResponsiveAttribute(attrs,"md-row-height");if(rowHeight=="fit"){return"fit"}else if(rowHeight.indexOf(":")!==-1){return"ratio"}else{return"fixed"}}function applyDefaultUnit(val){return/\D$/.test(val)?val:val+"px"}}}GridListDirective.$inject=["$interpolate","$mdConstant","$mdGridLayout","$mdMedia"];function GridListController($mdUtil){this.layoutInvalidated=false;this.tilesInvalidated=false;this.$timeout_=$mdUtil.nextTick;this.layoutDelegate=angular.noop}GridListController.$inject=["$mdUtil"];GridListController.prototype={invalidateTiles:function(){this.tilesInvalidated=true;this.invalidateLayout()},invalidateLayout:function(){if(this.layoutInvalidated){return}this.layoutInvalidated=true;this.$timeout_(angular.bind(this,this.layout))},layout:function(){try{this.layoutDelegate(this.tilesInvalidated)}finally{this.layoutInvalidated=false;this.tilesInvalidated=false}}};function GridLayoutFactory($mdUtil){var defaultAnimator=GridTileAnimator;GridLayout.animateWith=function(customAnimator){defaultAnimator=!angular.isFunction(customAnimator)?GridTileAnimator:customAnimator};return GridLayout;function GridLayout(colCount,tileSpans){var self,layoutInfo,gridStyles,layoutTime,mapTime,reflowTime;layoutTime=$mdUtil.time(function(){layoutInfo=calculateGridFor(colCount,tileSpans)});return self={layoutInfo:function(){return layoutInfo},map:function(updateFn){mapTime=$mdUtil.time(function(){var info=self.layoutInfo();gridStyles=updateFn(info.positioning,info.rowCount)});return self},reflow:function(animatorFn){reflowTime=$mdUtil.time(function(){var animator=animatorFn||defaultAnimator;animator(gridStyles.grid,gridStyles.tiles)});return self},performance:function(){return{tileCount:tileSpans.length,layoutTime:layoutTime,mapTime:mapTime,reflowTime:reflowTime,totalTime:layoutTime+mapTime+reflowTime}}}}function GridTileAnimator(grid,tiles){grid.element.css(grid.style);tiles.forEach(function(t){t.element.css(t.style)})}function calculateGridFor(colCount,tileSpans){var curCol=0,curRow=0,spaceTracker=newSpaceTracker();return{positioning:tileSpans.map(function(spans,i){return{spans:spans,position:reserveSpace(spans,i)}}),rowCount:curRow+Math.max.apply(Math,spaceTracker)};function reserveSpace(spans,i){if(spans.col>colCount){throw"md-grid-list: Tile at position "+i+" has a colspan "+"("+spans.col+") that exceeds the column count "+"("+colCount+")"}var start=0,end=0;while(end-start<spans.col){if(curCol>=colCount){nextRow();continue}start=spaceTracker.indexOf(0,curCol);if(start===-1||(end=findEnd(start+1))===-1){start=end=0;nextRow();continue}curCol=end+1}adjustRow(start,spans.col,spans.row);curCol=start+spans.col;return{col:start,row:curRow}}function nextRow(){curCol=0;curRow++;adjustRow(0,colCount,-1)}function adjustRow(from,cols,by){for(var i=from;i<from+cols;i++){spaceTracker[i]=Math.max(spaceTracker[i]+by,0)}}function findEnd(start){var i;for(i=start;i<spaceTracker.length;i++){if(spaceTracker[i]!==0){return i}}if(i===spaceTracker.length){return i}}function newSpaceTracker(){var tracker=[];for(var i=0;i<colCount;i++){tracker.push(0)}return tracker}}}GridLayoutFactory.$inject=["$mdUtil"];function GridTileDirective($mdMedia){return{restrict:"E",require:"^mdGridList",template:"<figure ng-transclude></figure>",transclude:true,scope:{},controller:["$attrs",function($attrs){this.$attrs=$attrs}],link:postLink};function postLink(scope,element,attrs,gridCtrl){element.attr("role","listitem");var unwatchAttrs=$mdMedia.watchResponsiveAttributes(["md-colspan","md-rowspan"],attrs,angular.bind(gridCtrl,gridCtrl.invalidateLayout));gridCtrl.invalidateTiles();scope.$on("$destroy",function(){unwatchAttrs();gridCtrl.invalidateLayout()});if(angular.isDefined(scope.$parent.$index)){scope.$watch(function(){return scope.$parent.$index},function indexChanged(newIdx,oldIdx){if(newIdx===oldIdx){return}gridCtrl.invalidateTiles()})}}}GridTileDirective.$inject=["$mdMedia"];function GridTileCaptionDirective(){return{template:"<figcaption ng-transclude></figcaption>",transclude:true}}})();(function(){"use strict";angular.module("material.components.icon",["material.core"]).directive("mdIcon",mdIconDirective);function mdIconDirective($mdIcon,$mdTheming,$mdAria){return{scope:{fontSet:"@mdFontSet",fontIcon:"@mdFontIcon",svgIcon:"@mdSvgIcon",svgSrc:"@mdSvgSrc"},restrict:"E",link:postLink};function postLink(scope,element,attr){$mdTheming(element);prepareForFontIcon();var label=attr.alt||scope.fontIcon||scope.svgIcon||element.text();var attrName=attr.$normalize(attr.$attr.mdSvgIcon||attr.$attr.mdSvgSrc||"");if(!attr["aria-label"]){if(label!=""&&!parentsHaveText()){$mdAria.expect(element,"aria-label",label);$mdAria.expect(element,"role","img")}else if(!element.text()){$mdAria.expect(element,"aria-hidden","true")}}if(attrName){attr.$observe(attrName,function(attrVal){element.empty();if(attrVal){$mdIcon(attrVal).then(function(svg){element.append(svg)})}})}function parentsHaveText(){var parent=element.parent();if(parent.attr("aria-label")||parent.text()){return true}else if(parent.parent().attr("aria-label")||parent.parent().text()){return true}return false}function prepareForFontIcon(){if(!scope.svgIcon&&!scope.svgSrc){if(scope.fontIcon){element.addClass("md-font "+scope.fontIcon)}if(scope.fontSet){element.addClass($mdIcon.fontSet(scope.fontSet))}if(shouldUseDefaultFontSet()){element.addClass($mdIcon.fontSet())}}function shouldUseDefaultFontSet(){return!scope.fontIcon&&!scope.fontSet&&!attr.hasOwnProperty("class")}}}}mdIconDirective.$inject=["$mdIcon","$mdTheming","$mdAria"]})();(function(){"use strict";angular.module("material.components.icon").provider("$mdIcon",MdIconProvider);var config={defaultViewBoxSize:24,defaultFontSet:"material-icons",fontSets:[]};function MdIconProvider(){}MdIconProvider.prototype={icon:function(id,url,viewBoxSize){if(id.indexOf(":")==-1)id="$default:"+id;config[id]=new ConfigurationItem(url,viewBoxSize);return this},iconSet:function(id,url,viewBoxSize){config[id]=new ConfigurationItem(url,viewBoxSize);return this},defaultIconSet:function(url,viewBoxSize){var setName="$default";if(!config[setName]){config[setName]=new ConfigurationItem(url,viewBoxSize)}config[setName].viewBoxSize=viewBoxSize||config.defaultViewBoxSize;return this},defaultViewBoxSize:function(viewBoxSize){config.defaultViewBoxSize=viewBoxSize;return this},fontSet:function fontSet(alias,className){config.fontSets.push({alias:alias,fontSet:className||alias});return this},defaultFontSet:function defaultFontSet(className){config.defaultFontSet=!className?"":className;return this},defaultIconSize:function defaultIconSize(iconSize){config.defaultIconSize=iconSize;return this},preloadIcons:function($templateCache){var iconProvider=this;var svgRegistry=[{id:"md-tabs-arrow",url:"md-tabs-arrow.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><polygon points="15.4,7.4 14,6 8,12 14,18 15.4,16.6 10.8,12 "/></g></svg>'},{id:"md-close",url:"md-close.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><path d="M19 6.41l-1.41-1.41-5.59 5.59-5.59-5.59-1.41 1.41 5.59 5.59-5.59 5.59 1.41 1.41 5.59-5.59 5.59 5.59 1.41-1.41-5.59-5.59z"/></g></svg>'},{id:"md-cancel",url:"md-cancel.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><path d="M12 2c-5.53 0-10 4.47-10 10s4.47 10 10 10 10-4.47 10-10-4.47-10-10-10zm5 13.59l-1.41 1.41-3.59-3.59-3.59 3.59-1.41-1.41 3.59-3.59-3.59-3.59 1.41-1.41 3.59 3.59 3.59-3.59 1.41 1.41-3.59 3.59 3.59 3.59z"/></g></svg>'},{id:"md-menu",url:"md-menu.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><path d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" /></svg>'},{id:"md-toggle-arrow",url:"md-toggle-arrow-svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 48 48"><path d="M24 16l-12 12 2.83 2.83 9.17-9.17 9.17 9.17 2.83-2.83z"/><path d="M0 0h48v48h-48z" fill="none"/></svg>'}];svgRegistry.forEach(function(asset){iconProvider.icon(asset.id,asset.url);$templateCache.put(asset.url,asset.svg)})},$get:["$http","$q","$log","$templateCache",function($http,$q,$log,$templateCache){this.preloadIcons($templateCache);return MdIconService(config,$http,$q,$log,$templateCache)}]};function ConfigurationItem(url,viewBoxSize){this.url=url;this.viewBoxSize=viewBoxSize||config.defaultViewBoxSize}function MdIconService(config,$http,$q,$log,$templateCache){var iconCache={};var urlRegex=/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/i;Icon.prototype={clone:cloneSVG,prepare:prepareAndStyle};getIcon.fontSet=findRegisteredFontSet;return getIcon;function getIcon(id){id=id||"";if(iconCache[id])return $q.when(iconCache[id].clone());if(urlRegex.test(id))return loadByURL(id).then(cacheIcon(id));if(id.indexOf(":")==-1)id="$default:"+id;return loadByID(id).catch(loadFromIconSet).catch(announceIdNotFound).catch(announceNotFound).then(cacheIcon(id))}function findRegisteredFontSet(alias){var useDefault=angular.isUndefined(alias)||!(alias&&alias.length);if(useDefault)return config.defaultFontSet;var result=alias;angular.forEach(config.fontSets,function(it){if(it.alias==alias)result=it.fontSet||result});return result}function cacheIcon(id){return function updateCache(icon){iconCache[id]=isIcon(icon)?icon:new Icon(icon,config[id]);return iconCache[id].clone()}}function loadByID(id){var iconConfig=config[id];return!iconConfig?$q.reject(id):loadByURL(iconConfig.url).then(function(icon){return new Icon(icon,iconConfig)})}function loadFromIconSet(id){var setName=id.substring(0,id.lastIndexOf(":"))||"$default";var iconSetConfig=config[setName];return!iconSetConfig?$q.reject(id):loadByURL(iconSetConfig.url).then(extractFromSet);function extractFromSet(set){var iconName=id.slice(id.lastIndexOf(":")+1);var icon=set.querySelector("#"+iconName);return!icon?$q.reject(id):new Icon(icon,iconSetConfig)}}function loadByURL(url){return $http.get(url,{cache:$templateCache}).then(function(response){return angular.element("<div>").append(response.data).find("svg")[0]})}function announceIdNotFound(id){var msg;if(angular.isString(id)){msg="icon "+id+" not found";$log.warn(msg)}return $q.reject(msg||id)}function announceNotFound(err){var msg=angular.isString(err)?err:err.message||err.data||err.statusText;$log.warn(msg);return $q.reject(msg)}function isIcon(target){return angular.isDefined(target.element)&&angular.isDefined(target.config)}function Icon(el,config){if(el.tagName!="svg"){el=angular.element('<svg xmlns="http://www.w3.org/2000/svg">').append(el)[0]}if(!el.getAttribute("xmlns")){el.setAttribute("xmlns","http://www.w3.org/2000/svg")}this.element=el;this.config=config;this.prepare()}function prepareAndStyle(){var viewBoxSize=this.config?this.config.viewBoxSize:config.defaultViewBoxSize;angular.forEach({fit:"",height:"100%",width:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:this.element.getAttribute("viewBox")||"0 0 "+viewBoxSize+" "+viewBoxSize},function(val,attr){this.element.setAttribute(attr,val)},this);angular.forEach({"pointer-events":"none",display:"block"},function(val,style){this.element.style[style]=val},this)}function cloneSVG(){return this.element.cloneNode(true)}}})();(function(){"use strict";angular.module("material.components.input",["material.core"]).directive("mdInputContainer",mdInputContainerDirective).directive("label",labelDirective).directive("input",inputTextareaDirective).directive("textarea",inputTextareaDirective).directive("mdMaxlength",mdMaxlengthDirective).directive("placeholder",placeholderDirective);function mdInputContainerDirective($mdTheming,$parse){ContainerCtrl.$inject=["$scope","$element","$attrs"];return{restrict:"E",link:postLink,controller:ContainerCtrl};function postLink(scope,element,attr){$mdTheming(element)}function ContainerCtrl($scope,$element,$attrs){var self=this;self.isErrorGetter=$attrs.mdIsError&&$parse($attrs.mdIsError);self.delegateClick=function(){self.input.focus()};self.element=$element;self.setFocused=function(isFocused){$element.toggleClass("md-input-focused",!!isFocused)};self.setHasValue=function(hasValue){$element.toggleClass("md-input-has-value",!!hasValue)};self.setInvalid=function(isInvalid){$element.toggleClass("md-input-invalid",!!isInvalid)};$scope.$watch(function(){return self.label&&self.input},function(hasLabelAndInput){if(hasLabelAndInput&&!self.label.attr("for")){self.label.attr("for",self.input.attr("id"))}})}}mdInputContainerDirective.$inject=["$mdTheming","$parse"];function labelDirective(){return{restrict:"E",require:"^?mdInputContainer",link:function(scope,element,attr,containerCtrl){if(!containerCtrl||attr.mdNoFloat)return;containerCtrl.label=element;scope.$on("$destroy",function(){containerCtrl.label=null})}}}function inputTextareaDirective($mdUtil,$window,$mdAria){return{restrict:"E",require:["^?mdInputContainer","?ngModel"],link:postLink};function postLink(scope,element,attr,ctrls){var containerCtrl=ctrls[0];var ngModelCtrl=ctrls[1]||$mdUtil.fakeNgModel();var isReadonly=angular.isDefined(attr.readonly);if(!containerCtrl)return;if(containerCtrl.input){throw new Error("<md-input-container> can only have *one* <input>, <textarea> or <md-select> child element!")}containerCtrl.input=element;if(!containerCtrl.label){$mdAria.expect(element,"aria-label",element.attr("placeholder"))}element.addClass("md-input");if(!element.attr("id")){element.attr("id","input_"+$mdUtil.nextUid())}if(element[0].tagName.toLowerCase()==="textarea"){setupTextarea()}var isErrorGetter=containerCtrl.isErrorGetter||function(){return ngModelCtrl.$invalid&&ngModelCtrl.$touched};scope.$watch(isErrorGetter,containerCtrl.setInvalid);ngModelCtrl.$parsers.push(ngModelPipelineCheckValue);ngModelCtrl.$formatters.push(ngModelPipelineCheckValue);element.on("input",inputCheckValue);if(!isReadonly){element.on("focus",function(ev){containerCtrl.setFocused(true)}).on("blur",function(ev){containerCtrl.setFocused(false);inputCheckValue()})}scope.$on("$destroy",function(){containerCtrl.setFocused(false);containerCtrl.setHasValue(false);containerCtrl.input=null});function ngModelPipelineCheckValue(arg){containerCtrl.setHasValue(!ngModelCtrl.$isEmpty(arg));return arg}function inputCheckValue(){containerCtrl.setHasValue(element.val().length>0||(element[0].validity||{}).badInput)}function setupTextarea(){if(angular.isDefined(element.attr("md-no-autogrow"))){return}var node=element[0];var container=containerCtrl.element[0];var min_rows=NaN;var lineHeight=null;if(node.hasAttribute("rows")){min_rows=parseInt(node.getAttribute("rows"))}var onChangeTextarea=$mdUtil.debounce(growTextarea,1);function pipelineListener(value){onChangeTextarea();return value}if(ngModelCtrl){ngModelCtrl.$formatters.push(pipelineListener);ngModelCtrl.$viewChangeListeners.push(pipelineListener)}else{onChangeTextarea()}element.on("keydown input",onChangeTextarea);if(isNaN(min_rows)){element.attr("rows","1");element.on("scroll",onScroll)}angular.element($window).on("resize",onChangeTextarea);scope.$on("$destroy",function(){angular.element($window).off("resize",onChangeTextarea)});function growTextarea(){container.style.height=container.offsetHeight+"px";element.addClass("md-no-flex");if(isNaN(min_rows)){node.style.height="auto";node.scrollTop=0;var height=getHeight();if(height)node.style.height=height+"px"}else{node.setAttribute("rows",1);if(!lineHeight){node.style.minHeight="0";lineHeight=element.prop("clientHeight");node.style.minHeight=null}var rows=Math.max(min_rows,Math.round(node.scrollHeight/lineHeight));node.setAttribute("rows",rows)}element.removeClass("md-no-flex");container.style.height="auto"}function getHeight(){var line=node.scrollHeight-node.offsetHeight;return node.offsetHeight+(line>0?line:0)}function onScroll(e){node.scrollTop=0;var line=node.scrollHeight-node.offsetHeight;var height=node.offsetHeight+line;node.style.height=height+"px"}}}}inputTextareaDirective.$inject=["$mdUtil","$window","$mdAria"];function mdMaxlengthDirective($animate){return{restrict:"A",require:["ngModel","^mdInputContainer"],link:postLink};function postLink(scope,element,attr,ctrls){var maxlength;var ngModelCtrl=ctrls[0];var containerCtrl=ctrls[1];var charCountEl=angular.element('<div class="md-char-counter">');attr.$set("ngTrim","false");containerCtrl.element.append(charCountEl);ngModelCtrl.$formatters.push(renderCharCount);ngModelCtrl.$viewChangeListeners.push(renderCharCount);element.on("input keydown",function(){renderCharCount()});scope.$watch(attr.mdMaxlength,function(value){maxlength=value;if(angular.isNumber(value)&&value>0){if(!charCountEl.parent().length){$animate.enter(charCountEl,containerCtrl.element,angular.element(containerCtrl.element[0].lastElementChild))}renderCharCount()}else{$animate.leave(charCountEl)}});ngModelCtrl.$validators["md-maxlength"]=function(modelValue,viewValue){if(!angular.isNumber(maxlength)||maxlength<0){return true}return(modelValue||element.val()||viewValue||"").length<=maxlength};function renderCharCount(value){charCountEl.text((element.val()||value||"").length+"/"+maxlength);return value}}}mdMaxlengthDirective.$inject=["$animate"];function placeholderDirective($log){return{restrict:"A",require:"^^?mdInputContainer",priority:200,link:postLink};function postLink(scope,element,attr,inputContainer){if(!inputContainer)return;if(angular.isDefined(inputContainer.element.attr("md-no-float")))return;var placeholderText=attr.placeholder;element.removeAttr("placeholder");if(inputContainer.element.find("label").length==0){if(inputContainer.input&&inputContainer.input[0].nodeName!="MD-SELECT"){var placeholder='<label ng-click="delegateClick()">'+placeholderText+"</label>";inputContainer.element.addClass("md-icon-float");inputContainer.element.prepend(placeholder)}}else if(element[0].nodeName!="MD-SELECT"){$log.warn("The placeholder='"+placeholderText+"' will be ignored since this md-input-container has a child label element.")}}}placeholderDirective.$inject=["$log"]})();(function(){"use strict";angular.module("material.components.list",["material.core"]).controller("MdListController",MdListController).directive("mdList",mdListDirective).directive("mdListItem",mdListItemDirective);function mdListDirective($mdTheming){return{restrict:"E",compile:function(tEl){tEl[0].setAttribute("role","list");return $mdTheming}}}mdListDirective.$inject=["$mdTheming"];function mdListItemDirective($mdAria,$mdConstant,$timeout){var proxiedTypes=["md-checkbox","md-switch"];return{restrict:"E",controller:"MdListController",compile:function(tEl,tAttrs){var secondaryItem=tEl[0].querySelector(".md-secondary");var hasProxiedElement;var proxyElement;tEl[0].setAttribute("role","listitem");if(!tAttrs.ngClick){for(var i=0,type;type=proxiedTypes[i];++i){if(proxyElement=tEl[0].querySelector(type)){hasProxiedElement=true;break}}if(hasProxiedElement){wrapIn("div")}else if(!tEl[0].querySelector("md-button")){tEl.addClass("md-no-proxy")}}else{wrapIn("button")}setupToggleAria();function setupToggleAria(){var toggleTypes=["md-switch","md-checkbox"];var toggle;for(var i=0,toggleType;toggleType=toggleTypes[i];++i){if(toggle=tEl.find(toggleType)[0]){if(!toggle.hasAttribute("aria-label")){var p=tEl.find("p")[0];if(!p)return;toggle.setAttribute("aria-label","Toggle "+p.textContent)}}}}function wrapIn(type){var container;if(type=="div"){container=angular.element('<div class="md-no-style md-list-item-inner">');container.append(tEl.contents());tEl.addClass("md-proxy-focus")}else{container=angular.element('<md-button class="md-no-style"><div class="md-list-item-inner"></div></md-button>');var copiedAttrs=["ng-click","aria-label","ng-disabled"];angular.forEach(copiedAttrs,function(attr){if(tEl[0].hasAttribute(attr)){container[0].setAttribute(attr,tEl[0].getAttribute(attr));tEl[0].removeAttribute(attr)}});container.children().eq(0).append(tEl.contents())}tEl[0].setAttribute("tabindex","-1");tEl.append(container);if(secondaryItem&&secondaryItem.hasAttribute("ng-click")){$mdAria.expect(secondaryItem,"aria-label");var buttonWrapper=angular.element('<md-button class="md-secondary-container md-icon-button">');buttonWrapper.attr("ng-click",secondaryItem.getAttribute("ng-click"));secondaryItem.removeAttribute("ng-click");secondaryItem.setAttribute("tabindex","-1");secondaryItem.classList.remove("md-secondary");buttonWrapper.append(secondaryItem);secondaryItem=buttonWrapper[0]}if(secondaryItem&&(secondaryItem.hasAttribute("ng-click")||tAttrs.ngClick&&isProxiedElement(secondaryItem))){tEl.addClass("md-with-secondary");tEl.append(secondaryItem)}}function isProxiedElement(el){return proxiedTypes.indexOf(el.nodeName.toLowerCase())!=-1}return postLink;function postLink($scope,$element,$attr,ctrl){var proxies=[],firstChild=$element[0].firstElementChild,hasClick=firstChild&&firstChild.hasAttribute("ng-click");computeProxies();computeClickable();if($element.hasClass("md-proxy-focus")&&proxies.length){angular.forEach(proxies,function(proxy){proxy=angular.element(proxy);$scope.mouseActive=false;proxy.on("mousedown",function(){$scope.mouseActive=true;$timeout(function(){$scope.mouseActive=false},100)}).on("focus",function(){if($scope.mouseActive===false){$element.addClass("md-focused")}proxy.on("blur",function proxyOnBlur(){$element.removeClass("md-focused");proxy.off("blur",proxyOnBlur)})})})}function computeProxies(){var children=$element.children();if(children.length&&!children[0].hasAttribute("ng-click")){angular.forEach(proxiedTypes,function(type){angular.forEach(firstChild.querySelectorAll(type),function(child){proxies.push(child)})})}}function computeClickable(){if(proxies.length||hasClick){$element.addClass("md-clickable");ctrl.attachRipple($scope,angular.element($element[0].querySelector(".md-no-style")))}}if(!hasClick&&!proxies.length){firstChild&&firstChild.addEventListener("keypress",function(e){if(e.target.nodeName!="INPUT"&&e.target.nodeName!="TEXTAREA"){var keyCode=e.which||e.keyCode;if(keyCode==$mdConstant.KEY_CODE.SPACE){if(firstChild){firstChild.click();e.preventDefault();e.stopPropagation()}}}})}$element.off("click");$element.off("keypress");if(proxies.length&&firstChild){$element.children().eq(0).on("click",function(e){if(firstChild.contains(e.target)){angular.forEach(proxies,function(proxy){if(e.target!==proxy&&!proxy.contains(e.target)){angular.element(proxy).triggerHandler("click")}})}})}}}}}mdListItemDirective.$inject=["$mdAria","$mdConstant","$timeout"];function MdListController($scope,$element,$mdListInkRipple){var ctrl=this;ctrl.attachRipple=attachRipple;function attachRipple(scope,element){var options={};$mdListInkRipple.attach(scope,element,options)}}MdListController.$inject=["$scope","$element","$mdListInkRipple"]})();(function(){"use strict";angular.module("material.components.menu",["material.core","material.components.backdrop"]).directive("mdMenu",MenuDirective).controller("mdMenuCtrl",MenuController);function MenuDirective($mdMenu){return{restrict:"E",require:"mdMenu",controller:"mdMenuCtrl",scope:true,compile:compile};function compile(templateElement){templateElement.addClass("md-menu");var triggerElement=templateElement.children()[0];if(!triggerElement.hasAttribute("ng-click")){triggerElement=triggerElement.querySelector("[ng-click]")}triggerElement&&triggerElement.setAttribute("aria-haspopup","true");if(templateElement.children().length!=2){throw Error("Invalid HTML for md-menu. Expected two children elements.")}return link}function link(scope,element,attrs,mdMenuCtrl){var menuContainer=angular.element('<div class="md-open-menu-container md-whiteframe-z2"></div>');var menuContents=element.children()[1];menuContainer.append(menuContents);mdMenuCtrl.init(menuContainer);scope.$on("$destroy",function(){menuContainer.remove();mdMenuCtrl.close()})}}MenuDirective.$inject=["$mdMenu"];function MenuController($mdMenu,$attrs,$element,$scope){var menuContainer;var ctrl=this;var triggerElement;this.init=function(setMenuContainer){menuContainer=setMenuContainer;triggerElement=$element[0].querySelector("[ng-click]")};this.open=function openMenu(ev){ev&&ev.stopPropagation();ctrl.isOpen=true;triggerElement.setAttribute("aria-expanded","true");$mdMenu.show({scope:$scope,mdMenuCtrl:ctrl,element:menuContainer,target:$element[0]})};$scope.$mdOpenMenu=this.open;this.close=function closeMenu(skipFocus){if(!ctrl.isOpen)return;ctrl.isOpen=false;triggerElement.setAttribute("aria-expanded","false");$mdMenu.hide();if(!skipFocus){$element.children()[0].focus()}};this.positionMode=function(){var attachment=($attrs.mdPositionMode||"target").split(" ");if(attachment.length==1){attachment.push(attachment[0])}return{left:attachment[0],top:attachment[1]}};this.offsets=function(){var offsets=($attrs.mdOffset||"0 0").split(" ").map(parseFloat);if(offsets.length==2){return{left:offsets[0],top:offsets[1]}}else if(offsets.length==1){return{top:offsets[0],left:offsets[0]}}else{throw Error("Invalid offsets specified. Please follow format <x, y> or <n>")}}}MenuController.$inject=["$mdMenu","$attrs","$element","$scope"]})();(function(){"use strict";angular.module("material.components.menu").provider("$mdMenu",MenuProvider);function MenuProvider($$interimElementProvider){var MENU_EDGE_MARGIN=8;menuDefaultOptions.$inject=["$$rAF","$window","$mdUtil","$mdTheming","$mdConstant","$document"];return $$interimElementProvider("$mdMenu").setDefaults({methods:["target"],options:menuDefaultOptions});function menuDefaultOptions($$rAF,$window,$mdUtil,$mdTheming,$mdConstant,$document){var animator=$mdUtil.dom.animator;return{parent:"body",onShow:onShow,onRemove:onRemove,hasBackdrop:true,disableParentScroll:true,skipCompile:true,preserveScope:true,themable:true};function onShow(scope,element,opts){buildOpts(opts);$mdTheming.inherit(opts.menuContentEl,opts.target);handleResizing();if(opts.disableParentScroll){opts.restoreScroll=$mdUtil.disableScrollAround(opts.element)}if(opts.backdrop){$mdTheming.inherit(opts.backdrop,opts.parent);opts.parent.append(opts.backdrop)}showMenu();return animator.waitTransitionEnd(element,{timeout:370}).finally(function(response){opts.cleanupInteraction=activateInteraction();return response});function buildOpts(){if(!opts.target){throw Error("$mdMenu.show() expected a target to animate from in options.target")}angular.extend(opts,{alreadyOpen:false,isRemoved:false,target:angular.element(opts.target),parent:angular.element(opts.parent),menuContentEl:angular.element(element[0].querySelector("md-menu-content")),backdrop:opts.hasBackdrop&&$mdUtil.createBackdrop(scope,"md-menu-backdrop md-click-catcher")})}function handleResizing(){opts.resizeFn=function(){positionMenu(element,opts)};angular.element($window).on("resize",opts.resizeFn);angular.element($window).on("orientationchange",opts.resizeFn)}function showMenu(){opts.parent.append(element);element.removeClass("md-leave");$$rAF(function(){$$rAF(function(){positionMenu(element,opts);$$rAF(function(){element.addClass("md-active");opts.alreadyOpen=true;element[0].style[$mdConstant.CSS.TRANSFORM]=""})})})}function activateInteraction(){element.addClass("md-clickable");opts.backdrop&&opts.backdrop.on("click",function(e){e.preventDefault();e.stopPropagation();scope.$apply(function(){opts.mdMenuCtrl.close(true)})});opts.menuContentEl.on("keydown",function(ev){scope.$apply(function(){switch(ev.keyCode){case $mdConstant.KEY_CODE.ESCAPE:opts.mdMenuCtrl.close();break;case $mdConstant.KEY_CODE.UP_ARROW:focusMenuItem(ev,opts.menuContentEl,opts,-1);break;case $mdConstant.KEY_CODE.DOWN_ARROW:focusMenuItem(ev,opts.menuContentEl,opts,1);break}})});var captureClickListener=function(e){var target=e.target;do{if(target==opts.menuContentEl[0])return;if(hasAnyAttribute(target,["ng-click","ng-href","ui-sref"])){if(!target.hasAttribute("disabled")){close()}break}}while(target=target.parentNode);function close(){scope.$apply(function(){opts.mdMenuCtrl.close()})}function hasAnyAttribute(target,attrs){if(!target)return false;for(var i=0,attr;attr=attrs[i];++i){var altForms=[attr,"data-"+attr,"x-"+attr];for(var j=0,rawAttr;rawAttr=altForms[j];++j){if(target.hasAttribute(rawAttr)){return true}}}return false}};opts.menuContentEl[0].addEventListener("click",captureClickListener,true);var focusTarget=opts.menuContentEl[0].querySelector("[md-menu-focus-target]");if(!focusTarget)focusTarget=opts.menuContentEl[0].firstElementChild.firstElementChild;focusTarget.focus();return function cleanupInteraction(){element.removeClass("md-clickable");opts.backdrop.off("click");opts.menuContentEl.off("keydown");opts.menuContentEl[0].removeEventListener("click",captureClickListener,true)}}}function focusMenuItem(e,menuEl,opts,direction){var currentItem=$mdUtil.getClosest(e.target,"MD-MENU-ITEM");var items=$mdUtil.nodesToArray(menuEl[0].children);var currentIndex=items.indexOf(currentItem);for(var i=currentIndex+direction;i>=0&&i<items.length;i=i+direction){var focusTarget=items[i].firstElementChild||items[i];var didFocus=attemptFocus(focusTarget);if(didFocus){break}}}function attemptFocus(el){if(el&&el.getAttribute("tabindex")!=-1){el.focus();if($document[0].activeElement==el){return true}else{return false}}}function onRemove(scope,element,opts){opts.isRemoved=true;element.addClass("md-leave");opts.cleanupInteraction();angular.element($window).off("resize",opts.resizeFn);angular.element($window).off("orientationchange",opts.resizeFn);opts.resizeFn=undefined;return animator.waitTransitionEnd(element,{timeout:370}).finally(function(){element.removeClass("md-active");opts.backdrop&&opts.backdrop.remove();if(element[0].parentNode===opts.parent[0]){opts.parent[0].removeChild(element[0])}opts.restoreScroll&&opts.restoreScroll()})}function positionMenu(el,opts){if(opts.isRemoved)return;var containerNode=el[0],openMenuNode=el[0].firstElementChild,openMenuNodeRect=openMenuNode.getBoundingClientRect(),boundryNode=opts.parent[0],boundryNodeRect=boundryNode.getBoundingClientRect();var originNode=opts.target[0].querySelector("[md-menu-origin]")||opts.target[0],originNodeRect=originNode.getBoundingClientRect();var bounds={left:boundryNodeRect.left+MENU_EDGE_MARGIN,top:Math.max(boundryNodeRect.top,0)+MENU_EDGE_MARGIN,bottom:Math.max(boundryNodeRect.bottom,Math.max(boundryNodeRect.top,0)+boundryNodeRect.height)-MENU_EDGE_MARGIN,right:boundryNodeRect.right-MENU_EDGE_MARGIN};var alignTarget,alignTargetRect,existingOffsets;var positionMode=opts.mdMenuCtrl.positionMode();if(positionMode.top=="target"||positionMode.left=="target"||positionMode.left=="target-right"){alignTarget=firstVisibleChild();if(!alignTarget){throw Error("Error positioning menu. No visible children.")}alignTarget=alignTarget.firstElementChild||alignTarget;alignTarget=alignTarget.querySelector("[md-menu-align-target]")||alignTarget;alignTargetRect=alignTarget.getBoundingClientRect();existingOffsets={top:parseFloat(containerNode.style.top||0),left:parseFloat(containerNode.style.left||0)}}var position={};var transformOrigin="top ";switch(positionMode.top){case"target":position.top=existingOffsets.top+originNodeRect.top-alignTargetRect.top;break;default:throw new Error('Invalid target mode "'+positionMode.top+'" specified for md-menu on Y axis.')}switch(positionMode.left){case"target":position.left=existingOffsets.left+originNodeRect.left-alignTargetRect.left;transformOrigin+="left";break;case"target-right":position.left=originNodeRect.right-openMenuNodeRect.width+(openMenuNodeRect.right-alignTargetRect.right);transformOrigin+="right";break;default:throw new Error('Invalid target mode "'+positionMode.left+'" specified for md-menu on X axis.')}var offsets=opts.mdMenuCtrl.offsets();position.top+=offsets.top;position.left+=offsets.left;clamp(position);el.css({top:position.top+"px",left:position.left+"px"});containerNode.style[$mdConstant.CSS.TRANSFORM_ORIGIN]=transformOrigin;if(!opts.alreadyOpen){containerNode.style[$mdConstant.CSS.TRANSFORM]="scale("+Math.min(originNodeRect.width/containerNode.offsetWidth,1)+","+Math.min(originNodeRect.height/containerNode.offsetHeight,1)+")"}function clamp(pos){pos.top=Math.max(Math.min(pos.top,bounds.bottom-containerNode.offsetHeight),bounds.top);pos.left=Math.max(Math.min(pos.left,bounds.right-containerNode.offsetWidth),bounds.left)}function firstVisibleChild(){for(var i=0;i<openMenuNode.children.length;++i){if(window.getComputedStyle(openMenuNode.children[i]).display!="none"){return openMenuNode.children[i]}}}}}}MenuProvider.$inject=["$$interimElementProvider"]})();(function(){"use strict";angular.module("material.components.progressCircular",["material.core"]).directive("mdProgressCircular",MdProgressCircularDirective);function MdProgressCircularDirective($mdConstant,$mdTheming){return{restrict:"E",template:'<div class="md-spinner-wrapper">'+'<div class="md-inner">'+'<div class="md-gap"></div>'+'<div class="md-left">'+'<div class="md-half-circle"></div>'+"</div>"+'<div class="md-right">'+'<div class="md-half-circle"></div>'+"</div>"+"</div>"+"</div>",compile:compile};function compile(tElement){tElement.attr("aria-valuemin",0);tElement.attr("aria-valuemax",100);tElement.attr("role","progressbar");return postLink}function postLink(scope,element,attr){$mdTheming(element);var circle=element[0];var diameter=attr.mdDiameter||48;var scale=diameter/48;circle.style[$mdConstant.CSS.TRANSFORM]="scale("+scale+")";attr.$observe("value",function(value){var percentValue=clamp(value);element.attr("aria-valuenow",percentValue)})}function clamp(value){return Math.max(0,Math.min(value||0,100))}}MdProgressCircularDirective.$inject=["$mdConstant","$mdTheming"]})();(function(){"use strict";angular.module("material.components.progressLinear",["material.core"]).directive("mdProgressLinear",MdProgressLinearDirective);function MdProgressLinearDirective($$rAF,$mdConstant,$mdTheming){return{restrict:"E",template:'<div class="md-container">'+'<div class="md-dashed"></div>'+'<div class="md-bar md-bar1"></div>'+'<div class="md-bar md-bar2"></div>'+"</div>",compile:compile};function compile(tElement,tAttrs,transclude){tElement.attr("aria-valuemin",0);tElement.attr("aria-valuemax",100);tElement.attr("role","progressbar");return postLink}function postLink(scope,element,attr){$mdTheming(element);var bar1Style=element[0].querySelector(".md-bar1").style,bar2Style=element[0].querySelector(".md-bar2").style,container=angular.element(element[0].querySelector(".md-container"));attr.$observe("value",function(value){if(attr.mdMode=="query"){return}var clamped=clamp(value);element.attr("aria-valuenow",clamped);bar2Style[$mdConstant.CSS.TRANSFORM]=transforms[clamped]});attr.$observe("mdBufferValue",function(value){bar1Style[$mdConstant.CSS.TRANSFORM]=transforms[clamp(value)]});$$rAF(function(){container.addClass("md-ready")})}function clamp(value){if(value>100){return 100}if(value<0){return 0}return Math.ceil(value||0)}}MdProgressLinearDirective.$inject=["$$rAF","$mdConstant","$mdTheming"];var transforms=function(){var values=new Array(101);for(var i=0;i<101;i++){values[i]=makeTransform(i)}return values;function makeTransform(value){var scale=value/100;var translateX=(value-100)/2;return"translateX("+translateX.toString()+"%) scale("+scale.toString()+", 1)"}}()})();(function(){"use strict";angular.module("material.components.radioButton",["material.core"]).directive("mdRadioGroup",mdRadioGroupDirective).directive("mdRadioButton",mdRadioButtonDirective);function mdRadioGroupDirective($mdUtil,$mdConstant,$mdTheming,$timeout){RadioGroupController.prototype=createRadioGroupControllerProto();return{restrict:"E",controller:["$element",RadioGroupController],require:["mdRadioGroup","?ngModel"],link:{pre:linkRadioGroup}};function linkRadioGroup(scope,element,attr,ctrls){$mdTheming(element);var rgCtrl=ctrls[0];var ngModelCtrl=ctrls[1]||$mdUtil.fakeNgModel();function setFocus(){if(!element.hasClass("md-focused")){element.addClass("md-focused")}}function keydownListener(ev){var keyCode=ev.which||ev.keyCode;switch(keyCode){case $mdConstant.KEY_CODE.LEFT_ARROW:case $mdConstant.KEY_CODE.UP_ARROW:ev.preventDefault();rgCtrl.selectPrevious();setFocus();break;case $mdConstant.KEY_CODE.RIGHT_ARROW:case $mdConstant.KEY_CODE.DOWN_ARROW:ev.preventDefault();rgCtrl.selectNext();setFocus();break;case $mdConstant.KEY_CODE.ENTER:var form=angular.element($mdUtil.getClosest(element[0],"form"));if(form.length>0){form.triggerHandler("submit")}break}}rgCtrl.init(ngModelCtrl);scope.mouseActive=false;element.attr({role:"radiogroup",tabIndex:element.attr("tabindex")||"0"}).on("keydown",keydownListener).on("mousedown",function(event){scope.mouseActive=true;$timeout(function(){scope.mouseActive=false},100)}).on("focus",function(){if(scope.mouseActive===false){rgCtrl.$element.addClass("md-focused")}}).on("blur",function(){rgCtrl.$element.removeClass("md-focused")})}function RadioGroupController($element){this._radioButtonRenderFns=[];this.$element=$element}function createRadioGroupControllerProto(){return{init:function(ngModelCtrl){this._ngModelCtrl=ngModelCtrl;this._ngModelCtrl.$render=angular.bind(this,this.render)},add:function(rbRender){this._radioButtonRenderFns.push(rbRender)},remove:function(rbRender){var index=this._radioButtonRenderFns.indexOf(rbRender);if(index!==-1){this._radioButtonRenderFns.splice(index,1)}},render:function(){this._radioButtonRenderFns.forEach(function(rbRender){rbRender()})},setViewValue:function(value,eventType){this._ngModelCtrl.$setViewValue(value,eventType);this.render()},getViewValue:function(){return this._ngModelCtrl.$viewValue},selectNext:function(){return changeSelectedButton(this.$element,1)},selectPrevious:function(){return changeSelectedButton(this.$element,-1)},setActiveDescendant:function(radioId){this.$element.attr("aria-activedescendant",radioId)}}}function changeSelectedButton(parent,increment){var buttons=$mdUtil.iterator(parent[0].querySelectorAll("md-radio-button"),true);if(buttons.count()){var validate=function(button){return!angular.element(button).attr("disabled")};var selected=parent[0].querySelector("md-radio-button.md-checked");var target=buttons[increment<0?"previous":"next"](selected,validate)||buttons.first();angular.element(target).triggerHandler("click")}}}mdRadioGroupDirective.$inject=["$mdUtil","$mdConstant","$mdTheming","$timeout"];function mdRadioButtonDirective($mdAria,$mdUtil,$mdTheming){var CHECKED_CSS="md-checked";return{restrict:"E",require:"^mdRadioGroup",transclude:true,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox>'+'<div class="md-off"></div>'+'<div class="md-on"></div>'+"</div>"+'<div ng-transclude class="md-label"></div>',link:link};function link(scope,element,attr,rgCtrl){var lastChecked;$mdTheming(element);configureAria(element,scope);rgCtrl.add(render);attr.$observe("value",render);element.on("click",listener).on("$destroy",function(){rgCtrl.remove(render)});function listener(ev){if(element[0].hasAttribute("disabled"))return;scope.$apply(function(){rgCtrl.setViewValue(attr.value,ev&&ev.type)})}function render(){var checked=rgCtrl.getViewValue()==attr.value;if(checked===lastChecked){return}lastChecked=checked;element.attr("aria-checked",checked);if(checked){element.addClass(CHECKED_CSS);rgCtrl.setActiveDescendant(element.attr("id"))}else{element.removeClass(CHECKED_CSS)}}function configureAria(element,scope){scope.ariaId=buildAriaID();element.attr({id:scope.ariaId,role:"radio","aria-checked":"false"});$mdAria.expectWithText(element,"aria-label");function buildAriaID(){return attr.id||"radio"+"_"+$mdUtil.nextUid()}}}}mdRadioButtonDirective.$inject=["$mdAria","$mdUtil","$mdTheming"]})();(function(){"use strict";var SELECT_EDGE_MARGIN=8;var selectNextId=0;angular.module("material.components.select",["material.core","material.components.backdrop"]).directive("mdSelect",SelectDirective).directive("mdSelectMenu",SelectMenuDirective).directive("mdOption",OptionDirective).directive("mdOptgroup",OptgroupDirective).provider("$mdSelect",SelectProvider);function SelectDirective($mdSelect,$mdUtil,$mdTheming,$mdAria,$interpolate,$compile,$parse){return{restrict:"E",require:["^?mdInputContainer","mdSelect","ngModel","?^form"],compile:compile,controller:function(){}};function compile(element,attr){var valueEl=angular.element("<md-select-value><span></span></md-select-value>");valueEl.append('<span class="md-select-icon" aria-hidden="true"></span>');valueEl.addClass("md-select-value");if(!valueEl[0].hasAttribute("id")){valueEl.attr("id","select_value_label_"+$mdUtil.nextUid())}if(!element.find("md-content").length){element.append(angular.element("<md-content>").append(element.contents()))}if(attr.mdOnOpen){element.find("md-content").prepend(angular.element("<md-progress-circular>").attr("md-mode","indeterminate").attr("ng-hide","$$loadingAsyncDone").wrap("<div>").parent())}if(attr.name){var autofillClone=angular.element('<select class="md-visually-hidden">');autofillClone.attr({name:"."+attr.name,"ng-model":attr.ngModel,"aria-hidden":"true",tabindex:"-1"});var opts=element.find("md-option");angular.forEach(opts,function(el){var newEl=angular.element("<option>"+el.innerHTML+"</option>");if(el.hasAttribute("ng-value"))newEl.attr("ng-value",el.getAttribute("ng-value"));else if(el.hasAttribute("value"))newEl.attr("value",el.getAttribute("value"));autofillClone.append(newEl)});element.parent().append(autofillClone)}var selectTemplate='<div class="md-select-menu-container">'+"<md-select-menu "+(angular.isDefined(attr.multiple)?"multiple":"")+">"+element.html()+"</md-select-menu></div>";element.empty().append(valueEl);attr.tabindex=attr.tabindex||"0";return function postLink(scope,element,attr,ctrls){var isOpen;var isDisabled;var containerCtrl=ctrls[0];var mdSelectCtrl=ctrls[1];var ngModelCtrl=ctrls[2];var formCtrl=ctrls[3];var valueEl=element.find("md-select-value");var isReadonly=angular.isDefined(attr.readonly);if(containerCtrl){if(containerCtrl.input){throw new Error("<md-input-container> can only have *one* child <input>, <textarea> or <select> element!")}containerCtrl.input=element;if(!containerCtrl.label){$mdAria.expect(element,"aria-label",element.attr("placeholder"))}var isErrorGetter=containerCtrl&&containerCtrl.isErrorGetter||function(){return ngModelCtrl.$invalid&&ngModelCtrl.$touched};scope.$watch(isErrorGetter,containerCtrl.setInvalid)}var selectContainer,selectScope,selectMenuCtrl;createSelect();$mdTheming(element);if(attr.name&&formCtrl){var selectEl=element.parent()[0].querySelector('select[name=".'+attr.name+'"]');var controller=angular.element(selectEl).controller();if(controller){formCtrl.$removeControl(controller)}}var originalRender=ngModelCtrl.$render;ngModelCtrl.$render=function(){originalRender();syncLabelText();inputCheckValue()};mdSelectCtrl.setLabelText=function(text){mdSelectCtrl.setIsPlaceholder(!text);var tmpPlaceholder=attr.placeholder||(containerCtrl&&containerCtrl.label?containerCtrl.label.text():"");text=text||tmpPlaceholder||"";var target=valueEl.children().eq(0);target.text(text)};mdSelectCtrl.setIsPlaceholder=function(isPlaceholder){if(isPlaceholder){valueEl.addClass("md-select-placeholder");if(containerCtrl&&containerCtrl.label){containerCtrl.label.addClass("md-placeholder md-static")}}else{valueEl.removeClass("md-select-placeholder");if(containerCtrl&&containerCtrl.label){containerCtrl.label.removeClass("md-placeholder")}}};if(!isReadonly){element.on("focus",function(ev){if(containerCtrl&&containerCtrl.element.hasClass("md-input-has-value")){containerCtrl.setFocused(true)}}).on("blur",function(ev){containerCtrl&&containerCtrl.setFocused(false);inputCheckValue()})}mdSelectCtrl.triggerClose=function(){$parse(attr.mdOnClose)(scope)};scope.$$postDigest(function(){setAriaLabel();syncLabelText()});function setAriaLabel(){var labelText=element.attr("placeholder");if(!labelText&&containerCtrl&&containerCtrl.label){labelText=containerCtrl.label.text()}$mdAria.expect(element,"aria-label",labelText)}function syncLabelText(){if(selectContainer){selectMenuCtrl=selectMenuCtrl||selectContainer.find("md-select-menu").controller("mdSelectMenu");mdSelectCtrl.setLabelText(selectMenuCtrl.selectedLabels())}}var deregisterWatcher;attr.$observe("ngMultiple",function(val){if(deregisterWatcher)deregisterWatcher();var parser=$parse(val);deregisterWatcher=scope.$watch(function(){return parser(scope)},function(multiple,prevVal){if(multiple===undefined&&prevVal===undefined)return;if(multiple){element.attr("multiple","multiple")}else{element.removeAttr("multiple")}if(selectContainer){selectMenuCtrl.setMultiple(multiple);originalRender=ngModelCtrl.$render;ngModelCtrl.$render=function(){originalRender();syncLabelText()};selectMenuCtrl.refreshViewValue();ngModelCtrl.$render()}})});attr.$observe("disabled",function(disabled){if(typeof disabled=="string"){disabled=true}if(isDisabled!==undefined&&isDisabled===disabled){return}isDisabled=disabled;if(disabled){element.attr({tabindex:-1,"aria-disabled":"true"});element.off("click",openSelect);element.off("keydown",handleKeypress)}else{element.attr({tabindex:attr.tabindex,"aria-disabled":"false"});element.on("click",openSelect);element.on("keydown",handleKeypress)}});if(!attr.disabled&&!attr.ngDisabled){element.attr({tabindex:attr.tabindex,"aria-disabled":"false"});element.on("click",openSelect);element.on("keydown",handleKeypress)}var ariaAttrs={role:"combobox","aria-expanded":"false"};if(!element[0].hasAttribute("id")){ariaAttrs.id="select_"+$mdUtil.nextUid()}element.attr(ariaAttrs);scope.$on("$destroy",function(){if(isOpen){$mdSelect.hide().finally(function(){selectContainer.remove()})}else{selectContainer.remove()}if(containerCtrl){containerCtrl.setFocused(false);containerCtrl.setHasValue(false);containerCtrl.input=null}});function inputCheckValue(){containerCtrl&&containerCtrl.setHasValue(selectMenuCtrl.selectedLabels().length>0||(element[0].validity||{}).badInput)}function createSelect(){selectContainer=angular.element(selectTemplate);var selectEl=selectContainer.find("md-select-menu");selectEl.data("$ngModelController",ngModelCtrl);selectEl.data("$mdSelectController",mdSelectCtrl);selectScope=scope.$new();$mdTheming.inherit(selectContainer,element);selectContainer[0].setAttribute("class",selectContainer[0].getAttribute("class")+" "+element.attr("md-container-class"));selectContainer=$compile(selectContainer)(selectScope);selectMenuCtrl=selectContainer.find("md-select-menu").controller("mdSelectMenu")}function handleKeypress(e){var allowedCodes=[32,13,38,40];if(allowedCodes.indexOf(e.keyCode)!=-1){e.preventDefault();openSelect(e)}else{if(e.keyCode<=90&&e.keyCode>=31){e.preventDefault();var node=selectMenuCtrl.optNodeForKeyboardSearch(e);if(!node)return;var optionCtrl=angular.element(node).controller("mdOption");if(!selectMenuCtrl.isMultiple){selectMenuCtrl.deselect(Object.keys(selectMenuCtrl.selected)[0])}selectMenuCtrl.select(optionCtrl.hashKey,optionCtrl.value);selectMenuCtrl.refreshViewValue();ngModelCtrl.$render()}}}function openSelect(){scope.$apply("isOpen = true");$mdSelect.show({scope:selectScope,preserveScope:true,skipCompile:true,element:selectContainer,target:element[0],hasBackdrop:true,loadingAsync:attr.mdOnOpen?scope.$eval(attr.mdOnOpen)||true:false}).then(function(){isOpen=false})}}}}SelectDirective.$inject=["$mdSelect","$mdUtil","$mdTheming","$mdAria","$interpolate","$compile","$parse"];function SelectMenuDirective($parse,$mdUtil,$mdTheming){SelectMenuController.$inject=["$scope","$attrs","$element"];return{restrict:"E",require:["mdSelectMenu","?ngModel"],controller:SelectMenuController,link:{pre:preLink}};function preLink(scope,element,attr,ctrls){var selectCtrl=ctrls[0];var ngModel=ctrls[1];$mdTheming(element);element.on("click",clickListener);element.on("keypress",keyListener);if(ngModel)selectCtrl.init(ngModel);configureAria();function configureAria(){element.attr({id:"select_menu_"+$mdUtil.nextUid(),role:"listbox","aria-multiselectable":selectCtrl.isMultiple?"true":"false"})}function keyListener(e){if(e.keyCode==13||e.keyCode==32){clickListener(e)}}function clickListener(ev){var option=$mdUtil.getClosest(ev.target,"md-option");var optionCtrl=option&&angular.element(option).data("$mdOptionController");if(!option||!optionCtrl)return;if(option.hasAttribute("disabled")){ev.stopImmediatePropagation();return false}var optionHashKey=selectCtrl.hashGetter(optionCtrl.value);var isSelected=angular.isDefined(selectCtrl.selected[optionHashKey]);scope.$apply(function(){if(selectCtrl.isMultiple){if(isSelected){selectCtrl.deselect(optionHashKey)}else{selectCtrl.select(optionHashKey,optionCtrl.value)}}else{if(!isSelected){selectCtrl.deselect(Object.keys(selectCtrl.selected)[0]);selectCtrl.select(optionHashKey,optionCtrl.value)}}selectCtrl.refreshViewValue()})}}function SelectMenuController($scope,$attrs,$element){var self=this;self.isMultiple=angular.isDefined($attrs.multiple);self.selected={};self.options={};$scope.$watch(function(){return self.options},function(){self.ngModel.$render()},true);var deregisterCollectionWatch;self.setMultiple=function(isMultiple){var ngModel=self.ngModel;self.isMultiple=isMultiple;if(deregisterCollectionWatch)deregisterCollectionWatch();if(self.isMultiple){ngModel.$validators["md-multiple"]=validateArray;ngModel.$render=renderMultiple;$scope.$watchCollection($attrs.ngModel,function(value){if(validateArray(value))renderMultiple(value)})}else{delete ngModel.$validators["md-multiple"];ngModel.$render=renderSingular}function validateArray(modelValue,viewValue){return angular.isArray(modelValue||viewValue||[])}};var searchStr="";var clearSearchTimeout,optNodes,optText;var CLEAR_SEARCH_AFTER=300;self.optNodeForKeyboardSearch=function(e){clearSearchTimeout&&clearTimeout(clearSearchTimeout);clearSearchTimeout=setTimeout(function(){clearSearchTimeout=undefined;searchStr="";optText=undefined;optNodes=undefined},CLEAR_SEARCH_AFTER);searchStr+=String.fromCharCode(e.keyCode);var search=new RegExp("^"+searchStr,"i");if(!optNodes){optNodes=$element.find("md-option");optText=new Array(optNodes.length);angular.forEach(optNodes,function(el,i){optText[i]=el.textContent.trim()})}for(var i=0;i<optText.length;++i){if(search.test(optText[i])){return optNodes[i]}}};self.init=function(ngModel){self.ngModel=ngModel;if(ngModel.$options&&ngModel.$options.trackBy){var trackByLocals={};var trackByParsed=$parse(ngModel.$options.trackBy);self.hashGetter=function(value,valueScope){trackByLocals.$value=value;return trackByParsed(valueScope||$scope,trackByLocals)}}else{self.hashGetter=function getHashValue(value){if(angular.isObject(value)){return"object_"+(value.$$mdSelectId||(value.$$mdSelectId=++selectNextId))}return value}}self.setMultiple(self.isMultiple)};self.selectedLabels=function(){var selectedOptionEls=$mdUtil.nodesToArray($element[0].querySelectorAll("md-option[selected]"));if(selectedOptionEls.length){return selectedOptionEls.map(function(el){return el.textContent}).join(", ")}else{return""}};self.select=function(hashKey,hashedValue){var option=self.options[hashKey];option&&option.setSelected(true);self.selected[hashKey]=hashedValue};self.deselect=function(hashKey){var option=self.options[hashKey];option&&option.setSelected(false);delete self.selected[hashKey]};self.addOption=function(hashKey,optionCtrl){if(angular.isDefined(self.options[hashKey])){throw new Error("Duplicate md-option values are not allowed in a select. "+'Duplicate value "'+optionCtrl.value+'" found.')}self.options[hashKey]=optionCtrl;if(angular.isDefined(self.selected[hashKey])){self.select(hashKey,optionCtrl.value);self.refreshViewValue()}};self.removeOption=function(hashKey){delete self.options[hashKey]};self.refreshViewValue=function(){var values=[];var option;for(var hashKey in self.selected){if(option=self.options[hashKey]){values.push(option.value)}else{values.push(self.selected[hashKey])}}self.ngModel.$setViewValue(self.isMultiple?values:values[0])};function renderMultiple(){var newSelectedValues=self.ngModel.$modelValue||self.ngModel.$viewValue;if(!angular.isArray(newSelectedValues))return;var oldSelected=Object.keys(self.selected);var newSelectedHashes=newSelectedValues.map(self.hashGetter);var deselected=oldSelected.filter(function(hash){return newSelectedHashes.indexOf(hash)===-1});deselected.forEach(self.deselect);newSelectedHashes.forEach(function(hashKey,i){self.select(hashKey,newSelectedValues[i])})}function renderSingular(){var value=self.ngModel.$viewValue||self.ngModel.$modelValue;Object.keys(self.selected).forEach(self.deselect);self.select(self.hashGetter(value),value)}}}SelectMenuDirective.$inject=["$parse","$mdUtil","$mdTheming"];function OptionDirective($mdButtonInkRipple,$mdUtil){OptionController.$inject=["$element"];return{restrict:"E",require:["mdOption","^^mdSelectMenu"],controller:OptionController,compile:compile};function compile(element,attr){element.append(angular.element('<div class="md-text">').append(element.contents()));element.attr("tabindex",attr.tabindex||"0");return postLink}function postLink(scope,element,attr,ctrls){var optionCtrl=ctrls[0];var selectCtrl=ctrls[1];if(angular.isDefined(attr.ngValue)){scope.$watch(attr.ngValue,setOptionValue)}else if(angular.isDefined(attr.value)){setOptionValue(attr.value)}else{scope.$watch(function(){return element.text()},setOptionValue)}attr.$observe("disabled",function(disabled){if(disabled){element.attr("tabindex","-1")}else{element.attr("tabindex","0")}});scope.$$postDigest(function(){attr.$observe("selected",function(selected){if(!angular.isDefined(selected))return;if(typeof selected=="string")selected=true;if(selected){if(!selectCtrl.isMultiple){selectCtrl.deselect(Object.keys(selectCtrl.selected)[0])}selectCtrl.select(optionCtrl.hashKey,optionCtrl.value)}else{selectCtrl.deselect(optionCtrl.hashKey)}selectCtrl.refreshViewValue();selectCtrl.ngModel.$render()})});$mdButtonInkRipple.attach(scope,element);configureAria();function setOptionValue(newValue,oldValue){var oldHashKey=selectCtrl.hashGetter(oldValue,scope);var newHashKey=selectCtrl.hashGetter(newValue,scope);optionCtrl.hashKey=newHashKey;optionCtrl.value=newValue;selectCtrl.removeOption(oldHashKey,optionCtrl);selectCtrl.addOption(newHashKey,optionCtrl)}scope.$on("$destroy",function(){selectCtrl.removeOption(optionCtrl.hashKey,optionCtrl)});function configureAria(){var ariaAttrs={role:"option","aria-selected":"false"};if(!element[0].hasAttribute("id")){ariaAttrs.id="select_option_"+$mdUtil.nextUid()}element.attr(ariaAttrs)}}function OptionController($element){this.selected=false;this.setSelected=function(isSelected){if(isSelected&&!this.selected){$element.attr({selected:"selected","aria-selected":"true"})}else if(!isSelected&&this.selected){$element.removeAttr("selected");$element.attr("aria-selected","false")}this.selected=isSelected}}}OptionDirective.$inject=["$mdButtonInkRipple","$mdUtil"];function OptgroupDirective(){return{restrict:"E",compile:compile};function compile(el,attrs){var labelElement=el.find("label");if(!labelElement.length){labelElement=angular.element("<label>");el.prepend(labelElement)}if(attrs.label)labelElement.text(attrs.label)}}function SelectProvider($$interimElementProvider){selectDefaultOptions.$inject=["$mdSelect","$mdConstant","$$rAF","$mdUtil","$mdTheming","$window","$q","$compile"];return $$interimElementProvider("$mdSelect").setDefaults({methods:["target"],options:selectDefaultOptions});function selectDefaultOptions($mdSelect,$mdConstant,$$rAF,$mdUtil,$mdTheming,$window,$q,$compile){var animator=$mdUtil.dom.animator;return{parent:"body",onShow:onShow,onRemove:onRemove,hasBackdrop:true,disableParentScroll:true,themable:true};function onShow(scope,element,opts){if(!opts.target){throw new Error("$mdSelect.show() expected a target element in options.target but got "+'"'+opts.target+'"!')}angular.extend(opts,{isRemoved:false,target:angular.element(opts.target),parent:angular.element(opts.parent),selectEl:element.find("md-select-menu"),contentEl:element.find("md-content"),backdrop:opts.hasBackdrop&&$mdUtil.createBackdrop(scope,"md-select-backdrop md-click-catcher")});opts.resizeFn=function(){$$rAF(function(){$$rAF(function(){animateSelect(scope,element,opts)})})};angular.element($window).on("resize",opts.resizeFn);angular.element($window).on("orientationchange",opts.resizeFn);configureAria();element.removeClass("md-leave");var optionNodes=opts.selectEl[0].getElementsByTagName("md-option");if(opts.loadingAsync&&opts.loadingAsync.then){opts.loadingAsync.then(function(){scope.$$loadingAsyncDone=true;$$rAF(function(){$$rAF(function(){if(opts.isRemoved)return;animateSelect(scope,element,opts)})})})}else if(opts.loadingAsync){scope.$$loadingAsyncDone=true}if(opts.disableParentScroll&&!$mdUtil.getClosest(opts.target,"MD-DIALOG")){opts.restoreScroll=$mdUtil.disableScrollAround(opts.element)}else{opts.disableParentScroll=false}if(opts.backdrop){$mdTheming.inherit(opts.backdrop,opts.target);opts.parent.append(opts.backdrop)}opts.parent.append(element);$$rAF(function(){$$rAF(function(){if(opts.isRemoved)return;animateSelect(scope,element,opts)})});return opts.isRemoved?$q.reject(true):animator.waitTransitionEnd(opts.selectEl,{timeout:470}).finally(function(){activateInteraction()});function configureAria(){opts.target.attr("aria-expanded","true")}function activateInteraction(){if(opts.isRemoved)return;var selectCtrl=opts.selectEl.controller("mdSelectMenu")||{};element.addClass("md-clickable");opts.backdrop&&opts.backdrop.on("click",function(e){e.preventDefault();e.stopPropagation();opts.restoreFocus=false;$mdUtil.nextTick($mdSelect.hide,true)});opts.selectEl.on("keydown",function(ev){switch(ev.keyCode){case $mdConstant.KEY_CODE.SPACE:case $mdConstant.KEY_CODE.ENTER:var option=$mdUtil.getClosest(ev.target,"md-option");if(option){opts.selectEl.triggerHandler({type:"click",target:option});ev.preventDefault()}break;case $mdConstant.KEY_CODE.TAB:case $mdConstant.KEY_CODE.ESCAPE:ev.preventDefault();opts.restoreFocus=true;$mdUtil.nextTick($mdSelect.hide,true)}});opts.selectEl.on("keydown",function(ev){switch(ev.keyCode){case $mdConstant.KEY_CODE.UP_ARROW:return focusPrevOption();case $mdConstant.KEY_CODE.DOWN_ARROW:return focusNextOption();default:if(ev.keyCode>=31&&ev.keyCode<=90){var optNode=opts.selectEl.controller("mdSelectMenu").optNodeForKeyboardSearch(ev);opts.focusedNode=optNode||opts.focusedNode;optNode&&optNode.focus()}}});function focusOption(direction){optionNodes=opts.selectEl[0].getElementsByTagName("md-option");var optionsArray=$mdUtil.nodesToArray(optionNodes);var index=optionsArray.indexOf(opts.focusedNode);var newOption;do{if(index===-1){index=0}else if(direction==="next"&&index<optionsArray.length-1){index++}else if(direction==="prev"&&index>0){index--}newOption=optionsArray[index];if(newOption.hasAttribute("disabled"))newOption=undefined}while(!newOption&&index<optionsArray.length-1&&index>0);newOption&&newOption.focus();opts.focusedNode=newOption}function focusNextOption(){focusOption("next")}function focusPrevOption(){focusOption("prev")}opts.selectEl.on("click",checkCloseMenu);opts.selectEl.on("keydown",function(e){if(e.keyCode==32||e.keyCode==13){checkCloseMenu()}});function checkCloseMenu(){if(!selectCtrl.isMultiple){opts.restoreFocus=true;$mdUtil.nextTick(function(){$mdSelect.hide(selectCtrl.ngModel.$viewValue)},true)}}}}function onRemove(scope,element,opts){opts.isRemoved=true;opts.target.attr("aria-expanded","false");opts.selectEl.off("keydown");angular.element($window).off("resize",opts.resizeFn);angular.element($window).off("orientationchange",opts.resizefn);opts.resizeFn=undefined;element.addClass("md-leave").removeClass("md-clickable");var mdSelect=opts.selectEl.controller("mdSelect");if(mdSelect){mdSelect.setLabelText(opts.selectEl.controller("mdSelectMenu").selectedLabels())}opts.backdrop&&opts.backdrop.remove();return animator.waitTransitionEnd(element,{timeout:370}).finally(function(){mdSelect&&mdSelect.triggerClose();element.removeClass("md-active");if(element[0].parentNode===opts.parent[0]){opts.parent[0].removeChild(element[0])}if(opts.disableParentScroll){opts.restoreScroll()}if(opts.restoreFocus)opts.target.focus()})}function animateSelect(scope,element,opts){var containerNode=element[0],targetNode=opts.target[0].firstElementChild,parentNode=opts.parent[0],selectNode=opts.selectEl[0],contentNode=opts.contentEl[0],parentRect=parentNode.getBoundingClientRect(),targetRect=targetNode.getBoundingClientRect(),shouldOpenAroundTarget=false,bounds={left:parentRect.left+SELECT_EDGE_MARGIN,top:SELECT_EDGE_MARGIN,bottom:parentRect.height-SELECT_EDGE_MARGIN,right:parentRect.width-SELECT_EDGE_MARGIN-($mdUtil.floatingScrollbars()?16:0)},spaceAvailable={top:targetRect.top-bounds.top,left:targetRect.left-bounds.left,right:bounds.right-(targetRect.left+targetRect.width),bottom:bounds.bottom-(targetRect.top+targetRect.height)},maxWidth=parentRect.width-SELECT_EDGE_MARGIN*2,isScrollable=contentNode.scrollHeight>contentNode.offsetHeight,selectedNode=selectNode.querySelector("md-option[selected]"),optionNodes=selectNode.getElementsByTagName("md-option"),optgroupNodes=selectNode.getElementsByTagName("md-optgroup");var centeredNode;if(selectedNode){centeredNode=selectedNode}else if(optgroupNodes.length){centeredNode=optgroupNodes[0]}else if(optionNodes.length){centeredNode=optionNodes[0]}else{centeredNode=contentNode.firstElementChild||contentNode}if(contentNode.offsetWidth>maxWidth){contentNode.style["max-width"]=maxWidth+"px"}if(shouldOpenAroundTarget){contentNode.style["min-width"]=targetRect.width+"px"}if(isScrollable){selectNode.classList.add("md-overflow")}var focusedNode=centeredNode;if((focusedNode.tagName||"").toUpperCase()==="MD-OPTGROUP"){focusedNode=optionNodes[0]||contentNode.firstElementChild||contentNode;centeredNode=focusedNode}var selectMenuRect=selectNode.getBoundingClientRect();var centeredRect=getOffsetRect(centeredNode);if(centeredNode){var centeredStyle=$window.getComputedStyle(centeredNode);centeredRect.paddingLeft=parseInt(centeredStyle.paddingLeft,10)||0;centeredRect.paddingRight=parseInt(centeredStyle.paddingRight,10)||0}if(isScrollable){var scrollBuffer=contentNode.offsetHeight/2;contentNode.scrollTop=centeredRect.top+centeredRect.height/2-scrollBuffer;if(spaceAvailable.top<scrollBuffer){contentNode.scrollTop=Math.min(centeredRect.top,contentNode.scrollTop+scrollBuffer-spaceAvailable.top)}else if(spaceAvailable.bottom<scrollBuffer){contentNode.scrollTop=Math.max(centeredRect.top+centeredRect.height-selectMenuRect.height,contentNode.scrollTop-scrollBuffer+spaceAvailable.bottom)}}var left,top,transformOrigin;if(shouldOpenAroundTarget){left=targetRect.left;top=targetRect.top+targetRect.height;transformOrigin="50% 0";if(top+selectMenuRect.height>bounds.bottom){top=targetRect.top-selectMenuRect.height;transformOrigin="50% 100%"}}else{left=targetRect.left+centeredRect.left-centeredRect.paddingLeft+2;top=Math.floor(targetRect.top+targetRect.height/2-centeredRect.height/2-centeredRect.top+contentNode.scrollTop)+2;transformOrigin=centeredRect.left+targetRect.width/2+"px "+(centeredRect.top+centeredRect.height/2-contentNode.scrollTop)+"px 0px";containerNode.style.minWidth=targetRect.width+centeredRect.paddingLeft+centeredRect.paddingRight+"px"}var containerRect=containerNode.getBoundingClientRect();containerNode.style.left=clamp(bounds.left,left,bounds.right-containerRect.width)+"px";containerNode.style.top=clamp(bounds.top,top,bounds.bottom-containerRect.height)+"px";selectNode.style[$mdConstant.CSS.TRANSFORM_ORIGIN]=transformOrigin;selectNode.style[$mdConstant.CSS.TRANSFORM]="scale("+Math.min(targetRect.width/selectMenuRect.width,1)+","+Math.min(targetRect.height/selectMenuRect.height,1)+")";$$rAF(function(){element.addClass("md-active");selectNode.style[$mdConstant.CSS.TRANSFORM]="";if(focusedNode&&!focusedNode.hasAttribute("disabled")){opts.focusedNode=focusedNode;focusedNode.focus()}})}}function clamp(min,n,max){return Math.max(min,Math.min(n,max))}function getOffsetRect(node){return node?{left:node.offsetLeft,top:node.offsetTop,width:node.offsetWidth,height:node.offsetHeight}:{left:0,top:0,width:0,height:0}}}SelectProvider.$inject=["$$interimElementProvider"]})();(function(){"use strict";angular.module("material.components.sidenav",["material.core","material.components.backdrop"]).factory("$mdSidenav",SidenavService).directive("mdSidenav",SidenavDirective).directive("mdSidenavFocus",SidenavFocusDirective).controller("$mdSidenavController",SidenavController);function SidenavService($mdComponentRegistry,$q){return function(handle){var self;var errorMsg="SideNav '"+handle+"' is not available!";var instance=$mdComponentRegistry.get(handle);if(!instance){$mdComponentRegistry.notFoundError(handle)}return self={isOpen:function(){return instance&&instance.isOpen()},isLockedOpen:function(){return instance&&instance.isLockedOpen()},toggle:function(){return instance?instance.toggle():$q.reject(errorMsg)},open:function(){return instance?instance.open():$q.reject(errorMsg)},close:function(){return instance?instance.close():$q.reject(errorMsg)},then:function(callbackFn){var promise=instance?$q.when(instance):waitForInstance();return promise.then(callbackFn||angular.noop)}};function waitForInstance(){return $mdComponentRegistry.when(handle).then(function(it){instance=it;return it})}}}SidenavService.$inject=["$mdComponentRegistry","$q"];function SidenavFocusDirective(){return{restrict:"A",require:"^mdSidenav",link:function(scope,element,attr,sidenavCtrl){sidenavCtrl.focusElement(element)}}}function SidenavDirective($mdMedia,$mdUtil,$mdConstant,$mdTheming,$animate,$compile,$parse,$log,$q,$document){return{restrict:"E",scope:{isOpen:"=?mdIsOpen"},controller:"$mdSidenavController",compile:function(element){element.addClass("md-closed");element.attr("tabIndex","-1");return postLink}};function postLink(scope,element,attr,sidenavCtrl){var lastParentOverFlow;var triggeringElement=null;var promise=$q.when(true);var isLockedOpenParsed=$parse(attr.mdIsLockedOpen);var isLocked=function(){return isLockedOpenParsed(scope.$parent,{$media:function(arg){$log.warn("$media is deprecated for is-locked-open. Use $mdMedia instead.");return $mdMedia(arg)},$mdMedia:$mdMedia})};var backdrop=$mdUtil.createBackdrop(scope,"md-sidenav-backdrop md-opaque ng-enter");element.on("$destroy",sidenavCtrl.destroy);$mdTheming.inherit(backdrop,element);scope.$watch(isLocked,updateIsLocked);scope.$watch("isOpen",updateIsOpen);sidenavCtrl.$toggleOpen=toggleOpen;sidenavCtrl.focusElement(sidenavCtrl.focusElement()||element);function updateIsLocked(isLocked,oldValue){scope.isLockedOpen=isLocked;if(isLocked===oldValue){element.toggleClass("md-locked-open",!!isLocked)}else{$animate[isLocked?"addClass":"removeClass"](element,"md-locked-open")}backdrop.toggleClass("md-locked-open",!!isLocked)}function updateIsOpen(isOpen){var parent=element.parent();var focusEl=sidenavCtrl.focusElement();parent[isOpen?"on":"off"]("keydown",onKeyDown);backdrop[isOpen?"on":"off"]("click",close);if(isOpen){triggeringElement=$document[0].activeElement}disableParentScroll(isOpen);return promise=$q.all([isOpen?$animate.enter(backdrop,parent):$animate.leave(backdrop),$animate[isOpen?"removeClass":"addClass"](element,"md-closed")]).then(function(){if(scope.isOpen){focusEl&&focusEl.focus()}})}function disableParentScroll(disabled){var parent=element.parent();if(disabled&&!lastParentOverFlow){lastParentOverFlow=parent.css("overflow");parent.css("overflow","hidden")}else if(angular.isDefined(lastParentOverFlow)){parent.css("overflow",lastParentOverFlow);lastParentOverFlow=undefined}}function toggleOpen(isOpen){if(scope.isOpen==isOpen){return $q.when(true)}else{var deferred=$q.defer();scope.isOpen=isOpen;$mdUtil.nextTick(function(){promise.then(function(result){if(!scope.isOpen){triggeringElement&&triggeringElement.focus();triggeringElement=null}deferred.resolve(result)})});return deferred.promise}}function onKeyDown(ev){var isEscape=ev.keyCode===$mdConstant.KEY_CODE.ESCAPE;return isEscape?close(ev):$q.when(true)}function close(ev){ev.preventDefault();ev.stopPropagation();return sidenavCtrl.close()}}}SidenavDirective.$inject=["$mdMedia","$mdUtil","$mdConstant","$mdTheming","$animate","$compile","$parse","$log","$q","$document"];function SidenavController($scope,$element,$attrs,$mdComponentRegistry,$q){var self=this,focusElement;self.isOpen=function(){return!!$scope.isOpen};self.isLockedOpen=function(){return!!$scope.isLockedOpen};self.open=function(){return self.$toggleOpen(true)};self.close=function(){return self.$toggleOpen(false)};self.toggle=function(){return self.$toggleOpen(!$scope.isOpen)};self.focusElement=function(el){if(angular.isDefined(el)){focusElement=el}return focusElement};self.$toggleOpen=function(value){return $q.when($scope.isOpen=value)};self.destroy=$mdComponentRegistry.register(self,$attrs.mdComponentId)}SidenavController.$inject=["$scope","$element","$attrs","$mdComponentRegistry","$q"]})();(function(){"use strict";angular.module("material.components.slider",["material.core"]).directive("mdSlider",SliderDirective);function SliderDirective($$rAF,$window,$mdAria,$mdUtil,$mdConstant,$mdTheming,$mdGesture,$parse,$log){return{scope:{},require:"?ngModel",template:'<div class="md-slider-wrapper">        <div class="md-track-container">          <div class="md-track"></div>          <div class="md-track md-track-fill"></div>          <div class="md-track-ticks"></div>        </div>        <div class="md-thumb-container">          <div class="md-thumb"></div>          <div class="md-focus-thumb"></div>          <div class="md-focus-ring"></div>          <div class="md-sign">            <span class="md-thumb-text"></span>          </div>          <div class="md-disabled-thumb"></div>        </div>      </div>',compile:compile};function compile(tElement,tAttrs){tElement.attr({tabIndex:0,role:"slider"});$mdAria.expect(tElement,"aria-label");return postLink}function postLink(scope,element,attr,ngModelCtrl){$mdTheming(element);ngModelCtrl=ngModelCtrl||{$setViewValue:function(val){this.$viewValue=val;this.$viewChangeListeners.forEach(function(cb){cb()})},$parsers:[],$formatters:[],$viewChangeListeners:[]};var isDisabledParsed=attr.ngDisabled&&$parse(attr.ngDisabled);var isDisabledGetter=isDisabledParsed?function(){return isDisabledParsed(scope.$parent)}:angular.noop;var thumb=angular.element(element[0].querySelector(".md-thumb"));var thumbText=angular.element(element[0].querySelector(".md-thumb-text"));var thumbContainer=thumb.parent();var trackContainer=angular.element(element[0].querySelector(".md-track-container"));var activeTrack=angular.element(element[0].querySelector(".md-track-fill"));var tickContainer=angular.element(element[0].querySelector(".md-track-ticks"));var throttledRefreshDimensions=$mdUtil.throttle(refreshSliderDimensions,5e3);angular.isDefined(attr.min)?attr.$observe("min",updateMin):updateMin(0);angular.isDefined(attr.max)?attr.$observe("max",updateMax):updateMax(100);angular.isDefined(attr.step)?attr.$observe("step",updateStep):updateStep(1);var stopDisabledWatch=angular.noop;if(attr.ngDisabled){stopDisabledWatch=scope.$parent.$watch(attr.ngDisabled,updateAriaDisabled)}$mdGesture.register(element,"drag");element.on("keydown",keydownListener).on("$md.pressdown",onPressDown).on("$md.pressup",onPressUp).on("$md.dragstart",onDragStart).on("$md.drag",onDrag).on("$md.dragend",onDragEnd);function updateAll(){refreshSliderDimensions();ngModelRender();redrawTicks()}setTimeout(updateAll);var debouncedUpdateAll=$$rAF.throttle(updateAll);angular.element($window).on("resize",debouncedUpdateAll);scope.$on("$destroy",function(){angular.element($window).off("resize",debouncedUpdateAll);stopDisabledWatch()});ngModelCtrl.$render=ngModelRender;ngModelCtrl.$viewChangeListeners.push(ngModelRender);ngModelCtrl.$formatters.push(minMaxValidator);ngModelCtrl.$formatters.push(stepValidator);var min;var max;var step;function updateMin(value){min=parseFloat(value);element.attr("aria-valuemin",value);updateAll()}function updateMax(value){max=parseFloat(value);element.attr("aria-valuemax",value);updateAll()}function updateStep(value){step=parseFloat(value);redrawTicks()}function updateAriaDisabled(isDisabled){element.attr("aria-disabled",!!isDisabled)}var tickCanvas,tickCtx;function redrawTicks(){if(!angular.isDefined(attr.mdDiscrete))return;if(angular.isUndefined(step))return;if(step<=0){var msg="Slider step value must be greater than zero when in discrete mode";$log.error(msg);throw new Error(msg)}var numSteps=Math.floor((max-min)/step);if(!tickCanvas){tickCanvas=angular.element('<canvas style="position:absolute;">');tickContainer.append(tickCanvas);var trackTicksStyle=$window.getComputedStyle(tickContainer[0]);tickCtx=tickCanvas[0].getContext("2d");tickCtx.fillStyle=trackTicksStyle.backgroundColor||"black"}var dimensions=getSliderDimensions();tickCanvas[0].width=dimensions.width;tickCanvas[0].height=dimensions.height;var distance;for(var i=0;i<=numSteps;i++){distance=Math.floor(dimensions.width*(i/numSteps));tickCtx.fillRect(distance-1,0,2,dimensions.height)}}var sliderDimensions={};refreshSliderDimensions();function refreshSliderDimensions(){sliderDimensions=trackContainer[0].getBoundingClientRect()}function getSliderDimensions(){throttledRefreshDimensions();return sliderDimensions}function keydownListener(ev){if(element[0].hasAttribute("disabled")){return}var changeAmount;if(ev.keyCode===$mdConstant.KEY_CODE.LEFT_ARROW){changeAmount=-step}else if(ev.keyCode===$mdConstant.KEY_CODE.RIGHT_ARROW){changeAmount=step}if(changeAmount){if(ev.metaKey||ev.ctrlKey||ev.altKey){changeAmount*=4}ev.preventDefault();ev.stopPropagation();scope.$evalAsync(function(){setModelValue(ngModelCtrl.$viewValue+changeAmount)})}}function setModelValue(value){ngModelCtrl.$setViewValue(minMaxValidator(stepValidator(value)))}function ngModelRender(){if(isNaN(ngModelCtrl.$viewValue)){ngModelCtrl.$viewValue=ngModelCtrl.$modelValue}var percent=(ngModelCtrl.$viewValue-min)/(max-min);scope.modelValue=ngModelCtrl.$viewValue;element.attr("aria-valuenow",ngModelCtrl.$viewValue);setSliderPercent(percent);thumbText.text(ngModelCtrl.$viewValue)}function minMaxValidator(value){if(angular.isNumber(value)){return Math.max(min,Math.min(max,value))}}function stepValidator(value){if(angular.isNumber(value)){var formattedValue=Math.round(value/step)*step;return Math.round(formattedValue*1e3)/1e3}}function setSliderPercent(percent){activeTrack.css("width",percent*100+"%");thumbContainer.css("left",percent*100+"%");element.toggleClass("md-min",percent===0)}var isDragging=false;var isDiscrete=angular.isDefined(attr.mdDiscrete);function onPressDown(ev){if(isDisabledGetter())return;element.addClass("active");element[0].focus();refreshSliderDimensions();var exactVal=percentToValue(positionToPercent(ev.pointer.x));var closestVal=minMaxValidator(stepValidator(exactVal));scope.$apply(function(){setModelValue(closestVal);setSliderPercent(valueToPercent(closestVal))})}function onPressUp(ev){if(isDisabledGetter())return;element.removeClass("dragging active");var exactVal=percentToValue(positionToPercent(ev.pointer.x));var closestVal=minMaxValidator(stepValidator(exactVal));scope.$apply(function(){setModelValue(closestVal);ngModelRender()})}function onDragStart(ev){if(isDisabledGetter())return;isDragging=true;ev.stopPropagation();element.addClass("dragging");setSliderFromEvent(ev)}function onDrag(ev){if(!isDragging)return;ev.stopPropagation();setSliderFromEvent(ev)}function onDragEnd(ev){if(!isDragging)return;ev.stopPropagation();isDragging=false}function setSliderFromEvent(ev){if(isDiscrete)adjustThumbPosition(ev.pointer.x);else doSlide(ev.pointer.x)}function doSlide(x){scope.$evalAsync(function(){setModelValue(percentToValue(positionToPercent(x)))})}function adjustThumbPosition(x){var exactVal=percentToValue(positionToPercent(x));var closestVal=minMaxValidator(stepValidator(exactVal));setSliderPercent(positionToPercent(x));thumbText.text(closestVal)}function positionToPercent(x){return Math.max(0,Math.min(1,(x-sliderDimensions.left)/sliderDimensions.width))}function percentToValue(percent){return min+percent*(max-min)}function valueToPercent(val){return(val-min)/(max-min)}}}SliderDirective.$inject=["$$rAF","$window","$mdAria","$mdUtil","$mdConstant","$mdTheming","$mdGesture","$parse","$log"]})();(function(){"use strict";angular.module("material.components.sticky",["material.core","material.components.content"]).factory("$mdSticky",MdSticky);function MdSticky($document,$mdConstant,$compile,$$rAF,$mdUtil){var browserStickySupport=checkStickySupport();return function registerStickyElement(scope,element,stickyClone){var contentCtrl=element.controller("mdContent");if(!contentCtrl)return;if(browserStickySupport){element.css({position:browserStickySupport,top:0,"z-index":2})}else{var $$sticky=contentCtrl.$element.data("$$sticky");if(!$$sticky){$$sticky=setupSticky(contentCtrl);contentCtrl.$element.data("$$sticky",$$sticky)}var deregister=$$sticky.add(element,stickyClone||element.clone());scope.$on("$destroy",deregister)}};function setupSticky(contentCtrl){var contentEl=contentCtrl.$element;var debouncedRefreshElements=$$rAF.throttle(refreshElements);setupAugmentedScrollEvents(contentEl);contentEl.on("$scrollstart",debouncedRefreshElements);contentEl.on("$scroll",onScroll);var self;var stickyBaseoffset=contentEl.prop("offsetTop");return self={prev:null,current:null,next:null,items:[],add:add,refreshElements:refreshElements};function add(element,stickyClone){stickyClone.addClass("md-sticky-clone");stickyClone.css("top",stickyBaseoffset+"px");var item={element:element,clone:stickyClone};self.items.push(item);contentEl.parent().prepend(item.clone);debouncedRefreshElements();return function remove(){self.items.forEach(function(item,index){if(item.element[0]===element[0]){self.items.splice(index,1);item.clone.remove()}});debouncedRefreshElements()}}function refreshElements(){self.items.forEach(refreshPosition);self.items=self.items.sort(function(a,b){return a.top<b.top?-1:1});var item;var currentScrollTop=contentEl.prop("scrollTop");for(var i=self.items.length-1;i>=0;i--){if(currentScrollTop>self.items[i].top){item=self.items[i];break}}setCurrentItem(item)}function refreshPosition(item){var current=item.element[0];item.top=0;item.left=0;while(current&&current!==contentEl[0]){item.top+=current.offsetTop;item.left+=current.offsetLeft;current=current.offsetParent}item.height=item.element.prop("offsetHeight");item.clone.css("margin-left",item.left+"px");if($mdUtil.floatingScrollbars()){item.clone.css("margin-right","0")}}function onScroll(){var scrollTop=contentEl.prop("scrollTop");var isScrollingDown=scrollTop>(onScroll.prevScrollTop||0);onScroll.prevScrollTop=scrollTop;if(scrollTop===0){setCurrentItem(null)}else if(isScrollingDown&&self.next){if(self.next.top-scrollTop<=0){setCurrentItem(self.next)}else if(self.current){if(self.next.top-scrollTop<=self.next.height){translate(self.current,self.next.top-self.next.height-scrollTop)}else{translate(self.current,null)}}}else if(!isScrollingDown&&self.current){if(scrollTop<self.current.top){setCurrentItem(self.prev)}if(self.current&&self.next){if(scrollTop>=self.next.top-self.current.height){translate(self.current,self.next.top-scrollTop-self.current.height)}else{translate(self.current,null)}}}}function setCurrentItem(item){if(self.current===item)return;if(self.current){translate(self.current,null);setStickyState(self.current,null)}if(item){setStickyState(item,"active")}self.current=item;var index=self.items.indexOf(item);self.next=self.items[index+1];self.prev=self.items[index-1];setStickyState(self.next,"next");setStickyState(self.prev,"prev")}function setStickyState(item,state){if(!item||item.state===state)return;if(item.state){item.clone.attr("sticky-prev-state",item.state);item.element.attr("sticky-prev-state",item.state)}item.clone.attr("sticky-state",state);item.element.attr("sticky-state",state);item.state=state}function translate(item,amount){if(!item)return;if(amount===null||amount===undefined){if(item.translateY){item.translateY=null;item.clone.css($mdConstant.CSS.TRANSFORM,"")}}else{item.translateY=amount;item.clone.css($mdConstant.CSS.TRANSFORM,"translate3d("+item.left+"px,"+amount+"px,0)")}}}function checkStickySupport($el){var stickyProp;var testEl=angular.element("<div>");$document[0].body.appendChild(testEl[0]);var stickyProps=["sticky","-webkit-sticky"];for(var i=0;i<stickyProps.length;++i){testEl.css({position:stickyProps[i],top:0,"z-index":2});if(testEl.css("position")==stickyProps[i]){stickyProp=stickyProps[i];break}}testEl.remove();return stickyProp}function setupAugmentedScrollEvents(element){var SCROLL_END_DELAY=200;var isScrolling;var lastScrollTime;element.on("scroll touchmove",function(){if(!isScrolling){isScrolling=true;$$rAF(loopScrollEvent);element.triggerHandler("$scrollstart")}element.triggerHandler("$scroll");lastScrollTime=+$mdUtil.now()});function loopScrollEvent(){if(+$mdUtil.now()-lastScrollTime>SCROLL_END_DELAY){isScrolling=false;element.triggerHandler("$scrollend")}else{element.triggerHandler("$scroll");$$rAF(loopScrollEvent)}}}}MdSticky.$inject=["$document","$mdConstant","$compile","$$rAF","$mdUtil"]})();(function(){"use strict";angular.module("material.components.subheader",["material.core","material.components.sticky"]).directive("mdSubheader",MdSubheaderDirective);function MdSubheaderDirective($mdSticky,$compile,$mdTheming){return{restrict:"E",replace:true,transclude:true,template:'<h2 class="md-subheader">'+'<div class="md-subheader-inner">'+'<span class="md-subheader-content"></span>'+"</div>"+"</h2>",compile:function(element,attr,transclude){return function postLink(scope,element,attr){$mdTheming(element);var outerHTML=element[0].outerHTML;function getContent(el){return angular.element(el[0].querySelector(".md-subheader-content"))}transclude(scope,function(clone){getContent(element).append(clone)});if(!element.hasClass("md-no-sticky")){transclude(scope,function(clone){var stickyClone=$compile(angular.element(outerHTML))(scope);getContent(stickyClone).append(clone);$mdSticky(scope,element,stickyClone)})}}}}}MdSubheaderDirective.$inject=["$mdSticky","$compile","$mdTheming"]})();(function(){"use strict";angular.module("material.components.swipe",["material.core"]).directive("mdSwipeLeft",getDirective("SwipeLeft")).directive("mdSwipeRight",getDirective("SwipeRight"));function getDirective(name){var directiveName="md"+name;var eventName="$md."+name.toLowerCase();DirectiveFactory.$inject=["$parse"];return DirectiveFactory;function DirectiveFactory($parse){return{restrict:"A",link:postLink};function postLink(scope,element,attr){var fn=$parse(attr[directiveName]);element.on(eventName,function(ev){scope.$apply(function(){fn(scope,{$event:ev})})})}}}})();(function(){"use strict";angular.module("material.components.switch",["material.core","material.components.checkbox"]).directive("mdSwitch",MdSwitch);function MdSwitch(mdCheckboxDirective,$mdTheming,$mdUtil,$document,$mdConstant,$parse,$$rAF,$mdGesture){var checkboxDirective=mdCheckboxDirective[0];return{restrict:"E",priority:210,transclude:true,template:'<div class="md-container">'+'<div class="md-bar"></div>'+'<div class="md-thumb-container">'+'<div class="md-thumb" md-ink-ripple md-ink-ripple-checkbox></div>'+"</div>"+"</div>"+'<div ng-transclude class="md-label">'+"</div>",require:"?ngModel",compile:compile};function compile(element,attr){var checkboxLink=checkboxDirective.compile(element,attr);element.addClass("md-dragging");return function(scope,element,attr,ngModel){ngModel=ngModel||$mdUtil.fakeNgModel();var disabledGetter=$parse(attr.ngDisabled);var thumbContainer=angular.element(element[0].querySelector(".md-thumb-container"));var switchContainer=angular.element(element[0].querySelector(".md-container"));$$rAF(function(){element.removeClass("md-dragging")});checkboxLink(scope,element,attr,ngModel);if(angular.isDefined(attr.ngDisabled)){scope.$watch(disabledGetter,function(isDisabled){element.attr("tabindex",isDisabled?-1:0)})}$mdGesture.register(switchContainer,"drag");switchContainer.on("$md.dragstart",onDragStart).on("$md.drag",onDrag).on("$md.dragend",onDragEnd);var drag;function onDragStart(ev){if(disabledGetter(scope))return;ev.stopPropagation();element.addClass("md-dragging");drag={width:thumbContainer.prop("offsetWidth")};element.removeClass("transition")}function onDrag(ev){if(!drag)return;ev.stopPropagation();ev.srcEvent&&ev.srcEvent.preventDefault();var percent=ev.pointer.distanceX/drag.width;var translate=ngModel.$viewValue?1+percent:percent;translate=Math.max(0,Math.min(1,translate));thumbContainer.css($mdConstant.CSS.TRANSFORM,"translate3d("+100*translate+"%,0,0)");drag.translate=translate}function onDragEnd(ev){if(!drag)return;ev.stopPropagation();element.removeClass("md-dragging");thumbContainer.css($mdConstant.CSS.TRANSFORM,"");var isChanged=ngModel.$viewValue?drag.translate<.5:drag.translate>.5;if(isChanged){applyModelValue(!ngModel.$viewValue)}drag=null}function applyModelValue(newValue){scope.$apply(function(){ngModel.$setViewValue(newValue);ngModel.$render()})}}}}MdSwitch.$inject=["mdCheckboxDirective","$mdTheming","$mdUtil","$document","$mdConstant","$parse","$$rAF","$mdGesture"]})();(function(){"use strict";angular.module("material.components.tabs",["material.core","material.components.icon"])})();(function(){"use strict";angular.module("material.components.toast",["material.core","material.components.button"]).directive("mdToast",MdToastDirective).provider("$mdToast",MdToastProvider);function MdToastDirective(){return{restrict:"E"}}function MdToastProvider($$interimElementProvider){var ACTION_RESOLVE="ok";var activeToastContent;var $mdToast=$$interimElementProvider("$mdToast").setDefaults({methods:["position","hideDelay","capsule"],options:toastDefaultOptions}).addPreset("simple",{argOption:"content",methods:["content","action","highlightAction","theme","parent"],options:["$mdToast","$mdTheming",function($mdToast,$mdTheming){var opts={template:['<md-toast md-theme="{{ toast.theme }}" ng-class="{\'md-capsule\': toast.capsule}">',"<span flex>{{ toast.content }}</span>",'<md-button class="md-action" ng-if="toast.action" ng-click="toast.resolve()" ng-class="{\'md-highlight\': toast.highlightAction}">',"{{ toast.action }}","</md-button>","</md-toast>"].join(""),controller:["$scope",function mdToastCtrl($scope){var self=this;$scope.$watch(function(){return activeToastContent},function(){self.content=activeToastContent});this.resolve=function(){$mdToast.hide(ACTION_RESOLVE)}}],theme:$mdTheming.defaultTheme(),controllerAs:"toast",bindToController:true};return opts}]}).addMethod("updateContent",function(newContent){activeToastContent=newContent});toastDefaultOptions.$inject=["$animate","$mdToast","$mdUtil"];return $mdToast;function toastDefaultOptions($animate,$mdToast,$mdUtil){return{onShow:onShow,onRemove:onRemove,position:"bottom left",themable:true,hideDelay:3e3};function onShow(scope,element,options){element=$mdUtil.extractElementByName(element,"md-toast");activeToastContent=options.content;element.addClass(options.position.split(" ").map(function(pos){return"md-"+pos}).join(" "));options.parent.addClass(toastOpenClass(options.position));options.onSwipe=function(ev,gesture){element.addClass("md-"+ev.type.replace("$md.",""));$mdUtil.nextTick($mdToast.cancel)};element.on("$md.swipeleft $md.swiperight",options.onSwipe);return $animate.enter(element,options.parent)}function onRemove(scope,element,options){element.off("$md.swipeleft $md.swiperight",options.onSwipe);options.parent.removeClass(toastOpenClass(options.position));return $animate.leave(element)}function toastOpenClass(position){return"md-toast-open-"+(position.indexOf("top")>-1?"top":"bottom")}}}MdToastProvider.$inject=["$$interimElementProvider"]})();(function(){"use strict";angular.module("material.components.toolbar",["material.core","material.components.content"]).directive("mdToolbar",mdToolbarDirective);function mdToolbarDirective($$rAF,$mdConstant,$mdUtil,$mdTheming,$animate){var translateY=angular.bind(null,$mdUtil.supplant,"translate3d(0,{0}px,0)");return{restrict:"E",controller:angular.noop,link:function(scope,element,attr){$mdTheming(element);if(angular.isDefined(attr.mdScrollShrink)){setupScrollShrink()}function setupScrollShrink(){var y=0;var prevScrollTop=0;var shrinkSpeedFactor=attr.mdShrinkSpeedFactor||.5;var toolbarHeight;var contentElement;var debouncedContentScroll=$$rAF.throttle(onContentScroll);var debouncedUpdateHeight=$mdUtil.debounce(updateToolbarHeight,5*1e3);scope.$on("$mdContentLoaded",onMdContentLoad);function onMdContentLoad($event,newContentEl){if(element.parent()[0]===newContentEl.parent()[0]){if(contentElement){contentElement.off("scroll",debouncedContentScroll)}newContentEl.on("scroll",debouncedContentScroll);newContentEl.attr("scroll-shrink","true");contentElement=newContentEl;$$rAF(updateToolbarHeight)}}function updateToolbarHeight(){toolbarHeight=element.prop("offsetHeight");var margin=-toolbarHeight*shrinkSpeedFactor+"px";contentElement.css("margin-top",margin);contentElement.css("margin-bottom",margin);onContentScroll()}function onContentScroll(e){var scrollTop=e?e.target.scrollTop:prevScrollTop;debouncedUpdateHeight();y=Math.min(toolbarHeight/shrinkSpeedFactor,Math.max(0,y+scrollTop-prevScrollTop));element.css($mdConstant.CSS.TRANSFORM,translateY([-y*shrinkSpeedFactor]));contentElement.css($mdConstant.CSS.TRANSFORM,translateY([(toolbarHeight-y)*shrinkSpeedFactor]));prevScrollTop=scrollTop;$mdUtil.nextTick(function(){var hasWhiteFrame=element.hasClass("md-whiteframe-z1");if(hasWhiteFrame&&!y){$animate.removeClass(element,"md-whiteframe-z1")}else if(!hasWhiteFrame&&y){$animate.addClass(element,"md-whiteframe-z1")}})}}}}}mdToolbarDirective.$inject=["$$rAF","$mdConstant","$mdUtil","$mdTheming","$animate"]})();(function(){"use strict";angular.module("material.components.tooltip",["material.core"]).directive("mdTooltip",MdTooltipDirective);function MdTooltipDirective($timeout,$window,$$rAF,$document,$mdUtil,$mdTheming,$rootElement,$animate,$q){var TOOLTIP_SHOW_DELAY=300;var TOOLTIP_WINDOW_EDGE_SPACE=8;return{restrict:"E",transclude:true,priority:210,template:'        <div class="md-background"></div>        <div class="md-content" ng-transclude></div>',scope:{visible:"=?mdVisible",delay:"=?mdDelay",autohide:"=?mdAutohide"},link:postLink};function postLink(scope,element,attr){$mdTheming(element);var parent=getParentWithPointerEvents(),background=angular.element(element[0].getElementsByClassName("md-background")[0]),content=angular.element(element[0].getElementsByClassName("md-content")[0]),direction=attr.mdDirection,current=getNearestContentElement(),tooltipParent=angular.element(current||document.body),debouncedOnResize=$$rAF.throttle(function(){if(scope.visible)positionTooltip()});setDefaults();manipulateElement();bindEvents();configureWatchers();addAriaLabel();function setDefaults(){if(!angular.isDefined(attr.mdDelay))scope.delay=TOOLTIP_SHOW_DELAY}function configureWatchers(){scope.$on("$destroy",function(){scope.visible=false;element.remove();angular.element($window).off("resize",debouncedOnResize)});scope.$watch("visible",function(isVisible){if(isVisible)showTooltip();else hideTooltip()})}function addAriaLabel(){if(!parent.attr("aria-label")&&!parent.text().trim()){parent.attr("aria-label",element.text().trim())}}function manipulateElement(){element.detach();element.attr("role","tooltip")}function getParentWithPointerEvents(){var parent=element.parent();while(parent&&hasComputedStyleValue("pointer-events","none",parent[0])){parent=parent.parent()}return parent}function getNearestContentElement(){var current=element.parent()[0];while(current&&current!==$rootElement[0]&&current!==document.body){current=current.parentNode}return current}function hasComputedStyleValue(key,value,target){key=attr.$normalize(key);target=target||element[0];var computedStyles=$window.getComputedStyle(target);return angular.isDefined(computedStyles[key])&&computedStyles[key]==value}function bindEvents(){var mouseActive=false;var enterHandler=function(){parent.on("blur mouseleave touchend touchcancel",leaveHandler);setVisible(true)};var leaveHandler=function(){var autohide=scope.hasOwnProperty("autohide")?scope.autohide:attr.hasOwnProperty("mdAutohide");if(autohide||mouseActive||$document[0].activeElement!==parent[0]){parent.off("blur mouseleave touchend touchcancel",leaveHandler);setVisible(false)}mouseActive=false};parent.on("mousedown",function(){mouseActive=true});parent.on("focus mouseenter touchstart",enterHandler);angular.element($window).on("resize",debouncedOnResize)}function setVisible(value){setVisible.value=!!value;if(!setVisible.queued){if(value){setVisible.queued=true;$timeout(function(){scope.visible=setVisible.value;setVisible.queued=false},scope.delay)}else{$mdUtil.nextTick(function(){scope.visible=false})}}}function showTooltip(){tooltipParent.append(element);if(hasComputedStyleValue("display","none")){scope.visible=false;element.detach();return}positionTooltip();angular.forEach([element,background,content],function(element){$animate.addClass(element,"md-show")})}function hideTooltip(){$q.all([$animate.removeClass(content,"md-show"),$animate.removeClass(background,"md-show"),$animate.removeClass(element,"md-show")]).then(function(){if(!scope.visible)element.detach()})}function positionTooltip(){var tipRect=$mdUtil.offsetRect(element,tooltipParent);var parentRect=$mdUtil.offsetRect(parent,tooltipParent);var newPosition=getPosition(direction);if(direction){newPosition=fitInParent(newPosition)}else if(newPosition.top>element.prop("offsetParent").scrollHeight-tipRect.height-TOOLTIP_WINDOW_EDGE_SPACE){newPosition=fitInParent(getPosition("top"))}element.css({top:newPosition.top+"px",left:newPosition.left+"px"});positionBackground();function positionBackground(){var size=direction==="left"||direction==="right"?Math.sqrt(Math.pow(tipRect.width,2)+Math.pow(tipRect.height/2,2))*2:Math.sqrt(Math.pow(tipRect.width/2,2)+Math.pow(tipRect.height,2))*2,position=direction==="left"?{left:100,top:50}:direction==="right"?{left:0,top:50}:direction==="top"?{left:50,top:100}:{left:50,top:0};background.css({width:size+"px",height:size+"px",left:position.left+"%",top:position.top+"%"})}function fitInParent(pos){var newPosition={left:pos.left,top:pos.top};newPosition.left=Math.min(newPosition.left,tooltipParent.prop("scrollWidth")-tipRect.width-TOOLTIP_WINDOW_EDGE_SPACE);newPosition.left=Math.max(newPosition.left,TOOLTIP_WINDOW_EDGE_SPACE);newPosition.top=Math.min(newPosition.top,tooltipParent.prop("scrollHeight")-tipRect.height-TOOLTIP_WINDOW_EDGE_SPACE);newPosition.top=Math.max(newPosition.top,TOOLTIP_WINDOW_EDGE_SPACE);return newPosition}function getPosition(dir){return dir==="left"?{left:parentRect.left-tipRect.width-TOOLTIP_WINDOW_EDGE_SPACE,top:parentRect.top+parentRect.height/2-tipRect.height/2}:dir==="right"?{left:parentRect.left+parentRect.width+TOOLTIP_WINDOW_EDGE_SPACE,top:parentRect.top+parentRect.height/2-tipRect.height/2}:dir==="top"?{left:parentRect.left+parentRect.width/2-tipRect.width/2,top:parentRect.top-tipRect.height-TOOLTIP_WINDOW_EDGE_SPACE}:{left:parentRect.left+parentRect.width/2-tipRect.width/2,top:parentRect.top+parentRect.height+TOOLTIP_WINDOW_EDGE_SPACE}}}}}MdTooltipDirective.$inject=["$timeout","$window","$$rAF","$document","$mdUtil","$mdTheming","$rootElement","$animate","$q"]})();(function(){"use strict";angular.module("material.components.virtualRepeat",["material.core"]).directive("mdVirtualRepeatContainer",VirtualRepeatContainerDirective).directive("mdVirtualRepeat",VirtualRepeatDirective);function VirtualRepeatContainerDirective(){return{controller:VirtualRepeatContainerController,template:virtualRepeatContainerTemplate,compile:function virtualRepeatContainerCompile($element,$attrs){$element.addClass("md-virtual-repeat-container").addClass($attrs.hasOwnProperty("mdOrientHorizontal")?"md-orient-horizontal":"md-orient-vertical")}}}function virtualRepeatContainerTemplate($element){return'<div class="md-virtual-repeat-scroller">'+'<div class="md-virtual-repeat-sizer"></div>'+'<div class="md-virtual-repeat-offsetter">'+$element[0].innerHTML+"</div></div>"}var MAX_ELEMENT_SIZE=1533917;var NUM_EXTRA=3;function VirtualRepeatContainerController($$rAF,$scope,$element,$attrs){this.$scope=$scope;this.$element=$element;this.$attrs=$attrs;this.size=0;this.scrollSize=0;this.scrollOffset=0;this.horizontal=this.$attrs.hasOwnProperty("mdOrientHorizontal");this.repeater=null;this.autoShrink=this.$attrs.hasOwnProperty("mdAutoShrink");this.autoShrinkMin=parseInt(this.$attrs.mdAutoShrinkMin,10)||0;this.originalSize=null;this.scroller=$element[0].getElementsByClassName("md-virtual-repeat-scroller")[0];this.sizer=this.scroller.getElementsByClassName("md-virtual-repeat-sizer")[0];this.offsetter=this.scroller.getElementsByClassName("md-virtual-repeat-offsetter")[0];$$rAF(angular.bind(this,this.updateSize));if($attrs.ngHide){$scope.$watch($attrs.ngHide,angular.bind(this,function(hidden){if(!hidden){$$rAF(angular.bind(this,this.updateSize))}}))}}VirtualRepeatContainerController.$inject=["$$rAF","$scope","$element","$attrs"];VirtualRepeatContainerController.prototype.register=function(repeaterCtrl){this.repeater=repeaterCtrl;angular.element(this.scroller).on("scroll wheel touchmove touchend",angular.bind(this,this.handleScroll_))};VirtualRepeatContainerController.prototype.isHorizontal=function(){return this.horizontal};VirtualRepeatContainerController.prototype.getSize=function(){return this.size};VirtualRepeatContainerController.prototype.setSize_=function(size){this.size=size;this.$element[0].style[this.isHorizontal()?"width":"height"]=size+"px"};VirtualRepeatContainerController.prototype.updateSize=function(){if(this.originalSize)return;this.size=this.isHorizontal()?this.$element[0].clientWidth:this.$element[0].clientHeight;this.repeater&&this.repeater.containerUpdated()};VirtualRepeatContainerController.prototype.getScrollSize=function(){return this.scrollSize};VirtualRepeatContainerController.prototype.sizeScroller_=function(size){var dimension=this.isHorizontal()?"width":"height";var crossDimension=this.isHorizontal()?"height":"width";if(size<MAX_ELEMENT_SIZE){this.sizer.style[dimension]=size+"px"}else{this.sizer.innerHTML="";this.sizer.style[dimension]="auto";this.sizer.style[crossDimension]="auto";var numChildren=Math.floor(size/MAX_ELEMENT_SIZE);var sizerChild=document.createElement("div");sizerChild.style[dimension]=MAX_ELEMENT_SIZE+"px";sizerChild.style[crossDimension]="1px";for(var i=0;i<numChildren;i++){this.sizer.appendChild(sizerChild.cloneNode(false))}sizerChild.style[dimension]=size-numChildren*MAX_ELEMENT_SIZE+"px";this.sizer.appendChild(sizerChild)}};VirtualRepeatContainerController.prototype.autoShrink_=function(size){var shrinkSize=Math.max(size,this.autoShrinkMin*this.repeater.getItemSize());if(this.autoShrink&&shrinkSize!==this.size){if(shrinkSize<(this.originalSize||this.size)){if(!this.originalSize){this.originalSize=this.size}this.setSize_(shrinkSize)}else if(this.originalSize){this.setSize_(this.originalSize);this.originalSize=null}}};VirtualRepeatContainerController.prototype.setScrollSize=function(size){if(this.scrollSize===size)return;this.sizeScroller_(size);this.autoShrink_(size);this.scrollSize=size};VirtualRepeatContainerController.prototype.getScrollOffset=function(){return this.scrollOffset};VirtualRepeatContainerController.prototype.scrollTo=function(position){this.scroller[this.isHorizontal()?"scrollLeft":"scrollTop"]=position;this.handleScroll_()};VirtualRepeatContainerController.prototype.resetScroll=function(){this.scrollTo(0)};VirtualRepeatContainerController.prototype.handleScroll_=function(){var offset=this.isHorizontal()?this.scroller.scrollLeft:this.scroller.scrollTop;if(offset===this.scrollOffset)return;var itemSize=this.repeater.getItemSize();if(!itemSize)return;var numItems=Math.max(0,Math.floor(offset/itemSize)-NUM_EXTRA);var transform=this.isHorizontal()?"translateX(":"translateY(";transform+=numItems*itemSize+"px)";this.scrollOffset=offset;this.offsetter.style.webkitTransform=transform;this.offsetter.style.transform=transform;this.repeater.containerUpdated()};function VirtualRepeatDirective($parse){return{controller:VirtualRepeatController,priority:1e3,require:["mdVirtualRepeat","^^mdVirtualRepeatContainer"],restrict:"A",terminal:true,transclude:"element",compile:function VirtualRepeatCompile($element,$attrs){var expression=$attrs.mdVirtualRepeat;var match=expression.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)\s*$/);var repeatName=match[1];var repeatListExpression=$parse(match[2]);var extraName=$attrs.mdExtraName&&$parse($attrs.mdExtraName);return function VirtualRepeatLink($scope,$element,$attrs,ctrl,$transclude){ctrl[0].link_(ctrl[1],$transclude,repeatName,repeatListExpression,extraName)}}}}VirtualRepeatDirective.$inject=["$parse"];function VirtualRepeatController($scope,$element,$attrs,$browser,$document,$$rAF){this.$scope=$scope;this.$element=$element;this.$attrs=$attrs;this.$browser=$browser;this.$document=$document;this.$$rAF=$$rAF;this.browserCheckUrlChange=$browser.$$checkUrlChange;this.newStartIndex=0;this.newEndIndex=0;this.startIndex=0;this.endIndex=0;this.itemSize=$scope.$eval($attrs.mdItemSize)||null;this.isFirstRender=true;this.itemsLength=0;this.blocks={};this.pooledBlocks=[]}VirtualRepeatController.$inject=["$scope","$element","$attrs","$browser","$document","$$rAF"];VirtualRepeatController.Block;VirtualRepeatController.prototype.link_=function(container,transclude,repeatName,repeatListExpression,extraName){this.container=container;this.transclude=transclude;this.repeatName=repeatName;this.repeatListExpression=repeatListExpression;this.extraName=extraName;this.sized=false;this.container.register(this)};VirtualRepeatController.prototype.readItemSize_=function(){this.items=this.repeatListExpression(this.$scope);this.parentNode=this.$element[0].parentNode;var block=this.getBlock_(0);this.itemSize=block.element[0][this.container.isHorizontal()?"offsetWidth":"offsetHeight"]||null;this.blocks[0]=block;this.poolBlock_(0);if(this.itemSize){this.containerUpdated()}};VirtualRepeatController.prototype.containerUpdated=function(){if(!this.itemSize){this.$$rAF(angular.bind(this,this.readItemSize_));return}else if(!this.sized){this.items=this.repeatListExpression(this.$scope)}if(!this.sized){this.sized=true;this.$scope.$watchCollection(this.repeatListExpression,angular.bind(this,this.virtualRepeatUpdate_))}this.updateIndexes_();if(this.newStartIndex!==this.startIndex||this.newEndIndex!==this.endIndex||this.container.getScrollOffset()>this.container.getScrollSize()){this.virtualRepeatUpdate_(this.items,this.items)}};VirtualRepeatController.prototype.getItemSize=function(){return this.itemSize};VirtualRepeatController.prototype.virtualRepeatUpdate_=function(items,oldItems){var itemsLength=items?items.length:0;var lengthChanged=false;if(itemsLength!==this.itemsLength){lengthChanged=true;this.itemsLength=itemsLength}if(this.items&&itemsLength<this.items.length&&this.container.getScrollOffset()!==0){this.items=items;this.container.resetScroll();return}this.items=items;if(items!==oldItems){this.updateIndexes_()}this.parentNode=this.$element[0].parentNode;if(lengthChanged){this.container.setScrollSize(itemsLength*this.itemSize)}if(this.isFirstRender){this.isFirstRender=false;var startIndex=this.$attrs.mdStartIndex?this.$scope.$eval(this.$attrs.mdStartIndex):0;this.container.scrollTo(startIndex*this.itemSize)}Object.keys(this.blocks).forEach(function(blockIndex){var index=parseInt(blockIndex,10);if(index<this.newStartIndex||index>=this.newEndIndex){this.poolBlock_(index)}},this);this.$browser.$$checkUrlChange=angular.noop;var i,block,newStartBlocks=[],newEndBlocks=[];for(i=this.newStartIndex;i<this.newEndIndex&&this.blocks[i]==null;i++){block=this.getBlock_(i);this.updateBlock_(block,i);newStartBlocks.push(block)}for(;this.blocks[i]!=null;i++){this.updateBlock_(this.blocks[i],i)}var maxIndex=i-1;for(;i<this.newEndIndex;i++){block=this.getBlock_(i);this.updateBlock_(block,i);newEndBlocks.push(block)}if(newStartBlocks.length){this.parentNode.insertBefore(this.domFragmentFromBlocks_(newStartBlocks),this.$element[0].nextSibling)}if(newEndBlocks.length){this.parentNode.insertBefore(this.domFragmentFromBlocks_(newEndBlocks),this.blocks[maxIndex]&&this.blocks[maxIndex].element[0].nextSibling)}this.$browser.$$checkUrlChange=this.browserCheckUrlChange;this.startIndex=this.newStartIndex;this.endIndex=this.newEndIndex};VirtualRepeatController.prototype.getBlock_=function(index){if(this.pooledBlocks.length){return this.pooledBlocks.pop()}var block;this.transclude(angular.bind(this,function(clone,scope){block={element:clone,new:true,scope:scope};this.updateScope_(scope,index);this.parentNode.appendChild(clone[0])}));return block};VirtualRepeatController.prototype.updateBlock_=function(block,index){this.blocks[index]=block;if(!block.new&&(block.scope.$index===index&&block.scope[this.repeatName]===this.items[index])){return}block.new=false;this.updateScope_(block.scope,index);if(!this.$scope.$root.$$phase){block.scope.$digest()}};VirtualRepeatController.prototype.updateScope_=function(scope,index){scope.$index=index;scope[this.repeatName]=this.items&&this.items[index];if(this.extraName)scope[this.extraName(this.$scope)]=this.items[index]};VirtualRepeatController.prototype.poolBlock_=function(index){this.pooledBlocks.push(this.blocks[index]);this.parentNode.removeChild(this.blocks[index].element[0]);delete this.blocks[index]};VirtualRepeatController.prototype.domFragmentFromBlocks_=function(blocks){var fragment=this.$document[0].createDocumentFragment();blocks.forEach(function(block){fragment.appendChild(block.element[0])});return fragment};VirtualRepeatController.prototype.updateIndexes_=function(){var itemsLength=this.items?this.items.length:0;var containerLength=Math.ceil(this.container.getSize()/this.itemSize);this.newStartIndex=Math.max(0,Math.min(itemsLength-containerLength,Math.floor(this.container.getScrollOffset()/this.itemSize)));this.newEndIndex=Math.min(itemsLength,this.newStartIndex+containerLength+NUM_EXTRA);this.newStartIndex=Math.max(0,this.newStartIndex-NUM_EXTRA)}})();(function(){"use strict";angular.module("material.components.whiteframe",[])})();(function(){"use strict";angular.module("material.components.autocomplete").controller("MdAutocompleteCtrl",MdAutocompleteCtrl);var ITEM_HEIGHT=41,MAX_HEIGHT=5.5*ITEM_HEIGHT,MENU_PADDING=8;function MdAutocompleteCtrl($scope,$element,$mdUtil,$mdConstant,$mdTheming,$window,$animate,$rootElement,$attrs,$q){var ctrl=this,itemParts=$scope.itemsExpr.split(/ in /i),itemExpr=itemParts[1],elements=null,cache={},noBlur=false,selectedItemWatchers=[],hasFocus=false,lastCount=0;defineProperty("hidden",handleHiddenChange,true);ctrl.scope=$scope;ctrl.parent=$scope.$parent;ctrl.itemName=itemParts[0];ctrl.matches=[];ctrl.loading=false;ctrl.hidden=true;ctrl.index=null;ctrl.messages=[];ctrl.id=$mdUtil.nextUid();ctrl.isDisabled=null;ctrl.isRequired=null;ctrl.keydown=keydown;ctrl.blur=blur;ctrl.focus=focus;ctrl.clear=clearValue;ctrl.select=select;ctrl.listEnter=onListEnter;ctrl.listLeave=onListLeave;ctrl.mouseUp=onMouseup;ctrl.getCurrentDisplayValue=getCurrentDisplayValue;ctrl.registerSelectedItemWatcher=registerSelectedItemWatcher;ctrl.unregisterSelectedItemWatcher=unregisterSelectedItemWatcher;return init();function init(){$mdUtil.initOptionalProperties($scope,$attrs,{searchText:null,selectedItem:null});$mdTheming($element);configureWatchers();$mdUtil.nextTick(function(){gatherElements();focusElement();moveDropdown()})}function positionDropdown(){if(!elements)return $mdUtil.nextTick(positionDropdown,false);var hrect=elements.wrap.getBoundingClientRect(),vrect=elements.snap.getBoundingClientRect(),root=elements.root.getBoundingClientRect(),top=vrect.bottom-root.top,bot=root.bottom-vrect.top,left=hrect.left-root.left,width=hrect.width,styles={left:left+"px",minWidth:width+"px",maxWidth:Math.max(hrect.right-root.left,root.right-hrect.left)-MENU_PADDING+"px"};if(top>bot&&root.height-hrect.bottom-MENU_PADDING<MAX_HEIGHT){styles.top="auto";styles.bottom=bot+"px";styles.maxHeight=Math.min(MAX_HEIGHT,hrect.top-root.top-MENU_PADDING)+"px"}else{styles.top=top+"px";styles.bottom="auto";styles.maxHeight=Math.min(MAX_HEIGHT,root.bottom-hrect.bottom-MENU_PADDING)+"px"}elements.$.ul.css(styles);$mdUtil.nextTick(correctHorizontalAlignment,false);function correctHorizontalAlignment(){var dropdown=elements.ul.getBoundingClientRect(),styles={};if(dropdown.right>root.right-MENU_PADDING){styles.left=hrect.right-dropdown.width+"px"}elements.$.ul.css(styles)}}function moveDropdown(){if(!elements.$.root.length)return;$mdTheming(elements.$.ul);elements.$.ul.detach();elements.$.root.append(elements.$.ul);if($animate.pin)$animate.pin(elements.$.ul,$rootElement)}function focusElement(){if($scope.autofocus)elements.input.focus()}function configureWatchers(){var wait=parseInt($scope.delay,10)||0;$attrs.$observe("disabled",function(value){ctrl.isDisabled=value});$attrs.$observe("required",function(value){ctrl.isRequired=value!==null});$scope.$watch("searchText",wait?$mdUtil.debounce(handleSearchText,wait):handleSearchText);$scope.$watch("selectedItem",selectedItemChange);angular.element($window).on("resize",positionDropdown);$scope.$on("$destroy",cleanup)}function cleanup(){angular.element($window).off("resize",positionDropdown);elements.$.ul.remove()}function gatherElements(){elements={main:$element[0],ul:$element.find("ul")[0],input:$element.find("input")[0],wrap:$element.find("md-autocomplete-wrap")[0],root:document.body};elements.li=elements.ul.getElementsByTagName("li");elements.snap=getSnapTarget();elements.$=getAngularElements(elements)}function getSnapTarget(){for(var element=$element;element.length;element=element.parent()){if(angular.isDefined(element.attr("md-autocomplete-snap")))return element[0]}return elements.wrap}function getAngularElements(elements){var obj={};for(var key in elements){if(elements.hasOwnProperty(key))obj[key]=angular.element(elements[key])}return obj}function handleHiddenChange(hidden,oldHidden){if(!hidden&&oldHidden){positionDropdown();if(elements)$mdUtil.nextTick(function(){$mdUtil.disableScrollAround(elements.ul)},false)}else if(hidden&&!oldHidden){$mdUtil.nextTick(function(){$mdUtil.enableScrolling()},false)}}function onListEnter(){noBlur=true}function onListLeave(){noBlur=false;if(!hasFocus)ctrl.hidden=true}function onMouseup(){elements.input.focus()}function selectedItemChange(selectedItem,previousSelectedItem){if(selectedItem){getDisplayValue(selectedItem).then(function(val){$scope.searchText=val;handleSelectedItemChange(selectedItem,previousSelectedItem)})}if(selectedItem!==previousSelectedItem)announceItemChange()}function announceItemChange(){angular.isFunction($scope.itemChange)&&$scope.itemChange(getItemAsNameVal($scope.selectedItem))}function announceTextChange(){angular.isFunction($scope.textChange)&&$scope.textChange()}function handleSelectedItemChange(selectedItem,previousSelectedItem){selectedItemWatchers.forEach(function(watcher){watcher(selectedItem,previousSelectedItem)})}function registerSelectedItemWatcher(cb){if(selectedItemWatchers.indexOf(cb)==-1){selectedItemWatchers.push(cb)}}function unregisterSelectedItemWatcher(cb){var i=selectedItemWatchers.indexOf(cb);if(i!=-1){selectedItemWatchers.splice(i,1)}}function handleSearchText(searchText,previousSearchText){ctrl.index=getDefaultIndex();if(searchText===previousSearchText)return;getDisplayValue($scope.selectedItem).then(function(val){if(searchText!==val){$scope.selectedItem=null;if(searchText!==previousSearchText)announceTextChange();if(!isMinLengthMet()){ctrl.loading=false;ctrl.matches=[];ctrl.hidden=shouldHide();updateMessages()}else{handleQuery()}}})}function blur(){hasFocus=false;if(!noBlur)ctrl.hidden=true}function focus(){hasFocus=true;if(!angular.isString($scope.searchText))$scope.searchText="";if($scope.minLength>0)return;ctrl.hidden=shouldHide();if(!ctrl.hidden)handleQuery()}function keydown(event){switch(event.keyCode){case $mdConstant.KEY_CODE.DOWN_ARROW:if(ctrl.loading)return;event.stopPropagation();event.preventDefault();ctrl.index=Math.min(ctrl.index+1,ctrl.matches.length-1);updateScroll();updateMessages();break;case $mdConstant.KEY_CODE.UP_ARROW:if(ctrl.loading)return;event.stopPropagation();event.preventDefault();ctrl.index=ctrl.index<0?ctrl.matches.length-1:Math.max(0,ctrl.index-1);updateScroll();updateMessages();break;case $mdConstant.KEY_CODE.TAB:case $mdConstant.KEY_CODE.ENTER:if(ctrl.hidden||ctrl.loading||ctrl.index<0||ctrl.matches.length<1)return;event.stopPropagation();event.preventDefault();select(ctrl.index);break;case $mdConstant.KEY_CODE.ESCAPE:event.stopPropagation();event.preventDefault();clearValue();ctrl.matches=[];ctrl.hidden=true;ctrl.index=getDefaultIndex();break;default:}}function getMinLength(){return angular.isNumber($scope.minLength)?$scope.minLength:1}function getDisplayValue(item){return $q.when(getItemText(item)||item);function getItemText(item){return item&&$scope.itemText?$scope.itemText(getItemAsNameVal(item)):null}}function getItemAsNameVal(item){if(!item)return undefined;var locals={};if(ctrl.itemName)locals[ctrl.itemName]=item;return locals}function getDefaultIndex(){return $scope.autoselect?0:-1}function shouldHide(){if(!isMinLengthMet()||!ctrl.matches.length)return true}function getCurrentDisplayValue(){return getDisplayValue(ctrl.matches[ctrl.index])}function isMinLengthMet(){return angular.isDefined($scope.searchText)&&$scope.searchText.length>=getMinLength()}function defineProperty(key,handler,value){Object.defineProperty(ctrl,key,{get:function(){return value},set:function(newValue){var oldValue=value;value=newValue;handler(newValue,oldValue)}})}function select(index){$mdUtil.nextTick(function(){getDisplayValue(ctrl.matches[index]).then(function(val){var ngModel=elements.$.input.controller("ngModel");ngModel.$setViewValue(val);ngModel.$render()}).finally(function(){$scope.selectedItem=ctrl.matches[index];ctrl.loading=false;ctrl.hidden=true;ctrl.index=0;ctrl.matches=[]})},false)}function clearValue(){$scope.searchText="";select(-1);var eventObj=document.createEvent("CustomEvent");eventObj.initCustomEvent("input",true,true,{value:$scope.searchText});elements.input.dispatchEvent(eventObj);elements.input.focus()}function fetchResults(searchText){var items=$scope.$parent.$eval(itemExpr),term=searchText.toLowerCase();if(angular.isArray(items)){handleResults(items)}else if(items){$mdUtil.nextTick(function(){ctrl.loading=true;if(items.success)items.success(handleResults);if(items.then)items.then(handleResults);if(items.finally)items.finally(function(){ctrl.loading=false})})}function handleResults(matches){cache[term]=matches;if(searchText!==$scope.searchText)return;ctrl.matches=matches;ctrl.hidden=shouldHide();if($scope.selectOnMatch)selectItemOnMatch();updateMessages();positionDropdown()}}function updateMessages(){getCurrentDisplayValue().then(function(msg){ctrl.messages=[getCountMessage(),msg]})}function getCountMessage(){if(lastCount===ctrl.matches.length)return"";lastCount=ctrl.matches.length;switch(ctrl.matches.length){case 0:return"There are no matches available.";case 1:return"There is 1 match available.";default:return"There are "+ctrl.matches.length+" matches available."}}function updateScroll(){if(!elements.li[ctrl.index])return;var li=elements.li[ctrl.index],top=li.offsetTop,bot=top+li.offsetHeight,hgt=elements.ul.clientHeight;if(top<elements.ul.scrollTop){elements.ul.scrollTop=top}else if(bot>elements.ul.scrollTop+hgt){elements.ul.scrollTop=bot-hgt}}function handleQuery(){var searchText=$scope.searchText,term=searchText.toLowerCase();if(!$scope.noCache&&cache[term]){ctrl.matches=cache[term];updateMessages()}else{fetchResults(searchText)}if(hasFocus)ctrl.hidden=shouldHide()}function selectItemOnMatch(){var searchText=$scope.searchText,matches=ctrl.matches,item=matches[0];if(matches.length===1)getDisplayValue(item).then(function(displayValue){if(searchText==displayValue)select(0)})}}MdAutocompleteCtrl.$inject=["$scope","$element","$mdUtil","$mdConstant","$mdTheming","$window","$animate","$rootElement","$attrs","$q"]})();(function(){"use strict";angular.module("material.components.autocomplete").directive("mdAutocomplete",MdAutocomplete);function MdAutocomplete(){return{controller:"MdAutocompleteCtrl",controllerAs:"$mdAutocompleteCtrl",scope:{inputName:"@mdInputName",inputMinlength:"@mdInputMinlength",inputMaxlength:"@mdInputMaxlength",searchText:"=?mdSearchText",selectedItem:"=?mdSelectedItem",itemsExpr:"@mdItems",itemText:"&mdItemText",placeholder:"@placeholder",noCache:"=?mdNoCache",selectOnMatch:"=?mdSelectOnMatch",itemChange:"&?mdSelectedItemChange",textChange:"&?mdSearchTextChange",minLength:"=?mdMinLength",delay:"=?mdDelay",autofocus:"=?mdAutofocus",floatingLabel:"@?mdFloatingLabel",autoselect:"=?mdAutoselect",menuClass:"@?mdMenuClass",inputId:"@?mdInputId"},template:function(element,attr){var noItemsTemplate=getNoItemsTemplate(),itemTemplate=getItemTemplate(),leftover=element.html();return'        <md-autocomplete-wrap            layout="row"            ng-class="{ \'md-whiteframe-z1\': !floatingLabel, \'md-menu-showing\': !$mdAutocompleteCtrl.hidden }"            role="listbox">          '+getInputElement()+'          <md-progress-linear              ng-if="$mdAutocompleteCtrl.loading && !$mdAutocompleteCtrl.hidden"              md-mode="indeterminate"></md-progress-linear>          <ul role="presentation"              class="md-autocomplete-suggestions md-whiteframe-z1 {{menuClass || \'\'}}"              id="ul-{{$mdAutocompleteCtrl.id}}"              ng-hide="$mdAutocompleteCtrl.hidden"              ng-mouseenter="$mdAutocompleteCtrl.listEnter()"              ng-mouseleave="$mdAutocompleteCtrl.listLeave()"              ng-mouseup="$mdAutocompleteCtrl.mouseUp()">            <li ng-repeat="(index, item) in $mdAutocompleteCtrl.matches"                ng-class="{ selected: index === $mdAutocompleteCtrl.index }"                ng-click="$mdAutocompleteCtrl.select(index)"                md-autocomplete-list-item="$mdAutocompleteCtrl.itemName">                '+itemTemplate+"            </li>            "+noItemsTemplate+'          </ul>        </md-autocomplete-wrap>        <aria-status            class="md-visually-hidden"            role="status"            aria-live="assertive">          <p ng-repeat="message in $mdAutocompleteCtrl.messages track by $index" ng-if="message">{{message}}</p>        </aria-status>';function getItemTemplate(){var templateTag=element.find("md-item-template").remove(),html=templateTag.length?templateTag.html():element.html();if(!templateTag.length)element.empty();return html}function getNoItemsTemplate(){var templateTag=element.find("md-not-found").remove(),template=templateTag.length?templateTag.html():"";return template?'<li ng-if="!$mdAutocompleteCtrl.matches.length && !$mdAutocompleteCtrl.loading                       && !$mdAutocompleteCtrl.hidden"                   ng-hide="$mdAutocompleteCtrl.hidden"                   md-autocomplete-parent-scope>'+template+"</li>":""}function getInputElement(){if(attr.mdFloatingLabel){return'            <md-input-container flex ng-if="floatingLabel">              <label>{{floatingLabel}}</label>              <input type="search"                  id="{{ inputId || \'fl-input-\' + $mdAutocompleteCtrl.id }}"                  name="{{inputName}}"                  autocomplete="off"                  ng-required="$mdAutocompleteCtrl.isRequired"                  ng-minlength="inputMinlength"                  ng-maxlength="inputMaxlength"                  ng-disabled="$mdAutocompleteCtrl.isDisabled"                  ng-model="$mdAutocompleteCtrl.scope.searchText"                  ng-keydown="$mdAutocompleteCtrl.keydown($event)"                  ng-blur="$mdAutocompleteCtrl.blur()"                  ng-focus="$mdAutocompleteCtrl.focus()"                  aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                  aria-label="{{floatingLabel}}"                  aria-autocomplete="list"                  aria-haspopup="true"                  aria-activedescendant=""                  aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>              <div md-autocomplete-parent-scope md-autocomplete-replace>'+leftover+"</div>            </md-input-container>"}else{return'            <input flex type="search"                id="{{ inputId || \'input-\' + $mdAutocompleteCtrl.id }}"                name="{{inputName}}"                ng-if="!floatingLabel"                autocomplete="off"                ng-required="$mdAutocompleteCtrl.isRequired"                ng-disabled="$mdAutocompleteCtrl.isDisabled"                ng-model="$mdAutocompleteCtrl.scope.searchText"                ng-keydown="$mdAutocompleteCtrl.keydown($event)"                ng-blur="$mdAutocompleteCtrl.blur()"                ng-focus="$mdAutocompleteCtrl.focus()"                placeholder="{{placeholder}}"                aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                aria-label="{{placeholder}}"                aria-autocomplete="list"                aria-haspopup="true"                aria-activedescendant=""                aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>            <button                type="button"                tabindex="-1"                ng-if="$mdAutocompleteCtrl.scope.searchText && !$mdAutocompleteCtrl.isDisabled"                ng-click="$mdAutocompleteCtrl.clear()">              <md-icon md-svg-icon="md-close"></md-icon>              <span class="md-visually-hidden">Clear</span>            </button>                '}}}}}})();(function(){"use strict";angular.module("material.components.autocomplete").controller("MdHighlightCtrl",MdHighlightCtrl);function MdHighlightCtrl($scope,$element,$interpolate){var ctrl=this;ctrl.term=null;ctrl.template=null;ctrl.watchers=[];ctrl.init=init;function init(term,template){createWatchers(term,template);$element.on("$destroy",cleanup)}function createWatchers(term,template){ctrl.watchers.push($scope.$watch(term,function(term){ctrl.term=term;updateHTML(term,ctrl.template)}));ctrl.watchers.push($scope.$watch(compileTemplate,function(template){ctrl.template=template;updateHTML(ctrl.term,template)}));function compileTemplate(){return $interpolate(template)($scope)}}function cleanup(){ctrl.watchers.forEach(function(watcher){watcher()})}function updateHTML(){if(ctrl.term===null||ctrl.template===null)return;var unsafeText=$interpolate(ctrl.template)($scope),text=angular.element("<div>").text(unsafeText).html(),flags=$element.attr("md-highlight-flags")||"",regex=getRegExp(ctrl.term,flags),html=text.replace(regex,'<span class="highlight">$&</span>');$element.html(html)}function sanitize(term){if(!term)return term;return term.replace(/[\\\^\$\*\+\?\.\(\)\|\{}\[\]]/g,"\\$&")}function getRegExp(text,flags){var str="";if(flags.indexOf("^")>=1)str+="^";str+=text;if(flags.indexOf("$")>=1)str+="$";return new RegExp(sanitize(str),flags.replace(/[\$\^]/g,""))}}MdHighlightCtrl.$inject=["$scope","$element","$interpolate"]})();(function(){"use strict";angular.module("material.components.autocomplete").directive("mdHighlightText",MdHighlight);function MdHighlight(){return{terminal:true,scope:false,controller:"MdHighlightCtrl",compile:function(element,attr){var template=element.html();return function(scope,element,attr,ctrl){ctrl.init(attr.mdHighlightText,template)}}}}})();(function(){"use strict";angular.module("material.components.autocomplete").directive("mdAutocompleteListItem",MdAutocompleteListItem);function MdAutocompleteListItem($compile,$mdUtil){return{terminal:true,link:postLink,scope:false};function postLink(scope,element,attr){var ctrl=scope.$parent.$mdAutocompleteCtrl,newScope=ctrl.parent.$new(false,ctrl.parent),itemName=ctrl.scope.$eval(attr.mdAutocompleteListItem);newScope[itemName]=scope.item;$compile(element.contents())(newScope);element.attr({role:"option",id:"item_"+$mdUtil.nextUid()})}}MdAutocompleteListItem.$inject=["$compile","$mdUtil"]})();(function(){"use strict";angular.module("material.components.autocomplete").directive("mdAutocompleteParentScope",MdAutocompleteParentScope);function MdAutocompleteParentScope($compile){return{restrict:"A",terminal:true,link:postLink,scope:false};function postLink(scope,element,attr){var ctrl=scope.$parent.$mdAutocompleteCtrl;$compile(element.contents())(ctrl.parent);if(attr.hasOwnProperty("mdAutocompleteReplace")){element.after(element.contents());element.remove()}}}MdAutocompleteParentScope.$inject=["$compile"]})();(function(){"use strict";angular.module("material.components.chips").directive("mdChip",MdChip);var DELETE_HINT_TEMPLATE='    <span ng-if="!$mdChipsCtrl.readonly" class="md-visually-hidden">      {{$mdChipsCtrl.deleteHint}}    </span>';function MdChip($mdTheming){return{restrict:"E",require:"^?mdChips",compile:compile};function compile(element,attr){element.append(DELETE_HINT_TEMPLATE);return function postLink(scope,element,attr,ctrl){element.addClass("md-chip");$mdTheming(element);if(ctrl)angular.element(element[0].querySelector(".md-chip-content")).on("blur",function(){ctrl.selectedChip=-1})}}}MdChip.$inject=["$mdTheming"]})();(function(){"use strict";angular.module("material.components.chips").directive("mdChipRemove",MdChipRemove);function MdChipRemove($timeout){return{restrict:"A",require:"^mdChips",scope:false,link:postLink};function postLink(scope,element,attr,ctrl){element.on("click",function(event){scope.$apply(function(){ctrl.removeChip(scope.$$replacedScope.$index)})});$timeout(function(){element.attr({tabindex:-1,ariaHidden:true});element.find("button").attr("tabindex","-1")})}}MdChipRemove.$inject=["$timeout"]})();(function(){"use strict";angular.module("material.components.chips").directive("mdChipTransclude",MdChipTransclude);function MdChipTransclude($compile,$mdUtil){return{restrict:"EA",terminal:true,link:link,scope:false};function link(scope,element,attr){var ctrl=scope.$parent.$mdChipsCtrl,newScope=ctrl.parent.$new(false,ctrl.parent);newScope.$$replacedScope=scope;newScope.$chip=scope.$chip;newScope.$mdChipsCtrl=ctrl;element.html(ctrl.$scope.$eval(attr.mdChipTransclude));$compile(element.contents())(newScope)}}MdChipTransclude.$inject=["$compile","$mdUtil"]})();(function(){"use strict";angular.module("material.components.chips").controller("MdChipsCtrl",MdChipsCtrl);function MdChipsCtrl($scope,$mdConstant,$log,$element,$timeout){this.$timeout=$timeout;this.$mdConstant=$mdConstant;this.$scope=$scope;this.parent=$scope.$parent;this.$log=$log;this.$element=$element;this.ngModelCtrl=null;this.userInputNgModelCtrl=null;this.userInputElement=null;this.items=[];this.selectedChip=-1;this.deleteHint="Press delete to remove this chip.";this.deleteButtonLabel="Remove";this.chipBuffer="";this.useMdOnAppend=false}MdChipsCtrl.$inject=["$scope","$mdConstant","$log","$element","$timeout"];MdChipsCtrl.prototype.inputKeydown=function(event){var chipBuffer=this.getChipBuffer();switch(event.keyCode){case this.$mdConstant.KEY_CODE.ENTER:if(this.$scope.requireMatch||!chipBuffer)break;event.preventDefault();this.appendChip(chipBuffer);this.resetChipBuffer();break;case this.$mdConstant.KEY_CODE.BACKSPACE:if(chipBuffer)break;event.stopPropagation();if(this.items.length)this.selectAndFocusChipSafe(this.items.length-1);break}};MdChipsCtrl.prototype.chipKeydown=function(event){if(this.getChipBuffer())return;switch(event.keyCode){case this.$mdConstant.KEY_CODE.BACKSPACE:case this.$mdConstant.KEY_CODE.DELETE:if(this.selectedChip<0)return;event.preventDefault();this.removeAndSelectAdjacentChip(this.selectedChip);break;case this.$mdConstant.KEY_CODE.LEFT_ARROW:event.preventDefault();if(this.selectedChip<0)this.selectedChip=this.items.length;if(this.items.length)this.selectAndFocusChipSafe(this.selectedChip-1);break;case this.$mdConstant.KEY_CODE.RIGHT_ARROW:event.preventDefault();this.selectAndFocusChipSafe(this.selectedChip+1);break;case this.$mdConstant.KEY_CODE.ESCAPE:case this.$mdConstant.KEY_CODE.TAB:if(this.selectedChip<0)return;event.preventDefault();this.onFocus();break}};MdChipsCtrl.prototype.getPlaceholder=function(){var useSecondary=this.items.length&&(this.secondaryPlaceholder==""||this.secondaryPlaceholder);return useSecondary?this.placeholder:this.secondaryPlaceholder};MdChipsCtrl.prototype.removeAndSelectAdjacentChip=function(index){var selIndex=this.getAdjacentChipIndex(index);this.removeChip(index);this.$timeout(angular.bind(this,function(){this.selectAndFocusChipSafe(selIndex)}))};MdChipsCtrl.prototype.resetSelectedChip=function(){this.selectedChip=-1};MdChipsCtrl.prototype.getAdjacentChipIndex=function(index){var len=this.items.length-1;return len==0?-1:index==len?index-1:index};MdChipsCtrl.prototype.appendChip=function(newChip){if(this.items.indexOf(newChip)+1)return;if(this.useMdOnAppend&&this.mdOnAppend){newChip=this.mdOnAppend({$chip:newChip})}this.items.push(newChip)};MdChipsCtrl.prototype.useMdOnAppendExpression=function(){this.useMdOnAppend=true};MdChipsCtrl.prototype.getChipBuffer=function(){return!this.userInputElement?this.chipBuffer:this.userInputNgModelCtrl?this.userInputNgModelCtrl.$viewValue:this.userInputElement[0].value};MdChipsCtrl.prototype.resetChipBuffer=function(){if(this.userInputElement){if(this.userInputNgModelCtrl){this.userInputNgModelCtrl.$setViewValue("");this.userInputNgModelCtrl.$render()}else{this.userInputElement[0].value=""}}else{this.chipBuffer=""}};MdChipsCtrl.prototype.removeChip=function(index){this.items.splice(index,1)};MdChipsCtrl.prototype.removeChipAndFocusInput=function(index){this.removeChip(index);this.onFocus()};MdChipsCtrl.prototype.selectAndFocusChipSafe=function(index){if(!this.items.length){this.selectChip(-1);this.onFocus();return}if(index===this.items.length)return this.onFocus();index=Math.max(index,0);index=Math.min(index,this.items.length-1);this.selectChip(index);this.focusChip(index)};MdChipsCtrl.prototype.selectChip=function(index){if(index>=-1&&index<=this.items.length){this.selectedChip=index}else{this.$log.warn("Selected Chip index out of bounds; ignoring.")}};MdChipsCtrl.prototype.selectAndFocusChip=function(index){this.selectChip(index);if(index!=-1){this.focusChip(index)}};MdChipsCtrl.prototype.focusChip=function(index){this.$element[0].querySelector('md-chip[index="'+index+'"] .md-chip-content').focus()};MdChipsCtrl.prototype.configureNgModel=function(ngModelCtrl){this.ngModelCtrl=ngModelCtrl;var self=this;ngModelCtrl.$render=function(){self.items=self.ngModelCtrl.$viewValue}};MdChipsCtrl.prototype.onFocus=function(){var input=this.$element[0].querySelector("input");input&&input.focus();this.resetSelectedChip()};MdChipsCtrl.prototype.onInputFocus=function(){this.inputHasFocus=true;this.resetSelectedChip()};MdChipsCtrl.prototype.onInputBlur=function(){this.inputHasFocus=false};MdChipsCtrl.prototype.configureUserInput=function(inputElement){this.userInputElement=inputElement;var ngModelCtrl=inputElement.controller("ngModel");if(ngModelCtrl!=this.ngModelCtrl){this.userInputNgModelCtrl=ngModelCtrl}var scope=this.$scope;var ctrl=this;inputElement.attr({tabindex:0}).on("keydown",function(event){scope.$apply(angular.bind(ctrl,function(){ctrl.inputKeydown(event)}))}).on("focus",angular.bind(ctrl,ctrl.onInputFocus)).on("blur",angular.bind(ctrl,ctrl.onInputBlur))};MdChipsCtrl.prototype.configureAutocomplete=function(ctrl){ctrl.registerSelectedItemWatcher(angular.bind(this,function(item){if(item){this.appendChip(item);this.resetChipBuffer()}}));this.$element.find("input").on("focus",angular.bind(this,this.onInputFocus)).on("blur",angular.bind(this,this.onInputBlur))};MdChipsCtrl.prototype.hasFocus=function(){return this.inputHasFocus||this.selectedChip>=0}})();(function(){"use strict";angular.module("material.components.chips").directive("mdChips",MdChips);var MD_CHIPS_TEMPLATE='      <md-chips-wrap          ng-if="!$mdChipsCtrl.readonly || $mdChipsCtrl.items.length > 0"          ng-keydown="$mdChipsCtrl.chipKeydown($event)"          ng-class="{ \'md-focused\': $mdChipsCtrl.hasFocus() }"          class="md-chips">        <md-chip ng-repeat="$chip in $mdChipsCtrl.items"            index="{{$index}}"            ng-class="{\'md-focused\': $mdChipsCtrl.selectedChip == $index}">          <div class="md-chip-content"              tabindex="-1"              aria-hidden="true"              ng-focus="!$mdChipsCtrl.readonly && $mdChipsCtrl.selectChip($index)"              md-chip-transclude="$mdChipsCtrl.chipContentsTemplate"></div>          <div class="md-chip-remove-container"              md-chip-transclude="$mdChipsCtrl.chipRemoveTemplate"></div>        </md-chip>        <div ng-if="!$mdChipsCtrl.readonly && $mdChipsCtrl.ngModelCtrl"            class="md-chip-input-container"            md-chip-transclude="$mdChipsCtrl.chipInputTemplate"></div>        </div>      </md-chips-wrap>';var CHIP_INPUT_TEMPLATE='        <input            tabindex="0"            placeholder="{{$mdChipsCtrl.getPlaceholder()}}"            aria-label="{{$mdChipsCtrl.getPlaceholder()}}"            ng-model="$mdChipsCtrl.chipBuffer"            ng-focus="$mdChipsCtrl.onInputFocus()"            ng-blur="$mdChipsCtrl.onInputBlur()"            ng-keydown="$mdChipsCtrl.inputKeydown($event)">';var CHIP_DEFAULT_TEMPLATE="      <span>{{$chip}}</span>";var CHIP_REMOVE_TEMPLATE='      <button          class="md-chip-remove"          ng-if="!$mdChipsCtrl.readonly"          ng-click="$mdChipsCtrl.removeChipAndFocusInput($$replacedScope.$index)"          type="button"          aria-hidden="true"          tabindex="-1">        <md-icon md-svg-icon="md-close"></md-icon>        <span class="md-visually-hidden">          {{$mdChipsCtrl.deleteButtonLabel}}        </span>      </button>';function MdChips($mdTheming,$mdUtil,$compile,$log,$timeout){return{template:function(element,attrs){var content=attrs["$mdUserTemplate"]=element.clone();return MD_CHIPS_TEMPLATE},require:["mdChips"],restrict:"E",controller:"MdChipsCtrl",controllerAs:"$mdChipsCtrl",bindToController:true,compile:compile,scope:{readonly:"=readonly",placeholder:"@",secondaryPlaceholder:"@",mdOnAppend:"&",deleteHint:"@",deleteButtonLabel:"@",requireMatch:"=?mdRequireMatch"}};function compile(element,attr){var userTemplate=attr["$mdUserTemplate"];attr["$mdUserTemplate"]=null;var chipRemoveTemplate=getTemplateByQuery("md-chips>*[md-chip-remove]")||CHIP_REMOVE_TEMPLATE,chipContentsTemplate=getTemplateByQuery("md-chips>md-chip-template")||CHIP_DEFAULT_TEMPLATE,chipInputTemplate=getTemplateByQuery("md-chips>md-autocomplete")||getTemplateByQuery("md-chips>input")||CHIP_INPUT_TEMPLATE,staticChips=userTemplate.find("md-chip");if(userTemplate[0].querySelector("md-chip-template>*[md-chip-remove]")){$log.warn("invalid placement of md-chip-remove within md-chip-template.")}function getTemplateByQuery(query){if(!attr.ngModel)return;var element=userTemplate[0].querySelector(query);return element&&element.outerHTML}return function postLink(scope,element,attrs,controllers){$mdUtil.initOptionalProperties(scope,attr);$mdTheming(element);var mdChipsCtrl=controllers[0];mdChipsCtrl.chipContentsTemplate=chipContentsTemplate;mdChipsCtrl.chipRemoveTemplate=chipRemoveTemplate;mdChipsCtrl.chipInputTemplate=chipInputTemplate;element.attr({ariaHidden:true,tabindex:-1}).on("focus",function(){mdChipsCtrl.onFocus()});if(attr.ngModel){mdChipsCtrl.configureNgModel(element.controller("ngModel"));if(attrs.mdOnAppend)mdChipsCtrl.useMdOnAppendExpression();if(chipInputTemplate!=CHIP_INPUT_TEMPLATE){$timeout(function(){if(chipInputTemplate.indexOf("<md-autocomplete")===0)mdChipsCtrl.configureAutocomplete(element.find("md-autocomplete").controller("mdAutocomplete"));mdChipsCtrl.configureUserInput(element.find("input"))})}}if(staticChips.length>0){var compiledStaticChips=$compile(staticChips)(scope.$parent);$timeout(function(){element.find("md-chips-wrap").prepend(compiledStaticChips)})}}}}MdChips.$inject=["$mdTheming","$mdUtil","$compile","$log","$timeout"]})();(function(){"use strict";angular.module("material.components.chips").controller("MdContactChipsCtrl",MdContactChipsCtrl);function MdContactChipsCtrl(){this.selectedItem=null;this.searchText=""}MdContactChipsCtrl.prototype.queryContact=function(searchText){var results=this.contactQuery({$query:searchText});return this.filterSelected?results.filter(angular.bind(this,this.filterSelectedContacts)):results};MdContactChipsCtrl.prototype.filterSelectedContacts=function(contact){return this.contacts.indexOf(contact)==-1}})();(function(){"use strict";angular.module("material.components.chips").directive("mdContactChips",MdContactChips);var MD_CONTACT_CHIPS_TEMPLATE='      <md-chips class="md-contact-chips"          ng-model="$mdContactChipsCtrl.contacts"          md-require-match="$mdContactChipsCtrl.requireMatch"          md-autocomplete-snap>          <md-autocomplete              md-menu-class="md-contact-chips-suggestions"              md-selected-item="$mdContactChipsCtrl.selectedItem"              md-search-text="$mdContactChipsCtrl.searchText"              md-items="item in $mdContactChipsCtrl.queryContact($mdContactChipsCtrl.searchText)"              md-item-text="$mdContactChipsCtrl.mdContactName"              md-no-cache="true"              md-autoselect              placeholder="{{$mdContactChipsCtrl.contacts.length == 0 ?                  $mdContactChipsCtrl.placeholder : $mdContactChipsCtrl.secondaryPlaceholder}}">            <div class="md-contact-suggestion">              <img                   ng-src="{{item[$mdContactChipsCtrl.contactImage]}}"                  alt="{{item[$mdContactChipsCtrl.contactName]}}" />              <span class="md-contact-name" md-highlight-text="$mdContactChipsCtrl.searchText">                {{item[$mdContactChipsCtrl.contactName]}}              </span>              <span class="md-contact-email" >{{item[$mdContactChipsCtrl.contactEmail]}}</span>            </div>          </md-autocomplete>          <md-chip-template>            <div class="md-contact-avatar">              <img                   ng-src="{{$chip[$mdContactChipsCtrl.contactImage]}}"                  alt="{{$chip[$mdContactChipsCtrl.contactName]}}" />            </div>            <div class="md-contact-name">              {{$chip[$mdContactChipsCtrl.contactName]}}            </div>          </md-chip-template>      </md-chips>';function MdContactChips($mdTheming,$mdUtil){return{template:function(element,attrs){return MD_CONTACT_CHIPS_TEMPLATE},restrict:"E",controller:"MdContactChipsCtrl",controllerAs:"$mdContactChipsCtrl",bindToController:true,compile:compile,scope:{contactQuery:"&mdContacts",placeholder:"@",secondaryPlaceholder:"@",contactName:"@mdContactName",contactImage:"@mdContactImage",contactEmail:"@mdContactEmail",contacts:"=ngModel",requireMatch:"=?mdRequireMatch"}};function compile(element,attr){return function postLink(scope,element,attrs,controllers){$mdUtil.initOptionalProperties(scope,attr);$mdTheming(element);element.attr("tabindex","-1")}}}MdContactChips.$inject=["$mdTheming","$mdUtil"]})();(function(){"use strict";angular.module("material.components.tabs").directive("mdTab",MdTab);function MdTab(){return{require:"^?mdTabs",terminal:true,compile:function(element,attr){var label=element.find("md-tab-label"),body=element.find("md-tab-body");if(label.length==0){label=angular.element("<md-tab-label></md-tab-label>");if(attr.label)label.text(attr.label);else label.append(element.contents())}if(body.length==0){var contents=element.contents().detach();body=angular.element("<md-tab-body></md-tab-body>");body.append(contents)}element.append(label);if(body.html())element.append(body);return postLink},scope:{active:"=?mdActive",disabled:"=?ngDisabled",select:"&?mdOnSelect",deselect:"&?mdOnDeselect"}};function postLink(scope,element,attr,ctrl){if(!ctrl)return;var tabs=element.parent()[0].getElementsByTagName("md-tab"),index=Array.prototype.indexOf.call(tabs,element[0]),body=element.find("md-tab-body").eq(0).remove(),label=element.find("md-tab-label").eq(0).remove(),data=ctrl.insertTab({scope:scope,parent:scope.$parent,index:index,element:element,template:body.html(),label:label.html()},index);scope.select=scope.select||angular.noop;scope.deselect=scope.deselect||angular.noop;scope.$watch("active",function(active){if(active)ctrl.select(data.getIndex())});scope.$watch("disabled",function(){ctrl.refreshIndex()});scope.$watch(function(){return Array.prototype.indexOf.call(tabs,element[0])},function(newIndex){data.index=newIndex;ctrl.updateTabOrder()});scope.$on("$destroy",function(){ctrl.removeTab(data)})}}})();(function(){"use strict";angular.module("material.components.tabs").directive("mdTabItem",MdTabItem);function MdTabItem(){return{require:"^?mdTabs",link:function link(scope,element,attr,ctrl){if(!ctrl)return;ctrl.attachRipple(scope,element)}}}})();(function(){"use strict";angular.module("material.components.tabs").directive("mdTabLabel",MdTabLabel);function MdTabLabel(){return{terminal:true}}})();(function(){"use strict";angular.module("material.components.tabs").directive("mdTabScroll",MdTabScroll);function MdTabScroll($parse){return{restrict:"A",compile:function($element,attr){var fn=$parse(attr.mdTabScroll,null,true);return function ngEventHandler(scope,element){element.on("mousewheel",function(event){scope.$apply(function(){fn(scope,{$event:event})})})}}}}MdTabScroll.$inject=["$parse"]})();(function(){"use strict";angular.module("material.components.tabs").controller("MdTabsController",MdTabsController);function MdTabsController($scope,$element,$window,$mdConstant,$mdTabInkRipple,$mdUtil,$animate,$attrs,$compile,$mdTheming){var ctrl=this,locked=false,elements=getElements(),queue=[],destroyed=false,loaded=false;defineOneWayBinding("stretchTabs",handleStretchTabs);defineProperty("focusIndex",handleFocusIndexChange,ctrl.selectedIndex||0);defineProperty("offsetLeft",handleOffsetChange,0);defineProperty("hasContent",handleHasContent,false);defineProperty("maxTabWidth",handleMaxTabWidth,getMaxTabWidth());defineProperty("shouldPaginate",handleShouldPaginate,false);defineBooleanAttribute("noInkBar",handleInkBar);defineBooleanAttribute("dynamicHeight",handleDynamicHeight);defineBooleanAttribute("noPagination");defineBooleanAttribute("swipeContent");defineBooleanAttribute("noDisconnect");defineBooleanAttribute("autoselect");defineBooleanAttribute("centerTabs",handleCenterTabs);defineBooleanAttribute("enableDisconnect");ctrl.scope=$scope;ctrl.parent=$scope.$parent;ctrl.tabs=[];ctrl.lastSelectedIndex=null;ctrl.hasFocus=false;ctrl.lastClick=true;ctrl.shouldCenterTabs=shouldCenterTabs();ctrl.updatePagination=$mdUtil.debounce(updatePagination,100);ctrl.redirectFocus=redirectFocus;ctrl.attachRipple=attachRipple;ctrl.insertTab=insertTab;ctrl.removeTab=removeTab;ctrl.select=select;ctrl.scroll=scroll;ctrl.nextPage=nextPage;ctrl.previousPage=previousPage;ctrl.keydown=keydown;ctrl.canPageForward=canPageForward;ctrl.canPageBack=canPageBack;ctrl.refreshIndex=refreshIndex;ctrl.incrementIndex=incrementIndex;ctrl.updateInkBarStyles=$mdUtil.debounce(updateInkBarStyles,100);ctrl.updateTabOrder=$mdUtil.debounce(updateTabOrder,100);init();function init(){ctrl.selectedIndex=ctrl.selectedIndex||0;compileTemplate();configureWatchers();bindEvents();$mdTheming($element);$mdUtil.nextTick(function(){updateHeightFromContent();adjustOffset();updateInkBarStyles();ctrl.tabs[ctrl.selectedIndex]&&ctrl.tabs[ctrl.selectedIndex].scope.select();loaded=true;updatePagination()})}function compileTemplate(){var template=$attrs.$mdTabsTemplate,element=angular.element(elements.data);element.html(template);$compile(element.contents())(ctrl.parent);delete $attrs.$mdTabsTemplate}function bindEvents(){angular.element($window).on("resize",handleWindowResize);$scope.$on("$destroy",cleanup)}function configureWatchers(){$scope.$watch("$mdTabsCtrl.selectedIndex",handleSelectedIndexChange)}function defineOneWayBinding(key,handler){var attr=$attrs.$normalize("md-"+key);if(handler)defineProperty(key,handler);$attrs.$observe(attr,function(newValue){ctrl[key]=newValue})}function defineBooleanAttribute(key,handler){var attr=$attrs.$normalize("md-"+key);if(handler)defineProperty(key,handler);if($attrs.hasOwnProperty(attr))updateValue($attrs[attr]);$attrs.$observe(attr,updateValue);function updateValue(newValue){ctrl[key]=newValue!=="false"}}function cleanup(){destroyed=true;angular.element($window).off("resize",handleWindowResize)}function handleStretchTabs(stretchTabs){angular.element(elements.wrapper).toggleClass("md-stretch-tabs",shouldStretchTabs());updateInkBarStyles()}function handleCenterTabs(newValue){ctrl.shouldCenterTabs=shouldCenterTabs()}function handleMaxTabWidth(newWidth,oldWidth){if(newWidth!==oldWidth){$mdUtil.nextTick(ctrl.updateInkBarStyles)}}function handleShouldPaginate(newValue,oldValue){if(newValue!==oldValue){ctrl.maxTabWidth=getMaxTabWidth();ctrl.shouldCenterTabs=shouldCenterTabs();$mdUtil.nextTick(function(){ctrl.maxTabWidth=getMaxTabWidth();adjustOffset(ctrl.selectedIndex)})}}function handleHasContent(hasContent){$element[hasContent?"removeClass":"addClass"]("md-no-tab-content")}function handleOffsetChange(left){var newValue=ctrl.shouldCenterTabs?"":"-"+left+"px";angular.element(elements.paging).css($mdConstant.CSS.TRANSFORM,"translate3d("+newValue+", 0, 0)");$scope.$broadcast("$mdTabsPaginationChanged")}function handleFocusIndexChange(newIndex,oldIndex){if(newIndex===oldIndex)return;if(!elements.tabs[newIndex])return;adjustOffset();redirectFocus()}function handleSelectedIndexChange(newValue,oldValue){if(newValue===oldValue)return;ctrl.selectedIndex=getNearestSafeIndex(newValue);ctrl.lastSelectedIndex=oldValue;ctrl.updateInkBarStyles();updateHeightFromContent();adjustOffset(newValue);$scope.$broadcast("$mdTabsChanged");ctrl.tabs[oldValue]&&ctrl.tabs[oldValue].scope.deselect();ctrl.tabs[newValue]&&ctrl.tabs[newValue].scope.select()}function handleResizeWhenVisible(){if(handleResizeWhenVisible.watcher)return;handleResizeWhenVisible.watcher=$scope.$watch(function(){$mdUtil.nextTick(function(){if(!handleResizeWhenVisible.watcher)return;if($element.prop("offsetParent")){handleResizeWhenVisible.watcher();handleResizeWhenVisible.watcher=null;handleWindowResize()}},false)})}function keydown(event){switch(event.keyCode){case $mdConstant.KEY_CODE.LEFT_ARROW:event.preventDefault();incrementIndex(-1,true);break;case $mdConstant.KEY_CODE.RIGHT_ARROW:event.preventDefault();incrementIndex(1,true);break;case $mdConstant.KEY_CODE.SPACE:case $mdConstant.KEY_CODE.ENTER:event.preventDefault();if(!locked)ctrl.selectedIndex=ctrl.focusIndex;break}ctrl.lastClick=false}function select(index){if(!locked)ctrl.focusIndex=ctrl.selectedIndex=index;ctrl.lastClick=true;$mdUtil.nextTick(function(){ctrl.tabs[index].element.triggerHandler("click")},false)}function scroll(event){if(!ctrl.shouldPaginate)return;event.preventDefault();ctrl.offsetLeft=fixOffset(ctrl.offsetLeft-event.wheelDelta)}function nextPage(){var viewportWidth=elements.canvas.clientWidth,totalWidth=viewportWidth+ctrl.offsetLeft,i,tab;for(i=0;i<elements.tabs.length;i++){tab=elements.tabs[i];if(tab.offsetLeft+tab.offsetWidth>totalWidth)break}ctrl.offsetLeft=fixOffset(tab.offsetLeft)}function previousPage(){var i,tab;for(i=0;i<elements.tabs.length;i++){tab=elements.tabs[i];if(tab.offsetLeft+tab.offsetWidth>=ctrl.offsetLeft)break}ctrl.offsetLeft=fixOffset(tab.offsetLeft+tab.offsetWidth-elements.canvas.clientWidth)}function handleWindowResize(){$scope.$apply(function(){ctrl.lastSelectedIndex=ctrl.selectedIndex;ctrl.offsetLeft=fixOffset(ctrl.offsetLeft);$mdUtil.nextTick(ctrl.updateInkBarStyles,false);$mdUtil.nextTick(updatePagination)})}function handleInkBar(hide){angular.element(elements.inkBar).toggleClass("ng-hide",hide)}function handleDynamicHeight(value){$element.toggleClass("md-dynamic-height",value)}function removeTab(tabData){if(destroyed)return;var selectedIndex=ctrl.selectedIndex,tab=ctrl.tabs.splice(tabData.getIndex(),1)[0];refreshIndex();if(ctrl.selectedIndex===selectedIndex){tab.scope.deselect();ctrl.tabs[ctrl.selectedIndex]&&ctrl.tabs[ctrl.selectedIndex].scope.select()}$mdUtil.nextTick(function(){updatePagination();ctrl.offsetLeft=fixOffset(ctrl.offsetLeft)})}function insertTab(tabData,index){var hasLoaded=loaded;var proto={getIndex:function(){return ctrl.tabs.indexOf(tab)},isActive:function(){return this.getIndex()===ctrl.selectedIndex},isLeft:function(){return this.getIndex()<ctrl.selectedIndex},isRight:function(){return this.getIndex()>ctrl.selectedIndex},shouldRender:function(){return!ctrl.noDisconnect||this.isActive()},hasFocus:function(){return!ctrl.lastClick&&ctrl.hasFocus&&this.getIndex()===ctrl.focusIndex},id:$mdUtil.nextUid()},tab=angular.extend(proto,tabData);if(angular.isDefined(index)){ctrl.tabs.splice(index,0,tab)}else{ctrl.tabs.push(tab)}processQueue();updateHasContent();$mdUtil.nextTick(function(){updatePagination();if(hasLoaded&&ctrl.autoselect)$mdUtil.nextTick(function(){$mdUtil.nextTick(function(){select(ctrl.tabs.indexOf(tab))})})});return tab}function getElements(){var elements={};elements.wrapper=$element[0].getElementsByTagName("md-tabs-wrapper")[0];elements.data=$element[0].getElementsByTagName("md-tab-data")[0];elements.canvas=elements.wrapper.getElementsByTagName("md-tabs-canvas")[0];elements.paging=elements.canvas.getElementsByTagName("md-pagination-wrapper")[0];elements.tabs=elements.paging.getElementsByTagName("md-tab-item");elements.dummies=elements.canvas.getElementsByTagName("md-dummy-tab");elements.inkBar=elements.paging.getElementsByTagName("md-ink-bar")[0];elements.contentsWrapper=$element[0].getElementsByTagName("md-tabs-content-wrapper")[0];elements.contents=elements.contentsWrapper.getElementsByTagName("md-tab-content");return elements}function canPageBack(){return ctrl.offsetLeft>0}function canPageForward(){var lastTab=elements.tabs[elements.tabs.length-1];return lastTab&&lastTab.offsetLeft+lastTab.offsetWidth>elements.canvas.clientWidth+ctrl.offsetLeft}function shouldStretchTabs(){switch(ctrl.stretchTabs){case"always":return true;case"never":return false;default:return!ctrl.shouldPaginate&&$window.matchMedia("(max-width: 600px)").matches}}function shouldCenterTabs(){return ctrl.centerTabs&&!ctrl.shouldPaginate}function shouldPaginate(){if(ctrl.noPagination||!loaded)return false;var canvasWidth=Math.min($element.prop("clientWidth"),ctrl.maxTabWidth);angular.forEach(elements.dummies,function(tab){canvasWidth-=tab.offsetWidth});return canvasWidth<0}function getNearestSafeIndex(newIndex){if(newIndex===-1)return-1;var maxOffset=Math.max(ctrl.tabs.length-newIndex,newIndex),i,tab;for(i=0;i<=maxOffset;i++){tab=ctrl.tabs[newIndex+i];if(tab&&tab.scope.disabled!==true)return tab.getIndex();tab=ctrl.tabs[newIndex-i];if(tab&&tab.scope.disabled!==true)return tab.getIndex()}return newIndex}function defineProperty(key,handler,value){Object.defineProperty(ctrl,key,{get:function(){return value},set:function(newValue){var oldValue=value;value=newValue;handler&&handler(newValue,oldValue)}})}function updatePagination(){ctrl.shouldPaginate=shouldPaginate()}function getMaxTabWidth(){return $element.prop("clientWidth")}function updateTabOrder(){var selectedItem=ctrl.tabs[ctrl.selectedIndex],focusItem=ctrl.tabs[ctrl.focusIndex];ctrl.tabs=ctrl.tabs.sort(function(a,b){return a.index-b.index});ctrl.selectedIndex=ctrl.tabs.indexOf(selectedItem);ctrl.focusIndex=ctrl.tabs.indexOf(focusItem)}function incrementIndex(inc,focus){var newIndex,key=focus?"focusIndex":"selectedIndex",index=ctrl[key];for(newIndex=index+inc;ctrl.tabs[newIndex]&&ctrl.tabs[newIndex].scope.disabled;newIndex+=inc){}if(ctrl.tabs[newIndex]){ctrl[key]=newIndex}}function redirectFocus(){elements.dummies[ctrl.focusIndex].focus()}function adjustOffset(index){if(index==null)index=ctrl.focusIndex;if(!elements.tabs[index])return;if(ctrl.shouldCenterTabs)return;var tab=elements.tabs[index],left=tab.offsetLeft,right=tab.offsetWidth+left;ctrl.offsetLeft=Math.max(ctrl.offsetLeft,fixOffset(right-elements.canvas.clientWidth));ctrl.offsetLeft=Math.min(ctrl.offsetLeft,fixOffset(left))}function processQueue(){queue.forEach(function(func){$mdUtil.nextTick(func)});queue=[]}function updateHasContent(){var hasContent=false;angular.forEach(ctrl.tabs,function(tab){if(tab.template)hasContent=true});ctrl.hasContent=hasContent}function refreshIndex(){ctrl.selectedIndex=getNearestSafeIndex(ctrl.selectedIndex);ctrl.focusIndex=getNearestSafeIndex(ctrl.focusIndex)}function updateHeightFromContent(){if(!ctrl.dynamicHeight)return $element.css("height","");if(!ctrl.tabs.length)return queue.push(updateHeightFromContent);var tabContent=elements.contents[ctrl.selectedIndex],contentHeight=tabContent?tabContent.offsetHeight:0,tabsHeight=elements.wrapper.offsetHeight,newHeight=contentHeight+tabsHeight,currentHeight=$element.prop("clientHeight");if(currentHeight===newHeight)return;locked=true;$animate.animate($element,{height:currentHeight+"px"},{height:newHeight+"px"}).then(function(){$element.css("height","");locked=false})}function updateInkBarStyles(){if(!elements.tabs[ctrl.selectedIndex])return;if(!ctrl.tabs.length)return queue.push(ctrl.updateInkBarStyles);if(!$element.prop("offsetParent"))return handleResizeWhenVisible();var index=ctrl.selectedIndex,totalWidth=elements.paging.offsetWidth,tab=elements.tabs[index],left=tab.offsetLeft,right=totalWidth-left-tab.offsetWidth,tabWidth;if(ctrl.shouldCenterTabs){tabWidth=Array.prototype.slice.call(elements.tabs).reduce(function(value,element){return value+element.offsetWidth},0);if(totalWidth>tabWidth)$mdUtil.nextTick(updateInkBarStyles,false)}updateInkBarClassName();angular.element(elements.inkBar).css({left:left+"px",right:right+"px"})}function updateInkBarClassName(){var newIndex=ctrl.selectedIndex,oldIndex=ctrl.lastSelectedIndex,ink=angular.element(elements.inkBar);if(!angular.isNumber(oldIndex))return;ink.toggleClass("md-left",newIndex<oldIndex).toggleClass("md-right",newIndex>oldIndex)}function fixOffset(value){if(!elements.tabs.length||!ctrl.shouldPaginate)return 0;var lastTab=elements.tabs[elements.tabs.length-1],totalWidth=lastTab.offsetLeft+lastTab.offsetWidth;value=Math.max(0,value);value=Math.min(totalWidth-elements.canvas.clientWidth,value);return value}function attachRipple(scope,element){var options={colorElement:angular.element(elements.inkBar)};$mdTabInkRipple.attach(scope,element,options)}}MdTabsController.$inject=["$scope","$element","$window","$mdConstant","$mdTabInkRipple","$mdUtil","$animate","$attrs","$compile","$mdTheming"]})();(function(){"use strict";angular.module("material.components.tabs").directive("mdTabs",MdTabs);function MdTabs(){return{scope:{selectedIndex:"=?mdSelected"},template:function(element,attr){attr["$mdTabsTemplate"]=element.html();return'        <md-tabs-wrapper>          <md-tab-data></md-tab-data>          <md-prev-button              tabindex="-1"              role="button"              aria-label="Previous Page"              aria-disabled="{{!$mdTabsCtrl.canPageBack()}}"              ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageBack() }"              ng-if="$mdTabsCtrl.shouldPaginate"              ng-click="$mdTabsCtrl.previousPage()">            <md-icon md-svg-icon="md-tabs-arrow"></md-icon>          </md-prev-button>          <md-next-button              tabindex="-1"              role="button"              aria-label="Next Page"              aria-disabled="{{!$mdTabsCtrl.canPageForward()}}"              ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageForward() }"              ng-if="$mdTabsCtrl.shouldPaginate"              ng-click="$mdTabsCtrl.nextPage()">            <md-icon md-svg-icon="md-tabs-arrow"></md-icon>          </md-next-button>          <md-tabs-canvas              tabindex="0"              aria-activedescendant="tab-item-{{$mdTabsCtrl.tabs[$mdTabsCtrl.focusIndex].id}}"              ng-focus="$mdTabsCtrl.redirectFocus()"              ng-class="{                  \'md-paginated\': $mdTabsCtrl.shouldPaginate,                  \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs              }"              ng-keydown="$mdTabsCtrl.keydown($event)"              role="tablist">            <md-pagination-wrapper                ng-class="{ \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }"                md-tab-scroll="$mdTabsCtrl.scroll($event)">              <md-tab-item                  tabindex="-1"                  class="md-tab"                  style="max-width: {{ $mdTabsCtrl.maxTabWidth + \'px\' }}"                  ng-repeat="tab in $mdTabsCtrl.tabs"                  role="tab"                  aria-controls="tab-content-{{::tab.id}}"                  aria-selected="{{tab.isActive()}}"                  aria-disabled="{{tab.scope.disabled || \'false\'}}"                  ng-click="$mdTabsCtrl.select(tab.getIndex())"                  ng-class="{                      \'md-active\':    tab.isActive(),                      \'md-focused\':   tab.hasFocus(),                      \'md-disabled\':  tab.scope.disabled                  }"                  ng-disabled="tab.scope.disabled"                  md-swipe-left="$mdTabsCtrl.nextPage()"                  md-swipe-right="$mdTabsCtrl.previousPage()"                  md-template="::tab.label"                  md-scope="::tab.parent"></md-tab-item>              <md-ink-bar></md-ink-bar>            </md-pagination-wrapper>            <div class="md-visually-hidden md-dummy-wrapper">              <md-dummy-tab                  class="md-tab"                  tabindex="-1"                  id="tab-item-{{::tab.id}}"                  role="tab"                  aria-controls="tab-content-{{::tab.id}}"                  aria-selected="{{tab.isActive()}}"                  aria-disabled="{{tab.scope.disabled || \'false\'}}"                  ng-focus="$mdTabsCtrl.hasFocus = true"                  ng-blur="$mdTabsCtrl.hasFocus = false"                  ng-repeat="tab in $mdTabsCtrl.tabs"                  md-template="::tab.label"                  md-scope="::tab.parent"></md-dummy-tab>            </div>          </md-tabs-canvas>        </md-tabs-wrapper>        <md-tabs-content-wrapper ng-show="$mdTabsCtrl.hasContent && $mdTabsCtrl.selectedIndex >= 0">          <md-tab-content              id="tab-content-{{::tab.id}}"              role="tabpanel"              aria-labelledby="tab-item-{{::tab.id}}"              md-swipe-left="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(1)"              md-swipe-right="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(-1)"              ng-if="$mdTabsCtrl.hasContent"              ng-repeat="(index, tab) in $mdTabsCtrl.tabs"              ng-class="{                \'md-no-transition\': $mdTabsCtrl.lastSelectedIndex == null,                \'md-active\':        tab.isActive(),                \'md-left\':          tab.isLeft(),                \'md-right\':         tab.isRight(),                \'md-no-scroll\':     $mdTabsCtrl.dynamicHeight              }">            <div                md-template="::tab.template"                md-connected-if="tab.isActive()"                md-scope="::tab.parent"                ng-if="$mdTabsCtrl.enableDisconnect || tab.shouldRender()"></div>          </md-tab-content>        </md-tabs-content-wrapper>      '},controller:"MdTabsController",controllerAs:"$mdTabsCtrl",bindToController:true}}})();(function(){"use strict";angular.module("material.components.tabs").directive("mdTemplate",MdTemplate);function MdTemplate($compile,$mdUtil){return{restrict:"A",link:link,scope:{template:"=mdTemplate",connected:"=?mdConnectedIf",compileScope:"=mdScope"},require:"^?mdTabs"};function link(scope,element,attr,ctrl){if(!ctrl)return;var compileScope=ctrl.enableDisconnect?scope.compileScope.$new():scope.compileScope;element.html(scope.template);$compile(element.contents())(compileScope);element.on("DOMSubtreeModified",function(){ctrl.updatePagination();ctrl.updateInkBarStyles()});return $mdUtil.nextTick(handleScope);function handleScope(){scope.$watch("connected",function(value){value===false?disconnect():reconnect()});scope.$on("$destroy",reconnect)}function disconnect(){if(ctrl.enableDisconnect)$mdUtil.disconnectScope(compileScope)}function reconnect(){if(ctrl.enableDisconnect)$mdUtil.reconnectScope(compileScope)}}}MdTemplate.$inject=["$compile","$mdUtil"]})();(function(){angular.module("material.core").constant("$MD_THEME_CSS","/* mixin definition ; sets LTR and RTL within the same style call */md-autocomplete.md-THEME_NAME-theme {  background: '{{background-50}}'; }  md-autocomplete.md-THEME_NAME-theme[disabled] {    background: '{{background-100}}'; }  md-autocomplete.md-THEME_NAME-theme button md-icon path {    fill: '{{background-600}}'; }  md-autocomplete.md-THEME_NAME-theme button:after {    background: '{{background-600-0.3}}'; }.md-autocomplete-suggestions.md-THEME_NAME-theme {  background: '{{background-50}}'; }  .md-autocomplete-suggestions.md-THEME_NAME-theme li {    color: '{{background-900}}'; }    .md-autocomplete-suggestions.md-THEME_NAME-theme li .highlight {      color: '{{background-600}}'; }    .md-autocomplete-suggestions.md-THEME_NAME-theme li:hover, .md-autocomplete-suggestions.md-THEME_NAME-theme li.selected {      background: '{{background-200}}'; }md-bottom-sheet.md-THEME_NAME-theme {  background-color: '{{background-50}}';  border-top-color: '{{background-300}}'; }  md-bottom-sheet.md-THEME_NAME-theme.md-list md-list-item {    color: '{{foreground-1}}'; }  md-bottom-sheet.md-THEME_NAME-theme .md-subheader {    background-color: '{{background-50}}'; }  md-bottom-sheet.md-THEME_NAME-theme .md-subheader {    color: '{{foreground-1}}'; }md-backdrop {  background-color: '{{background-900-0.0}}'; }  md-backdrop.md-opaque.md-THEME_NAME-theme {    background-color: '{{background-900-0.48}}'; }  md-backdrop.md-opaque.md-THEME_NAME-theme.ng-enter {    background-color: '{{background-900-0.0}}'; }    md-backdrop.md-opaque.md-THEME_NAME-theme.ng-enter.md-opaque.md-THEME_NAME-theme.ng-enter-active {      background-color: '{{background-900-0.48}}'; }  md-backdrop.md-opaque.md-THEME_NAME-theme.ng-leave.md-opaque.md-THEME_NAME-theme.ng-leave-active {    background-color: '{{background-900-0.0}}'; }md-card.md-THEME_NAME-theme {  background-color: '{{background-color}}';  border-radius: 2px; }  md-card.md-THEME_NAME-theme .md-card-image {    border-radius: 2px 2px 0 0; }md-checkbox.md-THEME_NAME-theme .md-ripple {  color: '{{accent-600}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-ripple {  color: '{{background-600}}'; }md-checkbox.md-THEME_NAME-theme.md-checked.md-focused .md-container:before {  background-color: '{{accent-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-icon {  background-color: '{{accent-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ripple {  color: '{{primary-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ripple {  color: '{{background-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon {  background-color: '{{primary-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked.md-focused .md-container:before {  background-color: '{{primary-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ripple {  color: '{{warn-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon {  background-color: '{{warn-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked.md-focused:not([disabled]) .md-container:before {  background-color: '{{warn-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme[disabled] .md-icon {  border-color: '{{foreground-3}}'; }md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon {  background-color: '{{foreground-3}}'; }md-checkbox.md-THEME_NAME-theme[disabled] .md-label {  color: '{{foreground-3}}'; }md-content.md-THEME_NAME-theme {  color: '{{foreground-1}}';  background-color: '{{background-color}}'; }a.md-button.md-THEME_NAME-theme, .md-button.md-THEME_NAME-theme {  border-radius: 3px; }  a.md-button.md-THEME_NAME-theme:not([disabled]):hover, .md-button.md-THEME_NAME-theme:not([disabled]):hover {    background-color: '{{background-500-0.2}}'; }  a.md-button.md-THEME_NAME-theme:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme:not([disabled]).md-focused {    background-color: '{{background-500-0.2}}'; }  a.md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover, .md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover {    background-color: transparent; }  a.md-button.md-THEME_NAME-theme.md-fab, .md-button.md-THEME_NAME-theme.md-fab {    border-radius: 50%;    background-color: '{{accent-color}}';    color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-fab md-icon, .md-button.md-THEME_NAME-theme.md-fab md-icon {      color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover {      background-color: '{{accent-color}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused {      background-color: '{{accent-A700}}'; }  a.md-button.md-THEME_NAME-theme.md-icon-button, .md-button.md-THEME_NAME-theme.md-icon-button {    border-radius: 50%; }  a.md-button.md-THEME_NAME-theme.md-primary, .md-button.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }    a.md-button.md-THEME_NAME-theme.md-primary.md-raised, a.md-button.md-THEME_NAME-theme.md-primary.md-fab, .md-button.md-THEME_NAME-theme.md-primary.md-raised, .md-button.md-THEME_NAME-theme.md-primary.md-fab {      color: '{{primary-contrast}}';      background-color: '{{primary-color}}'; }      a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon {        color: '{{primary-contrast}}'; }      a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover {        background-color: '{{primary-color}}'; }      a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused {        background-color: '{{primary-600}}'; }    a.md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon {      color: '{{primary-color}}'; }  a.md-button.md-THEME_NAME-theme.md-fab, .md-button.md-THEME_NAME-theme.md-fab {    border-radius: 50%;    background-color: '{{accent-color}}';    color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon {      color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover {      background-color: '{{accent-color}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused {      background-color: '{{accent-A700}}'; }  a.md-button.md-THEME_NAME-theme.md-raised, .md-button.md-THEME_NAME-theme.md-raised {    color: '{{background-contrast}}';    background-color: '{{background-50}}'; }    a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]) .md-icon, .md-button.md-THEME_NAME-theme.md-raised:not([disabled]) .md-icon {      color: '{{background-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover {      background-color: '{{background-50}}'; }    a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused {      background-color: '{{background-200}}'; }  a.md-button.md-THEME_NAME-theme.md-warn, .md-button.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }    a.md-button.md-THEME_NAME-theme.md-warn.md-raised, a.md-button.md-THEME_NAME-theme.md-warn.md-fab, .md-button.md-THEME_NAME-theme.md-warn.md-raised, .md-button.md-THEME_NAME-theme.md-warn.md-fab {      color: '{{warn-contrast}}';      background-color: '{{warn-color}}'; }      a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon {        color: '{{warn-contrast}}'; }      a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover {        background-color: '{{warn-color}}'; }      a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused {        background-color: '{{warn-700}}'; }    a.md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon {      color: '{{warn-color}}'; }  a.md-button.md-THEME_NAME-theme.md-accent, .md-button.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }    a.md-button.md-THEME_NAME-theme.md-accent.md-raised, a.md-button.md-THEME_NAME-theme.md-accent.md-fab, .md-button.md-THEME_NAME-theme.md-accent.md-raised, .md-button.md-THEME_NAME-theme.md-accent.md-fab {      color: '{{accent-contrast}}';      background-color: '{{accent-color}}'; }      a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon {        color: '{{accent-contrast}}'; }      a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover {        background-color: '{{accent-color}}'; }      a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused {        background-color: '{{accent-700}}'; }    a.md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon {      color: '{{accent-color}}'; }  a.md-button.md-THEME_NAME-theme[disabled], a.md-button.md-THEME_NAME-theme.md-raised[disabled], a.md-button.md-THEME_NAME-theme.md-fab[disabled], a.md-button.md-THEME_NAME-theme.md-accent[disabled], a.md-button.md-THEME_NAME-theme.md-warn[disabled], .md-button.md-THEME_NAME-theme[disabled], .md-button.md-THEME_NAME-theme.md-raised[disabled], .md-button.md-THEME_NAME-theme.md-fab[disabled], .md-button.md-THEME_NAME-theme.md-accent[disabled], .md-button.md-THEME_NAME-theme.md-warn[disabled] {    color: '{{foreground-3}}';    cursor: not-allowed; }    a.md-button.md-THEME_NAME-theme[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon, .md-button.md-THEME_NAME-theme[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon {      color: '{{foreground-3}}'; }  a.md-button.md-THEME_NAME-theme.md-raised[disabled], a.md-button.md-THEME_NAME-theme.md-fab[disabled], .md-button.md-THEME_NAME-theme.md-raised[disabled], .md-button.md-THEME_NAME-theme.md-fab[disabled] {    background-color: '{{foreground-4}}'; }  a.md-button.md-THEME_NAME-theme[disabled], .md-button.md-THEME_NAME-theme[disabled] {    background-color: transparent; }md-divider.md-THEME_NAME-theme {  border-top-color: '{{foreground-4}}'; }md-chips.md-THEME_NAME-theme .md-chips {  box-shadow: 0 1px '{{background-300}}'; }  md-chips.md-THEME_NAME-theme .md-chips.md-focused {    box-shadow: 0 2px '{{primary-color}}'; }md-chips.md-THEME_NAME-theme .md-chip {  background: '{{background-300}}';  color: '{{background-800}}'; }  md-chips.md-THEME_NAME-theme .md-chip.md-focused {    background: '{{primary-color}}';    color: '{{primary-contrast}}'; }    md-chips.md-THEME_NAME-theme .md-chip.md-focused md-icon {      color: '{{primary-contrast}}'; }md-chips.md-THEME_NAME-theme md-chip-remove .md-button md-icon path {  fill: '{{background-500}}'; }.md-contact-suggestion span.md-contact-email {  color: '{{background-400}}'; }md-dialog.md-THEME_NAME-theme {  border-radius: 4px;  background-color: '{{background-color}}'; }  md-dialog.md-THEME_NAME-theme.md-content-overflow .md-actions {    border-top-color: '{{foreground-4}}'; }md-icon.md-THEME_NAME-theme {  color: '{{foreground-2}}'; }  md-icon.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }  md-icon.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }  md-icon.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }md-input-container.md-THEME_NAME-theme .md-input {  color: '{{foreground-1}}';  border-color: '{{foreground-4}}';  text-shadow: '{{foreground-shadow}}'; }  md-input-container.md-THEME_NAME-theme .md-input::-webkit-input-placeholder, md-input-container.md-THEME_NAME-theme .md-input::-moz-placeholder, md-input-container.md-THEME_NAME-theme .md-input:-moz-placeholder, md-input-container.md-THEME_NAME-theme .md-input:-ms-input-placeholder {    color: '{{foreground-3}}'; }md-input-container.md-THEME_NAME-theme > md-icon {  color: '{{foreground-1}}'; }md-input-container.md-THEME_NAME-theme label, md-input-container.md-THEME_NAME-theme .md-placeholder {  text-shadow: '{{foreground-shadow}}';  color: '{{foreground-3}}'; }md-input-container.md-THEME_NAME-theme ng-messages, md-input-container.md-THEME_NAME-theme [ng-message], md-input-container.md-THEME_NAME-theme [data-ng-message], md-input-container.md-THEME_NAME-theme [x-ng-message] {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-has-value label {  color: '{{foreground-2}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused .md-input {  border-color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused label {  color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused md-icon {  color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent .md-input {  border-color: '{{accent-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent label {  color: '{{accent-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn .md-input {  border-color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn label {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input {  border-color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid.md-input-focused label {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid data-ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid x-ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid [ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid [data-ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid [x-ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid .md-char-counter {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme .md-input[disabled], [disabled] md-input-container.md-THEME_NAME-theme .md-input {  border-bottom-color: transparent;  color: '{{foreground-3}}';  background-image: linear-gradient(to right, '{{foreground-3}}' 0%, '{{foreground-3}}' 33%, transparent 0%);  background-image: -ms-linear-gradient(left, transparent 0%, '{{foreground-3}}' 100%); }md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h3, md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h4, md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h3, md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h4 {  color: '{{foreground-1}}'; }md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text p, md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text p {  color: '{{foreground-2}}'; }md-list.md-THEME_NAME-theme .md-proxy-focus.md-focused div.md-no-style {  background-color: '{{background-100}}'; }md-list.md-THEME_NAME-theme md-list-item > md-icon {  color: '{{foreground-2}}'; }  md-list.md-THEME_NAME-theme md-list-item > md-icon.md-highlight {    color: '{{primary-color}}'; }    md-list.md-THEME_NAME-theme md-list-item > md-icon.md-highlight.md-accent {      color: '{{accent-color}}'; }md-list.md-THEME_NAME-theme md-list-item button {  background-color: '{{background-color}}'; }  md-list.md-THEME_NAME-theme md-list-item button.md-button:not([disabled]):hover {    background-color: '{{background-color}}'; }md-menu-content.md-THEME_NAME-theme {  background-color: '{{background-color}}'; }  md-menu-content.md-THEME_NAME-theme md-menu-divider {    background-color: '{{foreground-4}}'; }md-progress-circular.md-THEME_NAME-theme {  background-color: transparent; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-gap {    border-top-color: '{{primary-color}}';    border-bottom-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme .md-inner .md-right .md-half-circle {    border-top-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-right .md-half-circle {    border-right-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-left .md-half-circle {    border-left-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-gap {    border-top-color: '{{warn-color}}';    border-bottom-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-right .md-half-circle {    border-top-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-right .md-half-circle {    border-right-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-left .md-half-circle {    border-left-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-gap {    border-top-color: '{{accent-color}}';    border-bottom-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-right .md-half-circle {    border-top-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-right .md-half-circle {    border-right-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-left .md-half-circle {    border-left-color: '{{accent-color}}'; }md-progress-linear.md-THEME_NAME-theme .md-container {  background-color: '{{primary-100}}'; }md-progress-linear.md-THEME_NAME-theme .md-bar {  background-color: '{{primary-color}}'; }md-progress-linear.md-THEME_NAME-theme.md-warn .md-container {  background-color: '{{warn-100}}'; }md-progress-linear.md-THEME_NAME-theme.md-warn .md-bar {  background-color: '{{warn-color}}'; }md-progress-linear.md-THEME_NAME-theme.md-accent .md-container {  background-color: '{{accent-100}}'; }md-progress-linear.md-THEME_NAME-theme.md-accent .md-bar {  background-color: '{{accent-color}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-bar1 {  background-color: '{{warn-100}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-dashed:before {  background: radial-gradient('{{warn-100}}' 0%, '{{warn-100}}' 16%, transparent 42%); }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-bar1 {  background-color: '{{accent-100}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-dashed:before {  background: radial-gradient('{{accent-100}}' 0%, '{{accent-100}}' 16%, transparent 42%); }md-radio-button.md-THEME_NAME-theme .md-off {  border-color: '{{foreground-2}}'; }md-radio-button.md-THEME_NAME-theme .md-on {  background-color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme.md-checked .md-off {  border-color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme.md-checked .md-ink-ripple {  color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme .md-container .md-ripple {  color: '{{accent-600}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-on, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-on {  background-color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off {  border-color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple {  color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple {  color: '{{primary-600}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-on, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-on {  background-color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off {  border-color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple {  color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple {  color: '{{warn-600}}'; }md-radio-group.md-THEME_NAME-theme[disabled], md-radio-button.md-THEME_NAME-theme[disabled] {  color: '{{foreground-3}}'; }  md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-off, md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-off {    border-color: '{{foreground-3}}'; }  md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-on, md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-on {    border-color: '{{foreground-3}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked .md-container:before {  background-color: '{{accent-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked:not([disabled]).md-primary .md-container:before {  background-color: '{{primary-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-primary .md-container:before {  background-color: '{{warn-color-0.26}}'; }md-select.md-THEME_NAME-theme .md-select-value {  border-bottom-color: '{{foreground-4}}'; }  md-select.md-THEME_NAME-theme .md-select-value.md-select-placeholder {    color: '{{foreground-3}}'; }md-select.md-THEME_NAME-theme.ng-invalid.ng-dirty .md-select-label {  color: '{{warn-500}}' !important;  border-bottom-color: '{{warn-500}}' !important; }md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value {  border-bottom-color: '{{primary-color}}';  color: '{{ foreground-1 }}'; }  md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value.md-select-placeholder {    color: '{{ foreground-1 }}'; }md-select.md-THEME_NAME-theme:not([disabled]):focus.md-accent .md-select-value {  border-bottom-color: '{{accent-color}}'; }md-select.md-THEME_NAME-theme:not([disabled]):focus.md-warn .md-select-value {  border-bottom-color: '{{warn-color}}'; }md-select.md-THEME_NAME-theme[disabled] .md-select-value {  color: '{{foreground-3}}'; }  md-select.md-THEME_NAME-theme[disabled] .md-select-value.md-select-placeholder {    color: '{{foreground-3}}'; }md-select-menu.md-THEME_NAME-theme md-option[disabled] {  color: '{{foreground-3}}'; }md-select-menu.md-THEME_NAME-theme md-optgroup {  color: '{{foreground-2}}'; }  md-select-menu.md-THEME_NAME-theme md-optgroup md-option {    color: '{{foreground-1}}'; }md-select-menu.md-THEME_NAME-theme md-option[selected] {  color: '{{primary-500}}'; }  md-select-menu.md-THEME_NAME-theme md-option[selected]:focus {    color: '{{primary-600}}'; }  md-select-menu.md-THEME_NAME-theme md-option[selected].md-accent {    color: '{{accent-500}}'; }    md-select-menu.md-THEME_NAME-theme md-option[selected].md-accent:focus {      color: '{{accent-600}}'; }md-select-menu.md-THEME_NAME-theme md-option:focus:not([selected]) {  background: '{{background-200}}'; }md-sidenav.md-THEME_NAME-theme {  background-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme .md-track {  background-color: '{{foreground-3}}'; }md-slider.md-THEME_NAME-theme .md-track-ticks {  background-color: '{{foreground-4}}'; }md-slider.md-THEME_NAME-theme .md-focus-thumb {  background-color: '{{foreground-2}}'; }md-slider.md-THEME_NAME-theme .md-focus-ring {  border-color: '{{foreground-4}}'; }md-slider.md-THEME_NAME-theme .md-disabled-thumb {  border-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme.md-min .md-thumb:after {  background-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme .md-track.md-track-fill {  background-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-thumb:after {  border-color: '{{accent-color}}';  background-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-sign {  background-color: '{{accent-color}}'; }  md-slider.md-THEME_NAME-theme .md-sign:after {    border-top-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-thumb-text {  color: '{{accent-contrast}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-track.md-track-fill {  background-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-thumb:after {  border-color: '{{warn-color}}';  background-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-sign {  background-color: '{{warn-color}}'; }  md-slider.md-THEME_NAME-theme.md-warn .md-sign:after {    border-top-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-thumb-text {  color: '{{warn-contrast}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-track.md-track-fill {  background-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-thumb:after {  border-color: '{{primary-color}}';  background-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-sign {  background-color: '{{primary-color}}'; }  md-slider.md-THEME_NAME-theme.md-primary .md-sign:after {    border-top-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-thumb-text {  color: '{{primary-contrast}}'; }md-slider.md-THEME_NAME-theme[disabled] .md-thumb:after {  border-color: '{{foreground-3}}'; }md-slider.md-THEME_NAME-theme[disabled]:not(.md-min) .md-thumb:after {  background-color: '{{foreground-3}}'; }.md-subheader.md-THEME_NAME-theme {  color: '{{ foreground-2-0.23 }}';  background-color: '{{background-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme .md-thumb {  background-color: '{{background-50}}'; }md-switch.md-THEME_NAME-theme .md-bar {  background-color: '{{background-500}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-thumb {  background-color: '{{accent-color}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-bar {  background-color: '{{accent-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-focused .md-thumb:before {  background-color: '{{accent-color-0.26}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-thumb {  background-color: '{{primary-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-bar {  background-color: '{{primary-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary.md-focused .md-thumb:before {  background-color: '{{primary-color-0.26}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-thumb {  background-color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-bar {  background-color: '{{warn-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn.md-focused .md-thumb:before {  background-color: '{{warn-color-0.26}}'; }md-switch.md-THEME_NAME-theme[disabled] .md-thumb {  background-color: '{{background-400}}'; }md-switch.md-THEME_NAME-theme[disabled] .md-bar {  background-color: '{{foreground-4}}'; }md-tabs.md-THEME_NAME-theme md-tabs-wrapper {  background-color: transparent;  border-color: '{{foreground-4}}'; }md-tabs.md-THEME_NAME-theme .md-paginator md-icon {  color: '{{primary-color}}'; }md-tabs.md-THEME_NAME-theme md-ink-bar {  color: '{{accent-color}}';  background: '{{accent-color}}'; }md-tabs.md-THEME_NAME-theme .md-tab {  color: '{{foreground-2}}'; }  md-tabs.md-THEME_NAME-theme .md-tab[disabled] {    color: '{{foreground-3}}'; }  md-tabs.md-THEME_NAME-theme .md-tab.md-active, md-tabs.md-THEME_NAME-theme .md-tab.md-focused {    color: '{{primary-color}}'; }  md-tabs.md-THEME_NAME-theme .md-tab.md-focused {    background: '{{primary-color-0.1}}'; }  md-tabs.md-THEME_NAME-theme .md-tab .md-ripple-container {    color: '{{accent-100}}'; }md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper {  background-color: '{{accent-color}}'; }  md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{accent-100}}'; }    md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      color: '{{accent-contrast}}'; }    md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{accent-contrast-0.1}}'; }  md-tabs.md-THEME_NAME-theme.md-accent > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-ink-bar {    color: '{{primary-600-1}}';    background: '{{primary-600-1}}'; }md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper {  background-color: '{{primary-color}}'; }  md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{primary-100}}'; }    md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      color: '{{primary-contrast}}'; }    md-tabs.md-THEME_NAME-theme.md-primary > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{primary-contrast-0.1}}'; }md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper {  background-color: '{{warn-color}}'; }  md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{warn-100}}'; }    md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      color: '{{warn-contrast}}'; }    md-tabs.md-THEME_NAME-theme.md-warn > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{warn-contrast-0.1}}'; }md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper {  background-color: '{{primary-color}}'; }  md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{primary-100}}'; }    md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      color: '{{primary-contrast}}'; }    md-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{primary-contrast-0.1}}'; }md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper {  background-color: '{{accent-color}}'; }  md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{accent-100}}'; }    md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      color: '{{accent-contrast}}'; }    md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{accent-contrast-0.1}}'; }  md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-ink-bar {    color: '{{primary-600-1}}';    background: '{{primary-600-1}}'; }md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper {  background-color: '{{warn-color}}'; }  md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {    color: '{{warn-100}}'; }    md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      color: '{{warn-contrast}}'; }    md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused {      background: '{{warn-contrast-0.1}}'; }md-toast.md-THEME_NAME-theme {  background-color: #323232;  color: '{{background-50}}'; }  md-toast.md-THEME_NAME-theme .md-button {    color: '{{background-50}}'; }    md-toast.md-THEME_NAME-theme .md-button.md-highlight {      color: '{{primary-A200}}'; }      md-toast.md-THEME_NAME-theme .md-button.md-highlight.md-accent {        color: '{{accent-A200}}'; }      md-toast.md-THEME_NAME-theme .md-button.md-highlight.md-warn {        color: '{{warn-A200}}'; }md-toolbar.md-THEME_NAME-theme {  background-color: '{{primary-color}}';  color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme md-icon {    color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme .md-button {    color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme.md-accent {    background-color: '{{accent-color}}';    color: '{{accent-contrast}}'; }  md-toolbar.md-THEME_NAME-theme.md-warn {    background-color: '{{warn-color}}';    color: '{{warn-contrast}}'; }md-tooltip.md-THEME_NAME-theme {  color: '{{background-A100}}'; }  md-tooltip.md-THEME_NAME-theme .md-background {    background-color: '{{foreground-2}}'; }")})()})(window,window.angular);(function(window,angular){"use strict";function shallowCopy(src,dst){if(isArray(src)){dst=dst||[];for(var i=0,ii=src.length;i<ii;i++){dst[i]=src[i]}}else if(isObject(src)){dst=dst||{};for(var key in src){if(!(key.charAt(0)==="$"&&key.charAt(1)==="$")){dst[key]=src[key]}}}return dst||src}function routeToRegExp(path,opts){var keys=[];var pattern=path.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,function(_,slash,key,option){var optional=option==="?"||option==="*?";var star=option==="*"||option==="*?";keys.push({name:key,optional:optional});slash=slash||"";return(optional?"(?:"+slash:slash+"(?:")+(star?"(.+?)":"([^/]+)")+(optional?"?)?":")")}).replace(/([/$*])/g,"\\$1");if(opts.ignoreTrailingSlashes){pattern=pattern.replace(/\/+$/,"")+"/*"}return{keys:keys,regexp:new RegExp("^"+pattern+"(?:[?#]|$)",opts.caseInsensitiveMatch?"i":"")}}var isArray;var isObject;var isDefined;var noop;var ngRouteModule=angular.module("ngRoute",[]).info({angularVersion:"1.7.5"}).provider("$route",$RouteProvider).run(instantiateRoute);var $routeMinErr=angular.$$minErr("ngRoute");var isEagerInstantiationEnabled;function $RouteProvider(){isArray=angular.isArray;isObject=angular.isObject;isDefined=angular.isDefined;noop=angular.noop;function inherit(parent,extra){return angular.extend(Object.create(parent),extra)}var routes={};this.when=function(path,route){var routeCopy=shallowCopy(route);if(angular.isUndefined(routeCopy.reloadOnUrl)){routeCopy.reloadOnUrl=true}if(angular.isUndefined(routeCopy.reloadOnSearch)){routeCopy.reloadOnSearch=true}if(angular.isUndefined(routeCopy.caseInsensitiveMatch)){routeCopy.caseInsensitiveMatch=this.caseInsensitiveMatch}routes[path]=angular.extend(routeCopy,{originalPath:path},path&&routeToRegExp(path,routeCopy));if(path){var redirectPath=path[path.length-1]==="/"?path.substr(0,path.length-1):path+"/";routes[redirectPath]=angular.extend({originalPath:path,redirectTo:path},routeToRegExp(redirectPath,routeCopy))}return this};this.caseInsensitiveMatch=false;this.otherwise=function(params){if(typeof params==="string"){params={redirectTo:params}}this.when(null,params);return this};isEagerInstantiationEnabled=true;this.eagerInstantiationEnabled=function eagerInstantiationEnabled(enabled){if(isDefined(enabled)){isEagerInstantiationEnabled=enabled;return this}return isEagerInstantiationEnabled};this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce","$browser",function($rootScope,$location,$routeParams,$q,$injector,$templateRequest,$sce,$browser){var forceReload=false,preparedRoute,preparedRouteIsUpdateOnly,$route={routes:routes,reload:function(){forceReload=true;var fakeLocationEvent={defaultPrevented:false,preventDefault:function fakePreventDefault(){this.defaultPrevented=true;forceReload=false}};$rootScope.$evalAsync(function(){prepareRoute(fakeLocationEvent);if(!fakeLocationEvent.defaultPrevented)commitRoute()})},updateParams:function(newParams){if(this.current&&this.current.$$route){newParams=angular.extend({},this.current.params,newParams);$location.path(interpolate(this.current.$$route.originalPath,newParams));$location.search(newParams)}else{throw $routeMinErr("norout","Tried updating route with no current route")}}};$rootScope.$on("$locationChangeStart",prepareRoute);$rootScope.$on("$locationChangeSuccess",commitRoute);return $route;function switchRouteMatcher(on,route){var keys=route.keys,params={};if(!route.regexp)return null;var m=route.regexp.exec(on);if(!m)return null;for(var i=1,len=m.length;i<len;++i){var key=keys[i-1];var val=m[i];if(key&&val){params[key.name]=val}}return params}function prepareRoute($locationEvent){var lastRoute=$route.current;preparedRoute=parseRoute();preparedRouteIsUpdateOnly=isNavigationUpdateOnly(preparedRoute,lastRoute);if(!preparedRouteIsUpdateOnly&&(lastRoute||preparedRoute)){if($rootScope.$broadcast("$routeChangeStart",preparedRoute,lastRoute).defaultPrevented){if($locationEvent){$locationEvent.preventDefault()}}}}function commitRoute(){var lastRoute=$route.current;var nextRoute=preparedRoute;if(preparedRouteIsUpdateOnly){lastRoute.params=nextRoute.params;angular.copy(lastRoute.params,$routeParams);$rootScope.$broadcast("$routeUpdate",lastRoute)}else if(nextRoute||lastRoute){forceReload=false;$route.current=nextRoute;var nextRoutePromise=$q.resolve(nextRoute);$browser.$$incOutstandingRequestCount("$route");nextRoutePromise.then(getRedirectionData).then(handlePossibleRedirection).then(function(keepProcessingRoute){return keepProcessingRoute&&nextRoutePromise.then(resolveLocals).then(function(locals){if(nextRoute===$route.current){if(nextRoute){nextRoute.locals=locals;angular.copy(nextRoute.params,$routeParams)}$rootScope.$broadcast("$routeChangeSuccess",nextRoute,lastRoute)}})}).catch(function(error){if(nextRoute===$route.current){$rootScope.$broadcast("$routeChangeError",nextRoute,lastRoute,error)}}).finally(function(){$browser.$$completeOutstandingRequest(noop,"$route")})}}function getRedirectionData(route){var data={route:route,hasRedirection:false};if(route){if(route.redirectTo){if(angular.isString(route.redirectTo)){data.path=interpolate(route.redirectTo,route.params);data.search=route.params;data.hasRedirection=true}else{var oldPath=$location.path();var oldSearch=$location.search();var newUrl=route.redirectTo(route.pathParams,oldPath,oldSearch);if(angular.isDefined(newUrl)){data.url=newUrl;data.hasRedirection=true}}}else if(route.resolveRedirectTo){return $q.resolve($injector.invoke(route.resolveRedirectTo)).then(function(newUrl){if(angular.isDefined(newUrl)){data.url=newUrl;data.hasRedirection=true}return data})}}return data}function handlePossibleRedirection(data){var keepProcessingRoute=true;if(data.route!==$route.current){keepProcessingRoute=false}else if(data.hasRedirection){var oldUrl=$location.url();var newUrl=data.url;if(newUrl){$location.url(newUrl).replace()}else{newUrl=$location.path(data.path).search(data.search).replace().url()}if(newUrl!==oldUrl){keepProcessingRoute=false}}return keepProcessingRoute}function resolveLocals(route){if(route){var locals=angular.extend({},route.resolve);angular.forEach(locals,function(value,key){locals[key]=angular.isString(value)?$injector.get(value):$injector.invoke(value,null,null,key)});var template=getTemplateFor(route);if(angular.isDefined(template)){locals["$template"]=template}return $q.all(locals)}}function getTemplateFor(route){var template,templateUrl;if(angular.isDefined(template=route.template)){if(angular.isFunction(template)){template=template(route.params)}}else if(angular.isDefined(templateUrl=route.templateUrl)){if(angular.isFunction(templateUrl)){templateUrl=templateUrl(route.params)}if(angular.isDefined(templateUrl)){route.loadedTemplateUrl=$sce.valueOf(templateUrl);template=$templateRequest(templateUrl)}}return template}function parseRoute(){var params,match;angular.forEach(routes,function(route,path){if(!match&&(params=switchRouteMatcher($location.path(),route))){match=inherit(route,{params:angular.extend({},$location.search(),params),pathParams:params});match.$$route=route}});return match||routes[null]&&inherit(routes[null],{params:{},pathParams:{}})}function isNavigationUpdateOnly(newRoute,oldRoute){return!forceReload&&newRoute&&oldRoute&&newRoute.$$route===oldRoute.$$route&&(!newRoute.reloadOnUrl||!newRoute.reloadOnSearch&&angular.equals(newRoute.pathParams,oldRoute.pathParams))}function interpolate(string,params){var result=[];angular.forEach((string||"").split(":"),function(segment,i){if(i===0){result.push(segment)}else{var segmentMatch=segment.match(/(\w+)(?:[?*])?(.*)/);var key=segmentMatch[1];result.push(params[key]);result.push(segmentMatch[2]||"");delete params[key]}});return result.join("")}}]}instantiateRoute.$inject=["$injector"];function instantiateRoute($injector){if(isEagerInstantiationEnabled){$injector.get("$route")}}ngRouteModule.provider("$routeParams",$RouteParamsProvider);function $RouteParamsProvider(){this.$get=function(){return{}}}ngRouteModule.directive("ngView",ngViewFactory);ngRouteModule.directive("ngView",ngViewFillContentFactory);ngViewFactory.$inject=["$route","$anchorScroll","$animate"];function ngViewFactory($route,$anchorScroll,$animate){return{restrict:"ECA",terminal:true,priority:400,transclude:"element",link:function(scope,$element,attr,ctrl,$transclude){var currentScope,currentElement,previousLeaveAnimation,autoScrollExp=attr.autoscroll,onloadExp=attr.onload||"";scope.$on("$routeChangeSuccess",update);update();function cleanupLastView(){if(previousLeaveAnimation){$animate.cancel(previousLeaveAnimation);previousLeaveAnimation=null}if(currentScope){currentScope.$destroy();currentScope=null}if(currentElement){previousLeaveAnimation=$animate.leave(currentElement);previousLeaveAnimation.done(function(response){if(response!==false)previousLeaveAnimation=null});currentElement=null}}function update(){var locals=$route.current&&$route.current.locals,template=locals&&locals.$template;if(angular.isDefined(template)){var newScope=scope.$new();var current=$route.current;var clone=$transclude(newScope,function(clone){$animate.enter(clone,null,currentElement||$element).done(function onNgViewEnter(response){if(response!==false&&angular.isDefined(autoScrollExp)&&(!autoScrollExp||scope.$eval(autoScrollExp))){$anchorScroll()}});cleanupLastView()});currentElement=clone;currentScope=current.scope=newScope;currentScope.$emit("$viewContentLoaded");currentScope.$eval(onloadExp)}else{cleanupLastView()}}}}}ngViewFillContentFactory.$inject=["$compile","$controller","$route"];function ngViewFillContentFactory($compile,$controller,$route){return{restrict:"ECA",priority:-400,link:function(scope,$element){var current=$route.current,locals=current.locals;$element.html(locals.$template);var link=$compile($element.contents());if(current.controller){locals.$scope=scope;var controller=$controller(current.controller,locals);if(current.controllerAs){scope[current.controllerAs]=controller}$element.data("$ngControllerController",controller);$element.children().data("$ngControllerController",controller)}scope[current.resolveAs||"$resolve"]=locals;link(scope)}}}})(window,window.angular);(function(window,angular,undefined){"use strict";angular.module("ui.sortable",[]).value("uiSortableConfig",{}).directive("uiSortable",["uiSortableConfig","$timeout","$log",function(uiSortableConfig,$timeout,$log){return{require:"?ngModel",scope:{ngModel:"=",uiSortable:"="},link:function(scope,element,attrs,ngModel){var savedNodes;function combineCallbacks(first,second){if(second&&typeof second==="function"){return function(){first.apply(this,arguments);second.apply(this,arguments)}}return first}function getSortableWidgetInstance(element){var data=element.data("ui-sortable");if(data&&typeof data==="object"&&data.widgetFullName==="ui-sortable"){return data}return null}function hasSortingHelper(element,ui){var helperOption=element.sortable("option","helper");return helperOption==="clone"||typeof helperOption==="function"&&ui.item.sortable.isCustomHelperUsed()}function isFloating(item){return/left|right/.test(item.css("float"))||/inline|table-cell/.test(item.css("display"))}function getElementScope(elementScopes,element){var result=null;for(var i=0;i<elementScopes.length;i++){var x=elementScopes[i];if(x.element[0]===element[0]){result=x.scope;break}}return result}function afterStop(e,ui){ui.item.sortable._destroy()}var opts={};var directiveOpts={"ui-floating":undefined};var callbacks={receive:null,remove:null,start:null,stop:null,update:null};var wrappers={helper:null};angular.extend(opts,directiveOpts,uiSortableConfig,scope.uiSortable);if(!angular.element.fn||!angular.element.fn.jquery){$log.error("ui.sortable: jQuery should be included before AngularJS!");return}if(ngModel){scope.$watch("ngModel.length",function(){$timeout(function(){if(!!getSortableWidgetInstance(element)){element.sortable("refresh")}},0,false)});callbacks.start=function(e,ui){if(opts["ui-floating"]==="auto"){var siblings=ui.item.siblings();var sortableWidgetInstance=getSortableWidgetInstance(angular.element(e.target));sortableWidgetInstance.floating=isFloating(siblings)}ui.item.sortable={model:ngModel.$modelValue[ui.item.index()],index:ui.item.index(),source:ui.item.parent(),sourceModel:ngModel.$modelValue,cancel:function(){ui.item.sortable._isCanceled=true},isCanceled:function(){return ui.item.sortable._isCanceled},isCustomHelperUsed:function(){return!!ui.item.sortable._isCustomHelperUsed},_isCanceled:false,_isCustomHelperUsed:ui.item.sortable._isCustomHelperUsed,_destroy:function(){angular.forEach(ui.item.sortable,function(value,key){ui.item.sortable[key]=undefined})}}};callbacks.activate=function(e,ui){savedNodes=element.contents();var placeholder=element.sortable("option","placeholder");if(placeholder&&placeholder.element&&typeof placeholder.element==="function"){var phElement=placeholder.element();phElement=angular.element(phElement);var excludes=element.find('[class="'+phElement.attr("class")+'"]:not([ng-repeat], [data-ng-repeat])');savedNodes=savedNodes.not(excludes)}var connectedSortables=ui.item.sortable._connectedSortables||[];connectedSortables.push({element:element,scope:scope});ui.item.sortable._connectedSortables=connectedSortables};callbacks.update=function(e,ui){if(!ui.item.sortable.received){ui.item.sortable.dropindex=ui.item.index();var droptarget=ui.item.parent();ui.item.sortable.droptarget=droptarget;var droptargetScope=getElementScope(ui.item.sortable._connectedSortables,droptarget);ui.item.sortable.droptargetModel=droptargetScope.ngModel;element.sortable("cancel")}if(hasSortingHelper(element,ui)&&!ui.item.sortable.received&&element.sortable("option","appendTo")==="parent"){savedNodes=savedNodes.not(savedNodes.last())}savedNodes.appendTo(element);if(ui.item.sortable.received){savedNodes=null}if(ui.item.sortable.received&&!ui.item.sortable.isCanceled()){scope.$apply(function(){ngModel.$modelValue.splice(ui.item.sortable.dropindex,0,ui.item.sortable.moved)})}};callbacks.stop=function(e,ui){if(!ui.item.sortable.received&&"dropindex"in ui.item.sortable&&!ui.item.sortable.isCanceled()){scope.$apply(function(){ngModel.$modelValue.splice(ui.item.sortable.dropindex,0,ngModel.$modelValue.splice(ui.item.sortable.index,1)[0])})}else{if((!("dropindex"in ui.item.sortable)||ui.item.sortable.isCanceled())&&!hasSortingHelper(element,ui)){savedNodes.appendTo(element)}}savedNodes=null};callbacks.receive=function(e,ui){ui.item.sortable.received=true};callbacks.remove=function(e,ui){if(!("dropindex"in ui.item.sortable)){element.sortable("cancel");ui.item.sortable.cancel()}if(!ui.item.sortable.isCanceled()){scope.$apply(function(){ui.item.sortable.moved=ngModel.$modelValue.splice(ui.item.sortable.index,1)[0]})}};wrappers.helper=function(inner){if(inner&&typeof inner==="function"){return function(e,item){var innerResult=inner.apply(this,arguments);item.sortable._isCustomHelperUsed=item!==innerResult;return innerResult}}return inner};scope.$watch("uiSortable",function(newVal){var sortableWidgetInstance=getSortableWidgetInstance(element);if(!!sortableWidgetInstance){angular.forEach(newVal,function(value,key){if(key in directiveOpts){if(key==="ui-floating"&&(value===false||value===true)){sortableWidgetInstance.floating=value}opts[key]=value;return}if(callbacks[key]){if(key==="stop"){value=combineCallbacks(value,function(){scope.$apply()});value=combineCallbacks(value,afterStop)}value=combineCallbacks(callbacks[key],value)}else if(wrappers[key]){value=wrappers[key](value)}opts[key]=value;element.sortable("option",key,value)})}},true);angular.forEach(callbacks,function(value,key){opts[key]=combineCallbacks(value,opts[key]);if(key==="stop"){opts[key]=combineCallbacks(opts[key],afterStop)}})}else{$log.info("ui.sortable: ngModel not provided!",element)}element.sortable(opts)}}}])})(window,window.angular);(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.XMPP=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/index.js":[function(require,module,exports){"use strict";exports.VERSION="7.3.1";exports.JID=require("xmpp-jid").JID;exports.Client=require("./lib/client");exports.createClient=function(opts){var client=new exports.Client(opts);client.use(require("./lib/plugins"));return client}},{"./lib/client":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/client.js","./lib/plugins":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/index-browser.js","xmpp-jid":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/xmpp-jid/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/client.js":[function(require,module,exports){"use strict";var each=require("lodash.foreach");var extend=require("lodash.assign");var isArray=require("lodash.isarray");var jxt=require("jxt");var WildEmitter=require("wildemitter");var util=require("util");var BPromise=require("bluebird");var uuid=require("uuid");var JID=require("xmpp-jid").JID;var StreamManagement=require("./sm");var getHostMeta=require("hostmeta");var SASLFactory=require("saslmechanisms");var SASL_MECHS={external:require("sasl-external"),"scram-sha-1":require("sasl-scram-sha-1"),"digest-md5":require("alt-sasl-digest-md5"),plain:require("sasl-plain"),anonymous:require("sasl-anonymous")};function Client(opts){var self=this;WildEmitter.call(this);opts=opts||{};this._initConfig(opts);this.stanzas=jxt.getGlobalJXT();this.jid=new JID;this.stanzas=jxt.createRegistry();this.stanzas.use(require("jxt-xmpp-types"));this.stanzas.use(require("jxt-xmpp"));this.use(require("./plugins/features"));this.use(require("./plugins/sasl"));this.use(require("./plugins/smacks"));this.use(require("./plugins/bind"));this.use(require("./plugins/session"));this.sm=new StreamManagement(this);this.transports={};this.use(require("./plugins/websocket"));this.use(require("./plugins/oldwebsocket"));this.use(require("./plugins/bosh"));this.on("stream:data",function(data){var json=data.toJSON();if(data._name==="iq"){json._xmlChildCount=0;each(data.xml.childNodes,function(child){if(child.nodeType===1){json._xmlChildCount+=1}})}self.emit(data._eventname||data._name,json);if(data._name==="message"||data._name==="presence"||data._name==="iq"){self.sm.handle(json);self.emit("stanza",json)}else if(data._name==="smAck"){return self.sm.process(json)}else if(data._name==="smRequest"){return self.sm.ack()}if(json.id){self.emit("id:"+json.id,json);self.emit(data._name+":id:"+json.id,json)}});this.on("disconnected",function(){if(self.transport){self.transport.off("*");delete self.transport}self.releaseGroup("connection")});this.on("iq",function(iq){var iqType=iq.type;var xmlChildCount=iq._xmlChildCount;delete iq._xmlChildCount;var exts=Object.keys(iq);if(iq.type==="get"||iq.type==="set"){if(xmlChildCount!==1){return self.sendIq(iq.errorReply({error:{type:"modify",condition:"bad-request"}}))}if(!exts.length){return self.sendIq(iq.errorReply({error:{type:"cancel",condition:"feature-not-implemented"}}))}var iqEvent="iq:"+iqType+":"+exts[0];if(self.callbacks[iqEvent]){self.emit(iqEvent,iq)}else{self.sendIq(iq.errorReply({error:{type:"cancel",condition:"feature-not-implemented"}}))}}});this.on("message",function(msg){if(Object.keys(msg.$body||{}).length){if(msg.type==="chat"||msg.type==="normal"){self.emit("chat",msg)}else if(msg.type==="groupchat"){self.emit("groupchat",msg)}}if(msg.type==="error"){self.emit("message:error",msg)}});this.on("presence",function(pres){var presType=pres.type||"available";if(presType==="error"){presType="presence:error"}self.emit(presType,pres)})}util.inherits(Client,WildEmitter);Object.defineProperty(Client.prototype,"stream",{get:function(){return this.transport?this.transport.stream:undefined}});Client.prototype._initConfig=function(opts){var self=this;var currConfig=this.config||{};this.config=extend({useStreamManagement:true,transports:["websocket","bosh"],sasl:["external","scram-sha-1","digest-md5","plain","anonymous"]},currConfig,opts);if(!isArray(this.config.sasl)){this.config.sasl=[this.config.sasl]}this.SASLFactory=new SASLFactory;this.config.sasl.forEach(function(mech){if(typeof mech==="string"){var existingMech=SASL_MECHS[mech.toLowerCase()];if(existingMech){self.SASLFactory.use(existingMech)}}else{self.SASLFactory.use(mech)}});this.config.jid=new JID(this.config.jid);if(!this.config.server){this.config.server=this.config.jid.domain}if(this.config.password){this.config.credentials=this.config.credentials||{};this.config.credentials.password=this.config.password;delete this.config.password}if(this.config.transport){this.config.transports=[this.config.transport]}if(!isArray(this.config.transports)){this.config.transports=[this.config.transports]}};Client.prototype.use=function(pluginInit){pluginInit(this,this.stanzas,this.config)};Client.prototype.nextId=function(){return uuid.v4()};Client.prototype.discoverBindings=function(server,cb){getHostMeta(server,function(err,data){if(err){return cb(err,[])}var results={websocket:[],bosh:[]};var links=data.links||[];links.forEach(function(link){if(link.href&&link.rel==="urn:xmpp:alt-connections:websocket"){results.websocket.push(link.href)}if(link.href&&link.rel==="urn:xmpp:altconnect:websocket"){results.websocket.push(link.href)}if(link.href&&link.rel==="urn:xmpp:alt-connections:xbosh"){results.bosh.push(link.href)}if(link.href&&link.rel==="urn:xmpp:altconnect:bosh"){results.bosh.push(link.href)}});cb(false,results)})};Client.prototype._getConfiguredCredentials=function(){var creds=this.config.credentials||{};var requestedJID=new JID(this.config.jid);var username=creds.username||requestedJID.local;var server=creds.server||requestedJID.domain;var defaultCreds={username:username,password:this.config.password,server:server,host:server,realm:server,serviceType:"xmpp",serviceName:server};var result=extend(defaultCreds,creds);return result};Client.prototype.getCredentials=function(cb){return cb(null,this._getConfiguredCredentials())};Client.prototype.connect=function(opts,transInfo){var self=this;this._initConfig(opts);if(transInfo&&transInfo.name&&transInfo.url){var trans=self.transport=new self.transports[transInfo.name](self.sm,self.stanzas);trans.on("*",function(event,data){self.emit(event,data)});return trans.connect(self.config)}if(!transInfo&&self.config.transports.length===1){transInfo={};transInfo.name=self.config.transports[0];if(transInfo.name==="websocket"||transInfo.name==="old-websocket"){transInfo.url=self.config.wsURL}if(transInfo.name==="bosh"){transInfo.url=self.config.boshURL}if(transInfo.name&&transInfo.url){return self.connect(null,transInfo)}}return self.discoverBindings(self.config.server,function(err,endpoints){if(err){console.error("Could not find https://"+self.config.server+"/.well-known/host-meta file to discover connection endpoints for the requested transports.");return self.disconnect()}for(var t=0,tlen=self.config.transports.length;t<tlen;t++){var transport=self.config.transports[t];console.log("Checking for %s endpoints",transport);for(var i=0,len=(endpoints[transport]||[]).length;i<len;i++){var uri=endpoints[transport][i];if(uri.indexOf("wss://")===0||uri.indexOf("https://")===0){if(transport==="websocket"){self.config.wsURL=uri}else{self.config.boshURL=uri}console.log("Using %s endpoint: %s",transport,uri);return self.connect(null,{name:transport,url:uri})}else{console.warn("Discovered unencrypted %s endpoint (%s). Ignoring",transport,uri)}}}console.error("No endpoints found for the requested transports.");return self.disconnect()})};Client.prototype.disconnect=function(){if(this.sessionStarted){this.releaseGroup("session");if(!this.sm.started){this.emit("session:end")}}this.sessionStarted=false;this.releaseGroup("connection");if(this.transport){this.transport.disconnect()}else{this.emit("disconnected")}};Client.prototype.send=function(data){this.sm.track(data);if(this.transport){this.transport.send(data)}};Client.prototype.sendMessage=function(data){data=data||{};if(!data.id){data.id=this.nextId()}var Message=this.stanzas.getMessage();var msg=new Message(data);this.emit("message:sent",msg.toJSON());this.send(msg);return data.id};Client.prototype.sendPresence=function(data){data=data||{};if(!data.id){data.id=this.nextId()}var Presence=this.stanzas.getPresence();this.send(new Presence(data));return data.id};Client.prototype.sendIq=function(data,cb){var result,respEvent,allowed,dest;var self=this;data=data||{};if(!data.id){data.id=this.nextId()}var Iq=this.stanzas.getIq();var iq=!data.toJSON?new Iq(data):data;if(data.type==="error"||data.type==="result"){this.send(iq);return}dest=new JID(data.to);allowed={};allowed[""]=true;allowed[dest.full]=true;allowed[dest.bare]=true;allowed[dest.domain]=true;allowed[self.jid.bare]=true;allowed[self.jid.domain]=true;respEvent="iq:id:"+data.id;result=new BPromise(function(resolve,reject){var handler=function(res){if(!allowed[res.from.full]){return}if(res.type!=="result"&&res.type!=="error"){return}self.off(respEvent,handler);if(!res.error){resolve(res)}else{reject(res)}};self.on(respEvent,"session",handler)});this.send(iq);return result.timeout(self.config.timeout*1e3||15e3).catch(BPromise.TimeoutError,function(){throw{id:data.id,type:"error",error:{condition:"timeout"}}}).nodeify(cb)};Client.prototype.sendStreamError=function(data){data=data||{};var StreamError=this.stanzas.getStreamError();var error=new StreamError(data);this.emit("stream:error",error.toJSON());this.send(error);this.disconnect()};module.exports=Client},{"./plugins/bind":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/bind.js","./plugins/bosh":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/bosh.js","./plugins/features":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/features.js","./plugins/oldwebsocket":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/oldwebsocket.js","./plugins/sasl":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/sasl.js","./plugins/session":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/session.js","./plugins/smacks":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/smacks.js","./plugins/websocket":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/websocket.js","./sm":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/sm.js","alt-sasl-digest-md5":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/index.js",bluebird:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/bluebird/js/browser/bluebird.js",hostmeta:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/hostmeta/index.js",jxt:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt/index.js","jxt-xmpp":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/index.js","jxt-xmpp-types":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp-types/lib/index.js","lodash.assign":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.assign/index.js","lodash.foreach":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.foreach/index.js","lodash.isarray":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.isarray/index.js","sasl-anonymous":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-anonymous/main.js","sasl-external":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-external/main.js","sasl-plain":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-plain/main.js","sasl-scram-sha-1":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/index.js",saslmechanisms:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/saslmechanisms/main.js",util:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/util/util.js",uuid:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/uuid/uuid.js",wildemitter:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/wildemitter/wildemitter.js","xmpp-jid":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/xmpp-jid/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/attention.js":[function(require,module,exports){"use strict";module.exports=function(client){client.disco.addFeature("urn:xmpp:attention:0");client.getAttention=function(jid,opts){opts=opts||{};opts.to=jid;opts.type="headline";opts.attention=true;client.sendMessage(opts)};client.on("message",function(msg){if(msg.attention){client.emit("attention",msg)}})}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/avatar.js":[function(require,module,exports){"use strict";module.exports=function(client){client.disco.addFeature("urn:xmpp:avatar:metadata+notify");client.on("pubsub:event",function(msg){if(!msg.event.updated){return}if(msg.event.updated.node!=="urn:xmpp:avatar:metadata"){return}client.emit("avatar",{jid:msg.from,source:"pubsub",avatars:msg.event.updated.published[0].avatars})});client.on("presence",function(pres){if(pres.avatarId){client.emit("avatar",{jid:pres.from,source:"vcard",avatars:[{id:pres.avatarId}]})}});client.publishAvatar=function(id,data,cb){return this.publish("","urn:xmpp:avatar:data",{id:id,avatarData:data},cb)};client.useAvatars=function(info,cb){return this.publish("","urn:xmpp:avatar:metadata",{id:"current",avatars:info},cb)};client.getAvatar=function(jid,id,cb){return this.getItem(jid,"urn:xmpp:avatar:data",id,cb)}}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/bind.js":[function(require,module,exports){"use strict";var JID=require("xmpp-jid").JID;module.exports=function(client,stanzas,config){client.registerFeature("bind",300,function(features,cb){var self=this;self.sendIq({type:"set",bind:{resource:config.resource}},function(err,resp){if(err){self.emit("session:error",err);return cb("disconnect","JID binding failed")}self.features.negotiated.bind=true;self.jid=new JID(resp.bind.jid);self.emit("session:bound",self.jid);var canStartSession=!features.session||features.session&&features.session.optional;if(!self.sessionStarted&&canStartSession){self.sessionStarted=true;self.emit("session:started",self.jid)}return cb()})});client.on("disconnected",function(){client.sessionStarted=false;client.features.negotiated.bind=false})}},{"xmpp-jid":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/xmpp-jid/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/blocking.js":[function(require,module,exports){"use strict";module.exports=function(client){client.disco.addFeature("urn:xmpp:blocking");client.block=function(jid,cb){return client.sendIq({type:"set",block:{jids:[jid]}},cb)};client.unblock=function(jid,cb){return client.sendIq({type:"set",unblock:{jids:[jid]}},cb)};client.getBlocked=function(cb){return client.sendIq({type:"get",blockList:true},cb)};client.on("iq:set:block",function(iq){client.emit("block",{jids:iq.block.jids||[]});client.sendIq(iq.resultReply())});client.on("iq:set:unblock",function(iq){client.emit("unblock",{jids:iq.unblock.jids||[]});client.sendIq(iq.resultReply())})}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/bob.js":[function(require,module,exports){"use strict";module.exports=function(client){client.disco.addFeature("urn:xmpp:bob");client.getBits=function(jid,cid,cb){return client.sendIq({to:jid,type:"get",bob:{cid:cid}},cb)}}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/bookmarks.js":[function(require,module,exports){"use strict";var extend=require("lodash.assign");var filter=require("lodash.filter");var JID=require("xmpp-jid").JID;module.exports=function(client){client.getBookmarks=function(cb){return this.getPrivateData({bookmarks:true},cb)};client.setBookmarks=function(opts,cb){return this.setPrivateData({bookmarks:opts},cb)};client.addBookmark=function(bookmark,cb){bookmark.jid=new JID(bookmark.jid);return this.getBookmarks().then(function(res){var bookmarks=res.privateStorage.bookmarks.conferences||[];var existing=filter(bookmarks,function(bm){return bm.jid.bare===bookmark.jid.bare});if(existing.length){extend(existing[0],bookmark)}else{bookmarks.push(bookmark)}return client.setBookmarks({conferences:bookmarks})}).nodeify(cb)};client.removeBookmark=function(jid,cb){jid=new JID(jid);return this.getBookmarks().then(function(res){var bookmarks=res.privateStorage.bookmarks.conferences||[];bookmarks=filter(bookmarks,function(bm){return jid.bare!==bm.jid.bare});return client.setBookmarks({conferences:bookmarks})}).nodeify(cb)}}},{"lodash.assign":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.assign/index.js","lodash.filter":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.filter/index.js","xmpp-jid":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/xmpp-jid/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/bosh.js":[function(require,module,exports){"use strict";var BOSHConnection=require("../transports/bosh");module.exports=function(client){client.transports.bosh=BOSHConnection}},{"../transports/bosh":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/transports/bosh.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/carbons.js":[function(require,module,exports){"use strict";module.exports=function(client){client.disco.addFeature("urn:xmpp:carbons:2");client.enableCarbons=function(cb){return this.sendIq({type:"set",enableCarbons:true},cb)};client.disableCarbons=function(cb){return this.sendIq({type:"set",disableCarbons:true},cb)};client.on("message",function(msg){if(msg.carbonSent){return client.emit("carbon:sent",msg)}if(msg.carbonReceived){return client.emit("carbon:received",msg)}});client.on("carbon:*",function(name,carbon){var dir=name.split(":")[1];if(carbon.from.bare!==client.jid.bare){return}var msg,delay;if(dir==="received"){msg=carbon.carbonReceived.forwarded.message;delay=carbon.carbonReceived.forwarded.delay}else{msg=carbon.carbonSent.forwarded.message;delay=carbon.carbonSent.forwarded.delay}if(!msg.delay){if(delay){msg.delay.stamp=delay.stamp}else{msg.delay={stamp:new Date(Date.now())}}}msg.carbon=true;if(msg.from.bare===client.jid.bare){client.emit("message:sent",msg)}else{client.emit("message",msg)}})}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/chatstates.js":[function(require,module,exports){"use strict";module.exports=function(client){client.disco.addFeature("http://jabber.org/protocol/chatstates");client.on("message",function(msg){if(msg.chatState){client.emit("chat:state",{to:msg.to,from:msg.from,chatState:msg.chatState});client.emit("chatState",{to:msg.to,from:msg.from,chatState:msg.chatState})}})}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/command.js":[function(require,module,exports){"use strict";var NS="http://jabber.org/protocol/commands";module.exports=function(client){client.disco.addFeature(NS);client.disco.addItem({name:"Ad-Hoc Commands",node:NS});client.getCommands=function(jid,cb){return client.getDiscoItems(jid,NS,cb)}}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/correction.js":[function(require,module,exports){"use strict";module.exports=function(client){client.disco.addFeature("urn:xmpp:message-correct:0");client.on("message",function(msg){if(msg.replace){client.emit("replace",msg);client.emit("replace:"+msg.id,msg)}})}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/csi.js":[function(require,module,exports){"use strict";module.exports=function(client,stanzas){var Active=stanzas.getDefinition("active","urn:xmpp:csi");var Inactive=stanzas.getDefinition("inactive","urn:xmpp:csi");client.registerFeature("clientStateIndication",400,function(features,cb){this.features.negotiated.clientStateIndication=true;cb()});client.markActive=function(){if(this.features.negotiated.clientStateIndication){this.send(new Active)}};client.markInactive=function(){if(this.features.negotiated.clientStateIndication){this.send(new Inactive)}}}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/dataforms.js":[function(require,module,exports){"use strict";module.exports=function(client){client.disco.addFeature("jabber:x:data");client.disco.addFeature("urn:xmpp:media-element");client.disco.addFeature("http://jabber.org/protocol/xdata-validate");client.disco.addFeature("http://jabber.org/protocol/xdata-layout");client.on("message",function(msg){if(msg.form){client.emit("dataform",msg)}})}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/delayed.js":[function(require,module,exports){"use strict";module.exports=function(client){client.disco.addFeature("urn:xmpp:delay")}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/disco.js":[function(require,module,exports){(function(Buffer){"use strict";var each=require("lodash.foreach");var unique=require("lodash.uniq");var JID=require("xmpp-jid").JID;var hashes=require("iana-hashes");function generateVerString(info,hash){var S="";var features=info.features.sort();var identities=[];var formTypes={};var formOrder=[];each(info.identities,function(identity){identities.push([identity.category||"",identity.type||"",identity.lang||"",identity.name||""].join("/"))});identities.sort();var idLen=identities.length;var featureLen=features.length;identities=unique(identities,true);features=unique(features,true);if(featureLen!==features.length||idLen!==identities.length){return false}S+=identities.join("<")+"<";S+=features.join("<")+"<";var illFormed=false;each(info.extensions,function(ext){var fields=ext.fields;for(var i=0,len=fields.length;i<len;i++){if(fields[i].name==="FORM_TYPE"&&fields[i].type==="hidden"){var name=fields[i].value;if(formTypes[name]){illFormed=true;return}formTypes[name]=ext;formOrder.push(name);return}}});if(illFormed){return false}formOrder.sort();each(formOrder,function(name){var ext=formTypes[name];var fields={};var fieldOrder=[];S+="<"+name;each(ext.fields,function(field){var fieldName=field.name;if(fieldName!=="FORM_TYPE"){var values=field.value||"";if(typeof values!=="object"){values=values.split("\n")}fields[fieldName]=values.sort();fieldOrder.push(fieldName)}});fieldOrder.sort();each(fieldOrder,function(fieldName){S+="<"+fieldName;each(fields[fieldName],function(val){S+="<"+val})})});var ver=hashes.createHash(hash).update(new Buffer(S,"utf8")).digest("base64");var padding=4-ver.length%4;if(padding===4){padding=0}for(var i=0;i<padding;i++){ver+="="}return ver}function verifyVerString(info,hash,check){var computed=generateVerString(info,hash);return computed&&computed===check}function Disco(){this.features={};this.identities={};this.extensions={};this.items={};this.caps={}}Disco.prototype={constructor:{value:Disco},addFeature:function(feature,node){node=node||"";if(!this.features[node]){this.features[node]=[]}this.features[node].push(feature)},addIdentity:function(identity,node){node=node||"";if(!this.identities[node]){this.identities[node]=[]}this.identities[node].push(identity)},addItem:function(item,node){node=node||"";if(!this.items[node]){this.items[node]=[]}this.items[node].push(item)},addExtension:function(form,node){node=node||"";if(!this.extensions[node]){this.extensions[node]=[]}this.extensions[node].push(form)}};module.exports=function(client){client.disco=new Disco(client);client.disco.addFeature("http://jabber.org/protocol/disco#info");client.disco.addFeature("http://jabber.org/protocol/disco#items");client.disco.addIdentity({category:"client",type:"web"});client.registerFeature("caps",100,function(features,cb){this.emit("disco:caps",{from:new JID(client.jid.domain||client.config.server),caps:features.caps});this.features.negotiated.caps=true;cb()});client.getDiscoInfo=function(jid,node,cb){return this.sendIq({to:jid,type:"get",discoInfo:{node:node}},cb)};client.getDiscoItems=function(jid,node,cb){return this.sendIq({to:jid,type:"get",discoItems:{node:node}},cb)};client.updateCaps=function(){var node=this.config.capsNode||"https://stanza.io";var data=JSON.parse(JSON.stringify({identities:this.disco.identities[""],features:this.disco.features[""],extensions:this.disco.extensions[""]}));var ver=generateVerString(data,"sha-1");this.disco.caps={node:node,hash:"sha-1",ver:ver};node=node+"#"+ver;this.disco.features[node]=data.features;this.disco.identities[node]=data.identities;this.disco.extensions[node]=data.extensions;return client.getCurrentCaps()};client.getCurrentCaps=function(){var caps=client.disco.caps;if(!caps.ver){return{ver:null,discoInfo:null}}var node=caps.node+"#"+caps.ver;return{ver:caps.ver,discoInfo:{identities:client.disco.identities[node],features:client.disco.features[node],extensions:client.disco.extensions[node]}}};client.on("presence",function(pres){if(pres.caps){client.emit("disco:caps",pres)}});client.on("iq:get:discoInfo",function(iq){var node=iq.discoInfo.node||"";var reportedNode=iq.discoInfo.node||"";if(node===client.disco.caps.node+"#"+client.disco.caps.ver){reportedNode=node;node=""}client.sendIq(iq.resultReply({discoInfo:{node:reportedNode,identities:client.disco.identities[node]||[],features:client.disco.features[node]||[],extensions:client.disco.extensions[node]||[]}}))});client.on("iq:get:discoItems",function(iq){var node=iq.discoItems.node;client.sendIq(iq.resultReply({discoItems:{node:node,items:client.disco.items[node]||[]}}))});client.verifyVerString=verifyVerString;client.generateVerString=generateVerString;client.updateCaps()}}).call(this,require("buffer").Buffer)},{buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js","iana-hashes":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/index.js","lodash.foreach":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.foreach/index.js","lodash.uniq":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.uniq/index.js","xmpp-jid":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/xmpp-jid/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/escaping.js":[function(require,module,exports){"use strict";module.exports=function(client){client.disco.addFeature("jid\\20escaping")}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/extdisco.js":[function(require,module,exports){"use strict";module.exports=function(client){client.disco.addFeature("urn:xmpp:extdisco:1");client.getServices=function(jid,type,cb){return this.sendIq({type:"get",to:jid,services:{type:type}},cb)};client.getServiceCredentials=function(jid,host,cb){return this.sendIq({type:"get",to:jid,credentials:{service:{host:host}}},cb)}}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/features.js":[function(require,module,exports){"use strict";var async=require("async");module.exports=function(client){client.features={negotiated:{},order:[],handlers:{}};client.registerFeature=function(name,priority,handler){this.features.order.push({priority:priority,name:name});this.features.order.sort(function(a,b){if(a.priority<b.priority){return-1}if(a.priority>b.priority){return 1}return 0});this.features.handlers[name]=handler.bind(client)};client.on("streamFeatures",function(features){var series=[];var negotiated=client.features.negotiated;var handlers=client.features.handlers;client.features.order.forEach(function(feature){var name=feature.name;if(features[name]&&handlers[name]&&!negotiated[name]){series.push(function(cb){if(!negotiated[name]){handlers[name](features,cb)}else{cb()}})}});async.series(series,function(cmd,msg){if(cmd==="restart"){client.transport.restart()}else if(cmd==="disconnect"){client.emit("stream:error",{condition:"policy-violation",text:"Failed to negotiate stream features: "+msg});client.disconnect()}})})}},{async:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/async/lib/async.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/forwarding.js":[function(require,module,exports){"use strict";module.exports=function(client){client.disco.addFeature("urn:xmpp:forward:0")}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/geoloc.js":[function(require,module,exports){"use strict";module.exports=function(client){client.disco.addFeature("http://jabber.org/protocol/geoloc");client.disco.addFeature("http://jabber.org/protocol/geoloc+notify");client.on("pubsub:event",function(msg){if(!msg.event.updated){return}if(msg.event.updated.node!=="http://jabber.org/protocol/geoloc"){return}client.emit("geoloc",{jid:msg.from,geoloc:msg.event.updated.published[0].geoloc})});client.publishGeoLoc=function(data,cb){return this.publish("","http://jabber.org/protocol/geoloc",{geoloc:data},cb)}}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/hashes.js":[function(require,module,exports){"use strict";var hashes=require("iana-hashes");module.exports=function(client){client.disco.addFeature("urn:xmpp:hashes:1");var names=hashes.getHashes();names.forEach(function(name){client.disco.addFeature("urn:xmpp:hash-function-text-names:"+name)})}},{"iana-hashes":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/idle.js":[function(require,module,exports){"use strict";module.exports=function(client){client.disco.addFeature("urn:xmpp:idle:1")}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/index-browser.js":[function(require,module,exports){"use strict";module.exports=function(client){client.use(require("./disco"));client.use(require("./attention"));client.use(require("./avatar"));client.use(require("./blocking"));client.use(require("./bob"));client.use(require("./bookmarks"));client.use(require("./carbons"));client.use(require("./chatstates"));client.use(require("./command"));client.use(require("./correction"));client.use(require("./csi"));client.use(require("./dataforms"));client.use(require("./delayed"));client.use(require("./escaping"));client.use(require("./extdisco"));client.use(require("./forwarding"));client.use(require("./geoloc"));client.use(require("./hashes"));client.use(require("./idle"));client.use(require("./invisible"));client.use(require("./jidprep"));client.use(require("./jingle"));client.use(require("./json"));client.use(require("./keepalive"));client.use(require("./logging"));client.use(require("./mam"));client.use(require("./muc"));client.use(require("./mood"));client.use(require("./nick"));client.use(require("./oob"));client.use(require("./ping"));client.use(require("./private"));client.use(require("./psa"));client.use(require("./pubsub"));client.use(require("./reach"));client.use(require("./receipts"));client.use(require("./register"));client.use(require("./roster"));client.use(require("./rtt"));client.use(require("./shim"));client.use(require("./time"));client.use(require("./vcard"));client.use(require("./version"))}},{"./attention":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/attention.js","./avatar":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/avatar.js","./blocking":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/blocking.js","./bob":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/bob.js","./bookmarks":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/bookmarks.js","./carbons":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/carbons.js","./chatstates":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/chatstates.js","./command":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/command.js","./correction":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/correction.js","./csi":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/csi.js","./dataforms":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/dataforms.js","./delayed":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/delayed.js","./disco":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/disco.js","./escaping":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/escaping.js","./extdisco":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/extdisco.js","./forwarding":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/forwarding.js","./geoloc":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/geoloc.js","./hashes":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/hashes.js","./idle":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/idle.js","./invisible":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/invisible.js","./jidprep":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/jidprep.js","./jingle":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/jingle.js","./json":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/json.js","./keepalive":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/keepalive.js","./logging":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/logging.js","./mam":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/mam.js","./mood":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/mood.js","./muc":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/muc.js","./nick":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/nick.js","./oob":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/oob.js","./ping":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/ping.js","./private":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/private.js","./psa":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/psa.js","./pubsub":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/pubsub.js","./reach":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/reach.js","./receipts":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/receipts.js","./register":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/register.js","./roster":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/roster.js","./rtt":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/rtt.js","./shim":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/shim.js","./time":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/time.js","./vcard":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/vcard.js","./version":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/version.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/invisible.js":[function(require,module,exports){"use strict";module.exports=function(client){client.goInvisible=function(cb){return this.sendIq({type:"set",invisible:true},cb)};client.goVisible=function(cb){return this.sendIq({type:"set",visible:true},cb)}}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/jidprep.js":[function(require,module,exports){"use strict";module.exports=function(client){client.prepJID=function(jid,cb){return client.sendIq({to:client.jid.domain,type:"get",jidPrep:jid},cb)}}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/jingle.js":[function(require,module,exports){"use strict";var Jingle=require("jingle");module.exports=function(client){var jingle=client.jingle=new Jingle;jingle.capabilities.forEach(function(cap){client.disco.addFeature(cap)});var mappedEvents=["outgoing","incoming","accepted","terminated","ringing","mute","unmute","hold","resumed"];mappedEvents.forEach(function(event){jingle.on(event,function(session,arg1){client.emit("jingle:"+event,session,arg1)})});jingle.on("createdSession",function(session){client.emit("jingle:created",session)});jingle.on("peerStreamAdded",function(session,stream){client.emit("jingle:remotestream:added",session,stream)});jingle.on("peerStreamRemoved",function(session,stream){client.emit("jingle:remotestream:removed",session,stream)});jingle.on("send",function(data){client.sendIq(data,function(err){if(err){client.emit("jingle:error",err)}})});client.on("session:bound",function(jid){jingle.jid=jid;jingle.selfID=jid.full});client.on("iq:set:jingle",function(data){jingle.process(data)});client.on("unavailable",function(pres){var peer=pres.from.full;jingle.endPeerSessions(peer,true)});client.discoverICEServers=function(cb){return this.getServices(client.config.server).then(function(res){var services=res.services.services;var discovered=[];for(var i=0;i<services.length;i++){var service=services[i];var ice={};if(service.type==="stun"||service.type==="stuns"){ice.url=service.type+":"+service.host;if(service.port){ice.url+=":"+service.port}discovered.push(ice);client.jingle.addICEServer(ice)}else if(service.type==="turn"||service.type==="turns"){ice.url=service.type+":"+service.host;if(service.port){ice.url+=":"+service.port}if(service.transport&&service.transport!=="udp"){ice.url+="?transport="+service.transport}if(service.username){ice.username=service.username}if(service.password){ice.credential=service.password}discovered.push(ice);client.jingle.addICEServer(ice)}}return discovered}).nodeify(cb)}}},{jingle:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/json.js":[function(require,module,exports){"use strict";module.exports=function(client){client.disco.addFeature("urn:xmpp:json:0")}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/keepalive.js":[function(require,module,exports){"use strict";var BPromise=require("bluebird");function checkConnection(client,timeout){return new BPromise(function(resolve,reject){if(client.sm.started){client.once("stream:management:ack",resolve);client.sm.request()}else{client.ping().then(resolve).catch(function(err){if(err.error&&err.error.condition!=="timeout"){resolve()}else{reject()}})}}).timeout(timeout*1e3||15e3)}module.exports=function(client){client.enableKeepAlive=function(opts){opts=opts||{};opts.interval=opts.interval||300;opts.timeout=opts.timeout||15;function keepalive(){if(client.sessionStarted){checkConnection(client,opts.timeout).catch(function(){client.sendStreamError({condition:"connection-timeout"})})}}client._keepAliveInterval=setInterval(keepalive,opts.interval*1e3)};client.disableKeepAlive=function(){if(client._keepAliveInterval){clearInterval(client._keepAliveInterval);delete client._keepAliveInterval}};client.on("disconnected",function(){client.disableKeepAlive()})}},{bluebird:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/bluebird/js/browser/bluebird.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/logging.js":[function(require,module,exports){"use strict";module.exports=function(client){client.disco.addFeature("","urn:xmpp:eventlog");client.sendLog=function(jid,logData){client.sendMessage({to:jid,type:"normal",log:logData})}}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/mam.js":[function(require,module,exports){"use strict";var BPromise=require("bluebird");var JID=require("xmpp-jid").JID;module.exports=function(client){client.disco.addFeature("urn:xmpp:mam:0");client.getHistorySearchForm=function(jid,cb){return client.sendIq({to:jid,type:"get",mam:true},cb)};client.searchHistory=function(opts,cb){var self=this;var queryid=this.nextId();opts=opts||{};opts.queryid=queryid;var to=opts.jid||opts.to||"";delete opts.jid;delete opts.to;if(!opts.form){opts.form={}}opts.form.type="submit";var fields=opts.form.fields=opts.form.fields||[];var defaultFields=["FORM_TYPE","with","start","end"];defaultFields.forEach(function(name){if(opts[name]||name==="FORM_TYPE"){var val=opts[name];var isDate=name==="start"||name==="end";if(isDate&&typeof val!=="string"){val=val.toISOString()}if(name==="FORM_TYPE"){val="urn:xmpp:mam:0"}var existing=false;for(var i=0,len=fields.length;i<len;i++){if(fields[i].name===name){continue}}if(!existing){fields.push({name:name,value:val})}delete opts[name]}});var dest=new JID(to||client.jid.bare);var allowed={};allowed[""]=true;allowed[dest.full]=true;allowed[dest.bare]=true;allowed[dest.domain]=true;allowed[client.jid.bare]=true;allowed[client.jid.domain]=true;var results=[];this.on("mam:item:"+queryid,"session",function(msg){if(!allowed[msg.from.full]){return}results.push(msg.mamItem)});var collectResults=new BPromise(function(resolve){self.once("mam:result:"+queryid,"session",function(msg){if(!allowed[msg.from.full]){return}msg.mamResult.items=results;resolve(msg)})});var mamQuery=this.sendIq({type:"set",to:to,id:queryid,mam:opts});return BPromise.all([mamQuery,collectResults]).spread(function(iqRes,mamRes){return mamRes}).timeout(self.config.timeout*1e3||15e3).catch(BPromise.TimeoutError,function(){throw{id:queryid,type:"error",error:{condition:"timeout"}}}).finally(function(){self.off("mam:item:"+queryid);self.off("mam:result:"+queryid)}).nodeify(cb)};client.getHistoryPreferences=function(cb){return this.sendIq({type:"get",mamPrefs:true},cb)};client.setHistoryPreferences=function(opts,cb){return this.sendIq({type:"set",mamPrefs:opts},cb)};client.on("message",function(msg){if(msg.mamItem){client.emit("mam:item:"+msg.mamItem.queryid,msg)}if(msg.mamResult){client.emit("mam:result:"+msg.mamResult.queryid,msg)}})}},{bluebird:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/bluebird/js/browser/bluebird.js","xmpp-jid":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/xmpp-jid/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/mood.js":[function(require,module,exports){"use strict";var NS="http://jabber.org/protocol/mood";module.exports=function(client){client.disco.addFeature(NS);client.disco.addFeature(NS+"+notify");client.on("pubsub:event",function(msg){if(!msg.event.updated){return}if(msg.event.updated.node!==NS){return}client.emit("mood",{jid:msg.from,mood:msg.event.updated.published[0].mood})});client.publishMood=function(mood,text,cb){return this.publish("",NS,{mood:{value:mood,text:text}},cb)}}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/muc.js":[function(require,module,exports){"use strict";var each=require("lodash.foreach");var JID=require("xmpp-jid").JID;module.exports=function(client){client.disco.addFeature("http://jabber.org/protocol/muc");client.disco.addFeature("jabber:x:conference");client.disco.addFeature("urn:xmpp:hats:0");client.joinedRooms={};function rejoinRooms(){each(client.joinedRooms,function(nick,room){client.joinedRooms[room]=false;client.joinRoom(room,nick)})}client.on("session:started",rejoinRooms);client.on("stream:management:resumed",rejoinRooms);client.on("message",function(msg){if(msg.muc){if(msg.muc.invite){client.emit("muc:invite",{from:msg.muc.invite.from,room:msg.from,reason:msg.muc.invite.reason,password:msg.muc.password,thread:msg.muc.invite.thread,type:"mediated"})}if(msg.muc.destroyed){client.emit("muc:destroyed",{room:msg.from,newRoom:msg.muc.destroyed.jid,reason:msg.muc.destroyed.reason,password:msg.muc.destroyed.password})}if(msg.muc.decline){client.emit("muc:declined",{room:msg.from,from:msg.muc.decline.from,reason:msg.muc.decline.reason})}}else if(msg.mucInvite){client.emit("muc:invite",{from:msg.from,room:msg.mucInvite.jid,reason:msg.mucInvite.reason,password:msg.mucInvite.password,thread:msg.mucInvite.thread,type:"direct"})}if(msg.type==="groupchat"&&msg.subject){client.emit("muc:subject",msg)}});client.on("presence",function(pres){if(pres.joinMuc&&pres.type==="error"){client.emit("muc:error",pres)}else if(pres.muc){var isSelf=pres.muc.codes&&pres.muc.codes.indexOf("110")>=0;if(pres.type==="error"){client.emit("muc:error",pres)}else if(pres.type==="unavailable"){client.emit("muc:unavailable",pres);if(isSelf){client.emit("muc:leave",pres);delete client.joinedRooms[pres.from.bare]}}else{client.emit("muc:available",pres);if(isSelf&&!client.joinedRooms[pres.from.bare]){client.emit("muc:join",pres);client.joinedRooms[pres.from.bare]=pres.from.resource}}}});client.joinRoom=function(room,nick,opts){opts=opts||{};opts.to=room+"/"+nick;opts.caps=this.disco.caps;opts.joinMuc=opts.joinMuc||{};this.sendPresence(opts)};client.leaveRoom=function(room,nick,opts){opts=opts||{};opts.to=room+"/"+nick;opts.type="unavailable";this.sendPresence(opts)};client.ban=function(room,jid,reason,cb){client.setRoomAffiliation(room,jid,"outcast",reason,cb)};client.kick=function(room,nick,reason,cb){client.setRoomRole(room,nick,"none",reason,cb)};client.invite=function(room,opts){client.sendMessage({to:room,muc:{invites:opts}})};client.directInvite=function(room,opts){opts.jid=room;client.sendMessage({to:opts.to,mucInvite:opts})};client.declineInvite=function(room,sender,reason){client.sendMessage({to:room,muc:{decline:{to:sender,reason:reason}}})};client.changeNick=function(room,nick){client.sendPresence({to:new JID(room).bare+"/"+nick})};client.setSubject=function(room,subject){client.sendMessage({to:room,type:"groupchat",subject:subject})};client.discoverReservedNick=function(room,cb){client.getDiscoInfo(room,"x-roomuser-item",function(err,res){if(err){return cb(err)}var ident=res.discoInfo.identities[0]||{};cb(null,ident.name)})};client.requestRoomVoice=function(room){client.sendMessage({to:room,form:{fields:[{name:"FORM_TYPE",value:"http://jabber.org/protocol/muc#request"},{name:"muc#role",type:"text-single",value:"participant"}]}})};client.setRoomAffiliation=function(room,jid,affiliation,reason,cb){return this.sendIq({type:"set",to:room,mucAdmin:{jid:jid,affiliation:affiliation,reason:reason}},cb)};client.setRoomRole=function(room,nick,role,reason,cb){return this.sendIq({type:"set",to:room,mucAdmin:{nick:nick,role:role,reason:reason}},cb)};client.getRoomMembers=function(room,opts,cb){return this.sendIq({type:"get",to:room,mucAdmin:opts},cb)};client.getRoomConfig=function(jid,cb){return this.sendIq({to:jid,type:"get",mucOwner:true},cb)};client.configureRoom=function(jid,form,cb){if(!form.type){form.type="submit"}return this.sendIq({to:jid,type:"set",mucOwner:{form:form}},cb)};client.destroyRoom=function(jid,opts,cb){return this.sendIq({to:jid,type:"set",mucOwner:{destroy:opts}},cb)};client.getUniqueRoomName=function(jid,cb){return this.sendIq({type:"get",to:jid,mucUnique:true},cb)}}},{"lodash.foreach":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.foreach/index.js","xmpp-jid":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/xmpp-jid/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/nick.js":[function(require,module,exports){"use strict";var NS="http://jabber.org/protocol/nick";module.exports=function(client){client.disco.addFeature(NS);client.disco.addFeature(NS+"+notify");client.on("pubsub:event",function(msg){if(!msg.event.updated){return}if(msg.event.updated.node!==NS){return}client.emit("nick",{jid:msg.from,nick:msg.event.updated.published[0].nick})});client.publishNick=function(nick,cb){return this.publish("",NS,{nick:nick},cb)}}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/oldwebsocket.js":[function(require,module,exports){"use strict";var OldWSConnection=require("../transports/old-websocket");module.exports=function(client){client.transports["old-websocket"]=OldWSConnection}},{"../transports/old-websocket":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/transports/old-websocket.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/oob.js":[function(require,module,exports){"use strict";module.exports=function(client){client.disco.addFeature("jabber:x:oob")}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/ping.js":[function(require,module,exports){"use strict";module.exports=function(client){client.disco.addFeature("urn:xmpp:ping");client.on("iq:get:ping",function(iq){client.sendIq(iq.resultReply())});client.ping=function(jid,cb){return this.sendIq({to:jid,type:"get",ping:true},cb)}}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/private.js":[function(require,module,exports){"use strict";module.exports=function(client){client.getPrivateData=function(opts,cb){return this.sendIq({type:"get",privateStorage:opts},cb)};client.setPrivateData=function(opts,cb){return this.sendIq({type:"set",privateStorage:opts},cb)}}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/psa.js":[function(require,module,exports){"use strict";module.exports=function(client){client.disco.addFeature("urn:xmpp:psa")}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/pubsub.js":[function(require,module,exports){"use strict";module.exports=function(client){client.on("message",function(msg){if(msg.event){client.emit("pubsub:event",msg);client.emit("pubsubEvent",msg);if(msg.event.updated){var published=msg.event.updated.published;var retracted=msg.event.updated.retracted;if(published&&published.length){client.emit("pubsub:published",msg)}if(retracted&&retracted.length){client.emit("pubsub:retracted",msg)}}if(msg.event.purged){client.emit("pubsub:purged",msg)}if(msg.event.deleted){client.emit("pubsub:deleted",msg)}if(msg.event.subscriptionChanged){client.emit("pubsub:subscription",msg)}if(msg.event.configurationChanged){client.emit("pubsub:config",msg)}}if(msg.pubsub&&msg.pubsub.affiliations){client.emit("pubsub:affiliation",msg)}});client.subscribeToNode=function(jid,opts,cb){if(typeof opts==="string"){opts={node:opts}}opts.jid=opts.jid||client.jid;return this.sendIq({type:"set",to:jid,pubsub:{subscribe:opts}},cb)};client.unsubscribeFromNode=function(jid,opts,cb){if(typeof opts==="string"){opts={node:opts}}opts.jid=opts.jid||client.jid.bare;return this.sendIq({type:"set",to:jid,pubsub:{unsubscribe:opts}},cb)};client.publish=function(jid,node,item,cb){return this.sendIq({type:"set",to:jid,pubsub:{publish:{node:node,item:item}}},cb)};client.getItem=function(jid,node,id,cb){return this.sendIq({type:"get",to:jid,pubsub:{retrieve:{node:node,item:id}}},cb)};client.getItems=function(jid,node,opts,cb){opts=opts||{};opts.node=node;return this.sendIq({type:"get",to:jid,pubsub:{retrieve:{node:node,max:opts.max},rsm:opts.rsm}},cb)};client.retract=function(jid,node,id,notify,cb){return this.sendIq({type:"set",to:jid,pubsub:{retract:{node:node,notify:notify,id:id}}},cb)};client.purgeNode=function(jid,node,cb){return this.sendIq({type:"set",to:jid,pubsubOwner:{purge:node}},cb)};client.deleteNode=function(jid,node,cb){return this.sendIq({type:"set",to:jid,pubsubOwner:{del:node}},cb)};client.createNode=function(jid,node,config,cb){var cmd={type:"set",to:jid,pubsub:{create:node}};if(config){cmd.pubsub.config={form:config}}return this.sendIq(cmd,cb)};client.getSubscriptions=function(jid,opts,cb){opts=opts||{};return this.sendIq({type:"get",to:jid,pubsub:{subscriptions:opts}},cb)};client.getAffiliations=function(jid,opts,cb){opts=opts||{};return this.sendIq({type:"get",to:jid,pubsub:{affiliations:opts}},cb)};client.getNodeSubscribers=function(jid,node,opts,cb){opts=opts||{};opts.node=node;return this.sendIq({type:"get",to:jid,pubsubOwner:{subscriptions:opts}},cb)};client.updateNodeSubscriptions=function(jid,node,delta,cb){return this.sendIq({type:"set",to:jid,pubsubOwner:{subscriptions:{node:node,list:delta}}},cb)};client.getNodeAffiliations=function(jid,node,opts,cb){opts=opts||{};opts.node=node;return this.sendIq({type:"get",to:jid,pubsubOwner:{affiliations:opts}},cb)};client.updateNodeAffiliations=function(jid,node,delta,cb){return this.sendIq({type:"set",to:jid,pubsubOwner:{affiliations:{node:node,list:delta}}},cb)}}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/reach.js":[function(require,module,exports){"use strict";module.exports=function(client){client.disco.addFeature("urn:xmpp:reach:0");client.disco.addFeature("urn:xmpp:reach:0+notify");client.on("pubsub:event",function(msg){if(!msg.event.updated){return}if(msg.event.updated.node!=="urn:xmpp:reach:0"){return}client.emit("reachability",{jid:msg.from,addresses:msg.event.updated.published[0].reach})});client.on("presence",function(pres){if(!pres.reach||!pres.reach.length){return}client.emit("reachability",{jid:pres.from,addresses:pres.reach})});client.publishReachability=function(data,cb){return this.publish("","urn:xmpp:reach:0",{reach:data},cb)}}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/receipts.js":[function(require,module,exports){"use strict";module.exports=function(client){client.disco.addFeature("urn:xmpp:receipts");client.on("message",function(msg){var ackTypes={normal:true,chat:true,headline:true};if(ackTypes[msg.type]&&msg.requestReceipt&&!msg.receipt){client.sendMessage({to:msg.from,type:msg.type,receipt:msg.id,id:msg.id})}if(msg.receipt){client.emit("receipt",msg);client.emit("receipt:"+msg.receipt)}})}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/register.js":[function(require,module,exports){"use strict";module.exports=function(client){client.getAccountInfo=function(jid,cb){return this.sendIq({type:"get",to:jid,register:true},cb)};client.updateAccount=function(jid,data,cb){return this.sendIq({type:"set",to:jid,register:data},cb)};client.deleteAccount=function(jid,cb){return this.sendIq({type:"set",to:jid,register:{remove:true}},cb)}}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/roster.js":[function(require,module,exports){"use strict";module.exports=function(client){client.on("iq:set:roster",function(iq){var allowed={};allowed[""]=true;allowed[client.jid.bare]=true;allowed[client.jid.domain]=true;if(!allowed[iq.from.full]){return client.sendIq(iq.errorReply({error:{type:"cancel",condition:"service-unavailable"}}))}client.emit("roster:update",iq);client.sendIq({id:iq.id,type:"result"})});client.getRoster=function(cb){var self=this;cb=cb||function(){};return client.sendIq({type:"get",roster:{ver:self.config.rosterVer}}).then(function(resp){if(resp.roster){var ver=resp.roster.ver;if(ver){self.config.rosterVer=ver;self.emit("roster:ver",ver)}}return resp}).nodeify(cb)};client.updateRosterItem=function(item,cb){return client.sendIq({type:"set",roster:{items:[item]}},cb)};client.removeRosterItem=function(jid,cb){return client.updateRosterItem({jid:jid,subscription:"remove"},cb)};client.subscribe=function(jid){client.sendPresence({type:"subscribe",to:jid})};client.unsubscribe=function(jid){client.sendPresence({type:"unsubscribe",to:jid})};client.acceptSubscription=function(jid){client.sendPresence({type:"subscribed",to:jid})};client.denySubscription=function(jid){client.sendPresence({type:"unsubscribed",to:jid})}}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/rtt.js":[function(require,module,exports){"use strict";module.exports=function(client){client.disco.addFeature("urn:xmpp:rtt:0");client.on("message",function(msg){if(msg.rtt){client.emit("rtt",msg);client.emit("rtt:"+msg.rtt.event,msg)}})}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/sasl.js":[function(require,module,exports){(function(Buffer){"use strict";var NS="urn:ietf:params:xml:ns:xmpp-sasl";module.exports=function(client,stanzas){var Auth=stanzas.getDefinition("auth",NS);var Response=stanzas.getDefinition("response",NS);var Abort=stanzas.getDefinition("abort",NS);client.registerFeature("sasl",100,function(features,cb){var self=this;var mech=self.SASLFactory.create(features.sasl.mechanisms);if(!mech){self.releaseGroup("sasl");self.emit("auth:failed");return cb("disconnect","authentication failed")}self.on("sasl:success","sasl",function(){self.features.negotiated.sasl=true;self.releaseGroup("sasl");self.emit("auth:success",self.config.credentials);cb("restart")});self.on("sasl:challenge","sasl",function(challenge){mech.challenge(new Buffer(challenge.value,"base64").toString());return self.getCredentials(function(err,credentials){if(err){return self.send(new Abort)}self.send(new Response({value:new Buffer(mech.response(credentials)).toString("base64")}));if(mech.cache){Object.keys(mech.cache).forEach(function(key){if(!mech.cache[key]){return}self.config.credentials[key]=new Buffer(mech.cache[key])});self.emit("credentials:update",self.config.credentials)}})});self.on("sasl:failure","sasl",function(){self.releaseGroup("sasl");self.emit("auth:failed");cb("disconnect","authentication failed")});self.on("sasl:abort","sasl",function(){self.releaseGroup("sasl");self.emit("auth:failed");cb("disconnect","authentication failed")});var auth={mechanism:mech.name};if(mech.clientFirst){return self.getCredentials(function(err,credentials){if(err){return self.send(new Abort)}auth.value=new Buffer(mech.response(credentials)).toString("base64");self.send(new Auth(auth))})}self.send(new Auth(auth))});client.on("disconnected",function(){client.features.negotiated.sasl=false})}}).call(this,require("buffer").Buffer)},{buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/session.js":[function(require,module,exports){"use strict";module.exports=function(client){client.registerFeature("session",1e3,function(features,cb){var self=this;if(features.session.optional||self.sessionStarted){self.features.negotiated.session=true;return cb()}self.sendIq({type:"set",session:{}},function(err){if(err){return cb("disconnect","session request failed")}self.features.negotiated.session=true;if(!self.sessionStarted){self.sessionStarted=true;self.emit("session:started",self.jid)}cb()})});client.on("disconnected",function(){client.sessionStarted=false;client.features.negotiated.session=false})}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/shim.js":[function(require,module,exports){"use strict";var NS="http://jabber.org/protocol/shim";module.exports=function(client){client.disco.addFeature(NS);client.disco.addFeature(NS+"#SubID",NS)}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/smacks.js":[function(require,module,exports){"use strict";module.exports=function(client,stanzas,config){var smacks=function(features,cb){var self=this;if(!config.useStreamManagement){return cb()}self.on("stream:management:enabled","sm",function(enabled){self.sm.enabled(enabled);self.features.negotiated.streamManagement=true;self.releaseGroup("sm");cb()});self.on("stream:management:resumed","sm",function(resumed){self.sm.resumed(resumed);self.features.negotiated.streamManagement=true;self.features.negotiated.bind=true;self.sessionStarted=true;self.releaseGroup("sm");cb("break")});self.on("stream:management:failed","sm",function(){self.sm.failed();self.emit("session:end");self.releaseGroup("session");self.releaseGroup("sm");cb()});if(!self.sm.id){if(self.features.negotiated.bind){self.sm.enable()}else{cb()}}else if(self.sm.id&&self.sm.allowResume){self.sm.resume()}else{cb()}};client.on("disconnected",function(){client.features.negotiated.streamManagement=false});client.registerFeature("streamManagement",200,smacks);client.registerFeature("streamManagement",500,smacks)}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/time.js":[function(require,module,exports){"use strict";module.exports=function(client){client.disco.addFeature("urn:xmpp:time");client.getTime=function(jid,cb){return this.sendIq({to:jid,type:"get",time:true},cb)};client.on("iq:get:time",function(iq){var time=new Date;client.sendIq(iq.resultReply({time:{utc:time,tzo:time.getTimezoneOffset()}}))})}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/vcard.js":[function(require,module,exports){"use strict";module.exports=function(client){client.disco.addFeature("vcard-temp");client.getVCard=function(jid,cb){return this.sendIq({to:jid,type:"get",vCardTemp:true},cb)};client.publishVCard=function(vcard,cb){return this.sendIq({type:"set",vCardTemp:vcard},cb)}}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/version.js":[function(require,module,exports){"use strict";module.exports=function(client){client.disco.addFeature("jabber:iq:version");client.on("iq:get:version",function(iq){client.sendIq(iq.resultReply({version:client.config.softwareVersion||{name:"stanza.io"}}))});client.getSoftwareVersion=function(jid,cb){return this.sendIq({to:jid,type:"get",version:true},cb)}}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/plugins/websocket.js":[function(require,module,exports){"use strict";var WSConnection=require("../transports/websocket");module.exports=function(client){client.transports.websocket=WSConnection}},{"../transports/websocket":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/transports/websocket.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/sm.js":[function(require,module,exports){"use strict";var MAX_SEQ=Math.pow(2,32);function mod(v,n){return(v%n+n)%n}function StreamManagement(client){this.client=client;this.id=false;this.allowResume=true;this.started=false;this.inboundStarted=false;this.outboundStarted=false;this.lastAck=0;this.handled=0;this.windowSize=1;this.unacked=[];this.pendingAck=false;var NS="urn:xmpp:sm:3";this.stanzas={Enable:client.stanzas.getDefinition("enable",NS),Resume:client.stanzas.getDefinition("resume",NS),Ack:client.stanzas.getDefinition("a",NS),Request:client.stanzas.getDefinition("r",NS)}}StreamManagement.prototype={constructor:{value:StreamManagement},enable:function(){var enable=new this.stanzas.Enable;enable.resume=this.allowResume;this.client.send(enable);this.handled=0;this.outboundStarted=true},resume:function(){var resume=new this.stanzas.Resume({h:this.handled,previd:this.id});this.client.send(resume);this.outboundStarted=true},enabled:function(resp){this.id=resp.id;this.handled=0;this.inboundStarted=true},resumed:function(resp){this.id=resp.previd;if(resp.h){this.process(resp,true)}this.inboundStarted=true},failed:function(){this.inboundStarted=false;this.outboundStarted=false;this.id=false;this.lastAck=0;this.handled=0;this.unacked=[]},ack:function(){this.client.send(new this.stanzas.Ack({h:this.handled}))},request:function(){this.pendingAck=true;this.client.send(new this.stanzas.Request)},process:function(ack,resend){var self=this;var numAcked=mod(ack.h-this.lastAck,MAX_SEQ);this.pendingAck=false;for(var i=0;i<numAcked&&this.unacked.length>0;i++){this.client.emit("stanza:acked",this.unacked.shift())}this.lastAck=ack.h;if(resend){var resendUnacked=this.unacked;this.unacked=[];resendUnacked.forEach(function(stanza){self.client.send(stanza)})}if(this.needAck()){this.request()}},track:function(stanza){var name=stanza._name;var acceptable={message:true,presence:true,iq:true};if(this.outboundStarted&&acceptable[name]){this.unacked.push(stanza);if(this.needAck()){this.request()}}},handle:function(){if(this.inboundStarted){this.handled=mod(this.handled+1,MAX_SEQ)}},needAck:function(){return!this.pendingAck&&this.unacked.length>=this.windowSize}};Object.defineProperties(StreamManagement.prototype,{started:{get:function(){return this.outboundStarted&&this.inboundStarted},set:function(value){if(!value){this.outboundStarted=false;this.inboundStarted=false}}}});module.exports=StreamManagement},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/transports/bosh.js":[function(require,module,exports){(function(process,Buffer){"use strict";var extend=require("lodash.assign");var filter=require("lodash.filter");var util=require("util");var BPromise=require("bluebird");var request=BPromise.promisify(require("request"));var WildEmitter=require("wildemitter");function ConnectionError(){}util.inherits(ConnectionError,Error);function retryRequest(opts,timeout,allowedRetries,retries){retries=retries||0;var req=request(opts).cancellable().timeout((timeout||20)*1e3);return req.spread(function(req,body){if(req.statusCode<200||req.statusCode>=400){throw new ConnectionError("HTTP Status Error")}return body}).catch(BPromise.TimeoutError,function(){throw new ConnectionError("Dead Connection, exceeded timeout limit")}).catch(function(){if(retries<allowedRetries){return BPromise.delay(100).then(function(){return retryRequest(opts,timeout,allowedRetries,retries+1)})}else{throw new ConnectionError("Dead Connection, exceeded retry limit")}})}function BOSHConnection(sm,stanzas){var self=this;WildEmitter.call(this);self.sm=sm;self.stanzas={BOSH:stanzas.getDefinition("body","http://jabber.org/protocol/httpbind"),StreamError:stanzas.getStreamError()};self.sendQueue=[];self.requests=[];self.maxRequests=2;self.sid="";self.on("raw:incoming",function(data){data=data.trim();if(data===""){return}var bosh,err;try{bosh=stanzas.parse(data,self.stanzas.BOSH)}catch(e){err=new self.stanzas.StreamError({condition:"invalid-xml"});self.emit("stream:error",err,e);self.send(err);return self.disconnect()}if(!self.hasStream){self.hasStream=true;self.stream={id:bosh.sid,lang:bosh.lang||"en",version:bosh.version||"1.0",to:bosh.to,from:bosh.from};self.sid=bosh.sid;self.maxRequests=bosh.requests}var payload=bosh.payload;payload.forEach(function(stanzaObj){if(!stanzaObj.lang){stanzaObj.lang=self.stream.lang}self.emit("stream:data",stanzaObj)});if(bosh.type==="terminate"){self.rid=undefined;self.sid=undefined;self.emit("bosh:terminate",bosh);self.emit("stream:end");self.emit("disconnected",self)}})}util.inherits(BOSHConnection,WildEmitter);BOSHConnection.prototype.connect=function(opts){var self=this;self.config=extend({rid:Math.ceil(Math.random()*9999999999),wait:30,maxRetries:5},opts);self.hasStream=false;self.sm.started=false;self.url=opts.boshURL;self.sid=self.config.sid;self.rid=self.config.rid;self.requests=[];self.rid++;self.request(new self.stanzas.BOSH({version:self.config.version||"1.0",to:self.config.server,lang:self.config.lang||"en",wait:self.config.wait,ver:"1.6",hold:1}))};BOSHConnection.prototype.disconnect=function(){if(this.hasStream){this.rid++;this.request(new this.stanzas.BOSH({type:"terminate"}))}else{this.requests.forEach(function(ticket){ticket.request.cancel()});this.stream=undefined;this.sid=undefined;this.rid=undefined;this.emit("disconnected",this)}};BOSHConnection.prototype.restart=function(){var self=this;self.rid++;self.request(new self.stanzas.BOSH({to:self.config.server,lang:self.config.lang||"en",restart:"true"}))};BOSHConnection.prototype.send=function(data){var self=this;if(self.hasStream){self.sendQueue.push(data);process.nextTick(self.longPoll.bind(self))}};BOSHConnection.prototype.longPoll=function(){var canReceive=this.requests.length===0;var canSend=this.sendQueue.length>0&&this.requests.length<this.maxRequests;if(!this.sid||!canReceive&&!canSend){return}var stanzas=this.sendQueue;this.sendQueue=[];this.rid++;this.request(new this.stanzas.BOSH({payload:stanzas}))};BOSHConnection.prototype.request=function(bosh){var self=this;var ticket={id:self.rid,request:null};bosh.rid=self.rid;bosh.sid=self.sid;var body=new Buffer(bosh.toString(),"utf8").toString();self.emit("raw:outgoing",body);self.requests.push(ticket);var req=retryRequest({uri:self.url,body:body,method:"POST",strictSSL:true},self.config.wait*1.5,this.config.maxRetries);ticket.request=req;return req.then(function(body){self.emit("raw:incoming",new Buffer(body,"utf8").toString())}).catch(ConnectionError,function(err){self.hasStream=false;var serr=new self.stanzas.StreamError({condition:"connection-timeout"});self.emit("stream:error",serr,err);self.disconnect()}).catch(BPromise.CancellationError,function(){return}).finally(function(){self.requests=filter(self.requests,function(item){return item.id!==ticket.id});if(bosh.type!=="terminate"){process.nextTick(function(){process.nextTick(self.longPoll.bind(self))})}})};module.exports=BOSHConnection}).call(this,require("_process"),require("buffer").Buffer)},{_process:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/process/browser.js",bluebird:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/bluebird/js/browser/bluebird.js",buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js","lodash.assign":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.assign/index.js","lodash.filter":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.filter/index.js",request:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/xhr/index.js",util:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/util/util.js",wildemitter:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/wildemitter/wildemitter.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/transports/old-websocket.js":[function(require,module,exports){"use strict";var each=require("lodash.foreach");var WSConnection=require("./websocket");var util=require("util");function OldWSConnection(sm,stanzas){WSConnection.call(this,sm,stanzas);var self=this;function wrap(data){return[self.streamStart,data,self.streamEnd].join("")}self.on("connected",function(){self.streamStart='<stream:stream xmlns:stream="http://etherx.jabber.org/streams">';self.streamEnd="</stream:stream>"});self.off("raw:incoming");self.on("raw:incoming",function(data){var streamData,ended,err;data=data.trim();data=data.replace(/^(\s*<\?.*\?>\s*)*/,"");if(data===""){return}if(data.match(self.streamEnd)){return self.disconnect()}else if(self.hasStream){try{streamData=stanzas.parse(wrap(data))}catch(e){err=new this.stanzas.StreamError({condition:"invalid-xml"});self.emit("stream:error",err,e);self.send(err);return self.disconnect()}}else{var parts=data.match(/^<(\S+:)?(\S+) /);self.streamStart=data;self.streamEnd="</"+(parts[1]||"")+parts[2]+">";ended=false;try{streamData=stanzas.parse(data+self.streamEnd)}catch(e){try{streamData=stanzas.parse(data);ended=true}catch(e2){err=new this.stanzas.StreamError({condition:"invalid-xml"});self.emit("stream:error",err,e2);self.send(err);return self.disconnect()}}self.hasStream=true;self.stream=streamData;self.emit("stream:start",streamData)}each(streamData._extensions,function(stanzaObj){if(!stanzaObj.lang&&self.stream){stanzaObj.lang=self.stream.lang}self.emit("stream:data",stanzaObj)});if(ended){self.emit("stream:end")}})}util.inherits(OldWSConnection,WSConnection);OldWSConnection.prototype.startHeader=function(){return["<stream:stream",'xmlns:stream="http://etherx.jabber.org/streams"','xmlns="jabber:client"','version="'+(this.config.version||"1.0")+'"','xml:lang="'+(this.config.lang||"en")+'"','to="'+this.config.server+'">'].join(" ")};OldWSConnection.prototype.closeHeader=function(){return"</stream:stream>"};module.exports=OldWSConnection},{"./websocket":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/transports/websocket.js","lodash.foreach":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.foreach/index.js",util:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/util/util.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/lib/transports/websocket.js":[function(require,module,exports){(function(Buffer){"use strict";var util=require("util");var WildEmitter=require("wildemitter");var async=require("async");var WS=require("faye-websocket")&&require("faye-websocket").Client?require("faye-websocket").Client:window.WebSocket;var WS_OPEN=1;function WSConnection(sm,stanzas){var self=this;WildEmitter.call(this);self.sm=sm;self.closing=false;self.stanzas={Open:stanzas.getDefinition("open","urn:ietf:params:xml:ns:xmpp-framing",true),Close:stanzas.getDefinition("close","urn:ietf:params:xml:ns:xmpp-framing",true),StreamError:stanzas.getStreamError()};self.sendQueue=async.queue(function(data,cb){if(self.conn){if(typeof data!=="string"){data=data.toString()}data=new Buffer(data,"utf8").toString();self.emit("raw:outgoing",data);if(self.conn.readyState===WS_OPEN){self.conn.send(data)}}cb()},1);self.on("connected",function(){self.send(self.startHeader())});self.on("raw:incoming",function(data){var stanzaObj,err;data=data.trim();if(data===""){return}try{stanzaObj=stanzas.parse(data)}catch(e){err=new this.stanzas.StreamError({condition:"invalid-xml"});self.emit("stream:error",err,e);self.send(err);return self.disconnect()}if(stanzaObj._name==="openStream"){self.hasStream=true;self.stream=stanzaObj;return self.emit("stream:start",stanzaObj.toJSON())}if(stanzaObj._name==="closeStream"){self.emit("stream:end");return self.disconnect()}if(!stanzaObj.lang&&self.stream){stanzaObj.lang=self.stream.lang}self.emit("stream:data",stanzaObj)})}util.inherits(WSConnection,WildEmitter);WSConnection.prototype.connect=function(opts){var self=this;self.config=opts;self.hasStream=false;self.closing=false;self.conn=new WS(opts.wsURL,"xmpp");self.conn.onerror=function(e){e.preventDefault();self.emit("disconnected",self)};self.conn.onclose=function(){self.emit("disconnected",self)};self.conn.onopen=function(){self.sm.started=false;self.emit("connected",self)};self.conn.onmessage=function(wsMsg){self.emit("raw:incoming",new Buffer(wsMsg.data,"utf8").toString())}};WSConnection.prototype.startHeader=function(){return new this.stanzas.Open({version:this.config.version||"1.0",lang:this.config.lang||"en",to:this.config.server})};WSConnection.prototype.closeHeader=function(){return new this.stanzas.Close};WSConnection.prototype.disconnect=function(){if(this.conn&&!this.closing){this.closing=true;this.send(this.closeHeader())}else{this.hasStream=false;this.stream=undefined;if(this.conn.readyState===WS_OPEN){this.conn.close()}this.conn=undefined}};WSConnection.prototype.restart=function(){var self=this;self.hasStream=false;self.send(this.startHeader())};WSConnection.prototype.send=function(data){this.sendQueue.push(data)};module.exports=WSConnection}).call(this,require("buffer").Buffer)},{async:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/async/lib/async.js",buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js","faye-websocket":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/browser-resolve/empty.js",util:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/util/util.js",wildemitter:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/wildemitter/wildemitter.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/index.js":[function(require,module,exports){var randomBytes=require("randombytes");var createHash=require("create-hash");function parse(chal){var dtives={};var tokens=chal.split(/,(?=(?:[^"]|"[^"]*")*$)/);for(var i=0,len=tokens.length;i<len;i++){var dtiv=/(\w+)=["]?([^"]+)["]?$/.exec(tokens[i]);if(dtiv){dtives[dtiv[1]]=dtiv[2]}}return dtives}function genNonce(){return randomBytes(16).toString("hex")}function Mechanism(options){options=options||{};this._genNonce=options.genNonce||genNonce}Mechanism.Mechanism=Mechanism;Mechanism.prototype.name="DIGEST-MD5";Mechanism.prototype.clientFirst=false;Mechanism.prototype.response=function(cred){if(this._completed){return undefined}var uri=cred.serviceType+"/"+cred.host;if(cred.serviceName&&cred.host!==cred.serviceName){uri+="/"+cred.serviceName}var realm=cred.realm||this._realm||"";var cnonce=this._genNonce();var nc="00000001";var qop="auth";var str="";str+='username="'+cred.username+'"';if(realm){str+=',realm="'+realm+'"'}str+=',nonce="'+this._nonce+'"';str+=',cnonce="'+cnonce+'"';str+=",nc="+nc;str+=",qop="+qop;str+=',digest-uri="'+uri+'"';var base=createHash("md5").update(cred.username).update(":").update(realm).update(":").update(cred.password).digest();var ha1=createHash("md5").update(base).update(":").update(this._nonce).update(":").update(cnonce);if(cred.authzid){ha1.update(":").update(cred.authzid)}ha1=ha1.digest("hex");var ha2=createHash("md5").update("AUTHENTICATE:").update(uri);if(qop==="auth-int"||qop==="auth-conf"){ha2.update(":00000000000000000000000000000000")}ha2=ha2.digest("hex");var digest=createHash("md5").update(ha1).update(":").update(this._nonce).update(":").update(nc).update(":").update(cnonce).update(":").update(qop).update(":").update(ha2).digest("hex");str+=",response="+digest;if(this._charset==="utf-8"){str+=",charset=utf-8"}if(cred.authzid){str+='authzid="'+cred.authzid+'"'}return str};Mechanism.prototype.challenge=function(chal){var dtives=parse(chal);this._completed=!!dtives.rspauth;this._realm=dtives.realm;this._nonce=dtives.nonce;this._qop=(dtives.qop||"auth").split(",");this._stale=dtives.stale;this._maxbuf=parseInt(dtives.maxbuf)||65536;this._charset=dtives.charset;this._algo=dtives.algorithm;this._cipher=dtives.cipher;if(this._cipher){this._cipher.split(",")}return this};module.exports=Mechanism},{"create-hash":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/browser.js",randombytes:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/randombytes/browser.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/browser.js":[function(require,module,exports){(function(Buffer){"use strict";var inherits=require("inherits");var md5=require("./md5");var rmd160=require("ripemd160");var sha=require("sha.js");var Transform=require("stream").Transform;function HashNoConstructor(hash){Transform.call(this);this._hash=hash;this.buffers=[]}inherits(HashNoConstructor,Transform);HashNoConstructor.prototype._transform=function(data,_,next){this.buffers.push(data);next()};HashNoConstructor.prototype._flush=function(next){this.push(this.digest());next()};HashNoConstructor.prototype.update=function(data,enc){if(typeof data==="string"){data=new Buffer(data,enc)}this.buffers.push(data);return this};HashNoConstructor.prototype.digest=function(enc){var buf=Buffer.concat(this.buffers);var r=this._hash(buf);this.buffers=null;return enc?r.toString(enc):r};function Hash(hash){Transform.call(this);this._hash=hash}inherits(Hash,Transform);Hash.prototype._transform=function(data,enc,next){if(enc)data=new Buffer(data,enc);this._hash.update(data);next()};Hash.prototype._flush=function(next){this.push(this._hash.digest());this._hash=null;next()};Hash.prototype.update=function(data,enc){if(typeof data==="string"){data=new Buffer(data,enc)}this._hash.update(data);return this};Hash.prototype.digest=function(enc){var outData=this._hash.digest();return enc?outData.toString(enc):outData};module.exports=function createHash(alg){if("md5"===alg)return new HashNoConstructor(md5);if("rmd160"===alg)return new HashNoConstructor(rmd160);return new Hash(sha(alg))}}).call(this,require("buffer").Buffer)},{"./md5":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/md5.js",buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js",inherits:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/inherits/inherits_browser.js",ripemd160:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/ripemd160/lib/ripemd160.js","sha.js":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/index.js",stream:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/stream-browserify/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/helpers.js":[function(require,module,exports){(function(Buffer){"use strict";var intSize=4;var zeroBuffer=new Buffer(intSize);zeroBuffer.fill(0);var chrsz=8;function toArray(buf,bigEndian){if(buf.length%intSize!==0){var len=buf.length+(intSize-buf.length%intSize);buf=Buffer.concat([buf,zeroBuffer],len)}var arr=[];var fn=bigEndian?buf.readInt32BE:buf.readInt32LE;for(var i=0;i<buf.length;i+=intSize){arr.push(fn.call(buf,i))}return arr}function toBuffer(arr,size,bigEndian){var buf=new Buffer(size);var fn=bigEndian?buf.writeInt32BE:buf.writeInt32LE;for(var i=0;i<arr.length;i++){fn.call(buf,arr[i],i*4,true)}return buf}function hash(buf,fn,hashSize,bigEndian){if(!Buffer.isBuffer(buf))buf=new Buffer(buf);var arr=fn(toArray(buf,bigEndian),buf.length*chrsz);return toBuffer(arr,hashSize,bigEndian)}exports.hash=hash}).call(this,require("buffer").Buffer)},{buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/md5.js":[function(require,module,exports){"use strict";var helpers=require("./helpers");function core_md5(x,len){x[len>>5]|=128<<len%32;x[(len+64>>>9<<4)+14]=len;var a=1732584193;var b=-271733879;var c=-1732584194;var d=271733878;for(var i=0;i<x.length;i+=16){var olda=a;var oldb=b;var oldc=c;var oldd=d;a=md5_ff(a,b,c,d,x[i+0],7,-680876936);d=md5_ff(d,a,b,c,x[i+1],12,-389564586);c=md5_ff(c,d,a,b,x[i+2],17,606105819);b=md5_ff(b,c,d,a,x[i+3],22,-1044525330);a=md5_ff(a,b,c,d,x[i+4],7,-176418897);d=md5_ff(d,a,b,c,x[i+5],12,1200080426);c=md5_ff(c,d,a,b,x[i+6],17,-1473231341);b=md5_ff(b,c,d,a,x[i+7],22,-45705983);a=md5_ff(a,b,c,d,x[i+8],7,1770035416);d=md5_ff(d,a,b,c,x[i+9],12,-1958414417);c=md5_ff(c,d,a,b,x[i+10],17,-42063);b=md5_ff(b,c,d,a,x[i+11],22,-1990404162);a=md5_ff(a,b,c,d,x[i+12],7,1804603682);d=md5_ff(d,a,b,c,x[i+13],12,-40341101);c=md5_ff(c,d,a,b,x[i+14],17,-1502002290);b=md5_ff(b,c,d,a,x[i+15],22,1236535329);a=md5_gg(a,b,c,d,x[i+1],5,-165796510);d=md5_gg(d,a,b,c,x[i+6],9,-1069501632);c=md5_gg(c,d,a,b,x[i+11],14,643717713);b=md5_gg(b,c,d,a,x[i+0],20,-373897302);a=md5_gg(a,b,c,d,x[i+5],5,-701558691);d=md5_gg(d,a,b,c,x[i+10],9,38016083);c=md5_gg(c,d,a,b,x[i+15],14,-660478335);b=md5_gg(b,c,d,a,x[i+4],20,-405537848);a=md5_gg(a,b,c,d,x[i+9],5,568446438);d=md5_gg(d,a,b,c,x[i+14],9,-1019803690);c=md5_gg(c,d,a,b,x[i+3],14,-187363961);b=md5_gg(b,c,d,a,x[i+8],20,1163531501);a=md5_gg(a,b,c,d,x[i+13],5,-1444681467);d=md5_gg(d,a,b,c,x[i+2],9,-51403784);c=md5_gg(c,d,a,b,x[i+7],14,1735328473);b=md5_gg(b,c,d,a,x[i+12],20,-1926607734);a=md5_hh(a,b,c,d,x[i+5],4,-378558);d=md5_hh(d,a,b,c,x[i+8],11,-2022574463);c=md5_hh(c,d,a,b,x[i+11],16,1839030562);b=md5_hh(b,c,d,a,x[i+14],23,-35309556);a=md5_hh(a,b,c,d,x[i+1],4,-1530992060);d=md5_hh(d,a,b,c,x[i+4],11,1272893353);c=md5_hh(c,d,a,b,x[i+7],16,-155497632);b=md5_hh(b,c,d,a,x[i+10],23,-1094730640);a=md5_hh(a,b,c,d,x[i+13],4,681279174);d=md5_hh(d,a,b,c,x[i+0],11,-358537222);c=md5_hh(c,d,a,b,x[i+3],16,-722521979);b=md5_hh(b,c,d,a,x[i+6],23,76029189);a=md5_hh(a,b,c,d,x[i+9],4,-640364487);d=md5_hh(d,a,b,c,x[i+12],11,-421815835);c=md5_hh(c,d,a,b,x[i+15],16,530742520);b=md5_hh(b,c,d,a,x[i+2],23,-995338651);a=md5_ii(a,b,c,d,x[i+0],6,-198630844);d=md5_ii(d,a,b,c,x[i+7],10,1126891415);c=md5_ii(c,d,a,b,x[i+14],15,-1416354905);b=md5_ii(b,c,d,a,x[i+5],21,-57434055);a=md5_ii(a,b,c,d,x[i+12],6,1700485571);d=md5_ii(d,a,b,c,x[i+3],10,-1894986606);c=md5_ii(c,d,a,b,x[i+10],15,-1051523);b=md5_ii(b,c,d,a,x[i+1],21,-2054922799);a=md5_ii(a,b,c,d,x[i+8],6,1873313359);d=md5_ii(d,a,b,c,x[i+15],10,-30611744);c=md5_ii(c,d,a,b,x[i+6],15,-1560198380);b=md5_ii(b,c,d,a,x[i+13],21,1309151649);a=md5_ii(a,b,c,d,x[i+4],6,-145523070);d=md5_ii(d,a,b,c,x[i+11],10,-1120210379);c=md5_ii(c,d,a,b,x[i+2],15,718787259);b=md5_ii(b,c,d,a,x[i+9],21,-343485551);a=safe_add(a,olda);b=safe_add(b,oldb);c=safe_add(c,oldc);d=safe_add(d,oldd)}return Array(a,b,c,d)}function md5_cmn(q,a,b,x,s,t){return safe_add(bit_rol(safe_add(safe_add(a,q),safe_add(x,t)),s),b)}function md5_ff(a,b,c,d,x,s,t){return md5_cmn(b&c|~b&d,a,b,x,s,t)}function md5_gg(a,b,c,d,x,s,t){return md5_cmn(b&d|c&~d,a,b,x,s,t)}function md5_hh(a,b,c,d,x,s,t){return md5_cmn(b^c^d,a,b,x,s,t)}function md5_ii(a,b,c,d,x,s,t){return md5_cmn(c^(b|~d),a,b,x,s,t)}function safe_add(x,y){var lsw=(x&65535)+(y&65535);var msw=(x>>16)+(y>>16)+(lsw>>16);return msw<<16|lsw&65535}function bit_rol(num,cnt){return num<<cnt|num>>>32-cnt}module.exports=function md5(buf){return helpers.hash(buf,core_md5,16)}},{"./helpers":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/helpers.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/inherits/inherits_browser.js":[function(require,module,exports){if(typeof Object.create==="function"){module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}})}}else{module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/ripemd160/lib/ripemd160.js":[function(require,module,exports){(function(Buffer){var zl=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13];var zr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11];var sl=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6];var sr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];var hl=[0,1518500249,1859775393,2400959708,2840853838];var hr=[1352829926,1548603684,1836072691,2053994217,0];function bytesToWords(bytes){var words=[];for(var i=0,b=0;i<bytes.length;i++,b+=8){words[b>>>5]|=bytes[i]<<24-b%32}return words}function wordsToBytes(words){var bytes=[];for(var b=0;b<words.length*32;b+=8){bytes.push(words[b>>>5]>>>24-b%32&255)}return bytes}function processBlock(H,M,offset){for(var i=0;i<16;i++){var offset_i=offset+i;var M_offset_i=M[offset_i];M[offset_i]=(M_offset_i<<8|M_offset_i>>>24)&16711935|(M_offset_i<<24|M_offset_i>>>8)&4278255360}var al,bl,cl,dl,el;var ar,br,cr,dr,er;ar=al=H[0];br=bl=H[1];cr=cl=H[2];dr=dl=H[3];er=el=H[4];var t;for(i=0;i<80;i+=1){t=al+M[offset+zl[i]]|0;if(i<16){t+=f1(bl,cl,dl)+hl[0]}else if(i<32){t+=f2(bl,cl,dl)+hl[1]}else if(i<48){t+=f3(bl,cl,dl)+hl[2]}else if(i<64){t+=f4(bl,cl,dl)+hl[3]}else{t+=f5(bl,cl,dl)+hl[4]}t=t|0;t=rotl(t,sl[i]);t=t+el|0;al=el;el=dl;dl=rotl(cl,10);cl=bl;bl=t;t=ar+M[offset+zr[i]]|0;if(i<16){t+=f5(br,cr,dr)+hr[0]}else if(i<32){t+=f4(br,cr,dr)+hr[1]}else if(i<48){t+=f3(br,cr,dr)+hr[2]}else if(i<64){t+=f2(br,cr,dr)+hr[3]}else{t+=f1(br,cr,dr)+hr[4]}t=t|0;t=rotl(t,sr[i]);t=t+er|0;ar=er;er=dr;dr=rotl(cr,10);cr=br;br=t}t=H[1]+cl+dr|0;H[1]=H[2]+dl+er|0;H[2]=H[3]+el+ar|0;H[3]=H[4]+al+br|0;H[4]=H[0]+bl+cr|0;H[0]=t}function f1(x,y,z){return x^y^z}function f2(x,y,z){return x&y|~x&z}function f3(x,y,z){return(x|~y)^z}function f4(x,y,z){return x&z|y&~z}function f5(x,y,z){return x^(y|~z)}function rotl(x,n){return x<<n|x>>>32-n}function ripemd160(message){var H=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof message==="string"){message=new Buffer(message,"utf8")}var m=bytesToWords(message);var nBitsLeft=message.length*8;var nBitsTotal=message.length*8;m[nBitsLeft>>>5]|=128<<24-nBitsLeft%32;m[(nBitsLeft+64>>>9<<4)+14]=(nBitsTotal<<8|nBitsTotal>>>24)&16711935|(nBitsTotal<<24|nBitsTotal>>>8)&4278255360;for(var i=0;i<m.length;i+=16){processBlock(H,m,i)}for(i=0;i<5;i++){var H_i=H[i];H[i]=(H_i<<8|H_i>>>24)&16711935|(H_i<<24|H_i>>>8)&4278255360}var digestbytes=wordsToBytes(H);return new Buffer(digestbytes)}module.exports=ripemd160}).call(this,require("buffer").Buffer)},{buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/hash.js":[function(require,module,exports){(function(Buffer){function Hash(blockSize,finalSize){this._block=new Buffer(blockSize);this._finalSize=finalSize;this._blockSize=blockSize;this._len=0;this._s=0}Hash.prototype.update=function(data,enc){if(typeof data==="string"){enc=enc||"utf8";data=new Buffer(data,enc)}var l=this._len+=data.length;var s=this._s||0;var f=0;var buffer=this._block;while(s<l){var t=Math.min(data.length,f+this._blockSize-s%this._blockSize);var ch=t-f;for(var i=0;i<ch;i++){buffer[s%this._blockSize+i]=data[i+f]}s+=ch;f+=ch;if(s%this._blockSize===0){this._update(buffer)}}this._s=s;return this};Hash.prototype.digest=function(enc){var l=this._len*8;this._block[this._len%this._blockSize]=128;this._block.fill(0,this._len%this._blockSize+1);if(l%(this._blockSize*8)>=this._finalSize*8){this._update(this._block);this._block.fill(0)}this._block.writeInt32BE(l,this._blockSize-4);var hash=this._update(this._block)||this._hash();return enc?hash.toString(enc):hash};Hash.prototype._update=function(){throw new Error("_update must be implemented by subclass")};module.exports=Hash}).call(this,require("buffer").Buffer)},{buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/index.js":[function(require,module,exports){var exports=module.exports=function SHA(algorithm){algorithm=algorithm.toLowerCase();var Algorithm=exports[algorithm];if(!Algorithm)throw new Error(algorithm+" is not supported (we accept pull requests)");return new Algorithm};exports.sha=require("./sha");exports.sha1=require("./sha1");exports.sha224=require("./sha224");exports.sha256=require("./sha256");exports.sha384=require("./sha384");exports.sha512=require("./sha512")},{"./sha":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/sha.js","./sha1":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/sha1.js","./sha224":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/sha224.js","./sha256":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/sha256.js","./sha384":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/sha384.js","./sha512":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/sha512.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/sha.js":[function(require,module,exports){(function(Buffer){var inherits=require("inherits");var Hash=require("./hash");var W=new Array(80);function Sha(){this.init();this._w=W;Hash.call(this,64,56)}inherits(Sha,Hash);Sha.prototype.init=function(){this._a=1732584193|0;this._b=4023233417|0;this._c=2562383102|0;this._d=271733878|0;this._e=3285377520|0;return this};function rol(num,cnt){return num<<cnt|num>>>32-cnt}Sha.prototype._update=function(M){var W=this._w;var a=this._a;var b=this._b;var c=this._c;var d=this._d;var e=this._e;var j=0,k;function calcW(){return W[j-3]^W[j-8]^W[j-14]^W[j-16]}function loop(w,f){W[j]=w;var t=rol(a,5)+f+e+w+k;e=d;d=c;c=rol(b,30);b=a;a=t;j++}k=1518500249;while(j<16)loop(M.readInt32BE(j*4),b&c|~b&d);while(j<20)loop(calcW(),b&c|~b&d);k=1859775393;while(j<40)loop(calcW(),b^c^d);k=-1894007588;while(j<60)loop(calcW(),b&c|b&d|c&d);k=-899497514;while(j<80)loop(calcW(),b^c^d);this._a=a+this._a|0;this._b=b+this._b|0;this._c=c+this._c|0;this._d=d+this._d|0;this._e=e+this._e|0};Sha.prototype._hash=function(){var H=new Buffer(20);H.writeInt32BE(this._a|0,0);H.writeInt32BE(this._b|0,4);H.writeInt32BE(this._c|0,8);H.writeInt32BE(this._d|0,12);H.writeInt32BE(this._e|0,16);return H};module.exports=Sha}).call(this,require("buffer").Buffer)},{"./hash":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/hash.js",buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js",inherits:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/inherits/inherits_browser.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/sha1.js":[function(require,module,exports){(function(Buffer){var inherits=require("inherits");var Hash=require("./hash");var W=new Array(80);function Sha1(){this.init();this._w=W;Hash.call(this,64,56)}inherits(Sha1,Hash);Sha1.prototype.init=function(){this._a=1732584193|0;this._b=4023233417|0;this._c=2562383102|0;this._d=271733878|0;this._e=3285377520|0;return this};function rol(num,cnt){return num<<cnt|num>>>32-cnt}Sha1.prototype._update=function(M){var W=this._w;var a=this._a;var b=this._b;var c=this._c;var d=this._d;var e=this._e;var j=0,k;function calcW(){return rol(W[j-3]^W[j-8]^W[j-14]^W[j-16],1)}function loop(w,f){W[j]=w;var t=rol(a,5)+f+e+w+k;e=d;d=c;c=rol(b,30);b=a;a=t;j++}k=1518500249;while(j<16)loop(M.readInt32BE(j*4),b&c|~b&d);while(j<20)loop(calcW(),b&c|~b&d);k=1859775393;while(j<40)loop(calcW(),b^c^d);k=-1894007588;while(j<60)loop(calcW(),b&c|b&d|c&d);k=-899497514;while(j<80)loop(calcW(),b^c^d);this._a=a+this._a|0;this._b=b+this._b|0;this._c=c+this._c|0;this._d=d+this._d|0;this._e=e+this._e|0};Sha1.prototype._hash=function(){var H=new Buffer(20);H.writeInt32BE(this._a|0,0);H.writeInt32BE(this._b|0,4);H.writeInt32BE(this._c|0,8);H.writeInt32BE(this._d|0,12);H.writeInt32BE(this._e|0,16);return H};module.exports=Sha1}).call(this,require("buffer").Buffer)},{"./hash":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/hash.js",buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js",inherits:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/inherits/inherits_browser.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/sha224.js":[function(require,module,exports){(function(Buffer){var inherits=require("inherits");var Sha256=require("./sha256");var Hash=require("./hash");var W=new Array(64);function Sha224(){this.init();this._w=W;Hash.call(this,64,56)}inherits(Sha224,Sha256);Sha224.prototype.init=function(){this._a=3238371032|0;this._b=914150663|0;this._c=812702999|0;this._d=4144912697|0;this._e=4290775857|0;this._f=1750603025|0;this._g=1694076839|0;this._h=3204075428|0;return this};Sha224.prototype._hash=function(){var H=new Buffer(28);H.writeInt32BE(this._a,0);H.writeInt32BE(this._b,4);H.writeInt32BE(this._c,8);H.writeInt32BE(this._d,12);H.writeInt32BE(this._e,16);H.writeInt32BE(this._f,20);H.writeInt32BE(this._g,24);return H};module.exports=Sha224}).call(this,require("buffer").Buffer)},{"./hash":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/hash.js","./sha256":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/sha256.js",buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js",inherits:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/inherits/inherits_browser.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/sha256.js":[function(require,module,exports){(function(Buffer){var inherits=require("inherits");var Hash=require("./hash");var K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];var W=new Array(64);function Sha256(){this.init();this._w=W;Hash.call(this,64,56)}inherits(Sha256,Hash);Sha256.prototype.init=function(){this._a=1779033703|0;this._b=3144134277|0;this._c=1013904242|0;this._d=2773480762|0;this._e=1359893119|0;this._f=2600822924|0;this._g=528734635|0;this._h=1541459225|0;return this};function S(X,n){return X>>>n|X<<32-n}function R(X,n){return X>>>n}function Ch(x,y,z){return x&y^~x&z}function Maj(x,y,z){return x&y^x&z^y&z}function Sigma0256(x){return S(x,2)^S(x,13)^S(x,22)}function Sigma1256(x){return S(x,6)^S(x,11)^S(x,25)}function Gamma0256(x){return S(x,7)^S(x,18)^R(x,3)}function Gamma1256(x){return S(x,17)^S(x,19)^R(x,10)}Sha256.prototype._update=function(M){var W=this._w;var a=this._a|0;var b=this._b|0;var c=this._c|0;var d=this._d|0;var e=this._e|0;var f=this._f|0;var g=this._g|0;var h=this._h|0;var j=0;function calcW(){return Gamma1256(W[j-2])+W[j-7]+Gamma0256(W[j-15])+W[j-16]}function loop(w){W[j]=w;var T1=h+Sigma1256(e)+Ch(e,f,g)+K[j]+w;var T2=Sigma0256(a)+Maj(a,b,c);h=g;g=f;f=e;e=d+T1;d=c;c=b;b=a;a=T1+T2;j++}while(j<16)loop(M.readInt32BE(j*4));while(j<64)loop(calcW());this._a=a+this._a|0;this._b=b+this._b|0;this._c=c+this._c|0;this._d=d+this._d|0;this._e=e+this._e|0;this._f=f+this._f|0;this._g=g+this._g|0;this._h=h+this._h|0};Sha256.prototype._hash=function(){var H=new Buffer(32);H.writeInt32BE(this._a,0);H.writeInt32BE(this._b,4);H.writeInt32BE(this._c,8);H.writeInt32BE(this._d,12);H.writeInt32BE(this._e,16);H.writeInt32BE(this._f,20);H.writeInt32BE(this._g,24);H.writeInt32BE(this._h,28);return H};module.exports=Sha256}).call(this,require("buffer").Buffer)},{"./hash":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/hash.js",buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js",inherits:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/inherits/inherits_browser.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/sha384.js":[function(require,module,exports){(function(Buffer){var inherits=require("inherits");var SHA512=require("./sha512");var Hash=require("./hash");var W=new Array(160);function Sha384(){this.init();this._w=W;Hash.call(this,128,112)}inherits(Sha384,SHA512);Sha384.prototype.init=function(){this._a=3418070365|0;this._b=1654270250|0;this._c=2438529370|0;this._d=355462360|0;this._e=1731405415|0;this._f=2394180231|0;this._g=3675008525|0;this._h=1203062813|0;this._al=3238371032|0;this._bl=914150663|0;this._cl=812702999|0;this._dl=4144912697|0;this._el=4290775857|0;this._fl=1750603025|0;this._gl=1694076839|0;this._hl=3204075428|0;return this};Sha384.prototype._hash=function(){var H=new Buffer(48);function writeInt64BE(h,l,offset){H.writeInt32BE(h,offset);H.writeInt32BE(l,offset+4)}writeInt64BE(this._a,this._al,0);writeInt64BE(this._b,this._bl,8);writeInt64BE(this._c,this._cl,16);writeInt64BE(this._d,this._dl,24);writeInt64BE(this._e,this._el,32);writeInt64BE(this._f,this._fl,40);return H};module.exports=Sha384}).call(this,require("buffer").Buffer)},{"./hash":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/hash.js","./sha512":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/sha512.js",buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js",inherits:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/inherits/inherits_browser.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/sha512.js":[function(require,module,exports){(function(Buffer){var inherits=require("inherits");var Hash=require("./hash");var K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];var W=new Array(160);function Sha512(){this.init();this._w=W;Hash.call(this,128,112)}inherits(Sha512,Hash);Sha512.prototype.init=function(){this._a=1779033703|0;this._b=3144134277|0;this._c=1013904242|0;this._d=2773480762|0;this._e=1359893119|0;this._f=2600822924|0;this._g=528734635|0;this._h=1541459225|0;this._al=4089235720|0;this._bl=2227873595|0;this._cl=4271175723|0;this._dl=1595750129|0;this._el=2917565137|0;this._fl=725511199|0;this._gl=4215389547|0;this._hl=327033209|0;return this};function S(X,Xl,n){return X>>>n|Xl<<32-n}function Ch(x,y,z){return x&y^~x&z}function Maj(x,y,z){return x&y^x&z^y&z}Sha512.prototype._update=function(M){var W=this._w;var a=this._a|0;var b=this._b|0;var c=this._c|0;var d=this._d|0;var e=this._e|0;var f=this._f|0;var g=this._g|0;var h=this._h|0;var al=this._al|0;var bl=this._bl|0;var cl=this._cl|0;var dl=this._dl|0;var el=this._el|0;var fl=this._fl|0;var gl=this._gl|0;var hl=this._hl|0;var i=0,j=0;var Wi,Wil;function calcW(){var x=W[j-15*2];var xl=W[j-15*2+1];var gamma0=S(x,xl,1)^S(x,xl,8)^x>>>7;var gamma0l=S(xl,x,1)^S(xl,x,8)^S(xl,x,7);x=W[j-2*2];xl=W[j-2*2+1];var gamma1=S(x,xl,19)^S(xl,x,29)^x>>>6;var gamma1l=S(xl,x,19)^S(x,xl,29)^S(xl,x,6);var Wi7=W[j-7*2];var Wi7l=W[j-7*2+1];var Wi16=W[j-16*2];var Wi16l=W[j-16*2+1];Wil=gamma0l+Wi7l;Wi=gamma0+Wi7+(Wil>>>0<gamma0l>>>0?1:0);Wil=Wil+gamma1l;Wi=Wi+gamma1+(Wil>>>0<gamma1l>>>0?1:0);Wil=Wil+Wi16l;Wi=Wi+Wi16+(Wil>>>0<Wi16l>>>0?1:0)}function loop(){W[j]=Wi;W[j+1]=Wil;var maj=Maj(a,b,c);var majl=Maj(al,bl,cl);var sigma0h=S(a,al,28)^S(al,a,2)^S(al,a,7);var sigma0l=S(al,a,28)^S(a,al,2)^S(a,al,7);var sigma1h=S(e,el,14)^S(e,el,18)^S(el,e,9);var sigma1l=S(el,e,14)^S(el,e,18)^S(e,el,9);var Ki=K[j];var Kil=K[j+1];var ch=Ch(e,f,g);var chl=Ch(el,fl,gl);var t1l=hl+sigma1l;var t1=h+sigma1h+(t1l>>>0<hl>>>0?1:0);t1l=t1l+chl;t1=t1+ch+(t1l>>>0<chl>>>0?1:0);t1l=t1l+Kil;t1=t1+Ki+(t1l>>>0<Kil>>>0?1:0);t1l=t1l+Wil;t1=t1+Wi+(t1l>>>0<Wil>>>0?1:0);var t2l=sigma0l+majl;var t2=sigma0h+maj+(t2l>>>0<sigma0l>>>0?1:0);h=g;hl=gl;g=f;gl=fl;f=e;fl=el;el=dl+t1l|0;e=d+t1+(el>>>0<dl>>>0?1:0)|0;d=c;dl=cl;c=b;cl=bl;b=a;bl=al;al=t1l+t2l|0;a=t1+t2+(al>>>0<t1l>>>0?1:0)|0;i++;j+=2}while(i<16){Wi=M.readInt32BE(j*4);Wil=M.readInt32BE(j*4+4);loop()}while(i<80){calcW();loop()}this._al=this._al+al|0;this._bl=this._bl+bl|0;this._cl=this._cl+cl|0;this._dl=this._dl+dl|0;this._el=this._el+el|0;this._fl=this._fl+fl|0;this._gl=this._gl+gl|0;this._hl=this._hl+hl|0;this._a=this._a+a+(this._al>>>0<al>>>0?1:0)|0;this._b=this._b+b+(this._bl>>>0<bl>>>0?1:0)|0;this._c=this._c+c+(this._cl>>>0<cl>>>0?1:0)|0;this._d=this._d+d+(this._dl>>>0<dl>>>0?1:0)|0;this._e=this._e+e+(this._el>>>0<el>>>0?1:0)|0;this._f=this._f+f+(this._fl>>>0<fl>>>0?1:0)|0;this._g=this._g+g+(this._gl>>>0<gl>>>0?1:0)|0;this._h=this._h+h+(this._hl>>>0<hl>>>0?1:0)|0};Sha512.prototype._hash=function(){var H=new Buffer(64);function writeInt64BE(h,l,offset){H.writeInt32BE(h,offset);H.writeInt32BE(l,offset+4)}writeInt64BE(this._a,this._al,0);writeInt64BE(this._b,this._bl,8);writeInt64BE(this._c,this._cl,16);writeInt64BE(this._d,this._dl,24);writeInt64BE(this._e,this._el,32);writeInt64BE(this._f,this._fl,40);writeInt64BE(this._g,this._gl,48);writeInt64BE(this._h,this._hl,56);return H};module.exports=Sha512}).call(this,require("buffer").Buffer)},{"./hash":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/hash.js",buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js",inherits:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/inherits/inherits_browser.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/randombytes/browser.js":[function(require,module,exports){(function(process,global,Buffer){"use strict";var crypto=global.crypto||global.msCrypto;if(crypto&&crypto.getRandomValues){module.exports=randomBytes}else{module.exports=oldBrowser}function randomBytes(size,cb){var bytes=new Buffer(size);crypto.getRandomValues(bytes);if(typeof cb==="function"){return process.nextTick(function(){cb(null,bytes)})}return bytes}function oldBrowser(){throw new Error("secure random number generation not supported by this browser\n"+"use chrome, FireFox or Internet Explorer 11")}}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{},require("buffer").Buffer)},{_process:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/process/browser.js",buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/async/lib/async.js":[function(require,module,exports){(function(process){(function(){var async={};var root,previous_async;root=this;if(root!=null){previous_async=root.async}async.noConflict=function(){root.async=previous_async;return async};function only_once(fn){var called=false;return function(){if(called)throw new Error("Callback was already called.");called=true;fn.apply(root,arguments)}}var _toString=Object.prototype.toString;var _isArray=Array.isArray||function(obj){return _toString.call(obj)==="[object Array]"};var _each=function(arr,iterator){for(var i=0;i<arr.length;i+=1){iterator(arr[i],i,arr)}};var _map=function(arr,iterator){if(arr.map){return arr.map(iterator)}var results=[];_each(arr,function(x,i,a){results.push(iterator(x,i,a))});return results};var _reduce=function(arr,iterator,memo){if(arr.reduce){return arr.reduce(iterator,memo)}_each(arr,function(x,i,a){memo=iterator(memo,x,i,a)});return memo};var _keys=function(obj){if(Object.keys){return Object.keys(obj)}var keys=[];for(var k in obj){if(obj.hasOwnProperty(k)){keys.push(k)}}return keys};if(typeof process==="undefined"||!process.nextTick){if(typeof setImmediate==="function"){async.nextTick=function(fn){setImmediate(fn)};async.setImmediate=async.nextTick}else{async.nextTick=function(fn){setTimeout(fn,0)};async.setImmediate=async.nextTick}}else{async.nextTick=process.nextTick;if(typeof setImmediate!=="undefined"){async.setImmediate=function(fn){setImmediate(fn)}}else{async.setImmediate=async.nextTick}}async.each=function(arr,iterator,callback){callback=callback||function(){};if(!arr.length){return callback()}var completed=0;_each(arr,function(x){iterator(x,only_once(done))});function done(err){if(err){callback(err);callback=function(){}}else{completed+=1;if(completed>=arr.length){callback()}}}};async.forEach=async.each;async.eachSeries=function(arr,iterator,callback){callback=callback||function(){};if(!arr.length){return callback()}var completed=0;var iterate=function(){iterator(arr[completed],function(err){if(err){callback(err);callback=function(){}}else{completed+=1;if(completed>=arr.length){callback()}else{iterate()}}})};iterate()};async.forEachSeries=async.eachSeries;async.eachLimit=function(arr,limit,iterator,callback){var fn=_eachLimit(limit);fn.apply(null,[arr,iterator,callback])};async.forEachLimit=async.eachLimit;var _eachLimit=function(limit){return function(arr,iterator,callback){callback=callback||function(){};if(!arr.length||limit<=0){return callback()}var completed=0;var started=0;var running=0;(function replenish(){if(completed>=arr.length){return callback()}while(running<limit&&started<arr.length){started+=1;running+=1;iterator(arr[started-1],function(err){if(err){callback(err);callback=function(){}}else{completed+=1;running-=1;if(completed>=arr.length){callback()}else{replenish()}}})}})()}};var doParallel=function(fn){return function(){var args=Array.prototype.slice.call(arguments);return fn.apply(null,[async.each].concat(args))}};var doParallelLimit=function(limit,fn){return function(){var args=Array.prototype.slice.call(arguments);return fn.apply(null,[_eachLimit(limit)].concat(args))}};var doSeries=function(fn){return function(){var args=Array.prototype.slice.call(arguments);return fn.apply(null,[async.eachSeries].concat(args))}};var _asyncMap=function(eachfn,arr,iterator,callback){arr=_map(arr,function(x,i){return{index:i,value:x}});if(!callback){eachfn(arr,function(x,callback){iterator(x.value,function(err){callback(err)})})}else{var results=[];eachfn(arr,function(x,callback){iterator(x.value,function(err,v){results[x.index]=v;callback(err)})},function(err){callback(err,results)})}};async.map=doParallel(_asyncMap);async.mapSeries=doSeries(_asyncMap);async.mapLimit=function(arr,limit,iterator,callback){return _mapLimit(limit)(arr,iterator,callback)};var _mapLimit=function(limit){return doParallelLimit(limit,_asyncMap)};async.reduce=function(arr,memo,iterator,callback){async.eachSeries(arr,function(x,callback){iterator(memo,x,function(err,v){memo=v;callback(err)})},function(err){callback(err,memo)})};async.inject=async.reduce;async.foldl=async.reduce;async.reduceRight=function(arr,memo,iterator,callback){var reversed=_map(arr,function(x){return x}).reverse();async.reduce(reversed,memo,iterator,callback)};async.foldr=async.reduceRight;var _filter=function(eachfn,arr,iterator,callback){var results=[];arr=_map(arr,function(x,i){return{index:i,value:x}});eachfn(arr,function(x,callback){iterator(x.value,function(v){if(v){results.push(x)}callback()})},function(err){callback(_map(results.sort(function(a,b){return a.index-b.index}),function(x){return x.value}))})};async.filter=doParallel(_filter);async.filterSeries=doSeries(_filter);async.select=async.filter;async.selectSeries=async.filterSeries;var _reject=function(eachfn,arr,iterator,callback){var results=[];arr=_map(arr,function(x,i){return{index:i,value:x}});eachfn(arr,function(x,callback){iterator(x.value,function(v){if(!v){results.push(x)}callback()})},function(err){callback(_map(results.sort(function(a,b){return a.index-b.index}),function(x){return x.value}))})};async.reject=doParallel(_reject);async.rejectSeries=doSeries(_reject);var _detect=function(eachfn,arr,iterator,main_callback){eachfn(arr,function(x,callback){iterator(x,function(result){if(result){main_callback(x);main_callback=function(){}}else{callback()}})},function(err){main_callback()})};async.detect=doParallel(_detect);async.detectSeries=doSeries(_detect);async.some=function(arr,iterator,main_callback){async.each(arr,function(x,callback){iterator(x,function(v){if(v){main_callback(true);main_callback=function(){}}callback()})},function(err){main_callback(false)})};async.any=async.some;async.every=function(arr,iterator,main_callback){async.each(arr,function(x,callback){iterator(x,function(v){if(!v){main_callback(false);main_callback=function(){}}callback()})},function(err){main_callback(true)})};async.all=async.every;async.sortBy=function(arr,iterator,callback){async.map(arr,function(x,callback){iterator(x,function(err,criteria){if(err){callback(err)}else{callback(null,{value:x,criteria:criteria})}})},function(err,results){if(err){return callback(err)}else{var fn=function(left,right){var a=left.criteria,b=right.criteria;return a<b?-1:a>b?1:0};callback(null,_map(results.sort(fn),function(x){return x.value}))}})};async.auto=function(tasks,callback){callback=callback||function(){};var keys=_keys(tasks);var remainingTasks=keys.length;if(!remainingTasks){return callback()}var results={};var listeners=[];var addListener=function(fn){listeners.unshift(fn)};var removeListener=function(fn){for(var i=0;i<listeners.length;i+=1){if(listeners[i]===fn){listeners.splice(i,1);return}}};var taskComplete=function(){remainingTasks--;_each(listeners.slice(0),function(fn){fn()})};addListener(function(){if(!remainingTasks){var theCallback=callback;callback=function(){};theCallback(null,results)}});_each(keys,function(k){var task=_isArray(tasks[k])?tasks[k]:[tasks[k]];var taskCallback=function(err){var args=Array.prototype.slice.call(arguments,1);if(args.length<=1){args=args[0]}if(err){var safeResults={};_each(_keys(results),function(rkey){safeResults[rkey]=results[rkey]});safeResults[k]=args;callback(err,safeResults);callback=function(){}}else{results[k]=args;async.setImmediate(taskComplete)}};var requires=task.slice(0,Math.abs(task.length-1))||[];var ready=function(){return _reduce(requires,function(a,x){return a&&results.hasOwnProperty(x)},true)&&!results.hasOwnProperty(k)};if(ready()){task[task.length-1](taskCallback,results)}else{var listener=function(){if(ready()){removeListener(listener);task[task.length-1](taskCallback,results)}};addListener(listener)}})};async.retry=function(times,task,callback){var DEFAULT_TIMES=5;var attempts=[];if(typeof times==="function"){callback=task;task=times;times=DEFAULT_TIMES}times=parseInt(times,10)||DEFAULT_TIMES;var wrappedTask=function(wrappedCallback,wrappedResults){var retryAttempt=function(task,finalAttempt){return function(seriesCallback){task(function(err,result){seriesCallback(!err||finalAttempt,{err:err,result:result})},wrappedResults)}};while(times){attempts.push(retryAttempt(task,!(times-=1)))}async.series(attempts,function(done,data){data=data[data.length-1];(wrappedCallback||callback)(data.err,data.result)})};return callback?wrappedTask():wrappedTask};async.waterfall=function(tasks,callback){callback=callback||function(){};if(!_isArray(tasks)){var err=new Error("First argument to waterfall must be an array of functions");return callback(err)}if(!tasks.length){return callback()}var wrapIterator=function(iterator){return function(err){if(err){callback.apply(null,arguments);callback=function(){}}else{var args=Array.prototype.slice.call(arguments,1);var next=iterator.next();if(next){args.push(wrapIterator(next))}else{args.push(callback)}async.setImmediate(function(){iterator.apply(null,args)})}}};wrapIterator(async.iterator(tasks))()};var _parallel=function(eachfn,tasks,callback){callback=callback||function(){};if(_isArray(tasks)){eachfn.map(tasks,function(fn,callback){if(fn){fn(function(err){var args=Array.prototype.slice.call(arguments,1);if(args.length<=1){args=args[0]}callback.call(null,err,args)})}},callback)}else{var results={};eachfn.each(_keys(tasks),function(k,callback){tasks[k](function(err){var args=Array.prototype.slice.call(arguments,1);if(args.length<=1){args=args[0]}results[k]=args;callback(err)})},function(err){callback(err,results)})}};async.parallel=function(tasks,callback){_parallel({map:async.map,each:async.each},tasks,callback)};async.parallelLimit=function(tasks,limit,callback){_parallel({map:_mapLimit(limit),each:_eachLimit(limit)},tasks,callback)};async.series=function(tasks,callback){callback=callback||function(){};if(_isArray(tasks)){async.mapSeries(tasks,function(fn,callback){if(fn){fn(function(err){var args=Array.prototype.slice.call(arguments,1);if(args.length<=1){args=args[0]}callback.call(null,err,args)})}},callback)}else{var results={};async.eachSeries(_keys(tasks),function(k,callback){tasks[k](function(err){var args=Array.prototype.slice.call(arguments,1);if(args.length<=1){args=args[0]}results[k]=args;callback(err)})},function(err){callback(err,results)})}};async.iterator=function(tasks){var makeCallback=function(index){var fn=function(){if(tasks.length){tasks[index].apply(null,arguments)}return fn.next()};fn.next=function(){return index<tasks.length-1?makeCallback(index+1):null};return fn};return makeCallback(0)};async.apply=function(fn){var args=Array.prototype.slice.call(arguments,1);return function(){return fn.apply(null,args.concat(Array.prototype.slice.call(arguments)))}};var _concat=function(eachfn,arr,fn,callback){var r=[];eachfn(arr,function(x,cb){fn(x,function(err,y){r=r.concat(y||[]);cb(err)})},function(err){callback(err,r)})};async.concat=doParallel(_concat);async.concatSeries=doSeries(_concat);async.whilst=function(test,iterator,callback){if(test()){iterator(function(err){if(err){return callback(err)}async.whilst(test,iterator,callback)})}else{callback()}};async.doWhilst=function(iterator,test,callback){iterator(function(err){if(err){return callback(err)}var args=Array.prototype.slice.call(arguments,1);if(test.apply(null,args)){async.doWhilst(iterator,test,callback)}else{callback()}})};async.until=function(test,iterator,callback){if(!test()){iterator(function(err){if(err){return callback(err)}async.until(test,iterator,callback)})}else{callback()}};async.doUntil=function(iterator,test,callback){iterator(function(err){if(err){return callback(err)}var args=Array.prototype.slice.call(arguments,1);if(!test.apply(null,args)){async.doUntil(iterator,test,callback)}else{callback()}})};async.queue=function(worker,concurrency){if(concurrency===undefined){concurrency=1}function _insert(q,data,pos,callback){if(!q.started){q.started=true}if(!_isArray(data)){data=[data]}if(data.length==0){return async.setImmediate(function(){if(q.drain){q.drain()}})}_each(data,function(task){var item={data:task,callback:typeof callback==="function"?callback:null};if(pos){q.tasks.unshift(item)}else{q.tasks.push(item)}if(q.saturated&&q.tasks.length===q.concurrency){q.saturated()}async.setImmediate(q.process)})}var workers=0;var q={tasks:[],concurrency:concurrency,saturated:null,empty:null,drain:null,started:false,paused:false,push:function(data,callback){_insert(q,data,false,callback)},kill:function(){q.drain=null;q.tasks=[]},unshift:function(data,callback){_insert(q,data,true,callback)},process:function(){if(!q.paused&&workers<q.concurrency&&q.tasks.length){var task=q.tasks.shift();if(q.empty&&q.tasks.length===0){q.empty()}workers+=1;var next=function(){workers-=1;if(task.callback){task.callback.apply(task,arguments)}if(q.drain&&q.tasks.length+workers===0){q.drain()}q.process()};var cb=only_once(next);worker(task.data,cb)}},length:function(){return q.tasks.length},running:function(){return workers},idle:function(){return q.tasks.length+workers===0},pause:function(){if(q.paused===true){return}q.paused=true},resume:function(){if(q.paused===false){return}q.paused=false;for(var w=1;w<=q.concurrency;w++){async.setImmediate(q.process)}}};return q};async.priorityQueue=function(worker,concurrency){function _compareTasks(a,b){return a.priority-b.priority}function _binarySearch(sequence,item,compare){var beg=-1,end=sequence.length-1;while(beg<end){var mid=beg+(end-beg+1>>>1);if(compare(item,sequence[mid])>=0){beg=mid}else{end=mid-1}}return beg}function _insert(q,data,priority,callback){if(!q.started){q.started=true}if(!_isArray(data)){data=[data]}if(data.length==0){return async.setImmediate(function(){if(q.drain){q.drain()}})}_each(data,function(task){var item={data:task,priority:priority,callback:typeof callback==="function"?callback:null};q.tasks.splice(_binarySearch(q.tasks,item,_compareTasks)+1,0,item);if(q.saturated&&q.tasks.length===q.concurrency){q.saturated()}async.setImmediate(q.process)})}var q=async.queue(worker,concurrency);q.push=function(data,priority,callback){_insert(q,data,priority,callback)};delete q.unshift;return q};async.cargo=function(worker,payload){var working=false,tasks=[];var cargo={tasks:tasks,payload:payload,saturated:null,empty:null,drain:null,drained:true,push:function(data,callback){if(!_isArray(data)){data=[data]}_each(data,function(task){tasks.push({data:task,callback:typeof callback==="function"?callback:null});cargo.drained=false;if(cargo.saturated&&tasks.length===payload){cargo.saturated()}});async.setImmediate(cargo.process)},process:function process(){if(working)return;if(tasks.length===0){if(cargo.drain&&!cargo.drained)cargo.drain();cargo.drained=true;return}var ts=typeof payload==="number"?tasks.splice(0,payload):tasks.splice(0,tasks.length);var ds=_map(ts,function(task){return task.data});if(cargo.empty)cargo.empty();working=true;worker(ds,function(){working=false;var args=arguments;_each(ts,function(data){if(data.callback){data.callback.apply(null,args)}});process()})},length:function(){return tasks.length},running:function(){return working}};return cargo};var _console_fn=function(name){return function(fn){var args=Array.prototype.slice.call(arguments,1);fn.apply(null,args.concat([function(err){var args=Array.prototype.slice.call(arguments,1);if(typeof console!=="undefined"){if(err){if(console.error){console.error(err)}}else if(console[name]){_each(args,function(x){console[name](x)})}}}]))}};async.log=_console_fn("log");async.dir=_console_fn("dir");async.memoize=function(fn,hasher){var memo={};var queues={};hasher=hasher||function(x){return x};var memoized=function(){var args=Array.prototype.slice.call(arguments);var callback=args.pop();var key=hasher.apply(null,args);if(key in memo){async.nextTick(function(){callback.apply(null,memo[key])})}else if(key in queues){queues[key].push(callback)}else{queues[key]=[callback];fn.apply(null,args.concat([function(){memo[key]=arguments;var q=queues[key];delete queues[key];for(var i=0,l=q.length;i<l;i++){q[i].apply(null,arguments)}}]))}};memoized.memo=memo;memoized.unmemoized=fn;return memoized};async.unmemoize=function(fn){return function(){return(fn.unmemoized||fn).apply(null,arguments)}};async.times=function(count,iterator,callback){var counter=[];for(var i=0;i<count;i++){counter.push(i)}return async.map(counter,iterator,callback)};async.timesSeries=function(count,iterator,callback){var counter=[];for(var i=0;i<count;i++){counter.push(i)}return async.mapSeries(counter,iterator,callback)};async.seq=function(){var fns=arguments;return function(){var that=this;var args=Array.prototype.slice.call(arguments);var callback=args.pop();async.reduce(fns,args,function(newargs,fn,cb){fn.apply(that,newargs.concat([function(){var err=arguments[0];var nextargs=Array.prototype.slice.call(arguments,1);cb(err,nextargs)}]))},function(err,results){callback.apply(that,[err].concat(results))})}};async.compose=function(){return async.seq.apply(null,Array.prototype.reverse.call(arguments))};var _applyEach=function(eachfn,fns){var go=function(){var that=this;var args=Array.prototype.slice.call(arguments);var callback=args.pop();return eachfn(fns,function(fn,cb){fn.apply(that,args.concat([cb]))},callback)};if(arguments.length>2){var args=Array.prototype.slice.call(arguments,2);return go.apply(this,args)}else{return go}};async.applyEach=doParallel(_applyEach);async.applyEachSeries=doSeries(_applyEach);async.forever=function(fn,callback){function next(err){if(err){if(callback){return callback(err)}throw err}fn(next)}next()};if(typeof module!=="undefined"&&module.exports){module.exports=async}else if(typeof define!=="undefined"&&define.amd){define([],function(){return async})}else{root.async=async}})()}).call(this,require("_process"))},{_process:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/process/browser.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/bluebird/js/browser/bluebird.js":[function(require,module,exports){(function(process,global){!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.Promise=e()}}(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof _dereq_=="function"&&_dereq_;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof _dereq_=="function"&&_dereq_;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){var SomePromiseArray=Promise._SomePromiseArray;function any(promises){var ret=new SomePromiseArray(promises);var promise=ret.promise();ret.setHowMany(1);ret.setUnwrap();ret.init();return promise}Promise.any=function(promises){return any(promises)};Promise.prototype.any=function(){return any(this)}}},{}],2:[function(_dereq_,module,exports){"use strict";var firstLineError;try{throw new Error}catch(e){firstLineError=e}var schedule=_dereq_("./schedule.js");var Queue=_dereq_("./queue.js");var util=_dereq_("./util.js");function Async(){this._isTickUsed=false;this._lateQueue=new Queue(16);this._normalQueue=new Queue(16);this._trampolineEnabled=true;var self=this;this.drainQueues=function(){self._drainQueues()};this._schedule=schedule.isStatic?schedule(this.drainQueues):schedule}Async.prototype.disableTrampolineIfNecessary=function(){if(util.hasDevTools){this._trampolineEnabled=false}};Async.prototype.enableTrampoline=function(){if(!this._trampolineEnabled){this._trampolineEnabled=true;this._schedule=function(fn){setTimeout(fn,0)}}};Async.prototype.haveItemsQueued=function(){return this._normalQueue.length()>0};Async.prototype.throwLater=function(fn,arg){if(arguments.length===1){arg=fn;fn=function(){throw arg+"\n"+arg.stack}}if(typeof setTimeout!=="undefined"){setTimeout(function(){fn(arg)},0)}else try{this._schedule(function(){fn(arg)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")}};function AsyncInvokeLater(fn,receiver,arg){this._lateQueue.push(fn,receiver,arg);this._queueTick()}function AsyncInvoke(fn,receiver,arg){this._normalQueue.push(fn,receiver,arg);this._queueTick()}function AsyncSettlePromises(promise){this._normalQueue._pushOne(promise);this._queueTick()}if(!util.hasDevTools){Async.prototype.invokeLater=AsyncInvokeLater;Async.prototype.invoke=AsyncInvoke;Async.prototype.settlePromises=AsyncSettlePromises}else{if(schedule.isStatic){schedule=function(fn){setTimeout(fn,0)}}Async.prototype.invokeLater=function(fn,receiver,arg){if(this._trampolineEnabled){AsyncInvokeLater.call(this,fn,receiver,arg)}else{this._schedule(function(){setTimeout(function(){fn.call(receiver,arg)},100)})}};Async.prototype.invoke=function(fn,receiver,arg){if(this._trampolineEnabled){AsyncInvoke.call(this,fn,receiver,arg)}else{this._schedule(function(){fn.call(receiver,arg)})}};Async.prototype.settlePromises=function(promise){if(this._trampolineEnabled){AsyncSettlePromises.call(this,promise)}else{this._schedule(function(){promise._settlePromises()})}}}Async.prototype.invokeFirst=function(fn,receiver,arg){this._normalQueue.unshift(fn,receiver,arg);this._queueTick()};Async.prototype._drainQueue=function(queue){while(queue.length()>0){var fn=queue.shift();if(typeof fn!=="function"){fn._settlePromises();continue}var receiver=queue.shift();var arg=queue.shift();fn.call(receiver,arg)}};Async.prototype._drainQueues=function(){this._drainQueue(this._normalQueue);this._reset();this._drainQueue(this._lateQueue)};Async.prototype._queueTick=function(){if(!this._isTickUsed){this._isTickUsed=true;this._schedule(this.drainQueues)}};Async.prototype._reset=function(){this._isTickUsed=false};module.exports=new Async;module.exports.firstLineError=firstLineError},{"./queue.js":28,"./schedule.js":31,"./util.js":38}],3:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise){var rejectThis=function(_,e){this._reject(e)};var targetRejected=function(e,context){context.promiseRejectionQueued=true;context.bindingPromise._then(rejectThis,rejectThis,null,this,e)};var bindingResolved=function(thisArg,context){this._setBoundTo(thisArg);if(this._isPending()){this._resolveCallback(context.target)}};var bindingRejected=function(e,context){if(!context.promiseRejectionQueued)this._reject(e)};Promise.prototype.bind=function(thisArg){var maybePromise=tryConvertToPromise(thisArg);var ret=new Promise(INTERNAL);ret._propagateFrom(this,1);var target=this._target();if(maybePromise instanceof Promise){var context={promiseRejectionQueued:false,promise:ret,target:target,bindingPromise:maybePromise};target._then(INTERNAL,targetRejected,ret._progress,ret,context);maybePromise._then(bindingResolved,bindingRejected,ret._progress,ret,context)}else{ret._setBoundTo(thisArg);ret._resolveCallback(target)}return ret};Promise.prototype._setBoundTo=function(obj){if(obj!==undefined){this._bitField=this._bitField|131072;this._boundTo=obj}else{this._bitField=this._bitField&~131072}};Promise.prototype._isBound=function(){return(this._bitField&131072)===131072};Promise.bind=function(thisArg,value){var maybePromise=tryConvertToPromise(thisArg);var ret=new Promise(INTERNAL);if(maybePromise instanceof Promise){maybePromise._then(function(thisArg){ret._setBoundTo(thisArg);ret._resolveCallback(value)},ret._reject,ret._progress,ret,null)}else{ret._setBoundTo(thisArg);ret._resolveCallback(value)}return ret}}},{}],4:[function(_dereq_,module,exports){"use strict";var old;if(typeof Promise!=="undefined")old=Promise;function noConflict(){try{if(Promise===bluebird)Promise=old}catch(e){}return bluebird}var bluebird=_dereq_("./promise.js")();bluebird.noConflict=noConflict;module.exports=bluebird},{"./promise.js":23}],5:[function(_dereq_,module,exports){"use strict";var cr=Object.create;if(cr){var callerCache=cr(null);var getterCache=cr(null);callerCache[" size"]=getterCache[" size"]=0}module.exports=function(Promise){var util=_dereq_("./util.js");var canEvaluate=util.canEvaluate;var isIdentifier=util.isIdentifier;var getMethodCaller;var getGetter;if(!true){var makeMethodCaller=function(methodName){return new Function("ensureMethod","                                    \n        return function(obj) {                                               \n            'use strict'                                                     \n            var len = this.length;                                           \n            ensureMethod(obj, 'methodName');                                 \n            switch(len) {                                                    \n                case 1: return obj.methodName(this[0]);                      \n                case 2: return obj.methodName(this[0], this[1]);             \n                case 3: return obj.methodName(this[0], this[1], this[2]);    \n                case 0: return obj.methodName();                             \n                default:                                                     \n                    return obj.methodName.apply(obj, this);                  \n            }                                                                \n        };                                                                   \n        ".replace(/methodName/g,methodName))(ensureMethod)};var makeGetter=function(propertyName){return new Function("obj","                                             \n        'use strict';                                                        \n        return obj.propertyName;                                             \n        ".replace("propertyName",propertyName))};var getCompiled=function(name,compiler,cache){var ret=cache[name];if(typeof ret!=="function"){if(!isIdentifier(name)){return null}ret=compiler(name);cache[name]=ret;cache[" size"]++;if(cache[" size"]>512){var keys=Object.keys(cache);for(var i=0;i<256;++i)delete cache[keys[i]];cache[" size"]=keys.length-256}}return ret};getMethodCaller=function(name){return getCompiled(name,makeMethodCaller,callerCache)};getGetter=function(name){return getCompiled(name,makeGetter,getterCache)}}function ensureMethod(obj,methodName){var fn;if(obj!=null)fn=obj[methodName];if(typeof fn!=="function"){var message="Object "+util.classString(obj)+" has no method '"+util.toString(methodName)+"'";throw new Promise.TypeError(message)}return fn}function caller(obj){var methodName=this.pop();var fn=ensureMethod(obj,methodName);return fn.apply(obj,this)}Promise.prototype.call=function(methodName){var $_len=arguments.length;var args=new Array($_len-1);for(var $_i=1;$_i<$_len;++$_i){args[$_i-1]=arguments[$_i]}if(!true){if(canEvaluate){var maybeCaller=getMethodCaller(methodName);if(maybeCaller!==null){return this._then(maybeCaller,undefined,undefined,args,undefined)}}}args.push(methodName);return this._then(caller,undefined,undefined,args,undefined)};function namedGetter(obj){return obj[this]}function indexedGetter(obj){var index=+this;if(index<0)index=Math.max(0,index+obj.length);return obj[index]}Promise.prototype.get=function(propertyName){var isIndex=typeof propertyName==="number";var getter;if(!isIndex){if(canEvaluate){var maybeGetter=getGetter(propertyName);getter=maybeGetter!==null?maybeGetter:namedGetter}else{getter=namedGetter}}else{getter=indexedGetter}return this._then(getter,undefined,undefined,propertyName,undefined)}}},{"./util.js":38}],6:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){var errors=_dereq_("./errors.js");var async=_dereq_("./async.js");var CancellationError=errors.CancellationError;Promise.prototype._cancel=function(reason){if(!this.isCancellable())return this;var parent;var promiseToReject=this;while((parent=promiseToReject._cancellationParent)!==undefined&&parent.isCancellable()){promiseToReject=parent}this._unsetCancellable();promiseToReject._target()._rejectCallback(reason,false,true)};Promise.prototype.cancel=function(reason){if(!this.isCancellable())return this;if(reason===undefined)reason=new CancellationError;async.invokeLater(this._cancel,this,reason);return this};Promise.prototype.cancellable=function(){if(this._cancellable())return this;async.enableTrampoline();this._setCancellable();this._cancellationParent=undefined;return this};Promise.prototype.uncancellable=function(){var ret=this.then();ret._unsetCancellable();return ret};Promise.prototype.fork=function(didFulfill,didReject,didProgress){var ret=this._then(didFulfill,didReject,didProgress,undefined,undefined);ret._setCancellable();ret._cancellationParent=undefined;return ret}}},{"./async.js":2,"./errors.js":13}],7:[function(_dereq_,module,exports){"use strict";module.exports=function(){var async=_dereq_("./async.js");var util=_dereq_("./util.js");var bluebirdFramePattern=/[\\\/]bluebird[\\\/]js[\\\/](main|debug|zalgo|instrumented)/;var stackFramePattern=null;var formatStack=null;var indentStackFrames=false;var warn;function CapturedTrace(parent){this._parent=parent;var length=this._length=1+(parent===undefined?0:parent._length);captureStackTrace(this,CapturedTrace);if(length>32)this.uncycle()}util.inherits(CapturedTrace,Error);CapturedTrace.prototype.uncycle=function(){var length=this._length;if(length<2)return;var nodes=[];var stackToIndex={};for(var i=0,node=this;node!==undefined;++i){nodes.push(node);node=node._parent}length=this._length=i;for(var i=length-1;i>=0;--i){var stack=nodes[i].stack;if(stackToIndex[stack]===undefined){stackToIndex[stack]=i}}for(var i=0;i<length;++i){var currentStack=nodes[i].stack;var index=stackToIndex[currentStack];if(index!==undefined&&index!==i){if(index>0){nodes[index-1]._parent=undefined;nodes[index-1]._length=1}nodes[i]._parent=undefined;nodes[i]._length=1;var cycleEdgeNode=i>0?nodes[i-1]:this;if(index<length-1){cycleEdgeNode._parent=nodes[index+1];cycleEdgeNode._parent.uncycle();cycleEdgeNode._length=cycleEdgeNode._parent._length+1}else{cycleEdgeNode._parent=undefined;cycleEdgeNode._length=1}var currentChildLength=cycleEdgeNode._length+1;for(var j=i-2;j>=0;--j){nodes[j]._length=currentChildLength;currentChildLength++}return}}};CapturedTrace.prototype.parent=function(){return this._parent};CapturedTrace.prototype.hasParent=function(){return this._parent!==undefined};CapturedTrace.prototype.attachExtraTrace=function(error){if(error.__stackCleaned__)return;this.uncycle();var parsed=CapturedTrace.parseStackAndMessage(error);var message=parsed.message;var stacks=[parsed.stack];var trace=this;while(trace!==undefined){stacks.push(cleanStack(trace.stack.split("\n")));trace=trace._parent}removeCommonRoots(stacks);removeDuplicateOrEmptyJumps(stacks);util.notEnumerableProp(error,"stack",reconstructStack(message,stacks));util.notEnumerableProp(error,"__stackCleaned__",true)};function reconstructStack(message,stacks){for(var i=0;i<stacks.length-1;++i){stacks[i].push("From previous event:");stacks[i]=stacks[i].join("\n")}if(i<stacks.length){stacks[i]=stacks[i].join("\n")}return message+"\n"+stacks.join("\n")}function removeDuplicateOrEmptyJumps(stacks){for(var i=0;i<stacks.length;++i){if(stacks[i].length===0||i+1<stacks.length&&stacks[i][0]===stacks[i+1][0]){stacks.splice(i,1);i--}}}function removeCommonRoots(stacks){var current=stacks[0];for(var i=1;i<stacks.length;++i){var prev=stacks[i];var currentLastIndex=current.length-1;var currentLastLine=current[currentLastIndex];var commonRootMeetPoint=-1;for(var j=prev.length-1;j>=0;--j){if(prev[j]===currentLastLine){commonRootMeetPoint=j;break}}for(var j=commonRootMeetPoint;j>=0;--j){var line=prev[j];if(current[currentLastIndex]===line){current.pop();currentLastIndex--}else{break}}current=prev}}function cleanStack(stack){var ret=[];for(var i=0;i<stack.length;++i){var line=stack[i];var isTraceLine=stackFramePattern.test(line)||"    (No stack trace)"===line;var isInternalFrame=isTraceLine&&shouldIgnore(line);if(isTraceLine&&!isInternalFrame){if(indentStackFrames&&line.charAt(0)!==" "){line="    "+line}ret.push(line)}}return ret}function stackFramesAsArray(error){var stack=error.stack.replace(/\s+$/g,"").split("\n");for(var i=0;i<stack.length;++i){var line=stack[i];if("    (No stack trace)"===line||stackFramePattern.test(line)){break}}if(i>0){stack=stack.slice(i)}return stack}CapturedTrace.parseStackAndMessage=function(error){var stack=error.stack;var message=error.toString();stack=typeof stack==="string"&&stack.length>0?stackFramesAsArray(error):["    (No stack trace)"];return{message:message,stack:cleanStack(stack)}};CapturedTrace.formatAndLogError=function(error,title){if(typeof console!=="undefined"){var message;if(typeof error==="object"||typeof error==="function"){var stack=error.stack;message=title+formatStack(stack,error)}else{message=title+String(error)}if(typeof warn==="function"){warn(message)}else if(typeof console.log==="function"||typeof console.log==="object"){console.log(message)}}};CapturedTrace.unhandledRejection=function(reason){CapturedTrace.formatAndLogError(reason,"^--- With additional stack trace: ")};CapturedTrace.isSupported=function(){return typeof captureStackTrace==="function"};CapturedTrace.fireRejectionEvent=function(name,localHandler,reason,promise){var localEventFired=false;try{if(typeof localHandler==="function"){localEventFired=true;if(name==="rejectionHandled"){localHandler(promise)}else{localHandler(reason,promise)}}}catch(e){async.throwLater(e)}var globalEventFired=false;try{globalEventFired=fireGlobalEvent(name,reason,promise)}catch(e){globalEventFired=true;async.throwLater(e)}var domEventFired=false;if(fireDomEvent){try{domEventFired=fireDomEvent(name.toLowerCase(),{reason:reason,promise:promise})}catch(e){domEventFired=true;async.throwLater(e)}}if(!globalEventFired&&!localEventFired&&!domEventFired&&name==="unhandledRejection"){CapturedTrace.formatAndLogError(reason,"Unhandled rejection ")}};function formatNonError(obj){var str;if(typeof obj==="function"){str="[function "+(obj.name||"anonymous")+"]"}else{str=obj.toString();var ruselessToString=/\[object [a-zA-Z0-9$_]+\]/;if(ruselessToString.test(str)){try{var newStr=JSON.stringify(obj);str=newStr}catch(e){}}if(str.length===0){str="(empty array)"}}return"(<"+snip(str)+">, no stack trace)"}function snip(str){var maxChars=41;if(str.length<maxChars){return str}return str.substr(0,maxChars-3)+"..."}var shouldIgnore=function(){return false};var parseLineInfoRegex=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function parseLineInfo(line){var matches=line.match(parseLineInfoRegex);if(matches){return{fileName:matches[1],line:parseInt(matches[2],10)}}}CapturedTrace.setBounds=function(firstLineError,lastLineError){if(!CapturedTrace.isSupported())return;var firstStackLines=firstLineError.stack.split("\n");var lastStackLines=lastLineError.stack.split("\n");var firstIndex=-1;var lastIndex=-1;var firstFileName;var lastFileName;for(var i=0;i<firstStackLines.length;++i){var result=parseLineInfo(firstStackLines[i]);if(result){firstFileName=result.fileName;firstIndex=result.line;break}}for(var i=0;i<lastStackLines.length;++i){var result=parseLineInfo(lastStackLines[i]);if(result){lastFileName=result.fileName;lastIndex=result.line;break}}if(firstIndex<0||lastIndex<0||!firstFileName||!lastFileName||firstFileName!==lastFileName||firstIndex>=lastIndex){return}shouldIgnore=function(line){if(bluebirdFramePattern.test(line))return true;var info=parseLineInfo(line);if(info){if(info.fileName===firstFileName&&(firstIndex<=info.line&&info.line<=lastIndex)){return true}}return false}};var captureStackTrace=function stackDetection(){var v8stackFramePattern=/^\s*at\s*/;var v8stackFormatter=function(stack,error){if(typeof stack==="string")return stack;if(error.name!==undefined&&error.message!==undefined){return error.toString()}return formatNonError(error)};if(typeof Error.stackTraceLimit==="number"&&typeof Error.captureStackTrace==="function"){Error.stackTraceLimit=Error.stackTraceLimit+6;stackFramePattern=v8stackFramePattern;formatStack=v8stackFormatter;var captureStackTrace=Error.captureStackTrace;shouldIgnore=function(line){return bluebirdFramePattern.test(line)};return function(receiver,ignoreUntil){Error.stackTraceLimit=Error.stackTraceLimit+6;captureStackTrace(receiver,ignoreUntil);Error.stackTraceLimit=Error.stackTraceLimit-6}}var err=new Error;if(typeof err.stack==="string"&&err.stack.split("\n")[0].indexOf("stackDetection@")>=0){stackFramePattern=/@/;formatStack=v8stackFormatter;indentStackFrames=true;return function captureStackTrace(o){o.stack=(new Error).stack}}var hasStackAfterThrow;try{throw new Error}catch(e){hasStackAfterThrow="stack"in e}if(!("stack"in err)&&hasStackAfterThrow&&typeof Error.stackTraceLimit==="number"){stackFramePattern=v8stackFramePattern;formatStack=v8stackFormatter;return function captureStackTrace(o){Error.stackTraceLimit=Error.stackTraceLimit+6;try{throw new Error}catch(e){o.stack=e.stack}Error.stackTraceLimit=Error.stackTraceLimit-6}}formatStack=function(stack,error){if(typeof stack==="string")return stack;if((typeof error==="object"||typeof error==="function")&&error.name!==undefined&&error.message!==undefined){return error.toString()}return formatNonError(error)};return null}([]);var fireDomEvent;var fireGlobalEvent=function(){if(util.isNode){return function(name,reason,promise){if(name==="rejectionHandled"){return process.emit(name,promise)}else{return process.emit(name,reason,promise)}}}else{var customEventWorks=false;var anyEventWorks=true;try{var ev=new self.CustomEvent("test");customEventWorks=ev instanceof CustomEvent}catch(e){}if(!customEventWorks){try{var event=document.createEvent("CustomEvent");event.initCustomEvent("testingtheevent",false,true,{});self.dispatchEvent(event)}catch(e){anyEventWorks=false}}if(anyEventWorks){fireDomEvent=function(type,detail){var event;if(customEventWorks){event=new self.CustomEvent(type,{detail:detail,bubbles:false,cancelable:true})}else if(self.dispatchEvent){event=document.createEvent("CustomEvent");event.initCustomEvent(type,false,true,detail)}return event?!self.dispatchEvent(event):false}}var toWindowMethodNameMap={};toWindowMethodNameMap["unhandledRejection"]=("on"+"unhandledRejection").toLowerCase();toWindowMethodNameMap["rejectionHandled"]=("on"+"rejectionHandled").toLowerCase();return function(name,reason,promise){var methodName=toWindowMethodNameMap[name];var method=self[methodName];if(!method)return false;if(name==="rejectionHandled"){method.call(self,promise)}else{method.call(self,reason,promise)}return true}}}();if(typeof console!=="undefined"&&typeof console.warn!=="undefined"){warn=function(message){console.warn(message)};if(util.isNode&&process.stderr.isTTY){warn=function(message){process.stderr.write("[31m"+message+"[39m\n")}}else if(!util.isNode&&typeof(new Error).stack==="string"){warn=function(message){console.warn("%c"+message,"color: red")}}}return CapturedTrace}},{"./async.js":2,"./util.js":38}],8:[function(_dereq_,module,exports){"use strict";module.exports=function(NEXT_FILTER){var util=_dereq_("./util.js");var errors=_dereq_("./errors.js");var tryCatch=util.tryCatch;var errorObj=util.errorObj;var keys=_dereq_("./es5.js").keys;var TypeError=errors.TypeError;function CatchFilter(instances,callback,promise){this._instances=instances;this._callback=callback;this._promise=promise}function safePredicate(predicate,e){var safeObject={};var retfilter=tryCatch(predicate).call(safeObject,e);if(retfilter===errorObj)return retfilter;var safeKeys=keys(safeObject);if(safeKeys.length){errorObj.e=new TypeError("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n");return errorObj}return retfilter}CatchFilter.prototype.doFilter=function(e){var cb=this._callback;var promise=this._promise;var boundTo=promise._boundTo;for(var i=0,len=this._instances.length;i<len;++i){var item=this._instances[i];var itemIsErrorType=item===Error||item!=null&&item.prototype instanceof Error;if(itemIsErrorType&&e instanceof item){var ret=tryCatch(cb).call(boundTo,e);if(ret===errorObj){NEXT_FILTER.e=ret.e;return NEXT_FILTER}return ret}else if(typeof item==="function"&&!itemIsErrorType){var shouldHandle=safePredicate(item,e);if(shouldHandle===errorObj){e=errorObj.e;break}else if(shouldHandle){var ret=tryCatch(cb).call(boundTo,e);if(ret===errorObj){NEXT_FILTER.e=ret.e;return NEXT_FILTER}return ret}}}NEXT_FILTER.e=e;return NEXT_FILTER};return CatchFilter}},{"./errors.js":13,"./es5.js":14,"./util.js":38}],9:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,CapturedTrace,isDebugging){var contextStack=[];function Context(){this._trace=new CapturedTrace(peekContext())}Context.prototype._pushContext=function(){if(!isDebugging())return;if(this._trace!==undefined){contextStack.push(this._trace)}};Context.prototype._popContext=function(){if(!isDebugging())return;if(this._trace!==undefined){contextStack.pop()}};function createContext(){if(isDebugging())return new Context}function peekContext(){var lastIndex=contextStack.length-1;if(lastIndex>=0){return contextStack[lastIndex]}return undefined}Promise.prototype._peekContext=peekContext;Promise.prototype._pushContext=Context.prototype._pushContext;Promise.prototype._popContext=Context.prototype._popContext;return createContext}},{}],10:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,CapturedTrace){var getDomain=Promise._getDomain;var async=_dereq_("./async.js");var Warning=_dereq_("./errors.js").Warning;var util=_dereq_("./util.js");var canAttachTrace=util.canAttachTrace;var unhandledRejectionHandled;var possiblyUnhandledRejection;var debugging=false||util.isNode&&(!!process.env["BLUEBIRD_DEBUG"]||process.env["NODE_ENV"]==="development");if(debugging){async.disableTrampolineIfNecessary()}Promise.prototype._ignoreRejections=function(){this._unsetRejectionIsUnhandled();this._bitField=this._bitField|16777216};Promise.prototype._ensurePossibleRejectionHandled=function(){if((this._bitField&16777216)!==0)return;this._setRejectionIsUnhandled();async.invokeLater(this._notifyUnhandledRejection,this,undefined)};Promise.prototype._notifyUnhandledRejectionIsHandled=function(){CapturedTrace.fireRejectionEvent("rejectionHandled",unhandledRejectionHandled,undefined,this)};Promise.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var reason=this._getCarriedStackTrace()||this._settledValue;this._setUnhandledRejectionIsNotified();CapturedTrace.fireRejectionEvent("unhandledRejection",possiblyUnhandledRejection,reason,this)}};Promise.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|524288};Promise.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&~524288};Promise.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&524288)>0};Promise.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|2097152};Promise.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&~2097152;if(this._isUnhandledRejectionNotified()){this._unsetUnhandledRejectionIsNotified();this._notifyUnhandledRejectionIsHandled()}};Promise.prototype._isRejectionUnhandled=function(){return(this._bitField&2097152)>0};Promise.prototype._setCarriedStackTrace=function(capturedTrace){this._bitField=this._bitField|1048576;this._fulfillmentHandler0=capturedTrace};Promise.prototype._isCarryingStackTrace=function(){return(this._bitField&1048576)>0};Promise.prototype._getCarriedStackTrace=function(){return this._isCarryingStackTrace()?this._fulfillmentHandler0:undefined};Promise.prototype._captureStackTrace=function(){if(debugging){this._trace=new CapturedTrace(this._peekContext())}return this};Promise.prototype._attachExtraTrace=function(error,ignoreSelf){if(debugging&&canAttachTrace(error)){var trace=this._trace;if(trace!==undefined){if(ignoreSelf)trace=trace._parent}if(trace!==undefined){trace.attachExtraTrace(error)}else if(!error.__stackCleaned__){var parsed=CapturedTrace.parseStackAndMessage(error);util.notEnumerableProp(error,"stack",parsed.message+"\n"+parsed.stack.join("\n"));util.notEnumerableProp(error,"__stackCleaned__",true)}}};Promise.prototype._warn=function(message){var warning=new Warning(message);var ctx=this._peekContext();if(ctx){ctx.attachExtraTrace(warning)}else{var parsed=CapturedTrace.parseStackAndMessage(warning);warning.stack=parsed.message+"\n"+parsed.stack.join("\n")}CapturedTrace.formatAndLogError(warning,"")};Promise.onPossiblyUnhandledRejection=function(fn){var domain=getDomain();possiblyUnhandledRejection=typeof fn==="function"?domain===null?fn:domain.bind(fn):undefined};Promise.onUnhandledRejectionHandled=function(fn){var domain=getDomain();unhandledRejectionHandled=typeof fn==="function"?domain===null?fn:domain.bind(fn):undefined};Promise.longStackTraces=function(){if(async.haveItemsQueued()&&debugging===false){throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/DT1qyG\n")}debugging=CapturedTrace.isSupported();if(debugging){async.disableTrampolineIfNecessary()}};Promise.hasLongStackTraces=function(){return debugging&&CapturedTrace.isSupported()};if(!CapturedTrace.isSupported()){Promise.longStackTraces=function(){};debugging=false}return function(){return debugging}}},{"./async.js":2,"./errors.js":13,"./util.js":38}],11:[function(_dereq_,module,exports){"use strict";var util=_dereq_("./util.js");var isPrimitive=util.isPrimitive;module.exports=function(Promise){var returner=function(){return this};var thrower=function(){throw this};var returnUndefined=function(){};var throwUndefined=function(){throw undefined};var wrapper=function(value,action){if(action===1){return function(){throw value}}else if(action===2){return function(){return value}}};Promise.prototype["return"]=Promise.prototype.thenReturn=function(value){if(value===undefined)return this.then(returnUndefined);if(isPrimitive(value)){return this._then(wrapper(value,2),undefined,undefined,undefined,undefined)}return this._then(returner,undefined,undefined,value,undefined)};Promise.prototype["throw"]=Promise.prototype.thenThrow=function(reason){if(reason===undefined)return this.then(throwUndefined);if(isPrimitive(reason)){return this._then(wrapper(reason,1),undefined,undefined,undefined,undefined)}return this._then(thrower,undefined,undefined,reason,undefined)}}},{"./util.js":38}],12:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){var PromiseReduce=Promise.reduce;Promise.prototype.each=function(fn){return PromiseReduce(this,fn,null,INTERNAL)};Promise.each=function(promises,fn){return PromiseReduce(promises,fn,null,INTERNAL)}}},{}],13:[function(_dereq_,module,exports){"use strict";var es5=_dereq_("./es5.js");var Objectfreeze=es5.freeze;var util=_dereq_("./util.js");var inherits=util.inherits;var notEnumerableProp=util.notEnumerableProp;function subError(nameProperty,defaultMessage){function SubError(message){if(!(this instanceof SubError))return new SubError(message);notEnumerableProp(this,"message",typeof message==="string"?message:defaultMessage);notEnumerableProp(this,"name",nameProperty);if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}else{Error.call(this)}}inherits(SubError,Error);return SubError}var _TypeError,_RangeError;var Warning=subError("Warning","warning");var CancellationError=subError("CancellationError","cancellation error");var TimeoutError=subError("TimeoutError","timeout error");var AggregateError=subError("AggregateError","aggregate error");try{_TypeError=TypeError;_RangeError=RangeError}catch(e){_TypeError=subError("TypeError","type error");_RangeError=subError("RangeError","range error")}var methods=("join pop push shift unshift slice filter forEach some "+"every map indexOf lastIndexOf reduce reduceRight sort reverse").split(" ");for(var i=0;i<methods.length;++i){if(typeof Array.prototype[methods[i]]==="function"){AggregateError.prototype[methods[i]]=Array.prototype[methods[i]]}}es5.defineProperty(AggregateError.prototype,"length",{value:0,configurable:false,writable:true,enumerable:true});AggregateError.prototype["isOperational"]=true;var level=0;AggregateError.prototype.toString=function(){var indent=Array(level*4+1).join(" ");var ret="\n"+indent+"AggregateError of:"+"\n";level++;indent=Array(level*4+1).join(" ");for(var i=0;i<this.length;++i){var str=this[i]===this?"[Circular AggregateError]":this[i]+"";var lines=str.split("\n");for(var j=0;j<lines.length;++j){lines[j]=indent+lines[j]}str=lines.join("\n");ret+=str+"\n"}level--;return ret};function OperationalError(message){if(!(this instanceof OperationalError))return new OperationalError(message);notEnumerableProp(this,"name","OperationalError");notEnumerableProp(this,"message",message);this.cause=message;this["isOperational"]=true;if(message instanceof Error){notEnumerableProp(this,"message",message.message);notEnumerableProp(this,"stack",message.stack)}else if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}}inherits(OperationalError,Error);var errorTypes=Error["__BluebirdErrorTypes__"];if(!errorTypes){errorTypes=Objectfreeze({CancellationError:CancellationError,TimeoutError:TimeoutError,OperationalError:OperationalError,RejectionError:OperationalError,AggregateError:AggregateError});notEnumerableProp(Error,"__BluebirdErrorTypes__",errorTypes)}module.exports={Error:Error,TypeError:_TypeError,RangeError:_RangeError,CancellationError:errorTypes.CancellationError,OperationalError:errorTypes.OperationalError,TimeoutError:errorTypes.TimeoutError,AggregateError:errorTypes.AggregateError,Warning:Warning}},{"./es5.js":14,"./util.js":38}],14:[function(_dereq_,module,exports){var isES5=function(){"use strict";return this===undefined}();if(isES5){module.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:isES5,propertyIsWritable:function(obj,prop){var descriptor=Object.getOwnPropertyDescriptor(obj,prop);return!!(!descriptor||descriptor.writable||descriptor.set)}}}else{var has={}.hasOwnProperty;var str={}.toString;var proto={}.constructor.prototype;var ObjectKeys=function(o){var ret=[];for(var key in o){if(has.call(o,key)){ret.push(key)}}return ret};var ObjectGetDescriptor=function(o,key){return{value:o[key]}};var ObjectDefineProperty=function(o,key,desc){o[key]=desc.value;return o};var ObjectFreeze=function(obj){return obj};var ObjectGetPrototypeOf=function(obj){try{return Object(obj).constructor.prototype}catch(e){return proto}};var ArrayIsArray=function(obj){try{return str.call(obj)==="[object Array]"}catch(e){return false}};module.exports={isArray:ArrayIsArray,keys:ObjectKeys,names:ObjectKeys,defineProperty:ObjectDefineProperty,getDescriptor:ObjectGetDescriptor,freeze:ObjectFreeze,getPrototypeOf:ObjectGetPrototypeOf,isES5:isES5,propertyIsWritable:function(){return true}}}},{}],15:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){var PromiseMap=Promise.map;Promise.prototype.filter=function(fn,options){return PromiseMap(this,fn,options,INTERNAL)};Promise.filter=function(promises,fn,options){return PromiseMap(promises,fn,options,INTERNAL)}}},{}],16:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,NEXT_FILTER,tryConvertToPromise){var util=_dereq_("./util.js");var isPrimitive=util.isPrimitive;var thrower=util.thrower;function returnThis(){return this}function throwThis(){throw this}function return$(r){return function(){return r}}function throw$(r){return function(){throw r}}function promisedFinally(ret,reasonOrValue,isFulfilled){var then;if(isPrimitive(reasonOrValue)){then=isFulfilled?return$(reasonOrValue):throw$(reasonOrValue)}else{then=isFulfilled?returnThis:throwThis}return ret._then(then,thrower,undefined,reasonOrValue,undefined)}function finallyHandler(reasonOrValue){var promise=this.promise;var handler=this.handler;var ret=promise._isBound()?handler.call(promise._boundTo):handler();if(ret!==undefined){var maybePromise=tryConvertToPromise(ret,promise);if(maybePromise instanceof Promise){maybePromise=maybePromise._target();return promisedFinally(maybePromise,reasonOrValue,promise.isFulfilled())}}if(promise.isRejected()){NEXT_FILTER.e=reasonOrValue;return NEXT_FILTER}else{return reasonOrValue}}function tapHandler(value){var promise=this.promise;var handler=this.handler;var ret=promise._isBound()?handler.call(promise._boundTo,value):handler(value);if(ret!==undefined){var maybePromise=tryConvertToPromise(ret,promise);if(maybePromise instanceof Promise){maybePromise=maybePromise._target();return promisedFinally(maybePromise,value,true)}}return value}Promise.prototype._passThroughHandler=function(handler,isFinally){if(typeof handler!=="function")return this.then();var promiseAndHandler={promise:this,handler:handler};return this._then(isFinally?finallyHandler:tapHandler,isFinally?finallyHandler:undefined,undefined,promiseAndHandler,undefined)};Promise.prototype.lastly=Promise.prototype["finally"]=function(handler){return this._passThroughHandler(handler,true)};Promise.prototype.tap=function(handler){return this._passThroughHandler(handler,false)}}},{"./util.js":38}],17:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,apiRejection,INTERNAL,tryConvertToPromise){var errors=_dereq_("./errors.js");var TypeError=errors.TypeError;var util=_dereq_("./util.js");var errorObj=util.errorObj;var tryCatch=util.tryCatch;var yieldHandlers=[];function promiseFromYieldHandler(value,yieldHandlers,traceParent){for(var i=0;i<yieldHandlers.length;++i){traceParent._pushContext();var result=tryCatch(yieldHandlers[i])(value);traceParent._popContext();if(result===errorObj){traceParent._pushContext();var ret=Promise.reject(errorObj.e);traceParent._popContext();return ret}var maybePromise=tryConvertToPromise(result,traceParent);if(maybePromise instanceof Promise)return maybePromise}return null}function PromiseSpawn(generatorFunction,receiver,yieldHandler,stack){var promise=this._promise=new Promise(INTERNAL);promise._captureStackTrace();this._stack=stack;this._generatorFunction=generatorFunction;this._receiver=receiver;this._generator=undefined;this._yieldHandlers=typeof yieldHandler==="function"?[yieldHandler].concat(yieldHandlers):yieldHandlers}PromiseSpawn.prototype.promise=function(){return this._promise};PromiseSpawn.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver);this._receiver=this._generatorFunction=undefined;this._next(undefined)};PromiseSpawn.prototype._continue=function(result){if(result===errorObj){return this._promise._rejectCallback(result.e,false,true)}var value=result.value;if(result.done===true){this._promise._resolveCallback(value)}else{var maybePromise=tryConvertToPromise(value,this._promise);if(!(maybePromise instanceof Promise)){maybePromise=promiseFromYieldHandler(maybePromise,this._yieldHandlers,this._promise);if(maybePromise===null){this._throw(new TypeError("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/4Y4pDk\n\n".replace("%s",value)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));return}}maybePromise._then(this._next,this._throw,undefined,this,null)}};PromiseSpawn.prototype._throw=function(reason){this._promise._attachExtraTrace(reason);this._promise._pushContext();var result=tryCatch(this._generator["throw"]).call(this._generator,reason);this._promise._popContext();this._continue(result)};PromiseSpawn.prototype._next=function(value){this._promise._pushContext();var result=tryCatch(this._generator.next).call(this._generator,value);this._promise._popContext();this._continue(result)};Promise.coroutine=function(generatorFunction,options){if(typeof generatorFunction!=="function"){throw new TypeError("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n")}var yieldHandler=Object(options).yieldHandler;var PromiseSpawn$=PromiseSpawn;var stack=(new Error).stack;return function(){var generator=generatorFunction.apply(this,arguments);var spawn=new PromiseSpawn$(undefined,undefined,yieldHandler,stack);spawn._generator=generator;spawn._next(undefined);return spawn.promise()}};Promise.coroutine.addYieldHandler=function(fn){if(typeof fn!=="function")throw new TypeError("fn must be a function\n\n    See http://goo.gl/916lJJ\n");yieldHandlers.push(fn)};Promise.spawn=function(generatorFunction){if(typeof generatorFunction!=="function"){return apiRejection("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n")}var spawn=new PromiseSpawn(generatorFunction,this);var ret=spawn.promise();spawn._run(Promise.spawn);return ret}}},{"./errors.js":13,"./util.js":38}],18:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,tryConvertToPromise,INTERNAL){var util=_dereq_("./util.js");var canEvaluate=util.canEvaluate;var tryCatch=util.tryCatch;var errorObj=util.errorObj;var reject;if(!true){if(canEvaluate){var thenCallback=function(i){return new Function("value","holder","                             \n            'use strict';                                                    \n            holder.pIndex = value;                                           \n            holder.checkFulfillment(this);                                   \n            ".replace(/Index/g,i))};var caller=function(count){var values=[];for(var i=1;i<=count;++i)values.push("holder.p"+i);return new Function("holder","                                      \n            'use strict';                                                    \n            var callback = holder.fn;                                        \n            return callback(values);                                         \n            ".replace(/values/g,values.join(", ")))};var thenCallbacks=[];var callers=[undefined];for(var i=1;i<=5;++i){thenCallbacks.push(thenCallback(i));callers.push(caller(i))}var Holder=function(total,fn){this.p1=this.p2=this.p3=this.p4=this.p5=null;this.fn=fn;this.total=total;this.now=0};Holder.prototype.callers=callers;Holder.prototype.checkFulfillment=function(promise){var now=this.now;now++;var total=this.total;if(now>=total){var handler=this.callers[total];promise._pushContext();var ret=tryCatch(handler)(this);promise._popContext();if(ret===errorObj){promise._rejectCallback(ret.e,false,true)}else{promise._resolveCallback(ret)}}else{this.now=now}};var reject=function(reason){this._reject(reason)}}}Promise.join=function(){var last=arguments.length-1;var fn;if(last>0&&typeof arguments[last]==="function"){fn=arguments[last];if(!true){if(last<6&&canEvaluate){var ret=new Promise(INTERNAL);ret._captureStackTrace();var holder=new Holder(last,fn);var callbacks=thenCallbacks;for(var i=0;i<last;++i){var maybePromise=tryConvertToPromise(arguments[i],ret);if(maybePromise instanceof Promise){maybePromise=maybePromise._target();if(maybePromise._isPending()){maybePromise._then(callbacks[i],reject,undefined,ret,holder)}else if(maybePromise._isFulfilled()){callbacks[i].call(ret,maybePromise._value(),holder)}else{ret._reject(maybePromise._reason())}}else{callbacks[i].call(ret,maybePromise,holder)}}return ret}}}var $_len=arguments.length;var args=new Array($_len);for(var $_i=0;$_i<$_len;++$_i){args[$_i]=arguments[$_i]}if(fn)args.pop();var ret=new PromiseArray(args).promise();return fn!==undefined?ret.spread(fn):ret}}},{"./util.js":38}],19:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL){var async=_dereq_("./async.js");var util=_dereq_("./util.js");var tryCatch=util.tryCatch;var errorObj=util.errorObj;var PENDING={};var EMPTY_ARRAY=[];function MappingPromiseArray(promises,fn,limit,_filter){this.constructor$(promises);this._promise._captureStackTrace();this._callback=fn;this._preservedValues=_filter===INTERNAL?new Array(this.length()):null;this._limit=limit;this._inFlight=0;this._queue=limit>=1?[]:EMPTY_ARRAY;async.invoke(init,this,undefined)}util.inherits(MappingPromiseArray,PromiseArray);function init(){this._init$(undefined,-2)}MappingPromiseArray.prototype._init=function(){};MappingPromiseArray.prototype._promiseFulfilled=function(value,index){var values=this._values;var length=this.length();var preservedValues=this._preservedValues;var limit=this._limit;if(values[index]===PENDING){values[index]=value;if(limit>=1){this._inFlight--;this._drainQueue();if(this._isResolved())return}}else{if(limit>=1&&this._inFlight>=limit){values[index]=value;this._queue.push(index);return}if(preservedValues!==null)preservedValues[index]=value;var callback=this._callback;var receiver=this._promise._boundTo;this._promise._pushContext();var ret=tryCatch(callback).call(receiver,value,index,length);this._promise._popContext();if(ret===errorObj)return this._reject(ret.e);var maybePromise=tryConvertToPromise(ret,this._promise);if(maybePromise instanceof Promise){maybePromise=maybePromise._target();if(maybePromise._isPending()){if(limit>=1)this._inFlight++;values[index]=PENDING;return maybePromise._proxyPromiseArray(this,index)}else if(maybePromise._isFulfilled()){ret=maybePromise._value()}else{return this._reject(maybePromise._reason())}}values[index]=ret}var totalResolved=++this._totalResolved;if(totalResolved>=length){if(preservedValues!==null){this._filter(values,preservedValues)}else{this._resolve(values)}}};MappingPromiseArray.prototype._drainQueue=function(){var queue=this._queue;var limit=this._limit;var values=this._values;while(queue.length>0&&this._inFlight<limit){if(this._isResolved())return;var index=queue.pop();this._promiseFulfilled(values[index],index)}};MappingPromiseArray.prototype._filter=function(booleans,values){var len=values.length;var ret=new Array(len);var j=0;for(var i=0;i<len;++i){if(booleans[i])ret[j++]=values[i]}ret.length=j;this._resolve(ret)};MappingPromiseArray.prototype.preservedValues=function(){return this._preservedValues};function map(promises,fn,options,_filter){var limit=typeof options==="object"&&options!==null?options.concurrency:0;limit=typeof limit==="number"&&isFinite(limit)&&limit>=1?limit:0;return new MappingPromiseArray(promises,fn,limit,_filter)}Promise.prototype.map=function(fn,options){if(typeof fn!=="function")return apiRejection("fn must be a function\n\n    See http://goo.gl/916lJJ\n");return map(this,fn,options,null).promise()};Promise.map=function(promises,fn,options,_filter){if(typeof fn!=="function")return apiRejection("fn must be a function\n\n    See http://goo.gl/916lJJ\n");return map(promises,fn,options,_filter).promise()}}},{"./async.js":2,"./util.js":38}],20:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,apiRejection){var util=_dereq_("./util.js");var tryCatch=util.tryCatch;Promise.method=function(fn){if(typeof fn!=="function"){throw new Promise.TypeError("fn must be a function\n\n    See http://goo.gl/916lJJ\n")}return function(){var ret=new Promise(INTERNAL);ret._captureStackTrace();ret._pushContext();var value=tryCatch(fn).apply(this,arguments);ret._popContext();ret._resolveFromSyncValue(value);return ret}};Promise.attempt=Promise["try"]=function(fn,args,ctx){if(typeof fn!=="function"){return apiRejection("fn must be a function\n\n    See http://goo.gl/916lJJ\n")}var ret=new Promise(INTERNAL);ret._captureStackTrace();ret._pushContext();var value=util.isArray(args)?tryCatch(fn).apply(ctx,args):tryCatch(fn).call(ctx,args);ret._popContext();ret._resolveFromSyncValue(value);return ret};Promise.prototype._resolveFromSyncValue=function(value){if(value===util.errorObj){this._rejectCallback(value.e,false,true)}else{this._resolveCallback(value,true)}}}},{"./util.js":38}],21:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){var util=_dereq_("./util.js");var async=_dereq_("./async.js");var tryCatch=util.tryCatch;var errorObj=util.errorObj;function spreadAdapter(val,nodeback){var promise=this;if(!util.isArray(val))return successAdapter.call(promise,val,nodeback);var ret=tryCatch(nodeback).apply(promise._boundTo,[null].concat(val));if(ret===errorObj){async.throwLater(ret.e)}}function successAdapter(val,nodeback){var promise=this;var receiver=promise._boundTo;var ret=val===undefined?tryCatch(nodeback).call(receiver,null):tryCatch(nodeback).call(receiver,null,val);if(ret===errorObj){async.throwLater(ret.e)}}function errorAdapter(reason,nodeback){var promise=this;if(!reason){var target=promise._target();var newReason=target._getCarriedStackTrace();newReason.cause=reason;reason=newReason}var ret=tryCatch(nodeback).call(promise._boundTo,reason);if(ret===errorObj){async.throwLater(ret.e)}}Promise.prototype.asCallback=Promise.prototype.nodeify=function(nodeback,options){if(typeof nodeback=="function"){var adapter=successAdapter;if(options!==undefined&&Object(options).spread){adapter=spreadAdapter}this._then(adapter,errorAdapter,undefined,this,nodeback)}return this}}},{"./async.js":2,"./util.js":38}],22:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray){var util=_dereq_("./util.js");var async=_dereq_("./async.js");var tryCatch=util.tryCatch;var errorObj=util.errorObj;Promise.prototype.progressed=function(handler){return this._then(undefined,undefined,handler,undefined,undefined)};Promise.prototype._progress=function(progressValue){if(this._isFollowingOrFulfilledOrRejected())return;this._target()._progressUnchecked(progressValue)};Promise.prototype._progressHandlerAt=function(index){return index===0?this._progressHandler0:this[(index<<2)+index-5+2]};Promise.prototype._doProgressWith=function(progression){var progressValue=progression.value;var handler=progression.handler;var promise=progression.promise;var receiver=progression.receiver;var ret=tryCatch(handler).call(receiver,progressValue);if(ret===errorObj){if(ret.e!=null&&ret.e.name!=="StopProgressPropagation"){var trace=util.canAttachTrace(ret.e)?ret.e:new Error(util.toString(ret.e));promise._attachExtraTrace(trace);promise._progress(ret.e)}}else if(ret instanceof Promise){ret._then(promise._progress,null,null,promise,undefined)}else{promise._progress(ret)}};Promise.prototype._progressUnchecked=function(progressValue){var len=this._length();var progress=this._progress;for(var i=0;i<len;i++){var handler=this._progressHandlerAt(i);var promise=this._promiseAt(i);if(!(promise instanceof Promise)){var receiver=this._receiverAt(i);if(typeof handler==="function"){handler.call(receiver,progressValue,promise)}else if(receiver instanceof PromiseArray&&!receiver._isResolved()){receiver._promiseProgressed(progressValue,promise)}continue}if(typeof handler==="function"){async.invoke(this._doProgressWith,this,{handler:handler,promise:promise,receiver:this._receiverAt(i),value:progressValue})}else{async.invoke(progress,promise,progressValue)}}}}},{"./async.js":2,"./util.js":38}],23:[function(_dereq_,module,exports){"use strict";module.exports=function(){var makeSelfResolutionError=function(){return new TypeError("circular promise resolution chain\n\n    See http://goo.gl/LhFpo0\n")};var reflect=function(){return new Promise.PromiseInspection(this._target())};var apiRejection=function(msg){return Promise.reject(new TypeError(msg))};var util=_dereq_("./util.js");var getDomain;if(util.isNode){getDomain=function(){var ret=process.domain;if(ret===undefined)ret=null;return ret}}else{getDomain=function(){return null}}util.notEnumerableProp(Promise,"_getDomain",getDomain);var async=_dereq_("./async.js");var errors=_dereq_("./errors.js");var TypeError=Promise.TypeError=errors.TypeError;Promise.RangeError=errors.RangeError;Promise.CancellationError=errors.CancellationError;Promise.TimeoutError=errors.TimeoutError;Promise.OperationalError=errors.OperationalError;Promise.RejectionError=errors.OperationalError;Promise.AggregateError=errors.AggregateError;var INTERNAL=function(){};var APPLY={};var NEXT_FILTER={e:null};var tryConvertToPromise=_dereq_("./thenables.js")(Promise,INTERNAL);var PromiseArray=_dereq_("./promise_array.js")(Promise,INTERNAL,tryConvertToPromise,apiRejection);var CapturedTrace=_dereq_("./captured_trace.js")();var isDebugging=_dereq_("./debuggability.js")(Promise,CapturedTrace);var createContext=_dereq_("./context.js")(Promise,CapturedTrace,isDebugging);var CatchFilter=_dereq_("./catch_filter.js")(NEXT_FILTER);var PromiseResolver=_dereq_("./promise_resolver.js");var nodebackForPromise=PromiseResolver._nodebackForPromise;var errorObj=util.errorObj;var tryCatch=util.tryCatch;function Promise(resolver){if(typeof resolver!=="function"){throw new TypeError("the promise constructor requires a resolver function\n\n    See http://goo.gl/EC22Yn\n")}if(this.constructor!==Promise){throw new TypeError("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/KsIlge\n")}this._bitField=0;this._fulfillmentHandler0=undefined;this._rejectionHandler0=undefined;this._progressHandler0=undefined;this._promise0=undefined;this._receiver0=undefined;this._settledValue=undefined;if(resolver!==INTERNAL)this._resolveFromResolver(resolver)}Promise.prototype.toString=function(){return"[object Promise]"};Promise.prototype.caught=Promise.prototype["catch"]=function(fn){var len=arguments.length;if(len>1){var catchInstances=new Array(len-1),j=0,i;for(i=0;i<len-1;++i){var item=arguments[i];if(typeof item==="function"){catchInstances[j++]=item}else{return Promise.reject(new TypeError("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"))}}catchInstances.length=j;fn=arguments[i];var catchFilter=new CatchFilter(catchInstances,fn,this);return this._then(undefined,catchFilter.doFilter,undefined,catchFilter,undefined)}return this._then(undefined,fn,undefined,undefined,undefined)};Promise.prototype.reflect=function(){return this._then(reflect,reflect,undefined,this,undefined)};Promise.prototype.then=function(didFulfill,didReject,didProgress){if(isDebugging()&&arguments.length>0&&typeof didFulfill!=="function"&&typeof didReject!=="function"){var msg=".then() only accepts functions but was passed: "+util.classString(didFulfill);if(arguments.length>1){msg+=", "+util.classString(didReject)}this._warn(msg)}return this._then(didFulfill,didReject,didProgress,undefined,undefined)};Promise.prototype.done=function(didFulfill,didReject,didProgress){var promise=this._then(didFulfill,didReject,didProgress,undefined,undefined);promise._setIsFinal()};Promise.prototype.spread=function(didFulfill,didReject){return this.all()._then(didFulfill,didReject,undefined,APPLY,undefined)};Promise.prototype.isCancellable=function(){return!this.isResolved()&&this._cancellable()};Promise.prototype.toJSON=function(){var ret={isFulfilled:false,isRejected:false,fulfillmentValue:undefined,rejectionReason:undefined};if(this.isFulfilled()){ret.fulfillmentValue=this.value();ret.isFulfilled=true}else if(this.isRejected()){ret.rejectionReason=this.reason();ret.isRejected=true}return ret};Promise.prototype.all=function(){return new PromiseArray(this).promise()};Promise.prototype.error=function(fn){return this.caught(util.originatesFromRejection,fn)};Promise.is=function(val){return val instanceof Promise};Promise.fromNode=function(fn){var ret=new Promise(INTERNAL);var result=tryCatch(fn)(nodebackForPromise(ret));if(result===errorObj){ret._rejectCallback(result.e,true,true)}return ret};Promise.all=function(promises){return new PromiseArray(promises).promise()};Promise.defer=Promise.pending=function(){var promise=new Promise(INTERNAL);return new PromiseResolver(promise)};Promise.cast=function(obj){var ret=tryConvertToPromise(obj);if(!(ret instanceof Promise)){var val=ret;ret=new Promise(INTERNAL);ret._fulfillUnchecked(val)}return ret};Promise.resolve=Promise.fulfilled=Promise.cast;Promise.reject=Promise.rejected=function(reason){var ret=new Promise(INTERNAL);ret._captureStackTrace();ret._rejectCallback(reason,true);return ret};Promise.setScheduler=function(fn){if(typeof fn!=="function")throw new TypeError("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var prev=async._schedule;async._schedule=fn;return prev};Promise.prototype._then=function(didFulfill,didReject,didProgress,receiver,internalData){var haveInternalData=internalData!==undefined;var ret=haveInternalData?internalData:new Promise(INTERNAL);if(!haveInternalData){ret._propagateFrom(this,4|1);ret._captureStackTrace()}var target=this._target();if(target!==this){if(receiver===undefined)receiver=this._boundTo;if(!haveInternalData)ret._setIsMigrated()}var callbackIndex=target._addCallbacks(didFulfill,didReject,didProgress,ret,receiver,getDomain());if(target._isResolved()&&!target._isSettlePromisesQueued()){async.invoke(target._settlePromiseAtPostResolution,target,callbackIndex)}return ret};Promise.prototype._settlePromiseAtPostResolution=function(index){if(this._isRejectionUnhandled())this._unsetRejectionIsUnhandled();this._settlePromiseAt(index)};Promise.prototype._length=function(){return this._bitField&131071};Promise.prototype._isFollowingOrFulfilledOrRejected=function(){return(this._bitField&939524096)>0};Promise.prototype._isFollowing=function(){return(this._bitField&536870912)===536870912};Promise.prototype._setLength=function(len){this._bitField=this._bitField&-131072|len&131071};Promise.prototype._setFulfilled=function(){this._bitField=this._bitField|268435456};Promise.prototype._setRejected=function(){this._bitField=this._bitField|134217728};Promise.prototype._setFollowing=function(){this._bitField=this._bitField|536870912};Promise.prototype._setIsFinal=function(){this._bitField=this._bitField|33554432};Promise.prototype._isFinal=function(){return(this._bitField&33554432)>0};Promise.prototype._cancellable=function(){return(this._bitField&67108864)>0};Promise.prototype._setCancellable=function(){this._bitField=this._bitField|67108864};Promise.prototype._unsetCancellable=function(){this._bitField=this._bitField&~67108864};Promise.prototype._setIsMigrated=function(){this._bitField=this._bitField|4194304};Promise.prototype._unsetIsMigrated=function(){this._bitField=this._bitField&~4194304};Promise.prototype._isMigrated=function(){return(this._bitField&4194304)>0};Promise.prototype._receiverAt=function(index){var ret=index===0?this._receiver0:this[index*5-5+4];if(ret===undefined&&this._isBound()){return this._boundTo}return ret};Promise.prototype._promiseAt=function(index){return index===0?this._promise0:this[index*5-5+3]};Promise.prototype._fulfillmentHandlerAt=function(index){return index===0?this._fulfillmentHandler0:this[index*5-5+0]};Promise.prototype._rejectionHandlerAt=function(index){return index===0?this._rejectionHandler0:this[index*5-5+1]};Promise.prototype._migrateCallbacks=function(follower,index){var fulfill=follower._fulfillmentHandlerAt(index);var reject=follower._rejectionHandlerAt(index);var progress=follower._progressHandlerAt(index);var promise=follower._promiseAt(index);var receiver=follower._receiverAt(index);if(promise instanceof Promise)promise._setIsMigrated();this._addCallbacks(fulfill,reject,progress,promise,receiver,null)};Promise.prototype._addCallbacks=function(fulfill,reject,progress,promise,receiver,domain){var index=this._length();if(index>=131071-5){index=0;this._setLength(0)}if(index===0){this._promise0=promise;if(receiver!==undefined)this._receiver0=receiver;if(typeof fulfill==="function"&&!this._isCarryingStackTrace()){this._fulfillmentHandler0=domain===null?fulfill:domain.bind(fulfill)}if(typeof reject==="function"){this._rejectionHandler0=domain===null?reject:domain.bind(reject)}if(typeof progress==="function"){this._progressHandler0=domain===null?progress:domain.bind(progress)}}else{var base=index*5-5;this[base+3]=promise;this[base+4]=receiver;if(typeof fulfill==="function"){this[base+0]=domain===null?fulfill:domain.bind(fulfill)}if(typeof reject==="function"){this[base+1]=domain===null?reject:domain.bind(reject)}if(typeof progress==="function"){this[base+2]=domain===null?progress:domain.bind(progress)}}this._setLength(index+1);return index};Promise.prototype._setProxyHandlers=function(receiver,promiseSlotValue){var index=this._length();if(index>=131071-5){index=0;this._setLength(0)}if(index===0){this._promise0=promiseSlotValue;this._receiver0=receiver}else{var base=index*5-5;this[base+3]=promiseSlotValue;this[base+4]=receiver}this._setLength(index+1)};Promise.prototype._proxyPromiseArray=function(promiseArray,index){this._setProxyHandlers(promiseArray,index)};Promise.prototype._resolveCallback=function(value,shouldBind){if(this._isFollowingOrFulfilledOrRejected())return;if(value===this)return this._rejectCallback(makeSelfResolutionError(),false,true);var maybePromise=tryConvertToPromise(value,this);if(!(maybePromise instanceof Promise))return this._fulfill(value);var propagationFlags=1|(shouldBind?4:0);this._propagateFrom(maybePromise,propagationFlags);var promise=maybePromise._target();if(promise._isPending()){var len=this._length();for(var i=0;i<len;++i){promise._migrateCallbacks(this,i)}this._setFollowing();this._setLength(0);this._setFollowee(promise)}else if(promise._isFulfilled()){this._fulfillUnchecked(promise._value())}else{this._rejectUnchecked(promise._reason(),promise._getCarriedStackTrace())}};Promise.prototype._rejectCallback=function(reason,synchronous,shouldNotMarkOriginatingFromRejection){if(!shouldNotMarkOriginatingFromRejection){util.markAsOriginatingFromRejection(reason)}var trace=util.ensureErrorObject(reason);var hasStack=trace===reason;this._attachExtraTrace(trace,synchronous?hasStack:false);this._reject(reason,hasStack?undefined:trace)};Promise.prototype._resolveFromResolver=function(resolver){var promise=this;this._captureStackTrace();this._pushContext();var synchronous=true;var r=tryCatch(resolver)(function(value){if(promise===null)return;promise._resolveCallback(value);promise=null},function(reason){if(promise===null)return;promise._rejectCallback(reason,synchronous);promise=null});synchronous=false;this._popContext();if(r!==undefined&&r===errorObj&&promise!==null){promise._rejectCallback(r.e,true,true);promise=null}};Promise.prototype._settlePromiseFromHandler=function(handler,receiver,value,promise){if(promise._isRejected())return;promise._pushContext();var x;if(receiver===APPLY&&!this._isRejected()){x=tryCatch(handler).apply(this._boundTo,value)}else{x=tryCatch(handler).call(receiver,value)}promise._popContext();if(x===errorObj||x===promise||x===NEXT_FILTER){var err=x===promise?makeSelfResolutionError():x.e;promise._rejectCallback(err,false,true)}else{promise._resolveCallback(x)}};Promise.prototype._target=function(){var ret=this;while(ret._isFollowing())ret=ret._followee();return ret};Promise.prototype._followee=function(){return this._rejectionHandler0};Promise.prototype._setFollowee=function(promise){this._rejectionHandler0=promise};Promise.prototype._cleanValues=function(){if(this._cancellable()){this._cancellationParent=undefined}};Promise.prototype._propagateFrom=function(parent,flags){if((flags&1)>0&&parent._cancellable()){this._setCancellable();this._cancellationParent=parent}if((flags&4)>0&&parent._isBound()){this._setBoundTo(parent._boundTo)}};Promise.prototype._fulfill=function(value){if(this._isFollowingOrFulfilledOrRejected())return;this._fulfillUnchecked(value)};Promise.prototype._reject=function(reason,carriedStackTrace){if(this._isFollowingOrFulfilledOrRejected())return;this._rejectUnchecked(reason,carriedStackTrace)};Promise.prototype._settlePromiseAt=function(index){var promise=this._promiseAt(index);var isPromise=promise instanceof Promise;if(isPromise&&promise._isMigrated()){promise._unsetIsMigrated();return async.invoke(this._settlePromiseAt,this,index)}var handler=this._isFulfilled()?this._fulfillmentHandlerAt(index):this._rejectionHandlerAt(index);var carriedStackTrace=this._isCarryingStackTrace()?this._getCarriedStackTrace():undefined;var value=this._settledValue;var receiver=this._receiverAt(index);this._clearCallbackDataAtIndex(index);if(typeof handler==="function"){if(!isPromise){handler.call(receiver,value,promise)}else{this._settlePromiseFromHandler(handler,receiver,value,promise)}}else if(receiver instanceof PromiseArray){if(!receiver._isResolved()){if(this._isFulfilled()){receiver._promiseFulfilled(value,promise)}else{receiver._promiseRejected(value,promise)}}}else if(isPromise){if(this._isFulfilled()){promise._fulfill(value)}else{promise._reject(value,carriedStackTrace)}}if(index>=4&&(index&31)===4)async.invokeLater(this._setLength,this,0)};Promise.prototype._clearCallbackDataAtIndex=function(index){if(index===0){if(!this._isCarryingStackTrace()){this._fulfillmentHandler0=undefined}this._rejectionHandler0=this._progressHandler0=this._receiver0=this._promise0=undefined}else{var base=index*5-5;this[base+3]=this[base+4]=this[base+0]=this[base+1]=this[base+2]=undefined}};Promise.prototype._isSettlePromisesQueued=function(){return(this._bitField&-1073741824)===-1073741824};Promise.prototype._setSettlePromisesQueued=function(){this._bitField=this._bitField|-1073741824};Promise.prototype._unsetSettlePromisesQueued=function(){this._bitField=this._bitField&~-1073741824};Promise.prototype._queueSettlePromises=function(){async.settlePromises(this);this._setSettlePromisesQueued()};Promise.prototype._fulfillUnchecked=function(value){if(value===this){var err=makeSelfResolutionError();this._attachExtraTrace(err);return this._rejectUnchecked(err,undefined)}this._setFulfilled();this._settledValue=value;this._cleanValues();if(this._length()>0){this._queueSettlePromises()}};Promise.prototype._rejectUncheckedCheckError=function(reason){var trace=util.ensureErrorObject(reason);this._rejectUnchecked(reason,trace===reason?undefined:trace)};Promise.prototype._rejectUnchecked=function(reason,trace){if(reason===this){var err=makeSelfResolutionError();this._attachExtraTrace(err);return this._rejectUnchecked(err)}this._setRejected();this._settledValue=reason;this._cleanValues();if(this._isFinal()){async.throwLater(function(e){if("stack"in e){async.invokeFirst(CapturedTrace.unhandledRejection,undefined,e)}throw e},trace===undefined?reason:trace);return}if(trace!==undefined&&trace!==reason){this._setCarriedStackTrace(trace)}if(this._length()>0){this._queueSettlePromises()}else{this._ensurePossibleRejectionHandled()}};Promise.prototype._settlePromises=function(){this._unsetSettlePromisesQueued();var len=this._length();for(var i=0;i<len;i++){this._settlePromiseAt(i)}};util.notEnumerableProp(Promise,"_makeSelfResolutionError",makeSelfResolutionError);_dereq_("./progress.js")(Promise,PromiseArray);_dereq_("./method.js")(Promise,INTERNAL,tryConvertToPromise,apiRejection);_dereq_("./bind.js")(Promise,INTERNAL,tryConvertToPromise);_dereq_("./finally.js")(Promise,NEXT_FILTER,tryConvertToPromise);_dereq_("./direct_resolve.js")(Promise);_dereq_("./synchronous_inspection.js")(Promise);_dereq_("./join.js")(Promise,PromiseArray,tryConvertToPromise,INTERNAL);Promise.Promise=Promise;_dereq_("./map.js")(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL);_dereq_("./cancel.js")(Promise);_dereq_("./using.js")(Promise,apiRejection,tryConvertToPromise,createContext);_dereq_("./generators.js")(Promise,apiRejection,INTERNAL,tryConvertToPromise);_dereq_("./nodeify.js")(Promise);_dereq_("./call_get.js")(Promise);_dereq_("./props.js")(Promise,PromiseArray,tryConvertToPromise,apiRejection);_dereq_("./race.js")(Promise,INTERNAL,tryConvertToPromise,apiRejection);_dereq_("./reduce.js")(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL);_dereq_("./settle.js")(Promise,PromiseArray);_dereq_("./some.js")(Promise,PromiseArray,apiRejection);_dereq_("./promisify.js")(Promise,INTERNAL);_dereq_("./any.js")(Promise);_dereq_("./each.js")(Promise,INTERNAL);_dereq_("./timers.js")(Promise,INTERNAL);_dereq_("./filter.js")(Promise,INTERNAL);util.toFastProperties(Promise);util.toFastProperties(Promise.prototype);function fillTypes(value){var p=new Promise(INTERNAL);p._fulfillmentHandler0=value;p._rejectionHandler0=value;p._progressHandler0=value;p._promise0=value;p._receiver0=value;p._settledValue=value}fillTypes({a:1});fillTypes({b:2});fillTypes({c:3});fillTypes(1);fillTypes(function(){});fillTypes(undefined);fillTypes(false);fillTypes(new Promise(INTERNAL));CapturedTrace.setBounds(async.firstLineError,util.lastLineError);return Promise}},{"./any.js":1,"./async.js":2,"./bind.js":3,"./call_get.js":5,"./cancel.js":6,"./captured_trace.js":7,"./catch_filter.js":8,"./context.js":9,"./debuggability.js":10,"./direct_resolve.js":11,"./each.js":12,"./errors.js":13,"./filter.js":15,"./finally.js":16,"./generators.js":17,"./join.js":18,"./map.js":19,"./method.js":20,"./nodeify.js":21,"./progress.js":22,"./promise_array.js":24,"./promise_resolver.js":25,"./promisify.js":26,"./props.js":27,"./race.js":29,"./reduce.js":30,"./settle.js":32,"./some.js":33,"./synchronous_inspection.js":34,"./thenables.js":35,"./timers.js":36,"./using.js":37,"./util.js":38}],24:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,apiRejection){var util=_dereq_("./util.js");var isArray=util.isArray;function toResolutionValue(val){switch(val){case-2:return[];case-3:return{}}}function PromiseArray(values){var promise=this._promise=new Promise(INTERNAL);var parent;if(values instanceof Promise){parent=values;promise._propagateFrom(parent,1|4)}this._values=values;this._length=0;this._totalResolved=0;this._init(undefined,-2)}PromiseArray.prototype.length=function(){return this._length};PromiseArray.prototype.promise=function(){return this._promise};PromiseArray.prototype._init=function init(_,resolveValueIfEmpty){var values=tryConvertToPromise(this._values,this._promise);if(values instanceof Promise){values=values._target();this._values=values;if(values._isFulfilled()){values=values._value();if(!isArray(values)){var err=new Promise.TypeError("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");this.__hardReject__(err);return}}else if(values._isPending()){values._then(init,this._reject,undefined,this,resolveValueIfEmpty);return}else{this._reject(values._reason());return}}else if(!isArray(values)){this._promise._reject(apiRejection("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n")._reason());return}if(values.length===0){if(resolveValueIfEmpty===-5){this._resolveEmptyArray()}else{this._resolve(toResolutionValue(resolveValueIfEmpty))}return}var len=this.getActualLength(values.length);this._length=len;this._values=this.shouldCopyValues()?new Array(len):this._values;var promise=this._promise;for(var i=0;i<len;++i){var isResolved=this._isResolved();var maybePromise=tryConvertToPromise(values[i],promise);if(maybePromise instanceof Promise){maybePromise=maybePromise._target();if(isResolved){maybePromise._ignoreRejections()}else if(maybePromise._isPending()){maybePromise._proxyPromiseArray(this,i)}else if(maybePromise._isFulfilled()){this._promiseFulfilled(maybePromise._value(),i)}else{this._promiseRejected(maybePromise._reason(),i)}}else if(!isResolved){this._promiseFulfilled(maybePromise,i)}}};PromiseArray.prototype._isResolved=function(){return this._values===null};PromiseArray.prototype._resolve=function(value){this._values=null;this._promise._fulfill(value)};PromiseArray.prototype.__hardReject__=PromiseArray.prototype._reject=function(reason){this._values=null;this._promise._rejectCallback(reason,false,true)};PromiseArray.prototype._promiseProgressed=function(progressValue,index){this._promise._progress({index:index,value:progressValue})};PromiseArray.prototype._promiseFulfilled=function(value,index){this._values[index]=value;var totalResolved=++this._totalResolved;if(totalResolved>=this._length){this._resolve(this._values)}};PromiseArray.prototype._promiseRejected=function(reason,index){this._totalResolved++;this._reject(reason)};PromiseArray.prototype.shouldCopyValues=function(){return true};PromiseArray.prototype.getActualLength=function(len){return len};return PromiseArray}},{"./util.js":38}],25:[function(_dereq_,module,exports){"use strict";var util=_dereq_("./util.js");var maybeWrapAsError=util.maybeWrapAsError;var errors=_dereq_("./errors.js");var TimeoutError=errors.TimeoutError;var OperationalError=errors.OperationalError;var haveGetters=util.haveGetters;var es5=_dereq_("./es5.js");function isUntypedError(obj){return obj instanceof Error&&es5.getPrototypeOf(obj)===Error.prototype}var rErrorKey=/^(?:name|message|stack|cause)$/;function wrapAsOperationalError(obj){var ret;if(isUntypedError(obj)){ret=new OperationalError(obj);ret.name=obj.name;ret.message=obj.message;ret.stack=obj.stack;var keys=es5.keys(obj);for(var i=0;i<keys.length;++i){var key=keys[i];if(!rErrorKey.test(key)){ret[key]=obj[key]}}return ret}util.markAsOriginatingFromRejection(obj);return obj}function nodebackForPromise(promise){return function(err,value){if(promise===null)return;if(err){var wrapped=wrapAsOperationalError(maybeWrapAsError(err));promise._attachExtraTrace(wrapped);promise._reject(wrapped)}else if(arguments.length>2){var $_len=arguments.length;var args=new Array($_len-1);for(var $_i=1;$_i<$_len;++$_i){args[$_i-1]=arguments[$_i]}promise._fulfill(args)}else{promise._fulfill(value)}promise=null}}var PromiseResolver;if(!haveGetters){PromiseResolver=function(promise){this.promise=promise;this.asCallback=nodebackForPromise(promise);this.callback=this.asCallback}}else{PromiseResolver=function(promise){this.promise=promise}}if(haveGetters){var prop={get:function(){return nodebackForPromise(this.promise)}};es5.defineProperty(PromiseResolver.prototype,"asCallback",prop);es5.defineProperty(PromiseResolver.prototype,"callback",prop)}PromiseResolver._nodebackForPromise=nodebackForPromise;PromiseResolver.prototype.toString=function(){return"[object PromiseResolver]"};PromiseResolver.prototype.resolve=PromiseResolver.prototype.fulfill=function(value){if(!(this instanceof PromiseResolver)){throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n")}this.promise._resolveCallback(value)};PromiseResolver.prototype.reject=function(reason){if(!(this instanceof PromiseResolver)){throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n")}this.promise._rejectCallback(reason)};PromiseResolver.prototype.progress=function(value){if(!(this instanceof PromiseResolver)){throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n")}this.promise._progress(value)};PromiseResolver.prototype.cancel=function(err){this.promise.cancel(err)};PromiseResolver.prototype.timeout=function(){this.reject(new TimeoutError("timeout"))};PromiseResolver.prototype.isResolved=function(){return this.promise.isResolved()};PromiseResolver.prototype.toJSON=function(){return this.promise.toJSON()};module.exports=PromiseResolver},{"./errors.js":13,"./es5.js":14,"./util.js":38}],26:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){var THIS={};var util=_dereq_("./util.js");var nodebackForPromise=_dereq_("./promise_resolver.js")._nodebackForPromise;var withAppended=util.withAppended;var maybeWrapAsError=util.maybeWrapAsError;var canEvaluate=util.canEvaluate;var TypeError=_dereq_("./errors").TypeError;var defaultSuffix="Async";var defaultPromisified={__isPromisified__:true};var noCopyProps=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"];var noCopyPropsPattern=new RegExp("^(?:"+noCopyProps.join("|")+")$");var defaultFilter=function(name){return util.isIdentifier(name)&&name.charAt(0)!=="_"&&name!=="constructor"};function propsFilter(key){return!noCopyPropsPattern.test(key)}function isPromisified(fn){try{return fn.__isPromisified__===true}catch(e){return false}}function hasPromisified(obj,key,suffix){var val=util.getDataPropertyOrDefault(obj,key+suffix,defaultPromisified);return val?isPromisified(val):false}function checkValid(ret,suffix,suffixRegexp){for(var i=0;i<ret.length;i+=2){var key=ret[i];if(suffixRegexp.test(key)){var keyWithoutAsyncSuffix=key.replace(suffixRegexp,"");for(var j=0;j<ret.length;j+=2){if(ret[j]===keyWithoutAsyncSuffix){throw new TypeError("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/iWrZbw\n".replace("%s",suffix))}}}}}function promisifiableMethods(obj,suffix,suffixRegexp,filter){var keys=util.inheritedDataKeys(obj);var ret=[];for(var i=0;i<keys.length;++i){var key=keys[i];var value=obj[key];var passesDefaultFilter=filter===defaultFilter?true:defaultFilter(key,value,obj);if(typeof value==="function"&&!isPromisified(value)&&!hasPromisified(obj,key,suffix)&&filter(key,value,obj,passesDefaultFilter)){ret.push(key,value)}}checkValid(ret,suffix,suffixRegexp);return ret}var escapeIdentRegex=function(str){return str.replace(/([$])/,"\\$")};var makeNodePromisifiedEval;if(!true){var switchCaseArgumentOrder=function(likelyArgumentCount){var ret=[likelyArgumentCount];var min=Math.max(0,likelyArgumentCount-1-3);for(var i=likelyArgumentCount-1;i>=min;--i){ret.push(i)}for(var i=likelyArgumentCount+1;i<=3;++i){ret.push(i)}return ret};var argumentSequence=function(argumentCount){return util.filledRange(argumentCount,"_arg","")};var parameterDeclaration=function(parameterCount){return util.filledRange(Math.max(parameterCount,3),"_arg","")};var parameterCount=function(fn){if(typeof fn.length==="number"){return Math.max(Math.min(fn.length,1023+1),0)}return 0};makeNodePromisifiedEval=function(callback,receiver,originalName,fn){var newParameterCount=Math.max(0,parameterCount(fn)-1);var argumentOrder=switchCaseArgumentOrder(newParameterCount);var shouldProxyThis=typeof callback==="string"||receiver===THIS;function generateCallForArgumentCount(count){var args=argumentSequence(count).join(", ");var comma=count>0?", ":"";var ret;if(shouldProxyThis){ret="ret = callback.call(this, {{args}}, nodeback); break;\n"}else{ret=receiver===undefined?"ret = callback({{args}}, nodeback); break;\n":"ret = callback.call(receiver, {{args}}, nodeback); break;\n"}return ret.replace("{{args}}",args).replace(", ",comma)}function generateArgumentSwitchCase(){var ret="";for(var i=0;i<argumentOrder.length;++i){ret+="case "+argumentOrder[i]+":"+generateCallForArgumentCount(argumentOrder[i])}ret+="                                                             \n        default:                                                             \n            var args = new Array(len + 1);                                   \n            var i = 0;                                                       \n            for (var i = 0; i < len; ++i) {                                  \n               args[i] = arguments[i];                                       \n            }                                                                \n            args[i] = nodeback;                                              \n            [CodeForCall]                                                    \n            break;                                                           \n        ".replace("[CodeForCall]",shouldProxyThis?"ret = callback.apply(this, args);\n":"ret = callback.apply(receiver, args);\n");return ret}var getFunctionCode=typeof callback==="string"?"this != null ? this['"+callback+"'] : fn":"fn";return new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL","'use strict';                            \n        var ret = function (Parameters) {                                    \n            'use strict';                                                    \n            var len = arguments.length;                                      \n            var promise = new Promise(INTERNAL);                             \n            promise._captureStackTrace();                                    \n            var nodeback = nodebackForPromise(promise);                      \n            var ret;                                                         \n            var callback = tryCatch([GetFunctionCode]);                      \n            switch(len) {                                                    \n                [CodeForSwitchCase]                                          \n            }                                                                \n            if (ret === errorObj) {                                          \n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\n            }                                                                \n            return promise;                                                  \n        };                                                                   \n        notEnumerableProp(ret, '__isPromisified__', true);                   \n        return ret;                                                          \n        ".replace("Parameters",parameterDeclaration(newParameterCount)).replace("[CodeForSwitchCase]",generateArgumentSwitchCase()).replace("[GetFunctionCode]",getFunctionCode))(Promise,fn,receiver,withAppended,maybeWrapAsError,nodebackForPromise,util.tryCatch,util.errorObj,util.notEnumerableProp,INTERNAL)}}function makeNodePromisifiedClosure(callback,receiver,_,fn){var defaultThis=function(){return this}();var method=callback;if(typeof method==="string"){callback=fn}function promisified(){var _receiver=receiver;if(receiver===THIS)_receiver=this;var promise=new Promise(INTERNAL);promise._captureStackTrace();var cb=typeof method==="string"&&this!==defaultThis?this[method]:callback;var fn=nodebackForPromise(promise);try{cb.apply(_receiver,withAppended(arguments,fn))}catch(e){promise._rejectCallback(maybeWrapAsError(e),true,true)}return promise}util.notEnumerableProp(promisified,"__isPromisified__",true);return promisified}var makeNodePromisified=canEvaluate?makeNodePromisifiedEval:makeNodePromisifiedClosure;function promisifyAll(obj,suffix,filter,promisifier){var suffixRegexp=new RegExp(escapeIdentRegex(suffix)+"$");var methods=promisifiableMethods(obj,suffix,suffixRegexp,filter);for(var i=0,len=methods.length;i<len;i+=2){var key=methods[i];var fn=methods[i+1];var promisifiedKey=key+suffix;obj[promisifiedKey]=promisifier===makeNodePromisified?makeNodePromisified(key,THIS,key,fn,suffix):promisifier(fn,function(){return makeNodePromisified(key,THIS,key,fn,suffix)})}util.toFastProperties(obj);return obj}function promisify(callback,receiver){return makeNodePromisified(callback,receiver,undefined,callback)}Promise.promisify=function(fn,receiver){if(typeof fn!=="function"){throw new TypeError("fn must be a function\n\n    See http://goo.gl/916lJJ\n")}if(isPromisified(fn)){return fn}var ret=promisify(fn,arguments.length<2?THIS:receiver);util.copyDescriptors(fn,ret,propsFilter);return ret};Promise.promisifyAll=function(target,options){if(typeof target!=="function"&&typeof target!=="object"){throw new TypeError("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/9ITlV0\n")}options=Object(options);var suffix=options.suffix;if(typeof suffix!=="string")suffix=defaultSuffix;var filter=options.filter;if(typeof filter!=="function")filter=defaultFilter;var promisifier=options.promisifier;if(typeof promisifier!=="function")promisifier=makeNodePromisified;if(!util.isIdentifier(suffix)){throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/8FZo5V\n")}var keys=util.inheritedDataKeys(target);for(var i=0;i<keys.length;++i){var value=target[keys[i]];if(keys[i]!=="constructor"&&util.isClass(value)){promisifyAll(value.prototype,suffix,filter,promisifier);promisifyAll(value,suffix,filter,promisifier)}}return promisifyAll(target,suffix,filter,promisifier)}}},{"./errors":13,"./promise_resolver.js":25,"./util.js":38}],27:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,tryConvertToPromise,apiRejection){var util=_dereq_("./util.js");var isObject=util.isObject;var es5=_dereq_("./es5.js");function PropertiesPromiseArray(obj){var keys=es5.keys(obj);var len=keys.length;var values=new Array(len*2);for(var i=0;i<len;++i){var key=keys[i];values[i]=obj[key];values[i+len]=key}this.constructor$(values)}util.inherits(PropertiesPromiseArray,PromiseArray);PropertiesPromiseArray.prototype._init=function(){this._init$(undefined,-3)};PropertiesPromiseArray.prototype._promiseFulfilled=function(value,index){this._values[index]=value;var totalResolved=++this._totalResolved;if(totalResolved>=this._length){var val={};var keyOffset=this.length();for(var i=0,len=this.length();i<len;++i){val[this._values[i+keyOffset]]=this._values[i]}this._resolve(val)}};PropertiesPromiseArray.prototype._promiseProgressed=function(value,index){this._promise._progress({key:this._values[index+this.length()],value:value})};PropertiesPromiseArray.prototype.shouldCopyValues=function(){return false};PropertiesPromiseArray.prototype.getActualLength=function(len){return len>>1};function props(promises){var ret;var castValue=tryConvertToPromise(promises);if(!isObject(castValue)){return apiRejection("cannot await properties of a non-object\n\n    See http://goo.gl/OsFKC8\n")}else if(castValue instanceof Promise){ret=castValue._then(Promise.props,undefined,undefined,undefined,undefined)}else{ret=new PropertiesPromiseArray(castValue).promise()}if(castValue instanceof Promise){ret._propagateFrom(castValue,4)}return ret}Promise.prototype.props=function(){return props(this)};Promise.props=function(promises){return props(promises)}}},{"./es5.js":14,"./util.js":38}],28:[function(_dereq_,module,exports){"use strict";function arrayMove(src,srcIndex,dst,dstIndex,len){for(var j=0;j<len;++j){dst[j+dstIndex]=src[j+srcIndex];src[j+srcIndex]=void 0}}function Queue(capacity){this._capacity=capacity;this._length=0;this._front=0}Queue.prototype._willBeOverCapacity=function(size){return this._capacity<size};Queue.prototype._pushOne=function(arg){var length=this.length();this._checkCapacity(length+1);var i=this._front+length&this._capacity-1;this[i]=arg;this._length=length+1};Queue.prototype._unshiftOne=function(value){var capacity=this._capacity;this._checkCapacity(this.length()+1);var front=this._front;var i=(front-1&capacity-1^capacity)-capacity;this[i]=value;this._front=i;this._length=this.length()+1};Queue.prototype.unshift=function(fn,receiver,arg){this._unshiftOne(arg);this._unshiftOne(receiver);this._unshiftOne(fn)};Queue.prototype.push=function(fn,receiver,arg){var length=this.length()+3;if(this._willBeOverCapacity(length)){this._pushOne(fn);this._pushOne(receiver);this._pushOne(arg);return}var j=this._front+length-3;this._checkCapacity(length);var wrapMask=this._capacity-1;this[j+0&wrapMask]=fn;this[j+1&wrapMask]=receiver;this[j+2&wrapMask]=arg;this._length=length};Queue.prototype.shift=function(){var front=this._front,ret=this[front];this[front]=undefined;this._front=front+1&this._capacity-1;this._length--;return ret};Queue.prototype.length=function(){return this._length};Queue.prototype._checkCapacity=function(size){if(this._capacity<size){this._resizeTo(this._capacity<<1)}};Queue.prototype._resizeTo=function(capacity){var oldCapacity=this._capacity;this._capacity=capacity;var front=this._front;var length=this._length;var moveItemsCount=front+length&oldCapacity-1;arrayMove(this,0,this,oldCapacity,moveItemsCount)};module.exports=Queue},{}],29:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,apiRejection){var isArray=_dereq_("./util.js").isArray;var raceLater=function(promise){return promise.then(function(array){return race(array,promise)})};function race(promises,parent){var maybePromise=tryConvertToPromise(promises);if(maybePromise instanceof Promise){return raceLater(maybePromise)}else if(!isArray(promises)){return apiRejection("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n")}var ret=new Promise(INTERNAL);if(parent!==undefined){ret._propagateFrom(parent,4|1)}var fulfill=ret._fulfill;var reject=ret._reject;for(var i=0,len=promises.length;i<len;++i){var val=promises[i];if(val===undefined&&!(i in promises)){continue}Promise.cast(val)._then(fulfill,reject,undefined,ret,null)}return ret}Promise.race=function(promises){return race(promises,undefined)};Promise.prototype.race=function(){return race(this,undefined)}}},{"./util.js":38}],30:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL){var async=_dereq_("./async.js");var util=_dereq_("./util.js");var tryCatch=util.tryCatch;var errorObj=util.errorObj;function ReductionPromiseArray(promises,fn,accum,_each){this.constructor$(promises);this._promise._captureStackTrace();this._preservedValues=_each===INTERNAL?[]:null;this._zerothIsAccum=accum===undefined;this._gotAccum=false;this._reducingIndex=this._zerothIsAccum?1:0;this._valuesPhase=undefined;var maybePromise=tryConvertToPromise(accum,this._promise);var rejected=false;var isPromise=maybePromise instanceof Promise;if(isPromise){maybePromise=maybePromise._target();if(maybePromise._isPending()){maybePromise._proxyPromiseArray(this,-1)}else if(maybePromise._isFulfilled()){accum=maybePromise._value();this._gotAccum=true}else{this._reject(maybePromise._reason());rejected=true}}if(!(isPromise||this._zerothIsAccum))this._gotAccum=true;this._callback=fn;this._accum=accum;if(!rejected)async.invoke(init,this,undefined)}function init(){this._init$(undefined,-5)}util.inherits(ReductionPromiseArray,PromiseArray);ReductionPromiseArray.prototype._init=function(){};ReductionPromiseArray.prototype._resolveEmptyArray=function(){if(this._gotAccum||this._zerothIsAccum){this._resolve(this._preservedValues!==null?[]:this._accum)}};ReductionPromiseArray.prototype._promiseFulfilled=function(value,index){var values=this._values;values[index]=value;var length=this.length();var preservedValues=this._preservedValues;var isEach=preservedValues!==null;var gotAccum=this._gotAccum;var valuesPhase=this._valuesPhase;var valuesPhaseIndex;if(!valuesPhase){valuesPhase=this._valuesPhase=new Array(length);for(valuesPhaseIndex=0;valuesPhaseIndex<length;++valuesPhaseIndex){valuesPhase[valuesPhaseIndex]=0}}valuesPhaseIndex=valuesPhase[index];if(index===0&&this._zerothIsAccum){this._accum=value;this._gotAccum=gotAccum=true;valuesPhase[index]=valuesPhaseIndex===0?1:2}else if(index===-1){this._accum=value;this._gotAccum=gotAccum=true}else{if(valuesPhaseIndex===0){valuesPhase[index]=1}else{valuesPhase[index]=2;this._accum=value}}if(!gotAccum)return;var callback=this._callback;var receiver=this._promise._boundTo;var ret;for(var i=this._reducingIndex;i<length;++i){valuesPhaseIndex=valuesPhase[i];if(valuesPhaseIndex===2){this._reducingIndex=i+1;continue}if(valuesPhaseIndex!==1)return;value=values[i];this._promise._pushContext();if(isEach){preservedValues.push(value);ret=tryCatch(callback).call(receiver,value,i,length)}else{ret=tryCatch(callback).call(receiver,this._accum,value,i,length)}this._promise._popContext();if(ret===errorObj)return this._reject(ret.e);var maybePromise=tryConvertToPromise(ret,this._promise);if(maybePromise instanceof Promise){maybePromise=maybePromise._target();if(maybePromise._isPending()){valuesPhase[i]=4;return maybePromise._proxyPromiseArray(this,i)}else if(maybePromise._isFulfilled()){ret=maybePromise._value()}else{return this._reject(maybePromise._reason())}}this._reducingIndex=i+1;this._accum=ret}this._resolve(isEach?preservedValues:this._accum)};function reduce(promises,fn,initialValue,_each){if(typeof fn!=="function")return apiRejection("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var array=new ReductionPromiseArray(promises,fn,initialValue,_each);return array.promise()}Promise.prototype.reduce=function(fn,initialValue){return reduce(this,fn,initialValue,null)};Promise.reduce=function(promises,fn,initialValue,_each){return reduce(promises,fn,initialValue,_each)}}},{"./async.js":2,"./util.js":38}],31:[function(_dereq_,module,exports){"use strict";var schedule;var util=_dereq_("./util");var noAsyncScheduler=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")};if(util.isNode&&typeof MutationObserver==="undefined"){var GlobalSetImmediate=global.setImmediate;var ProcessNextTick=process.nextTick;schedule=util.isRecentNode?function(fn){GlobalSetImmediate.call(global,fn)}:function(fn){ProcessNextTick.call(process,fn)}}else if(typeof MutationObserver!=="undefined"&&!(typeof window!=="undefined"&&window.navigator&&window.navigator.standalone)){schedule=function(fn){var div=document.createElement("div");var observer=new MutationObserver(fn);observer.observe(div,{attributes:true});return function(){div.classList.toggle("foo")}};schedule.isStatic=true}else if(typeof setImmediate!=="undefined"){schedule=function(fn){setImmediate(fn)}}else if(typeof setTimeout!=="undefined"){schedule=function(fn){setTimeout(fn,0)}}else{schedule=noAsyncScheduler}module.exports=schedule},{"./util":38}],32:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray){var PromiseInspection=Promise.PromiseInspection;var util=_dereq_("./util.js");function SettledPromiseArray(values){this.constructor$(values)}util.inherits(SettledPromiseArray,PromiseArray);SettledPromiseArray.prototype._promiseResolved=function(index,inspection){this._values[index]=inspection;var totalResolved=++this._totalResolved;if(totalResolved>=this._length){this._resolve(this._values)}};SettledPromiseArray.prototype._promiseFulfilled=function(value,index){var ret=new PromiseInspection;ret._bitField=268435456;ret._settledValue=value;this._promiseResolved(index,ret)};SettledPromiseArray.prototype._promiseRejected=function(reason,index){var ret=new PromiseInspection;ret._bitField=134217728;ret._settledValue=reason;this._promiseResolved(index,ret)};Promise.settle=function(promises){return new SettledPromiseArray(promises).promise()};Promise.prototype.settle=function(){return new SettledPromiseArray(this).promise()}}},{"./util.js":38}],33:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,apiRejection){var util=_dereq_("./util.js");var RangeError=_dereq_("./errors.js").RangeError;var AggregateError=_dereq_("./errors.js").AggregateError;var isArray=util.isArray;function SomePromiseArray(values){this.constructor$(values);this._howMany=0;this._unwrap=false;this._initialized=false}util.inherits(SomePromiseArray,PromiseArray);SomePromiseArray.prototype._init=function(){if(!this._initialized){return}if(this._howMany===0){this._resolve([]);return}this._init$(undefined,-5);var isArrayResolved=isArray(this._values);if(!this._isResolved()&&isArrayResolved&&this._howMany>this._canPossiblyFulfill()){this._reject(this._getRangeError(this.length()))}};SomePromiseArray.prototype.init=function(){this._initialized=true;this._init()};SomePromiseArray.prototype.setUnwrap=function(){this._unwrap=true};SomePromiseArray.prototype.howMany=function(){return this._howMany};SomePromiseArray.prototype.setHowMany=function(count){this._howMany=count};SomePromiseArray.prototype._promiseFulfilled=function(value){this._addFulfilled(value);if(this._fulfilled()===this.howMany()){this._values.length=this.howMany();if(this.howMany()===1&&this._unwrap){this._resolve(this._values[0])}else{this._resolve(this._values)}}};SomePromiseArray.prototype._promiseRejected=function(reason){this._addRejected(reason);if(this.howMany()>this._canPossiblyFulfill()){var e=new AggregateError;for(var i=this.length();i<this._values.length;++i){e.push(this._values[i])}this._reject(e)}};SomePromiseArray.prototype._fulfilled=function(){return this._totalResolved};SomePromiseArray.prototype._rejected=function(){return this._values.length-this.length()};SomePromiseArray.prototype._addRejected=function(reason){this._values.push(reason)};SomePromiseArray.prototype._addFulfilled=function(value){this._values[this._totalResolved++]=value};SomePromiseArray.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()};SomePromiseArray.prototype._getRangeError=function(count){var message="Input array must contain at least "+this._howMany+" items but contains only "+count+" items";return new RangeError(message)};SomePromiseArray.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function some(promises,howMany){if((howMany|0)!==howMany||howMany<0){return apiRejection("expecting a positive integer\n\n    See http://goo.gl/1wAmHx\n")}var ret=new SomePromiseArray(promises);var promise=ret.promise();ret.setHowMany(howMany);ret.init();return promise}Promise.some=function(promises,howMany){return some(promises,howMany)};Promise.prototype.some=function(howMany){return some(this,howMany)};Promise._SomePromiseArray=SomePromiseArray}},{"./errors.js":13,"./util.js":38}],34:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){function PromiseInspection(promise){if(promise!==undefined){promise=promise._target();this._bitField=promise._bitField;this._settledValue=promise._settledValue}else{this._bitField=0;this._settledValue=undefined}}PromiseInspection.prototype.value=function(){if(!this.isFulfilled()){throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n")}return this._settledValue};PromiseInspection.prototype.error=PromiseInspection.prototype.reason=function(){if(!this.isRejected()){throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n")}return this._settledValue};PromiseInspection.prototype.isFulfilled=Promise.prototype._isFulfilled=function(){return(this._bitField&268435456)>0};PromiseInspection.prototype.isRejected=Promise.prototype._isRejected=function(){return(this._bitField&134217728)>0};PromiseInspection.prototype.isPending=Promise.prototype._isPending=function(){return(this._bitField&402653184)===0};PromiseInspection.prototype.isResolved=Promise.prototype._isResolved=function(){return(this._bitField&402653184)>0};Promise.prototype.isPending=function(){return this._target()._isPending()};Promise.prototype.isRejected=function(){return this._target()._isRejected()};Promise.prototype.isFulfilled=function(){return this._target()._isFulfilled()};Promise.prototype.isResolved=function(){return this._target()._isResolved()};Promise.prototype._value=function(){return this._settledValue};Promise.prototype._reason=function(){this._unsetRejectionIsUnhandled();return this._settledValue};Promise.prototype.value=function(){var target=this._target();if(!target.isFulfilled()){throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n")}return target._settledValue};Promise.prototype.reason=function(){var target=this._target();if(!target.isRejected()){throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n")}target._unsetRejectionIsUnhandled();return target._settledValue};Promise.PromiseInspection=PromiseInspection}},{}],35:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){var util=_dereq_("./util.js");var errorObj=util.errorObj;var isObject=util.isObject;function tryConvertToPromise(obj,context){if(isObject(obj)){if(obj instanceof Promise){return obj}else if(isAnyBluebirdPromise(obj)){var ret=new Promise(INTERNAL);obj._then(ret._fulfillUnchecked,ret._rejectUncheckedCheckError,ret._progressUnchecked,ret,null);return ret}var then=util.tryCatch(getThen)(obj);if(then===errorObj){if(context)context._pushContext();var ret=Promise.reject(then.e);if(context)context._popContext();return ret}else if(typeof then==="function"){return doThenable(obj,then,context)}}return obj}function getThen(obj){return obj.then}var hasProp={}.hasOwnProperty;function isAnyBluebirdPromise(obj){return hasProp.call(obj,"_promise0")}function doThenable(x,then,context){var promise=new Promise(INTERNAL);var ret=promise;if(context)context._pushContext();promise._captureStackTrace();if(context)context._popContext();var synchronous=true;var result=util.tryCatch(then).call(x,resolveFromThenable,rejectFromThenable,progressFromThenable);synchronous=false;if(promise&&result===errorObj){promise._rejectCallback(result.e,true,true);promise=null}function resolveFromThenable(value){if(!promise)return;promise._resolveCallback(value);promise=null}function rejectFromThenable(reason){if(!promise)return;promise._rejectCallback(reason,synchronous,true);promise=null}function progressFromThenable(value){if(!promise)return;if(typeof promise._progress==="function"){promise._progress(value)}}return ret}return tryConvertToPromise}},{"./util.js":38}],36:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){var util=_dereq_("./util.js");var TimeoutError=Promise.TimeoutError;var afterTimeout=function(promise,message){if(!promise.isPending())return;if(typeof message!=="string"){message="operation timed out"}var err=new TimeoutError(message);util.markAsOriginatingFromRejection(err);promise._attachExtraTrace(err);promise._cancel(err)};var afterValue=function(value){return delay(+this).thenReturn(value)};var delay=Promise.delay=function(value,ms){if(ms===undefined){ms=value;value=undefined;var ret=new Promise(INTERNAL);setTimeout(function(){ret._fulfill()},ms);return ret}ms=+ms;return Promise.resolve(value)._then(afterValue,null,null,ms,undefined)};Promise.prototype.delay=function(ms){return delay(this,ms)};function successClear(value){var handle=this;if(handle instanceof Number)handle=+handle;clearTimeout(handle);return value}function failureClear(reason){var handle=this;if(handle instanceof Number)handle=+handle;clearTimeout(handle);throw reason}Promise.prototype.timeout=function(ms,message){ms=+ms;var ret=this.then().cancellable();ret._cancellationParent=this;var handle=setTimeout(function timeoutTimeout(){afterTimeout(ret,message)},ms);return ret._then(successClear,failureClear,undefined,handle,undefined)}}},{"./util.js":38}],37:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,apiRejection,tryConvertToPromise,createContext){var TypeError=_dereq_("./errors.js").TypeError;var inherits=_dereq_("./util.js").inherits;var PromiseInspection=Promise.PromiseInspection;function inspectionMapper(inspections){var len=inspections.length;for(var i=0;i<len;++i){var inspection=inspections[i];if(inspection.isRejected()){return Promise.reject(inspection.error())}inspections[i]=inspection._settledValue}return inspections}function thrower(e){setTimeout(function(){throw e},0)}function castPreservingDisposable(thenable){var maybePromise=tryConvertToPromise(thenable);if(maybePromise!==thenable&&typeof thenable._isDisposable==="function"&&typeof thenable._getDisposer==="function"&&thenable._isDisposable()){maybePromise._setDisposable(thenable._getDisposer())}return maybePromise}function dispose(resources,inspection){var i=0;var len=resources.length;var ret=Promise.defer();function iterator(){if(i>=len)return ret.resolve();var maybePromise=castPreservingDisposable(resources[i++]);if(maybePromise instanceof Promise&&maybePromise._isDisposable()){try{maybePromise=tryConvertToPromise(maybePromise._getDisposer().tryDispose(inspection),resources.promise)}catch(e){return thrower(e)}if(maybePromise instanceof Promise){return maybePromise._then(iterator,thrower,null,null,null)}}iterator()}iterator();return ret.promise}function disposerSuccess(value){var inspection=new PromiseInspection;inspection._settledValue=value;inspection._bitField=268435456;return dispose(this,inspection).thenReturn(value)}function disposerFail(reason){var inspection=new PromiseInspection;inspection._settledValue=reason;inspection._bitField=134217728;return dispose(this,inspection).thenThrow(reason)}function Disposer(data,promise,context){this._data=data;this._promise=promise;this._context=context}Disposer.prototype.data=function(){return this._data};Disposer.prototype.promise=function(){return this._promise};Disposer.prototype.resource=function(){if(this.promise().isFulfilled()){return this.promise().value()}return null};Disposer.prototype.tryDispose=function(inspection){var resource=this.resource();var context=this._context;if(context!==undefined)context._pushContext();var ret=resource!==null?this.doDispose(resource,inspection):null;if(context!==undefined)context._popContext();this._promise._unsetDisposable();this._data=null;return ret};Disposer.isDisposer=function(d){return d!=null&&typeof d.resource==="function"&&typeof d.tryDispose==="function"};function FunctionDisposer(fn,promise,context){this.constructor$(fn,promise,context)}inherits(FunctionDisposer,Disposer);FunctionDisposer.prototype.doDispose=function(resource,inspection){var fn=this.data();return fn.call(resource,resource,inspection)};function maybeUnwrapDisposer(value){if(Disposer.isDisposer(value)){this.resources[this.index]._setDisposable(value);return value.promise()}return value}Promise.using=function(){var len=arguments.length;if(len<2)return apiRejection("you must pass at least 2 arguments to Promise.using");var fn=arguments[len-1];if(typeof fn!=="function")return apiRejection("fn must be a function\n\n    See http://goo.gl/916lJJ\n");len--;var resources=new Array(len);for(var i=0;i<len;++i){var resource=arguments[i];if(Disposer.isDisposer(resource)){var disposer=resource;resource=resource.promise();resource._setDisposable(disposer)}else{var maybePromise=tryConvertToPromise(resource);if(maybePromise instanceof Promise){resource=maybePromise._then(maybeUnwrapDisposer,null,null,{resources:resources,index:i},undefined)}}resources[i]=resource}var promise=Promise.settle(resources).then(inspectionMapper).then(function(vals){promise._pushContext();var ret;try{ret=fn.apply(undefined,vals)}finally{promise._popContext()}return ret})._then(disposerSuccess,disposerFail,undefined,resources,undefined);resources.promise=promise;return promise};Promise.prototype._setDisposable=function(disposer){this._bitField=this._bitField|262144;this._disposer=disposer};Promise.prototype._isDisposable=function(){return(this._bitField&262144)>0};Promise.prototype._getDisposer=function(){return this._disposer};Promise.prototype._unsetDisposable=function(){this._bitField=this._bitField&~262144;this._disposer=undefined};Promise.prototype.disposer=function(fn){if(typeof fn==="function"){return new FunctionDisposer(fn,this,createContext())}throw new TypeError}}},{"./errors.js":13,"./util.js":38}],38:[function(_dereq_,module,exports){"use strict";var es5=_dereq_("./es5.js");var canEvaluate=typeof navigator=="undefined";var haveGetters=function(){try{var o={};es5.defineProperty(o,"f",{get:function(){return 3}});return o.f===3}catch(e){return false}}();var errorObj={e:{}};var tryCatchTarget;function tryCatcher(){try{var target=tryCatchTarget;tryCatchTarget=null;return target.apply(this,arguments)}catch(e){errorObj.e=e;return errorObj}}function tryCatch(fn){tryCatchTarget=fn;return tryCatcher}var inherits=function(Child,Parent){var hasProp={}.hasOwnProperty;function T(){this.constructor=Child;this.constructor$=Parent;for(var propertyName in Parent.prototype){if(hasProp.call(Parent.prototype,propertyName)&&propertyName.charAt(propertyName.length-1)!=="$"){this[propertyName+"$"]=Parent.prototype[propertyName]}}}T.prototype=Parent.prototype;Child.prototype=new T;return Child.prototype};function isPrimitive(val){return val==null||val===true||val===false||typeof val==="string"||typeof val==="number"}function isObject(value){return!isPrimitive(value)}function maybeWrapAsError(maybeError){if(!isPrimitive(maybeError))return maybeError;return new Error(safeToString(maybeError))}function withAppended(target,appendee){var len=target.length;var ret=new Array(len+1);var i;for(i=0;i<len;++i){ret[i]=target[i]}ret[i]=appendee;return ret}function getDataPropertyOrDefault(obj,key,defaultValue){if(es5.isES5){var desc=Object.getOwnPropertyDescriptor(obj,key);if(desc!=null){return desc.get==null&&desc.set==null?desc.value:defaultValue}}else{return{}.hasOwnProperty.call(obj,key)?obj[key]:undefined}}function notEnumerableProp(obj,name,value){if(isPrimitive(obj))return obj;var descriptor={value:value,configurable:true,enumerable:false,writable:true};es5.defineProperty(obj,name,descriptor);return obj}function thrower(r){throw r}var inheritedDataKeys=function(){var excludedPrototypes=[Array.prototype,Object.prototype,Function.prototype];var isExcludedProto=function(val){for(var i=0;i<excludedPrototypes.length;++i){if(excludedPrototypes[i]===val){return true}}return false};if(es5.isES5){var getKeys=Object.getOwnPropertyNames;return function(obj){var ret=[];var visitedKeys=Object.create(null);while(obj!=null&&!isExcludedProto(obj)){var keys;try{keys=getKeys(obj)}catch(e){return ret}for(var i=0;i<keys.length;++i){var key=keys[i];if(visitedKeys[key])continue;visitedKeys[key]=true;var desc=Object.getOwnPropertyDescriptor(obj,key);if(desc!=null&&desc.get==null&&desc.set==null){ret.push(key)}}obj=es5.getPrototypeOf(obj)}return ret}}else{var hasProp={}.hasOwnProperty;return function(obj){if(isExcludedProto(obj))return[];var ret=[];enumeration:for(var key in obj){if(hasProp.call(obj,key)){ret.push(key)}else{for(var i=0;i<excludedPrototypes.length;++i){if(hasProp.call(excludedPrototypes[i],key)){continue enumeration}}ret.push(key)}}return ret}}}();var thisAssignmentPattern=/this\s*\.\s*\S+\s*=/;function isClass(fn){try{if(typeof fn==="function"){var keys=es5.names(fn.prototype);var hasMethods=es5.isES5&&keys.length>1;var hasMethodsOtherThanConstructor=keys.length>0&&!(keys.length===1&&keys[0]==="constructor");var hasThisAssignmentAndStaticMethods=thisAssignmentPattern.test(fn+"")&&es5.names(fn).length>0;if(hasMethods||hasMethodsOtherThanConstructor||hasThisAssignmentAndStaticMethods){return true}}return false}catch(e){return false}}function toFastProperties(obj){function f(){}f.prototype=obj;var l=8;while(l--)new f;return obj;eval(obj)}var rident=/^[a-z$_][a-z$_0-9]*$/i;function isIdentifier(str){return rident.test(str)}function filledRange(count,prefix,suffix){var ret=new Array(count);for(var i=0;i<count;++i){ret[i]=prefix+i+suffix}return ret}function safeToString(obj){try{return obj+""}catch(e){return"[no string representation]"}}function markAsOriginatingFromRejection(e){try{notEnumerableProp(e,"isOperational",true)}catch(ignore){}}function originatesFromRejection(e){if(e==null)return false;return e instanceof Error["__BluebirdErrorTypes__"].OperationalError||e["isOperational"]===true}function canAttachTrace(obj){return obj instanceof Error&&es5.propertyIsWritable(obj,"stack")}var ensureErrorObject=function(){if(!("stack"in new Error)){return function(value){if(canAttachTrace(value))return value;try{throw new Error(safeToString(value))}catch(err){return err}}}else{return function(value){if(canAttachTrace(value))return value;return new Error(safeToString(value))}}}();function classString(obj){return{}.toString.call(obj)}function copyDescriptors(from,to,filter){var keys=es5.names(from);for(var i=0;i<keys.length;++i){var key=keys[i];if(filter(key)){try{es5.defineProperty(to,key,es5.getDescriptor(from,key))}catch(ignore){}}}}var ret={isClass:isClass,isIdentifier:isIdentifier,inheritedDataKeys:inheritedDataKeys,getDataPropertyOrDefault:getDataPropertyOrDefault,thrower:thrower,isArray:es5.isArray,haveGetters:haveGetters,notEnumerableProp:notEnumerableProp,isPrimitive:isPrimitive,isObject:isObject,canEvaluate:canEvaluate,errorObj:errorObj,tryCatch:tryCatch,inherits:inherits,withAppended:withAppended,maybeWrapAsError:maybeWrapAsError,toFastProperties:toFastProperties,filledRange:filledRange,toString:safeToString,canAttachTrace:canAttachTrace,ensureErrorObject:ensureErrorObject,originatesFromRejection:originatesFromRejection,markAsOriginatingFromRejection:markAsOriginatingFromRejection,classString:classString,copyDescriptors:copyDescriptors,hasDevTools:typeof chrome!=="undefined"&&chrome&&typeof chrome.loadTimes==="function",isNode:typeof process!=="undefined"&&classString(process).toLowerCase()==="[object process]"};ret.isRecentNode=ret.isNode&&function(){var version=process.versions.node.split(".").map(Number);return version[0]===0&&version[1]>10||version[0]>0}();if(ret.isNode)ret.toFastProperties(process);try{throw new Error}catch(e){ret.lastLineError=e}module.exports=ret},{"./es5.js":14}]},{},[4])(4)});if(typeof window!=="undefined"&&window!==null){window.P=window.Promise}else if(typeof self!=="undefined"&&self!==null){self.P=self.Promise}}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{_process:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/process/browser.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/browser-resolve/empty.js":[function(require,module,exports){},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js":[function(require,module,exports){var base64=require("base64-js");var ieee754=require("ieee754");var isArray=require("is-array");exports.Buffer=Buffer;exports.SlowBuffer=SlowBuffer;exports.INSPECT_MAX_BYTES=50;Buffer.poolSize=8192;var rootParent={};Buffer.TYPED_ARRAY_SUPPORT=function(){function Foo(){}try{var buf=new ArrayBuffer(0);var arr=new Uint8Array(buf);arr.foo=function(){return 42};arr.constructor=Foo;return arr.foo()===42&&arr.constructor===Foo&&typeof arr.subarray==="function"&&new Uint8Array(1).subarray(1,1).byteLength===0}catch(e){return false}}();function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Buffer(arg){if(!(this instanceof Buffer)){if(arguments.length>1)return new Buffer(arg,arguments[1]);return new Buffer(arg)}this.length=0;this.parent=undefined;if(typeof arg==="number"){return fromNumber(this,arg)}if(typeof arg==="string"){return fromString(this,arg,arguments.length>1?arguments[1]:"utf8")}return fromObject(this,arg)}function fromNumber(that,length){that=allocate(that,length<0?0:checked(length)|0);if(!Buffer.TYPED_ARRAY_SUPPORT){for(var i=0;i<length;i++){that[i]=0}}return that}function fromString(that,string,encoding){if(typeof encoding!=="string"||encoding==="")encoding="utf8";var length=byteLength(string,encoding)|0;that=allocate(that,length);that.write(string,encoding);return that}function fromObject(that,object){if(Buffer.isBuffer(object))return fromBuffer(that,object);if(isArray(object))return fromArray(that,object);if(object==null){throw new TypeError("must start with number, buffer, array or string")}if(typeof ArrayBuffer!=="undefined"&&object.buffer instanceof ArrayBuffer){return fromTypedArray(that,object)}if(object.length)return fromArrayLike(that,object);return fromJsonObject(that,object)}function fromBuffer(that,buffer){var length=checked(buffer.length)|0;that=allocate(that,length);buffer.copy(that,0,0,length);return that}function fromArray(that,array){var length=checked(array.length)|0;that=allocate(that,length);for(var i=0;i<length;i+=1){that[i]=array[i]&255}return that}function fromTypedArray(that,array){var length=checked(array.length)|0;that=allocate(that,length);for(var i=0;i<length;i+=1){that[i]=array[i]&255}return that}function fromArrayLike(that,array){var length=checked(array.length)|0;that=allocate(that,length);for(var i=0;i<length;i+=1){that[i]=array[i]&255}return that}function fromJsonObject(that,object){var array;var length=0;if(object.type==="Buffer"&&isArray(object.data)){array=object.data;length=checked(array.length)|0}that=allocate(that,length);for(var i=0;i<length;i+=1){that[i]=array[i]&255}return that}function allocate(that,length){if(Buffer.TYPED_ARRAY_SUPPORT){that=Buffer._augment(new Uint8Array(length))}else{that.length=length;that._isBuffer=true}var fromPool=length!==0&&length<=Buffer.poolSize>>>1;if(fromPool)that.parent=rootParent;return that}function checked(length){if(length>=kMaxLength()){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+kMaxLength().toString(16)+" bytes")}return length|0}function SlowBuffer(subject,encoding){if(!(this instanceof SlowBuffer))return new SlowBuffer(subject,encoding);var buf=new Buffer(subject,encoding);delete buf.parent;return buf}Buffer.isBuffer=function isBuffer(b){return!!(b!=null&&b._isBuffer)};Buffer.compare=function compare(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b)){throw new TypeError("Arguments must be Buffers")}if(a===b)return 0;var x=a.length;var y=b.length;var i=0;var len=Math.min(x,y);while(i<len){if(a[i]!==b[i])break;++i}if(i!==len){x=a[i];y=b[i]}if(x<y)return-1;if(y<x)return 1;return 0};Buffer.isEncoding=function isEncoding(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};Buffer.concat=function concat(list,length){if(!isArray(list))throw new TypeError("list argument must be an Array of Buffers.");if(list.length===0){return new Buffer(0)}else if(list.length===1){return list[0]}var i;if(length===undefined){length=0;for(i=0;i<list.length;i++){length+=list[i].length}}var buf=new Buffer(length);var pos=0;for(i=0;i<list.length;i++){var item=list[i];item.copy(buf,pos);pos+=item.length}return buf};function byteLength(string,encoding){if(typeof string!=="string")string=""+string;var len=string.length;if(len===0)return 0;var loweredCase=false;for(;;){switch(encoding){case"ascii":case"binary":case"raw":case"raws":return len;case"utf8":case"utf-8":return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return len*2;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase();loweredCase=true}}}Buffer.byteLength=byteLength;Buffer.prototype.length=undefined;Buffer.prototype.parent=undefined;function slowToString(encoding,start,end){var loweredCase=false;start=start|0;end=end===undefined||end===Infinity?this.length:end|0;if(!encoding)encoding="utf8";if(start<0)start=0;if(end>this.length)end=this.length;if(end<=start)return"";while(true){switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"binary":return binarySlice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase();loweredCase=true}}}Buffer.prototype.toString=function toString(){var length=this.length|0;if(length===0)return"";if(arguments.length===0)return utf8Slice(this,0,length);return slowToString.apply(this,arguments)};Buffer.prototype.equals=function equals(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");if(this===b)return true;return Buffer.compare(this,b)===0};Buffer.prototype.inspect=function inspect(){var str="";var max=exports.INSPECT_MAX_BYTES;if(this.length>0){str=this.toString("hex",0,max).match(/.{2}/g).join(" ");if(this.length>max)str+=" ... "}return"<Buffer "+str+">"};Buffer.prototype.compare=function compare(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");if(this===b)return 0;return Buffer.compare(this,b)};Buffer.prototype.indexOf=function indexOf(val,byteOffset){if(byteOffset>2147483647)byteOffset=2147483647;else if(byteOffset<-2147483648)byteOffset=-2147483648;byteOffset>>=0;if(this.length===0)return-1;if(byteOffset>=this.length)return-1;if(byteOffset<0)byteOffset=Math.max(this.length+byteOffset,0);if(typeof val==="string"){if(val.length===0)return-1;return String.prototype.indexOf.call(this,val,byteOffset)}if(Buffer.isBuffer(val)){return arrayIndexOf(this,val,byteOffset)}if(typeof val==="number"){if(Buffer.TYPED_ARRAY_SUPPORT&&Uint8Array.prototype.indexOf==="function"){return Uint8Array.prototype.indexOf.call(this,val,byteOffset)}return arrayIndexOf(this,[val],byteOffset)}function arrayIndexOf(arr,val,byteOffset){var foundIndex=-1;for(var i=0;byteOffset+i<arr.length;i++){if(arr[byteOffset+i]===val[foundIndex===-1?0:i-foundIndex]){if(foundIndex===-1)foundIndex=i;if(i-foundIndex+1===val.length)return byteOffset+foundIndex}else{foundIndex=-1}}return-1}throw new TypeError("val must be string, number or Buffer")};Buffer.prototype.get=function get(offset){console.log(".get() is deprecated. Access using array indexes instead.");return this.readUInt8(offset)};Buffer.prototype.set=function set(v,offset){console.log(".set() is deprecated. Access using array indexes instead.");return this.writeUInt8(v,offset)};function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;if(!length){length=remaining}else{length=Number(length);if(length>remaining){length=remaining}}var strLen=string.length;if(strLen%2!==0)throw new Error("Invalid hex string");if(length>strLen/2){length=strLen/2}for(var i=0;i<length;i++){var parsed=parseInt(string.substr(i*2,2),16);if(isNaN(parsed))throw new Error("Invalid hex string");buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function binaryWrite(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}Buffer.prototype.write=function write(string,offset,length,encoding){if(offset===undefined){encoding="utf8";length=this.length;offset=0}else if(length===undefined&&typeof offset==="string"){encoding=offset;length=this.length;offset=0}else if(isFinite(offset)){offset=offset|0;if(isFinite(length)){length=length|0;if(encoding===undefined)encoding="utf8"}else{encoding=length;length=undefined}}else{var swap=encoding;encoding=offset;offset=length|0;length=swap}var remaining=this.length-offset;if(length===undefined||length>remaining)length=remaining;if(string.length>0&&(length<0||offset<0)||offset>this.length){throw new RangeError("attempt to write outside buffer bounds")}if(!encoding)encoding="utf8";var loweredCase=false;for(;;){switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"binary":return binaryWrite(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase();loweredCase=true}}};Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function base64Slice(buf,start,end){if(start===0&&end===buf.length){return base64.fromByteArray(buf)}else{return base64.fromByteArray(buf.slice(start,end))}}function utf8Slice(buf,start,end){var res="";var tmp="";end=Math.min(buf.length,end);for(var i=start;i<end;i++){if(buf[i]<=127){res+=decodeUtf8Char(tmp)+String.fromCharCode(buf[i]);tmp=""}else{tmp+="%"+buf[i].toString(16)}}return res+decodeUtf8Char(tmp)}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;i++){ret+=String.fromCharCode(buf[i]&127)}return ret}function binarySlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;i++){ret+=String.fromCharCode(buf[i])}return ret}function hexSlice(buf,start,end){var len=buf.length;if(!start||start<0)start=0;if(!end||end<0||end>len)end=len;var out="";for(var i=start;i<end;i++){out+=toHex(buf[i])}return out}function utf16leSlice(buf,start,end){var bytes=buf.slice(start,end);var res="";for(var i=0;i<bytes.length;i+=2){res+=String.fromCharCode(bytes[i]+bytes[i+1]*256)}return res}Buffer.prototype.slice=function slice(start,end){var len=this.length;start=~~start;end=end===undefined?len:~~end;if(start<0){start+=len;if(start<0)start=0}else if(start>len){start=len}if(end<0){end+=len;if(end<0)end=0}else if(end>len){end=len}if(end<start)end=start;var newBuf;if(Buffer.TYPED_ARRAY_SUPPORT){newBuf=Buffer._augment(this.subarray(start,end))}else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,undefined);for(var i=0;i<sliceLen;i++){newBuf[i]=this[i+start]}}if(newBuf.length)newBuf.parent=this.parent||this;return newBuf};function checkOffset(offset,ext,length){if(offset%1!==0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}Buffer.prototype.readUIntLE=function readUIntLE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}return val};Buffer.prototype.readUIntBE=function readUIntBE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert){checkOffset(offset,byteLength,this.length)}var val=this[offset+--byteLength];var mul=1;while(byteLength>0&&(mul*=256)){val+=this[offset+--byteLength]*mul}return val};Buffer.prototype.readUInt8=function readUInt8(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length);return this[offset]};Buffer.prototype.readUInt16LE=function readUInt16LE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);return this[offset]|this[offset+1]<<8};Buffer.prototype.readUInt16BE=function readUInt16BE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);return this[offset]<<8|this[offset+1]};Buffer.prototype.readUInt32LE=function readUInt32LE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+this[offset+3]*16777216};Buffer.prototype.readUInt32BE=function readUInt32BE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]*16777216+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])};Buffer.prototype.readIntLE=function readIntLE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readIntBE=function readIntBE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var i=byteLength;var mul=1;var val=this[offset+--i];while(i>0&&(mul*=256)){val+=this[offset+--i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readInt8=function readInt8(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length);if(!(this[offset]&128))return this[offset];return(255-this[offset]+1)*-1};Buffer.prototype.readInt16LE=function readInt16LE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt16BE=function readInt16BE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt32LE=function readInt32LE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24};Buffer.prototype.readInt32BE=function readInt32BE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]};Buffer.prototype.readFloatLE=function readFloatLE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,true,23,4)};Buffer.prototype.readFloatBE=function readFloatBE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,false,23,4)};Buffer.prototype.readDoubleLE=function readDoubleLE(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,true,52,8)};Buffer.prototype.readDoubleBE=function readDoubleBE(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,false,52,8)};function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError("buffer must be a Buffer instance");if(value>max||value<min)throw new RangeError("value is out of bounds");if(offset+ext>buf.length)throw new RangeError("index out of range")}Buffer.prototype.writeUIntLE=function writeUIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength),0);var mul=1;var i=0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){this[offset+i]=value/mul&255}return offset+byteLength};Buffer.prototype.writeUIntBE=function writeUIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength),0);var i=byteLength-1;var mul=1;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){this[offset+i]=value/mul&255}return offset+byteLength};Buffer.prototype.writeUInt8=function writeUInt8(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,1,255,0);if(!Buffer.TYPED_ARRAY_SUPPORT)value=Math.floor(value);this[offset]=value;return offset+1};function objectWriteUInt16(buf,value,offset,littleEndian){if(value<0)value=65535+value+1;for(var i=0,j=Math.min(buf.length-offset,2);i<j;i++){buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>(littleEndian?i:1-i)*8}}Buffer.prototype.writeUInt16LE=function writeUInt16LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,65535,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value;this[offset+1]=value>>>8}else{objectWriteUInt16(this,value,offset,true)}return offset+2};Buffer.prototype.writeUInt16BE=function writeUInt16BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,65535,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>8;this[offset+1]=value}else{objectWriteUInt16(this,value,offset,false)}return offset+2};function objectWriteUInt32(buf,value,offset,littleEndian){if(value<0)value=4294967295+value+1;for(var i=0,j=Math.min(buf.length-offset,4);i<j;i++){buf[offset+i]=value>>>(littleEndian?i:3-i)*8&255}}Buffer.prototype.writeUInt32LE=function writeUInt32LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset+3]=value>>>24;this[offset+2]=value>>>16;this[offset+1]=value>>>8;this[offset]=value}else{objectWriteUInt32(this,value,offset,true)}return offset+4};Buffer.prototype.writeUInt32BE=function writeUInt32BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value}else{objectWriteUInt32(this,value,offset,false)}return offset+4};Buffer.prototype.writeIntLE=function writeIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0;var mul=1;var sub=value<0?1:0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeIntBE=function writeIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1;var mul=1;var sub=value<0?1:0;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeInt8=function writeInt8(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,1,127,-128);if(!Buffer.TYPED_ARRAY_SUPPORT)value=Math.floor(value);if(value<0)value=255+value+1;this[offset]=value;return offset+1};Buffer.prototype.writeInt16LE=function writeInt16LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value;this[offset+1]=value>>>8}else{objectWriteUInt16(this,value,offset,true)}return offset+2};Buffer.prototype.writeInt16BE=function writeInt16BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>8;this[offset+1]=value}else{objectWriteUInt16(this,value,offset,false)}return offset+2};Buffer.prototype.writeInt32LE=function writeInt32LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value;this[offset+1]=value>>>8;this[offset+2]=value>>>16;this[offset+3]=value>>>24}else{objectWriteUInt32(this,value,offset,true)}return offset+4};Buffer.prototype.writeInt32BE=function writeInt32BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(value<0)value=4294967295+value+1;if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value}else{objectWriteUInt32(this,value,offset,false)}return offset+4};function checkIEEE754(buf,value,offset,ext,max,min){if(value>max||value<min)throw new RangeError("value is out of bounds");if(offset+ext>buf.length)throw new RangeError("index out of range");if(offset<0)throw new RangeError("index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){if(!noAssert){checkIEEE754(buf,value,offset,4,34028234663852886e22,-34028234663852886e22)}ieee754.write(buf,value,offset,littleEndian,23,4);return offset+4}Buffer.prototype.writeFloatLE=function writeFloatLE(value,offset,noAssert){return writeFloat(this,value,offset,true,noAssert)};Buffer.prototype.writeFloatBE=function writeFloatBE(value,offset,noAssert){return writeFloat(this,value,offset,false,noAssert)};function writeDouble(buf,value,offset,littleEndian,noAssert){if(!noAssert){checkIEEE754(buf,value,offset,8,17976931348623157e292,-17976931348623157e292)}ieee754.write(buf,value,offset,littleEndian,52,8);return offset+8}Buffer.prototype.writeDoubleLE=function writeDoubleLE(value,offset,noAssert){return writeDouble(this,value,offset,true,noAssert)};Buffer.prototype.writeDoubleBE=function writeDoubleBE(value,offset,noAssert){return writeDouble(this,value,offset,false,noAssert)};Buffer.prototype.copy=function copy(target,targetStart,start,end){if(!start)start=0;if(!end&&end!==0)end=this.length;if(targetStart>=target.length)targetStart=target.length;if(!targetStart)targetStart=0;if(end>0&&end<start)end=start;if(end===start)return 0;if(target.length===0||this.length===0)return 0;if(targetStart<0){throw new RangeError("targetStart out of bounds")}if(start<0||start>=this.length)throw new RangeError("sourceStart out of bounds");if(end<0)throw new RangeError("sourceEnd out of bounds");if(end>this.length)end=this.length;if(target.length-targetStart<end-start){end=target.length-targetStart+start}var len=end-start;if(len<1e3||!Buffer.TYPED_ARRAY_SUPPORT){for(var i=0;i<len;i++){target[i+targetStart]=this[i+start]}}else{target._set(this.subarray(start,start+len),targetStart)}return len};Buffer.prototype.fill=function fill(value,start,end){if(!value)value=0;if(!start)start=0;if(!end)end=this.length;if(end<start)throw new RangeError("end < start");if(end===start)return;if(this.length===0)return;if(start<0||start>=this.length)throw new RangeError("start out of bounds");if(end<0||end>this.length)throw new RangeError("end out of bounds");var i;if(typeof value==="number"){for(i=start;i<end;i++){this[i]=value}}else{var bytes=utf8ToBytes(value.toString());var len=bytes.length;for(i=start;i<end;i++){this[i]=bytes[i%len]}}return this};Buffer.prototype.toArrayBuffer=function toArrayBuffer(){if(typeof Uint8Array!=="undefined"){if(Buffer.TYPED_ARRAY_SUPPORT){return new Buffer(this).buffer}else{var buf=new Uint8Array(this.length);for(var i=0,len=buf.length;i<len;i+=1){buf[i]=this[i]}return buf.buffer}}else{throw new TypeError("Buffer.toArrayBuffer not supported in this browser")}};var BP=Buffer.prototype;Buffer._augment=function _augment(arr){arr.constructor=Buffer;arr._isBuffer=true;arr._set=arr.set;arr.get=BP.get;arr.set=BP.set;arr.write=BP.write;arr.toString=BP.toString;arr.toLocaleString=BP.toString;arr.toJSON=BP.toJSON;arr.equals=BP.equals;arr.compare=BP.compare;arr.indexOf=BP.indexOf;arr.copy=BP.copy;arr.slice=BP.slice;arr.readUIntLE=BP.readUIntLE;arr.readUIntBE=BP.readUIntBE;arr.readUInt8=BP.readUInt8;arr.readUInt16LE=BP.readUInt16LE;arr.readUInt16BE=BP.readUInt16BE;arr.readUInt32LE=BP.readUInt32LE;arr.readUInt32BE=BP.readUInt32BE;arr.readIntLE=BP.readIntLE;arr.readIntBE=BP.readIntBE;arr.readInt8=BP.readInt8;arr.readInt16LE=BP.readInt16LE;arr.readInt16BE=BP.readInt16BE;arr.readInt32LE=BP.readInt32LE;arr.readInt32BE=BP.readInt32BE;arr.readFloatLE=BP.readFloatLE;arr.readFloatBE=BP.readFloatBE;arr.readDoubleLE=BP.readDoubleLE;arr.readDoubleBE=BP.readDoubleBE;arr.writeUInt8=BP.writeUInt8;arr.writeUIntLE=BP.writeUIntLE;arr.writeUIntBE=BP.writeUIntBE;arr.writeUInt16LE=BP.writeUInt16LE;arr.writeUInt16BE=BP.writeUInt16BE;arr.writeUInt32LE=BP.writeUInt32LE;arr.writeUInt32BE=BP.writeUInt32BE;arr.writeIntLE=BP.writeIntLE;arr.writeIntBE=BP.writeIntBE;arr.writeInt8=BP.writeInt8;arr.writeInt16LE=BP.writeInt16LE;arr.writeInt16BE=BP.writeInt16BE;arr.writeInt32LE=BP.writeInt32LE;arr.writeInt32BE=BP.writeInt32BE;arr.writeFloatLE=BP.writeFloatLE;arr.writeFloatBE=BP.writeFloatBE;arr.writeDoubleLE=BP.writeDoubleLE;arr.writeDoubleBE=BP.writeDoubleBE;arr.fill=BP.fill;arr.inspect=BP.inspect;arr.toArrayBuffer=BP.toArrayBuffer;return arr};var INVALID_BASE64_RE=/[^+\/0-9A-z\-]/g;function base64clean(str){str=stringtrim(str).replace(INVALID_BASE64_RE,"");if(str.length<2)return"";while(str.length%4!==0){str=str+"="}return str}function stringtrim(str){if(str.trim)return str.trim();return str.replace(/^\s+|\s+$/g,"")}function toHex(n){if(n<16)return"0"+n.toString(16);return n.toString(16)}function utf8ToBytes(string,units){units=units||Infinity;var codePoint;var length=string.length;var leadSurrogate=null;var bytes=[];var i=0;for(;i<length;i++){codePoint=string.charCodeAt(i);if(codePoint>55295&&codePoint<57344){if(leadSurrogate){if(codePoint<56320){if((units-=3)>-1)bytes.push(239,191,189);leadSurrogate=codePoint;continue}else{codePoint=leadSurrogate-55296<<10|codePoint-56320|65536;leadSurrogate=null}}else{if(codePoint>56319){if((units-=3)>-1)bytes.push(239,191,189);continue}else if(i+1===length){if((units-=3)>-1)bytes.push(239,191,189);continue}else{leadSurrogate=codePoint;continue}}}else if(leadSurrogate){if((units-=3)>-1)bytes.push(239,191,189);leadSurrogate=null}if(codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,codePoint&63|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,codePoint&63|128)}else if(codePoint<2097152){if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,codePoint&63|128)}else{throw new Error("Invalid code point")}}return bytes}function asciiToBytes(str){var byteArray=[];for(var i=0;i<str.length;i++){byteArray.push(str.charCodeAt(i)&255)}return byteArray}function utf16leToBytes(str,units){var c,hi,lo;var byteArray=[];for(var i=0;i<str.length;i++){if((units-=2)<0)break;c=str.charCodeAt(i);hi=c>>8;lo=c%256;byteArray.push(lo);byteArray.push(hi)}return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length;i++){if(i+offset>=dst.length||i>=src.length)break;dst[i+offset]=src[i]}return i}function decodeUtf8Char(str){try{return decodeURIComponent(str)}catch(err){return String.fromCharCode(65533)}}},{"base64-js":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/node_modules/base64-js/lib/b64.js",ieee754:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/node_modules/ieee754/index.js","is-array":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/node_modules/is-array/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/node_modules/base64-js/lib/b64.js":[function(require,module,exports){var lookup="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";(function(exports){"use strict";var Arr=typeof Uint8Array!=="undefined"?Uint8Array:Array;var PLUS="+".charCodeAt(0);var SLASH="/".charCodeAt(0);var NUMBER="0".charCodeAt(0);var LOWER="a".charCodeAt(0);var UPPER="A".charCodeAt(0);var PLUS_URL_SAFE="-".charCodeAt(0);var SLASH_URL_SAFE="_".charCodeAt(0);function decode(elt){var code=elt.charCodeAt(0);if(code===PLUS||code===PLUS_URL_SAFE)return 62;if(code===SLASH||code===SLASH_URL_SAFE)return 63;if(code<NUMBER)return-1;if(code<NUMBER+10)return code-NUMBER+26+26;if(code<UPPER+26)return code-UPPER;if(code<LOWER+26)return code-LOWER+26}function b64ToByteArray(b64){var i,j,l,tmp,placeHolders,arr;if(b64.length%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var len=b64.length;placeHolders="="===b64.charAt(len-2)?2:"="===b64.charAt(len-1)?1:0;arr=new Arr(b64.length*3/4-placeHolders);l=placeHolders>0?b64.length-4:b64.length;var L=0;function push(v){arr[L++]=v}for(i=0,j=0;i<l;i+=4,j+=3){tmp=decode(b64.charAt(i))<<18|decode(b64.charAt(i+1))<<12|decode(b64.charAt(i+2))<<6|decode(b64.charAt(i+3));push((tmp&16711680)>>16);push((tmp&65280)>>8);push(tmp&255)}if(placeHolders===2){tmp=decode(b64.charAt(i))<<2|decode(b64.charAt(i+1))>>4;push(tmp&255)}else if(placeHolders===1){tmp=decode(b64.charAt(i))<<10|decode(b64.charAt(i+1))<<4|decode(b64.charAt(i+2))>>2;push(tmp>>8&255);push(tmp&255)}return arr}function uint8ToBase64(uint8){var i,extraBytes=uint8.length%3,output="",temp,length;function encode(num){return lookup.charAt(num)}function tripletToBase64(num){return encode(num>>18&63)+encode(num>>12&63)+encode(num>>6&63)+encode(num&63)}for(i=0,length=uint8.length-extraBytes;i<length;i+=3){temp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2];output+=tripletToBase64(temp)}switch(extraBytes){case 1:temp=uint8[uint8.length-1];output+=encode(temp>>2);output+=encode(temp<<4&63);output+="==";break;case 2:temp=(uint8[uint8.length-2]<<8)+uint8[uint8.length-1];output+=encode(temp>>10);output+=encode(temp>>4&63);output+=encode(temp<<2&63);output+="=";break}return output}exports.toByteArray=b64ToByteArray;exports.fromByteArray=uint8ToBase64})(typeof exports==="undefined"?this.base64js={}:exports)},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/node_modules/ieee754/index.js":[function(require,module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var nBits=-7;var i=isLE?nBytes-1:0;var d=isLE?-1:1;var s=buffer[offset+i];i+=d;e=s&(1<<-nBits)-1;s>>=-nBits;nBits+=eLen;for(;nBits>0;e=e*256+buffer[offset+i],i+=d,nBits-=8){}m=e&(1<<-nBits)-1;e>>=-nBits;nBits+=mLen;for(;nBits>0;m=m*256+buffer[offset+i],i+=d,nBits-=8){}if(e===0){e=1-eBias}else if(e===eMax){return m?NaN:(s?-1:1)*Infinity}else{m=m+Math.pow(2,mLen);e=e-eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)};exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var rt=mLen===23?Math.pow(2,-24)-Math.pow(2,-77):0;var i=isLE?0:nBytes-1;var d=isLE?1:-1;var s=value<0||value===0&&1/value<0?1:0;value=Math.abs(value);if(isNaN(value)||value===Infinity){m=isNaN(value)?1:0;e=eMax}else{e=Math.floor(Math.log(value)/Math.LN2);if(value*(c=Math.pow(2,-e))<1){e--;c*=2}if(e+eBias>=1){value+=rt/c}else{value+=rt*Math.pow(2,1-eBias)}if(value*c>=2){e++;c/=2}if(e+eBias>=eMax){m=0;e=eMax}else if(e+eBias>=1){m=(value*c-1)*Math.pow(2,mLen);e=e+eBias}else{m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen);e=0}}for(;mLen>=8;buffer[offset+i]=m&255,i+=d,m/=256,mLen-=8){}e=e<<mLen|m;eLen+=mLen;for(;eLen>0;buffer[offset+i]=e&255,i+=d,e/=256,eLen-=8){}buffer[offset+i-d]|=s*128}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/node_modules/is-array/index.js":[function(require,module,exports){var isArray=Array.isArray;var str=Object.prototype.toString;module.exports=isArray||function(val){return!!val&&"[object Array]"==str.call(val)}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/events/events.js":[function(require,module,exports){function EventEmitter(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}module.exports=EventEmitter;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._maxListeners=undefined;EventEmitter.defaultMaxListeners=10;EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||n<0||isNaN(n))throw TypeError("n must be a positive number");this._maxListeners=n;return this};EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(!this._events)this._events={};if(type==="error"){if(!this._events.error||isObject(this._events.error)&&!this._events.error.length){er=arguments[1];if(er instanceof Error){throw er}throw TypeError('Uncaught, unspecified "error" event.')}}handler=this._events[type];if(isUndefined(handler))return false;if(isFunction(handler)){switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:len=arguments.length;args=new Array(len-1);for(i=1;i<len;i++)args[i-1]=arguments[i];handler.apply(this,args)}}else if(isObject(handler)){len=arguments.length;args=new Array(len-1);for(i=1;i<len;i++)args[i-1]=arguments[i];listeners=handler.slice();len=listeners.length;for(i=0;i<len;i++)listeners[i].apply(this,args)}return true};EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events)this._events={};if(this._events.newListener)this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener);if(!this._events[type])this._events[type]=listener;else if(isObject(this._events[type]))this._events[type].push(listener);else this._events[type]=[this._events[type],listener];if(isObject(this._events[type])&&!this._events[type].warned){var m;if(!isUndefined(this._maxListeners)){m=this._maxListeners}else{m=EventEmitter.defaultMaxListeners}if(m&&m>0&&this._events[type].length>m){this._events[type].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this._events[type].length);if(typeof console.trace==="function"){console.trace()}}}return this};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.once=function(type,listener){if(!isFunction(listener))throw TypeError("listener must be a function");var fired=false;function g(){this.removeListener(type,g);if(!fired){fired=true;listener.apply(this,arguments)}}g.listener=listener;this.on(type,g);return this};EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;list=this._events[type];length=list.length;position=-1;if(list===listener||isFunction(list.listener)&&list.listener===listener){delete this._events[type];if(this._events.removeListener)this.emit("removeListener",type,listener)}else if(isObject(list)){for(i=length;i-- >0;){if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}}if(position<0)return this;if(list.length===1){list.length=0;delete this._events[type]}else{list.splice(position,1)}if(this._events.removeListener)this.emit("removeListener",type,listener)}return this};EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[type])delete this._events[type];return this}if(arguments.length===0){for(key in this._events){if(key==="removeListener")continue;this.removeAllListeners(key)}this.removeAllListeners("removeListener");this._events={};return this}listeners=this._events[type];if(isFunction(listeners)){this.removeListener(type,listeners)}else{while(listeners.length)this.removeListener(type,listeners[listeners.length-1])}delete this._events[type];return this};EventEmitter.prototype.listeners=function(type){var ret;if(!this._events||!this._events[type])ret=[];else if(isFunction(this._events[type]))ret=[this._events[type]];else ret=this._events[type].slice();return ret};EventEmitter.listenerCount=function(emitter,type){var ret;if(!emitter._events||!emitter._events[type])ret=0;else if(isFunction(emitter._events[type]))ret=1;else ret=emitter._events[type].length;return ret};function isFunction(arg){return typeof arg==="function"}function isNumber(arg){return typeof arg==="number"}function isObject(arg){return typeof arg==="object"&&arg!==null}function isUndefined(arg){return arg===void 0}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/inherits/inherits_browser.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/inherits/inherits_browser.js"][0].apply(exports,arguments)},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/isarray/index.js":[function(require,module,exports){module.exports=Array.isArray||function(arr){return Object.prototype.toString.call(arr)=="[object Array]"}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/process/browser.js":[function(require,module,exports){var process=module.exports={};var queue=[];var draining=false;function drainQueue(){if(draining){return}draining=true;var currentQueue;var len=queue.length;while(len){currentQueue=queue;queue=[];var i=-1;while(++i<len){currentQueue[i]()}len=queue.length}draining=false}process.nextTick=function(fun){queue.push(fun);if(!draining){setTimeout(drainQueue,0)}};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/punycode/punycode.js":[function(require,module,exports){(function(global){(function(root){var freeExports=typeof exports=="object"&&exports;var freeModule=typeof module=="object"&&module&&module.exports==freeExports&&module;var freeGlobal=typeof global=="object"&&global;if(freeGlobal.global===freeGlobal||freeGlobal.window===freeGlobal){root=freeGlobal}var punycode,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^ -~]/,regexSeparators=/\x2E|\u3002|\uFF0E|\uFF61/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode,key;function error(type){throw RangeError(errors[type])}function map(array,fn){var length=array.length;while(length--){array[length]=fn(array[length])}return array}function mapDomain(string,fn){return map(string.split(regexSeparators),fn).join(".")}function ucs2decode(string){var output=[],counter=0,length=string.length,value,extra;while(counter<length){value=string.charCodeAt(counter++);if(value>=55296&&value<=56319&&counter<length){extra=string.charCodeAt(counter++);if((extra&64512)==56320){output.push(((value&1023)<<10)+(extra&1023)+65536)}else{output.push(value);counter--}}else{output.push(value)}}return output}function ucs2encode(array){return map(array,function(value){var output="";if(value>65535){value-=65536;output+=stringFromCharCode(value>>>10&1023|55296);value=56320|value&1023}output+=stringFromCharCode(value);return output}).join("")}function basicToDigit(codePoint){if(codePoint-48<10){return codePoint-22}if(codePoint-65<26){return codePoint-65}if(codePoint-97<26){return codePoint-97}return base}function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((flag!=0)<<5)}function adapt(delta,numPoints,firstTime){var k=0;delta=firstTime?floor(delta/damp):delta>>1;delta+=floor(delta/numPoints);for(;delta>baseMinusTMin*tMax>>1;k+=base){delta=floor(delta/baseMinusTMin)}return floor(k+(baseMinusTMin+1)*delta/(delta+skew))}function decode(input){var output=[],inputLength=input.length,out,i=0,n=initialN,bias=initialBias,basic,j,index,oldi,w,k,digit,t,baseMinusT;basic=input.lastIndexOf(delimiter);if(basic<0){basic=0}for(j=0;j<basic;++j){if(input.charCodeAt(j)>=128){error("not-basic")}output.push(input.charCodeAt(j))}for(index=basic>0?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=base;;k+=base){if(index>=inputLength){error("invalid-input")}digit=basicToDigit(input.charCodeAt(index++));if(digit>=base||digit>floor((maxInt-i)/w)){error("overflow")}i+=digit*w;t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias;if(digit<t){break}baseMinusT=base-t;if(w>floor(maxInt/baseMinusT)){error("overflow")}w*=baseMinusT}out=output.length+1;bias=adapt(i-oldi,out,oldi==0);if(floor(i/out)>maxInt-n){error("overflow")}n+=floor(i/out);i%=out;output.splice(i++,0,n)}return ucs2encode(output)}function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,output=[],inputLength,handledCPCountPlusOne,baseMinusT,qMinusT;input=ucs2decode(input);inputLength=input.length;n=initialN;delta=0;bias=initialBias;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<128){output.push(stringFromCharCode(currentValue))}}handledCPCount=basicLength=output.length;if(basicLength){output.push(delimiter)}while(handledCPCount<inputLength){for(m=maxInt,j=0;j<inputLength;++j){currentValue=input[j];if(currentValue>=n&&currentValue<m){m=currentValue}}handledCPCountPlusOne=handledCPCount+1;if(m-n>floor((maxInt-delta)/handledCPCountPlusOne)){error("overflow")}delta+=(m-n)*handledCPCountPlusOne;n=m;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<n&&++delta>maxInt){error("overflow")}if(currentValue==n){for(q=delta,k=base;;k+=base){t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias;if(q<t){break}qMinusT=q-t;baseMinusT=base-t;output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0)));q=floor(qMinusT/baseMinusT)}output.push(stringFromCharCode(digitToBasic(q,0)));bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength);delta=0;++handledCPCount}}++delta;++n}return output.join("")}function toUnicode(domain){return mapDomain(domain,function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string})}function toASCII(domain){return mapDomain(domain,function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string})}punycode={version:"1.2.4",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:toASCII,toUnicode:toUnicode};if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){define("punycode",function(){return punycode})}else if(freeExports&&!freeExports.nodeType){if(freeModule){freeModule.exports=punycode}else{for(key in punycode){punycode.hasOwnProperty(key)&&(freeExports[key]=punycode[key])}}}else{root.punycode=punycode}})(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/readable-stream/duplex.js":[function(require,module,exports){module.exports=require("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/readable-stream/lib/_stream_duplex.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/readable-stream/lib/_stream_duplex.js":[function(require,module,exports){(function(process){module.exports=Duplex;var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys};var util=require("core-util-is");util.inherits=require("inherits");var Readable=require("./_stream_readable");var Writable=require("./_stream_writable");util.inherits(Duplex,Readable);forEach(objectKeys(Writable.prototype),function(method){if(!Duplex.prototype[method])Duplex.prototype[method]=Writable.prototype[method]});function Duplex(options){if(!(this instanceof Duplex))return new Duplex(options);Readable.call(this,options);Writable.call(this,options);if(options&&options.readable===false)this.readable=false;if(options&&options.writable===false)this.writable=false;this.allowHalfOpen=true;if(options&&options.allowHalfOpen===false)this.allowHalfOpen=false;this.once("end",onend)}function onend(){if(this.allowHalfOpen||this._writableState.ended)return;process.nextTick(this.end.bind(this))}function forEach(xs,f){for(var i=0,l=xs.length;i<l;i++){f(xs[i],i)}}}).call(this,require("_process"))},{"./_stream_readable":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/readable-stream/lib/_stream_readable.js","./_stream_writable":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/readable-stream/lib/_stream_writable.js",_process:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/process/browser.js","core-util-is":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/readable-stream/node_modules/core-util-is/lib/util.js",inherits:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/readable-stream/lib/_stream_passthrough.js":[function(require,module,exports){module.exports=PassThrough;var Transform=require("./_stream_transform");var util=require("core-util-is");util.inherits=require("inherits");util.inherits(PassThrough,Transform);function PassThrough(options){if(!(this instanceof PassThrough))return new PassThrough(options);Transform.call(this,options)}PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},{"./_stream_transform":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/readable-stream/lib/_stream_transform.js","core-util-is":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/readable-stream/node_modules/core-util-is/lib/util.js",inherits:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/readable-stream/lib/_stream_readable.js":[function(require,module,exports){(function(process){module.exports=Readable;var isArray=require("isarray");var Buffer=require("buffer").Buffer;Readable.ReadableState=ReadableState;var EE=require("events").EventEmitter;if(!EE.listenerCount)EE.listenerCount=function(emitter,type){return emitter.listeners(type).length};var Stream=require("stream");var util=require("core-util-is");util.inherits=require("inherits");var StringDecoder;var debug=require("util");if(debug&&debug.debuglog){debug=debug.debuglog("stream")}else{debug=function(){}}util.inherits(Readable,Stream);function ReadableState(options,stream){var Duplex=require("./_stream_duplex");options=options||{};var hwm=options.highWaterMark;var defaultHwm=options.objectMode?16:16*1024;this.highWaterMark=hwm||hwm===0?hwm:defaultHwm;this.highWaterMark=~~this.highWaterMark;this.buffer=[];this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.objectMode=!!options.objectMode;if(stream instanceof Duplex)this.objectMode=this.objectMode||!!options.readableObjectMode;this.defaultEncoding=options.defaultEncoding||"utf8";this.ranOut=false;this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(options.encoding){if(!StringDecoder)StringDecoder=require("string_decoder/").StringDecoder;this.decoder=new StringDecoder(options.encoding);this.encoding=options.encoding}}function Readable(options){var Duplex=require("./_stream_duplex");if(!(this instanceof Readable))return new Readable(options);this._readableState=new ReadableState(options,this);this.readable=true;Stream.call(this)}Readable.prototype.push=function(chunk,encoding){var state=this._readableState;if(util.isString(chunk)&&!state.objectMode){encoding=encoding||state.defaultEncoding;if(encoding!==state.encoding){chunk=new Buffer(chunk,encoding);encoding=""}}return readableAddChunk(this,state,chunk,encoding,false)};Readable.prototype.unshift=function(chunk){var state=this._readableState;return readableAddChunk(this,state,chunk,"",true)};function readableAddChunk(stream,state,chunk,encoding,addToFront){var er=chunkInvalid(state,chunk);if(er){stream.emit("error",er)}else if(util.isNullOrUndefined(chunk)){state.reading=false;if(!state.ended)onEofChunk(stream,state)}else if(state.objectMode||chunk&&chunk.length>0){if(state.ended&&!addToFront){var e=new Error("stream.push() after EOF");stream.emit("error",e)}else if(state.endEmitted&&addToFront){var e=new Error("stream.unshift() after end event");stream.emit("error",e)}else{if(state.decoder&&!addToFront&&!encoding)chunk=state.decoder.write(chunk);if(!addToFront)state.reading=false;if(state.flowing&&state.length===0&&!state.sync){stream.emit("data",chunk);stream.read(0)}else{state.length+=state.objectMode?1:chunk.length;if(addToFront)state.buffer.unshift(chunk);else state.buffer.push(chunk);if(state.needReadable)emitReadable(stream)}maybeReadMore(stream,state)}}else if(!addToFront){state.reading=false}return needMoreData(state)}function needMoreData(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||state.length===0)}Readable.prototype.setEncoding=function(enc){if(!StringDecoder)StringDecoder=require("string_decoder/").StringDecoder;this._readableState.decoder=new StringDecoder(enc);this._readableState.encoding=enc;return this};var MAX_HWM=8388608;function roundUpToNextPowerOf2(n){if(n>=MAX_HWM){n=MAX_HWM}else{n--;for(var p=1;p<32;p<<=1)n|=n>>p;n++}return n}function howMuchToRead(n,state){if(state.length===0&&state.ended)return 0;if(state.objectMode)return n===0?0:1;if(isNaN(n)||util.isNull(n)){if(state.flowing&&state.buffer.length)return state.buffer[0].length;else return state.length}if(n<=0)return 0;if(n>state.highWaterMark)state.highWaterMark=roundUpToNextPowerOf2(n);if(n>state.length){if(!state.ended){state.needReadable=true;return 0}else return state.length}return n}Readable.prototype.read=function(n){debug("read",n);var state=this._readableState;var nOrig=n;if(!util.isNumber(n)||n>0)state.emittedReadable=false;if(n===0&&state.needReadable&&(state.length>=state.highWaterMark||state.ended)){debug("read: emitReadable",state.length,state.ended);if(state.length===0&&state.ended)endReadable(this);else emitReadable(this);return null}n=howMuchToRead(n,state);if(n===0&&state.ended){if(state.length===0)endReadable(this);return null}var doRead=state.needReadable;debug("need readable",doRead);if(state.length===0||state.length-n<state.highWaterMark){doRead=true;debug("length less than watermark",doRead)}if(state.ended||state.reading){doRead=false;debug("reading or ended",doRead)}if(doRead){debug("do read");state.reading=true;state.sync=true;if(state.length===0)state.needReadable=true;this._read(state.highWaterMark);state.sync=false}if(doRead&&!state.reading)n=howMuchToRead(nOrig,state);var ret;if(n>0)ret=fromList(n,state);else ret=null;if(util.isNull(ret)){state.needReadable=true;n=0}state.length-=n;if(state.length===0&&!state.ended)state.needReadable=true;if(nOrig!==n&&state.ended&&state.length===0)endReadable(this);if(!util.isNull(ret))this.emit("data",ret);return ret};function chunkInvalid(state,chunk){var er=null;if(!util.isBuffer(chunk)&&!util.isString(chunk)&&!util.isNullOrUndefined(chunk)&&!state.objectMode){er=new TypeError("Invalid non-string/buffer chunk")}return er}function onEofChunk(stream,state){if(state.decoder&&!state.ended){var chunk=state.decoder.end();if(chunk&&chunk.length){state.buffer.push(chunk);state.length+=state.objectMode?1:chunk.length}}state.ended=true;emitReadable(stream)}function emitReadable(stream){var state=stream._readableState;state.needReadable=false;if(!state.emittedReadable){debug("emitReadable",state.flowing);state.emittedReadable=true;if(state.sync)process.nextTick(function(){emitReadable_(stream)});else emitReadable_(stream)}}function emitReadable_(stream){debug("emit readable");stream.emit("readable");flow(stream)}function maybeReadMore(stream,state){if(!state.readingMore){state.readingMore=true;process.nextTick(function(){maybeReadMore_(stream,state)})}}function maybeReadMore_(stream,state){var len=state.length;while(!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark){debug("maybeReadMore read 0");stream.read(0);if(len===state.length)break;else len=state.length}state.readingMore=false}Readable.prototype._read=function(n){this.emit("error",new Error("not implemented"))};Readable.prototype.pipe=function(dest,pipeOpts){var src=this;var state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest);break}state.pipesCount+=1;debug("pipe count=%d opts=%j",state.pipesCount,pipeOpts);var doEnd=(!pipeOpts||pipeOpts.end!==false)&&dest!==process.stdout&&dest!==process.stderr;var endFn=doEnd?onend:cleanup;if(state.endEmitted)process.nextTick(endFn);else src.once("end",endFn);dest.on("unpipe",onunpipe);function onunpipe(readable){debug("onunpipe");if(readable===src){cleanup()}}function onend(){debug("onend");dest.end()}var ondrain=pipeOnDrain(src);dest.on("drain",ondrain);function cleanup(){debug("cleanup");dest.removeListener("close",onclose);dest.removeListener("finish",onfinish);dest.removeListener("drain",ondrain);dest.removeListener("error",onerror);dest.removeListener("unpipe",onunpipe);src.removeListener("end",onend);src.removeListener("end",cleanup);src.removeListener("data",ondata);if(state.awaitDrain&&(!dest._writableState||dest._writableState.needDrain))ondrain()}src.on("data",ondata);function ondata(chunk){debug("ondata");var ret=dest.write(chunk);if(false===ret){debug("false write response, pause",src._readableState.awaitDrain);src._readableState.awaitDrain++;src.pause()}}function onerror(er){debug("onerror",er);unpipe();dest.removeListener("error",onerror);if(EE.listenerCount(dest,"error")===0)dest.emit("error",er)}if(!dest._events||!dest._events.error)dest.on("error",onerror);else if(isArray(dest._events.error))dest._events.error.unshift(onerror);else dest._events.error=[onerror,dest._events.error];function onclose(){dest.removeListener("finish",onfinish);unpipe()}dest.once("close",onclose);function onfinish(){debug("onfinish");dest.removeListener("close",onclose);unpipe()}dest.once("finish",onfinish);function unpipe(){debug("unpipe");src.unpipe(dest)}dest.emit("pipe",src);if(!state.flowing){debug("pipe resume");src.resume()}return dest};function pipeOnDrain(src){return function(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain);if(state.awaitDrain)state.awaitDrain--;if(state.awaitDrain===0&&EE.listenerCount(src,"data")){state.flowing=true;flow(src)}}}Readable.prototype.unpipe=function(dest){var state=this._readableState;if(state.pipesCount===0)return this;if(state.pipesCount===1){if(dest&&dest!==state.pipes)return this;if(!dest)dest=state.pipes;state.pipes=null;state.pipesCount=0;state.flowing=false;if(dest)dest.emit("unpipe",this);return this}if(!dest){var dests=state.pipes;var len=state.pipesCount;state.pipes=null;state.pipesCount=0;state.flowing=false;for(var i=0;i<len;i++)dests[i].emit("unpipe",this);return this}var i=indexOf(state.pipes,dest);if(i===-1)return this;state.pipes.splice(i,1);state.pipesCount-=1;if(state.pipesCount===1)state.pipes=state.pipes[0];dest.emit("unpipe",this);return this};Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);if(ev==="data"&&false!==this._readableState.flowing){this.resume()}if(ev==="readable"&&this.readable){var state=this._readableState;if(!state.readableListening){state.readableListening=true;state.emittedReadable=false;state.needReadable=true;if(!state.reading){var self=this;process.nextTick(function(){debug("readable nexttick read 0");self.read(0)})}else if(state.length){emitReadable(this,state)}}}return res};Readable.prototype.addListener=Readable.prototype.on;Readable.prototype.resume=function(){var state=this._readableState;if(!state.flowing){debug("resume");state.flowing=true;if(!state.reading){debug("resume read 0");this.read(0)}resume(this,state)}return this};function resume(stream,state){if(!state.resumeScheduled){state.resumeScheduled=true;process.nextTick(function(){resume_(stream,state)})}}function resume_(stream,state){state.resumeScheduled=false;stream.emit("resume");flow(stream);if(state.flowing&&!state.reading)stream.read(0)}Readable.prototype.pause=function(){debug("call pause flowing=%j",this._readableState.flowing);if(false!==this._readableState.flowing){debug("pause");this._readableState.flowing=false;this.emit("pause")}return this};function flow(stream){var state=stream._readableState;debug("flow",state.flowing);if(state.flowing){do{var chunk=stream.read()}while(null!==chunk&&state.flowing)}}Readable.prototype.wrap=function(stream){var state=this._readableState;var paused=false;var self=this;stream.on("end",function(){debug("wrapped end");if(state.decoder&&!state.ended){var chunk=state.decoder.end();if(chunk&&chunk.length)self.push(chunk)}self.push(null)});stream.on("data",function(chunk){debug("wrapped data");if(state.decoder)chunk=state.decoder.write(chunk);if(!chunk||!state.objectMode&&!chunk.length)return;var ret=self.push(chunk);if(!ret){paused=true;stream.pause()}});for(var i in stream){if(util.isFunction(stream[i])&&util.isUndefined(this[i])){this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i)}}var events=["error","close","destroy","pause","resume"];forEach(events,function(ev){stream.on(ev,self.emit.bind(self,ev))});self._read=function(n){debug("wrapped _read",n);if(paused){paused=false;stream.resume()}};return self};Readable._fromList=fromList;function fromList(n,state){var list=state.buffer;var length=state.length;var stringMode=!!state.decoder;var objectMode=!!state.objectMode;var ret;if(list.length===0)return null;if(length===0)ret=null;else if(objectMode)ret=list.shift();else if(!n||n>=length){if(stringMode)ret=list.join("");else ret=Buffer.concat(list,length);list.length=0}else{if(n<list[0].length){var buf=list[0];ret=buf.slice(0,n);list[0]=buf.slice(n)}else if(n===list[0].length){ret=list.shift()}else{if(stringMode)ret="";else ret=new Buffer(n);var c=0;for(var i=0,l=list.length;i<l&&c<n;i++){var buf=list[0];var cpy=Math.min(n-c,buf.length);if(stringMode)ret+=buf.slice(0,cpy);else buf.copy(ret,c,0,cpy);if(cpy<buf.length)list[0]=buf.slice(cpy);else list.shift();c+=cpy}}}return ret}function endReadable(stream){var state=stream._readableState;if(state.length>0)throw new Error("endReadable called on non-empty stream");if(!state.endEmitted){state.ended=true;process.nextTick(function(){if(!state.endEmitted&&state.length===0){state.endEmitted=true;stream.readable=false;stream.emit("end")}})}}function forEach(xs,f){for(var i=0,l=xs.length;i<l;i++){f(xs[i],i)}}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++){if(xs[i]===x)return i}return-1}}).call(this,require("_process"))},{"./_stream_duplex":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/readable-stream/lib/_stream_duplex.js",_process:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/process/browser.js",buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js","core-util-is":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/readable-stream/node_modules/core-util-is/lib/util.js",events:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/events/events.js",inherits:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/inherits/inherits_browser.js",isarray:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/isarray/index.js",stream:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/stream-browserify/index.js","string_decoder/":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/string_decoder/index.js",util:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/browser-resolve/empty.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/readable-stream/lib/_stream_transform.js":[function(require,module,exports){module.exports=Transform;var Duplex=require("./_stream_duplex");var util=require("core-util-is");util.inherits=require("inherits");util.inherits(Transform,Duplex);function TransformState(options,stream){this.afterTransform=function(er,data){return afterTransform(stream,er,data)};this.needTransform=false;this.transforming=false;this.writecb=null;this.writechunk=null}function afterTransform(stream,er,data){var ts=stream._transformState;ts.transforming=false;var cb=ts.writecb;if(!cb)return stream.emit("error",new Error("no writecb in Transform class"));ts.writechunk=null;ts.writecb=null;if(!util.isNullOrUndefined(data))stream.push(data);if(cb)cb(er);var rs=stream._readableState;rs.reading=false;if(rs.needReadable||rs.length<rs.highWaterMark){stream._read(rs.highWaterMark)}}function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options);this._transformState=new TransformState(options,this);var stream=this;this._readableState.needReadable=true;this._readableState.sync=false;this.once("prefinish",function(){if(util.isFunction(this._flush))this._flush(function(er){done(stream,er)});else done(stream)})}Transform.prototype.push=function(chunk,encoding){this._transformState.needTransform=false;return Duplex.prototype.push.call(this,chunk,encoding)};Transform.prototype._transform=function(chunk,encoding,cb){throw new Error("not implemented")};Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;ts.writecb=cb;ts.writechunk=chunk;ts.writeencoding=encoding;if(!ts.transforming){var rs=this._readableState;if(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)this._read(rs.highWaterMark)}};Transform.prototype._read=function(n){var ts=this._transformState;if(!util.isNull(ts.writechunk)&&ts.writecb&&!ts.transforming){ts.transforming=true;this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform)}else{ts.needTransform=true}};function done(stream,er){if(er)return stream.emit("error",er);var ws=stream._writableState;var ts=stream._transformState;if(ws.length)throw new Error("calling transform done when ws.length != 0");if(ts.transforming)throw new Error("calling transform done when still transforming");return stream.push(null)}},{"./_stream_duplex":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/readable-stream/lib/_stream_duplex.js","core-util-is":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/readable-stream/node_modules/core-util-is/lib/util.js",inherits:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/readable-stream/lib/_stream_writable.js":[function(require,module,exports){(function(process){module.exports=Writable;var Buffer=require("buffer").Buffer;Writable.WritableState=WritableState;var util=require("core-util-is");util.inherits=require("inherits");var Stream=require("stream");util.inherits(Writable,Stream);function WriteReq(chunk,encoding,cb){this.chunk=chunk;this.encoding=encoding;this.callback=cb}function WritableState(options,stream){var Duplex=require("./_stream_duplex");options=options||{};var hwm=options.highWaterMark;var defaultHwm=options.objectMode?16:16*1024;this.highWaterMark=hwm||hwm===0?hwm:defaultHwm;this.objectMode=!!options.objectMode;if(stream instanceof Duplex)this.objectMode=this.objectMode||!!options.writableObjectMode;this.highWaterMark=~~this.highWaterMark;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;var noDecode=options.decodeStrings===false;this.decodeStrings=!noDecode;this.defaultEncoding=options.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(er){onwrite(stream,er)};this.writecb=null;this.writelen=0;this.buffer=[];this.pendingcb=0;this.prefinished=false;this.errorEmitted=false}function Writable(options){var Duplex=require("./_stream_duplex");if(!(this instanceof Writable)&&!(this instanceof Duplex))return new Writable(options);this._writableState=new WritableState(options,this);this.writable=true;Stream.call(this)}Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))};function writeAfterEnd(stream,state,cb){var er=new Error("write after end");stream.emit("error",er);process.nextTick(function(){cb(er)})}function validChunk(stream,state,chunk,cb){var valid=true;if(!util.isBuffer(chunk)&&!util.isString(chunk)&&!util.isNullOrUndefined(chunk)&&!state.objectMode){var er=new TypeError("Invalid non-string/buffer chunk");stream.emit("error",er);process.nextTick(function(){cb(er)});valid=false}return valid}Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState;var ret=false;if(util.isFunction(encoding)){cb=encoding;encoding=null}if(util.isBuffer(chunk))encoding="buffer";else if(!encoding)encoding=state.defaultEncoding;if(!util.isFunction(cb))cb=function(){};if(state.ended)writeAfterEnd(this,state,cb);else if(validChunk(this,state,chunk,cb)){state.pendingcb++;ret=writeOrBuffer(this,state,chunk,encoding,cb)}return ret};Writable.prototype.cork=function(){var state=this._writableState;state.corked++};Writable.prototype.uncork=function(){var state=this._writableState;if(state.corked){state.corked--;if(!state.writing&&!state.corked&&!state.finished&&!state.bufferProcessing&&state.buffer.length)clearBuffer(this,state)}};function decodeChunk(state,chunk,encoding){if(!state.objectMode&&state.decodeStrings!==false&&util.isString(chunk)){chunk=new Buffer(chunk,encoding)}return chunk}function writeOrBuffer(stream,state,chunk,encoding,cb){chunk=decodeChunk(state,chunk,encoding);if(util.isBuffer(chunk))encoding="buffer";var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;if(!ret)state.needDrain=true;if(state.writing||state.corked)state.buffer.push(new WriteReq(chunk,encoding,cb));else doWrite(stream,state,false,len,chunk,encoding,cb);return ret}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len;state.writecb=cb;state.writing=true;state.sync=true;if(writev)stream._writev(chunk,state.onwrite);else stream._write(chunk,encoding,state.onwrite);state.sync=false}function onwriteError(stream,state,sync,er,cb){if(sync)process.nextTick(function(){state.pendingcb--;cb(er)});else{state.pendingcb--;cb(er)}stream._writableState.errorEmitted=true;stream.emit("error",er)}function onwriteStateUpdate(state){state.writing=false;state.writecb=null;state.length-=state.writelen;state.writelen=0}function onwrite(stream,er){var state=stream._writableState;var sync=state.sync;var cb=state.writecb;onwriteStateUpdate(state);if(er)onwriteError(stream,state,sync,er,cb);else{var finished=needFinish(stream,state);if(!finished&&!state.corked&&!state.bufferProcessing&&state.buffer.length){clearBuffer(stream,state)}if(sync){process.nextTick(function(){afterWrite(stream,state,finished,cb)})}else{afterWrite(stream,state,finished,cb)}}}function afterWrite(stream,state,finished,cb){if(!finished)onwriteDrain(stream,state);state.pendingcb--;cb();finishMaybe(stream,state)}function onwriteDrain(stream,state){if(state.length===0&&state.needDrain){state.needDrain=false;stream.emit("drain")}}function clearBuffer(stream,state){state.bufferProcessing=true;if(stream._writev&&state.buffer.length>1){var cbs=[];for(var c=0;c<state.buffer.length;c++)cbs.push(state.buffer[c].callback);state.pendingcb++;doWrite(stream,state,true,state.length,state.buffer,"",function(err){for(var i=0;i<cbs.length;i++){state.pendingcb--;cbs[i](err)}});state.buffer=[]}else{for(var c=0;c<state.buffer.length;c++){var entry=state.buffer[c];var chunk=entry.chunk;var encoding=entry.encoding;var cb=entry.callback;var len=state.objectMode?1:chunk.length;doWrite(stream,state,false,len,chunk,encoding,cb);if(state.writing){c++;break}}if(c<state.buffer.length)state.buffer=state.buffer.slice(c);else state.buffer.length=0}state.bufferProcessing=false}Writable.prototype._write=function(chunk,encoding,cb){cb(new Error("not implemented"))};Writable.prototype._writev=null;Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;if(util.isFunction(chunk)){cb=chunk;chunk=null;encoding=null}else if(util.isFunction(encoding)){cb=encoding;encoding=null}if(!util.isNullOrUndefined(chunk))this.write(chunk,encoding);if(state.corked){state.corked=1;this.uncork()}if(!state.ending&&!state.finished)endWritable(this,state,cb)};function needFinish(stream,state){return state.ending&&state.length===0&&!state.finished&&!state.writing}function prefinish(stream,state){if(!state.prefinished){state.prefinished=true;stream.emit("prefinish")}}function finishMaybe(stream,state){var need=needFinish(stream,state);if(need){if(state.pendingcb===0){prefinish(stream,state);state.finished=true;stream.emit("finish")}else prefinish(stream,state)}return need}function endWritable(stream,state,cb){state.ending=true;finishMaybe(stream,state);if(cb){if(state.finished)process.nextTick(cb);else stream.once("finish",cb)}state.ended=true}}).call(this,require("_process"))},{"./_stream_duplex":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/readable-stream/lib/_stream_duplex.js",_process:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/process/browser.js",buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js","core-util-is":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/readable-stream/node_modules/core-util-is/lib/util.js",inherits:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/inherits/inherits_browser.js",stream:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/stream-browserify/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/readable-stream/node_modules/core-util-is/lib/util.js":[function(require,module,exports){(function(Buffer){function isArray(ar){return Array.isArray(ar)}exports.isArray=isArray;function isBoolean(arg){return typeof arg==="boolean"}exports.isBoolean=isBoolean;function isNull(arg){return arg===null}exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null}exports.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==="number"}exports.isNumber=isNumber;function isString(arg){return typeof arg==="string"}exports.isString=isString;function isSymbol(arg){return typeof arg==="symbol"}exports.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0}exports.isUndefined=isUndefined;function isRegExp(re){return isObject(re)&&objectToString(re)==="[object RegExp]"}exports.isRegExp=isRegExp;function isObject(arg){return typeof arg==="object"&&arg!==null}exports.isObject=isObject;function isDate(d){return isObject(d)&&objectToString(d)==="[object Date]"}exports.isDate=isDate;function isError(e){return isObject(e)&&(objectToString(e)==="[object Error]"||e instanceof Error)}exports.isError=isError;function isFunction(arg){return typeof arg==="function"}exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==="boolean"||typeof arg==="number"||typeof arg==="string"||typeof arg==="symbol"||typeof arg==="undefined"}exports.isPrimitive=isPrimitive;function isBuffer(arg){return Buffer.isBuffer(arg)}exports.isBuffer=isBuffer;function objectToString(o){return Object.prototype.toString.call(o)}}).call(this,require("buffer").Buffer)},{buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/readable-stream/passthrough.js":[function(require,module,exports){module.exports=require("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/readable-stream/lib/_stream_passthrough.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/readable-stream/readable.js":[function(require,module,exports){exports=module.exports=require("./lib/_stream_readable.js");exports.Stream=require("stream");exports.Readable=exports;exports.Writable=require("./lib/_stream_writable.js");exports.Duplex=require("./lib/_stream_duplex.js");exports.Transform=require("./lib/_stream_transform.js");exports.PassThrough=require("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/readable-stream/lib/_stream_duplex.js","./lib/_stream_passthrough.js":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/readable-stream/lib/_stream_passthrough.js","./lib/_stream_readable.js":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/readable-stream/lib/_stream_readable.js","./lib/_stream_transform.js":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/readable-stream/lib/_stream_transform.js","./lib/_stream_writable.js":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/readable-stream/lib/_stream_writable.js",stream:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/stream-browserify/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/readable-stream/transform.js":[function(require,module,exports){module.exports=require("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/readable-stream/lib/_stream_transform.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/readable-stream/writable.js":[function(require,module,exports){module.exports=require("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/readable-stream/lib/_stream_writable.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/stream-browserify/index.js":[function(require,module,exports){module.exports=Stream;var EE=require("events").EventEmitter;var inherits=require("inherits");inherits(Stream,EE);Stream.Readable=require("readable-stream/readable.js");Stream.Writable=require("readable-stream/writable.js");Stream.Duplex=require("readable-stream/duplex.js");Stream.Transform=require("readable-stream/transform.js");Stream.PassThrough=require("readable-stream/passthrough.js");Stream.Stream=Stream;function Stream(){EE.call(this)}Stream.prototype.pipe=function(dest,options){var source=this;function ondata(chunk){if(dest.writable){if(false===dest.write(chunk)&&source.pause){source.pause()}}}source.on("data",ondata);function ondrain(){if(source.readable&&source.resume){source.resume()}}dest.on("drain",ondrain);if(!dest._isStdio&&(!options||options.end!==false)){source.on("end",onend);source.on("close",onclose)}var didOnEnd=false;function onend(){if(didOnEnd)return;didOnEnd=true;dest.end()}function onclose(){if(didOnEnd)return;didOnEnd=true;if(typeof dest.destroy==="function")dest.destroy()}function onerror(er){cleanup();if(EE.listenerCount(this,"error")===0){throw er}}source.on("error",onerror);dest.on("error",onerror);function cleanup(){source.removeListener("data",ondata);dest.removeListener("drain",ondrain);source.removeListener("end",onend);source.removeListener("close",onclose);source.removeListener("error",onerror);dest.removeListener("error",onerror);source.removeListener("end",cleanup);source.removeListener("close",cleanup);dest.removeListener("close",cleanup)}source.on("end",cleanup);source.on("close",cleanup);dest.on("close",cleanup);dest.emit("pipe",source);return dest}},{events:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/events/events.js",inherits:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/inherits/inherits_browser.js","readable-stream/duplex.js":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/readable-stream/duplex.js","readable-stream/passthrough.js":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/readable-stream/passthrough.js","readable-stream/readable.js":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/readable-stream/readable.js","readable-stream/transform.js":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/readable-stream/transform.js","readable-stream/writable.js":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/readable-stream/writable.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/string_decoder/index.js":[function(require,module,exports){var Buffer=require("buffer").Buffer;var isBufferEncoding=Buffer.isEncoding||function(encoding){switch(encoding&&encoding.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return true;default:return false}};function assertEncoding(encoding){if(encoding&&!isBufferEncoding(encoding)){throw new Error("Unknown encoding: "+encoding)}}var StringDecoder=exports.StringDecoder=function(encoding){this.encoding=(encoding||"utf8").toLowerCase().replace(/[-_]/,"");assertEncoding(encoding);switch(this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2;this.detectIncompleteChar=utf16DetectIncompleteChar;break;case"base64":this.surrogateSize=3;this.detectIncompleteChar=base64DetectIncompleteChar;break;default:this.write=passThroughWrite;return}this.charBuffer=new Buffer(6);this.charReceived=0;this.charLength=0};StringDecoder.prototype.write=function(buffer){var charStr="";while(this.charLength){var available=buffer.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:buffer.length;buffer.copy(this.charBuffer,this.charReceived,0,available);this.charReceived+=available;if(this.charReceived<this.charLength){return""}buffer=buffer.slice(available,buffer.length);charStr=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var charCode=charStr.charCodeAt(charStr.length-1);if(charCode>=55296&&charCode<=56319){this.charLength+=this.surrogateSize;charStr="";continue}this.charReceived=this.charLength=0;if(buffer.length===0){return charStr}break}this.detectIncompleteChar(buffer);var end=buffer.length;if(this.charLength){buffer.copy(this.charBuffer,0,buffer.length-this.charReceived,end);end-=this.charReceived}charStr+=buffer.toString(this.encoding,0,end);var end=charStr.length-1;var charCode=charStr.charCodeAt(end);if(charCode>=55296&&charCode<=56319){var size=this.surrogateSize;this.charLength+=size;this.charReceived+=size;this.charBuffer.copy(this.charBuffer,size,0,size);buffer.copy(this.charBuffer,0,0,size);return charStr.substring(0,end)}return charStr};StringDecoder.prototype.detectIncompleteChar=function(buffer){var i=buffer.length>=3?3:buffer.length;for(;i>0;i--){var c=buffer[buffer.length-i];if(i==1&&c>>5==6){this.charLength=2;break}if(i<=2&&c>>4==14){this.charLength=3;break}if(i<=3&&c>>3==30){this.charLength=4;break}}this.charReceived=i};StringDecoder.prototype.end=function(buffer){var res="";if(buffer&&buffer.length)res=this.write(buffer);if(this.charReceived){var cr=this.charReceived;var buf=this.charBuffer;var enc=this.encoding;res+=buf.slice(0,cr).toString(enc)}return res};function passThroughWrite(buffer){return buffer.toString(this.encoding)}function utf16DetectIncompleteChar(buffer){this.charReceived=buffer.length%2;this.charLength=this.charReceived?2:0}function base64DetectIncompleteChar(buffer){this.charReceived=buffer.length%3;this.charLength=this.charReceived?3:0}},{buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/util/support/isBufferBrowser.js":[function(require,module,exports){module.exports=function isBuffer(arg){return arg&&typeof arg==="object"&&typeof arg.copy==="function"&&typeof arg.fill==="function"&&typeof arg.readUInt8==="function"}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/util/util.js":[function(require,module,exports){(function(process,global){var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){var objects=[];for(var i=0;i<arguments.length;i++){objects.push(inspect(arguments[i]))}return objects.join(" ")}var i=1;var args=arguments;var len=args.length;var str=String(f).replace(formatRegExp,function(x){if(x==="%%")return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}});for(var x=args[i];i<len;x=args[++i]){if(isNull(x)||!isObject(x)){str+=" "+x}else{str+=" "+inspect(x)}}return str};exports.deprecate=function(fn,msg){if(isUndefined(global.process)){return function(){return exports.deprecate(fn,msg).apply(this,arguments)}}if(process.noDeprecation===true){return fn}var warned=false;function deprecated(){if(!warned){if(process.throwDeprecation){throw new Error(msg)}else if(process.traceDeprecation){console.trace(msg)}else{console.error(msg)}warned=true}return fn.apply(this,arguments)}return deprecated};var debugs={};var debugEnviron;exports.debuglog=function(set){if(isUndefined(debugEnviron))debugEnviron=process.env.NODE_DEBUG||"";set=set.toUpperCase();if(!debugs[set]){if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else{debugs[set]=function(){}}}return debugs[set]};function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};if(arguments.length>=3)ctx.depth=arguments[2];if(arguments.length>=4)ctx.colors=arguments[3];if(isBoolean(opts)){ctx.showHidden=opts}else if(opts){exports._extend(ctx,opts)}if(isUndefined(ctx.showHidden))ctx.showHidden=false;if(isUndefined(ctx.depth))ctx.depth=2;if(isUndefined(ctx.colors))ctx.colors=false;if(isUndefined(ctx.customInspect))ctx.customInspect=true;if(ctx.colors)ctx.stylize=stylizeWithColor;return formatValue(ctx,obj,ctx.depth)}exports.inspect=inspect;inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];if(style){return"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m"}else{return str}}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};array.forEach(function(val,idx){hash[val]=true});return hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&!(value.constructor&&value.constructor.prototype===value)){var ret=value.inspect(recurseTimes,ctx);if(!isString(ret)){ret=formatValue(ctx,ret,recurseTimes)}return ret}var primitive=formatPrimitive(ctx,value);if(primitive){return primitive}var keys=Object.keys(value);var visibleKeys=arrayToHash(keys);if(ctx.showHidden){keys=Object.getOwnPropertyNames(value)}if(isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0)){return formatError(value)}if(keys.length===0){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}if(isDate(value)){return ctx.stylize(Date.prototype.toString.call(value),"date")}if(isError(value)){return formatError(value)}}var base="",array=false,braces=["{","}"];if(isArray(value)){array=true;braces=["[","]"]}if(isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)){base=" "+RegExp.prototype.toString.call(value)}if(isDate(value)){base=" "+Date.prototype.toUTCString.call(value)}if(isError(value)){base=" "+formatError(value)}if(keys.length===0&&(!array||value.length==0)){return braces[0]+base+braces[1]}if(recurseTimes<0){if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}else{return ctx.stylize("[Object]","special")}}ctx.seen.push(value);var output;if(array){output=formatArray(ctx,value,recurseTimes,visibleKeys,keys)}else{output=keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)})}ctx.seen.pop();return reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}if(isNumber(value))return ctx.stylize(""+value,"number");if(isBoolean(value))return ctx.stylize(""+value,"boolean");if(isNull(value))return ctx.stylize("null","null")}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){var output=[];for(var i=0,l=value.length;i<l;++i){if(hasOwnProperty(value,String(i))){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),true))}else{output.push("")}}keys.forEach(function(key){if(!key.match(/^\d+$/)){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,true))}});return output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]};if(desc.get){if(desc.set){str=ctx.stylize("[Getter/Setter]","special")}else{str=ctx.stylize("[Getter]","special")}}else{if(desc.set){str=ctx.stylize("[Setter]","special")}}if(!hasOwnProperty(visibleKeys,key)){name="["+key+"]"}if(!str){if(ctx.seen.indexOf(desc.value)<0){if(isNull(recurseTimes)){str=formatValue(ctx,desc.value,null)}else{str=formatValue(ctx,desc.value,recurseTimes-1)}if(str.indexOf("\n")>-1){if(array){str=str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2)}else{str="\n"+str.split("\n").map(function(line){return"   "+line}).join("\n")}}}else{str=ctx.stylize("[Circular]","special")}}if(isUndefined(name)){if(array&&key.match(/^\d+$/)){return str}name=JSON.stringify(""+key);if(name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){name=name.substr(1,name.length-2);name=ctx.stylize(name,"name")}else{name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");name=ctx.stylize(name,"string")}}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0;var length=output.reduce(function(prev,cur){numLinesEst++;if(cur.indexOf("\n")>=0)numLinesEst++;return prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(length>60){return braces[0]+(base===""?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]}return braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}exports.isArray=isArray;function isBoolean(arg){return typeof arg==="boolean"}exports.isBoolean=isBoolean;function isNull(arg){return arg===null}exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null}exports.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==="number"}exports.isNumber=isNumber;function isString(arg){return typeof arg==="string"}exports.isString=isString;function isSymbol(arg){return typeof arg==="symbol"}exports.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0}exports.isUndefined=isUndefined;function isRegExp(re){return isObject(re)&&objectToString(re)==="[object RegExp]"}exports.isRegExp=isRegExp;function isObject(arg){return typeof arg==="object"&&arg!==null}exports.isObject=isObject;function isDate(d){return isObject(d)&&objectToString(d)==="[object Date]"}exports.isDate=isDate;function isError(e){return isObject(e)&&(objectToString(e)==="[object Error]"||e instanceof Error)}exports.isError=isError;function isFunction(arg){return typeof arg==="function"}exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==="boolean"||typeof arg==="number"||typeof arg==="string"||typeof arg==="symbol"||typeof arg==="undefined"}exports.isPrimitive=isPrimitive;exports.isBuffer=require("./support/isBuffer");function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp(){var d=new Date;var time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))};exports.inherits=require("inherits");exports._extend=function(origin,add){if(!add||!isObject(add))return origin;var keys=Object.keys(add);var i=keys.length;while(i--){origin[keys[i]]=add[keys[i]]}return origin};function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./support/isBuffer":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/util/support/isBufferBrowser.js",_process:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/process/browser.js",inherits:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/hostmeta/index.js":[function(require,module,exports){"use strict";var async=require("async");var request=require("request");var JXT=require("jxt").createRegistry();JXT.use(require("./lib/xrd"));module.exports=function(opts,cb){if(typeof opts==="string"){opts={host:opts}}var config={ssl:true,json:true,xrd:true};for(var prop in opts){config[prop]=opts[prop]}var scheme=config.ssl?"https://":"http://";async.parallel([function(done){request(scheme+config.host+"/.well-known/host-meta.json",function(err,req,body){if(err){return done(null)}var data;try{data=JSON.parse(body)}catch(e){data=null}return done(data)})},function(done){request(scheme+config.host+"/.well-known/host-meta",function(err,req,body){if(err){return done(null)}var xrd=JXT.parse(body);return done(xrd.toJSON())})}],function(result){if(result){cb(null,result)}else{cb("no-host-meta")}})}},{"./lib/xrd":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/hostmeta/lib/xrd.js",async:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/async/lib/async.js",jxt:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt/index.js",request:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/xhr/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/hostmeta/lib/xrd.js":[function(require,module,exports){"use strict";var jxt=require("jxt");var NS="http://docs.oasis-open.org/ns/xri/xrd-1.0";module.exports=function(registry){var Properties={get:function(){var results={};var props=jxt.find(this.xml,NS,"Property");for(var i=0,len=props.length;i<len;i++){var property=props[i];var type=jxt.getAttribute(property,"type");results[type]=property.textContent}return results}};var XRD=registry.define({name:"xrd",namespace:NS,element:"XRD",fields:{subject:jxt.subText(NS,"Subject"),expires:jxt.dateSub(NS,"Expires"),aliases:jxt.multiSubText(NS,"Alias"),properties:Properties}});var Link=registry.define({name:"_xrdlink",namespace:NS,element:"Link",fields:{rel:jxt.attribute("rel"),href:jxt.attribute("href"),type:jxt.attribute("type"),template:jxt.attribute("template"),titles:jxt.subLangText(NS,"Title","default"),properties:Properties}});registry.extend(XRD,Link,"links");return XRD}},{jxt:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/index.js":[function(require,module,exports){var createHash=require("create-hash");var createHmac=require("create-hmac");var getHashes=require("./lib/get-hashes");var mapping={md2:"md2",md5:"md5","sha-1":"sha1","sha-224":"sha224","sha-256":"sha256","sha-384":"sha384","sha-512":"sha512"};var names=Object.keys(mapping);exports.getHashes=function(){var result=[];var available=getHashes();for(var i=0,len=names.length;i<len;i++){if(available.indexOf(mapping[names[i]])>=0){result.push(names[i])}}return result};exports.createHash=function(algorithm){algorithm=algorithm.toLowerCase();if(mapping[algorithm]){algorithm=mapping[algorithm]}return createHash(algorithm)};exports.createHmac=function(algorithm,key){algorithm=algorithm.toLowerCase();if(mapping[algorithm]){algorithm=mapping[algorithm]}return createHmac(algorithm,key)}},{"./lib/get-hashes":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/lib/get-hashes-browser.js","create-hash":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/browser.js","create-hmac":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hmac/browser.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/lib/get-hashes-browser.js":[function(require,module,exports){module.exports=function(){return["sha1","sha224","sha256","sha384","sha512","md5","rmd160"]}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/browser.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/browser.js"][0].apply(exports,arguments)},{"./md5":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/md5.js",buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js",inherits:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/node_modules/inherits/inherits_browser.js",ripemd160:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/node_modules/ripemd160/lib/ripemd160.js","sha.js":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/node_modules/sha.js/index.js",stream:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/stream-browserify/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/helpers.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/helpers.js"][0].apply(exports,arguments)},{buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/md5.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/md5.js"][0].apply(exports,arguments)},{"./helpers":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/helpers.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/node_modules/inherits/inherits_browser.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/inherits/inherits_browser.js"][0].apply(exports,arguments)},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/node_modules/ripemd160/lib/ripemd160.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/ripemd160/lib/ripemd160.js"][0].apply(exports,arguments)},{buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/node_modules/sha.js/hash.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/hash.js"][0].apply(exports,arguments)},{buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/node_modules/sha.js/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/index.js"][0].apply(exports,arguments)},{"./sha":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/node_modules/sha.js/sha.js","./sha1":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/node_modules/sha.js/sha1.js","./sha224":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/node_modules/sha.js/sha224.js","./sha256":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/node_modules/sha.js/sha256.js","./sha384":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/node_modules/sha.js/sha384.js","./sha512":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/node_modules/sha.js/sha512.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/node_modules/sha.js/sha.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/sha.js"][0].apply(exports,arguments)},{"./hash":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/node_modules/sha.js/hash.js",buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js",inherits:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/node_modules/inherits/inherits_browser.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/node_modules/sha.js/sha1.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/sha1.js"][0].apply(exports,arguments)},{"./hash":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/node_modules/sha.js/hash.js",buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js",inherits:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/node_modules/inherits/inherits_browser.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/node_modules/sha.js/sha224.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/sha224.js"][0].apply(exports,arguments)},{"./hash":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/node_modules/sha.js/hash.js","./sha256":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/node_modules/sha.js/sha256.js",buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js",inherits:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/node_modules/inherits/inherits_browser.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/node_modules/sha.js/sha256.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/sha256.js"][0].apply(exports,arguments)},{"./hash":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/node_modules/sha.js/hash.js",buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js",inherits:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/node_modules/inherits/inherits_browser.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/node_modules/sha.js/sha384.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/sha384.js"][0].apply(exports,arguments)},{"./hash":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/node_modules/sha.js/hash.js","./sha512":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/node_modules/sha.js/sha512.js",buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js",inherits:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/node_modules/inherits/inherits_browser.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/node_modules/sha.js/sha512.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/sha512.js"][0].apply(exports,arguments)},{"./hash":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/node_modules/sha.js/hash.js",buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js",inherits:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/node_modules/inherits/inherits_browser.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hmac/browser.js":[function(require,module,exports){(function(Buffer){"use strict";var createHash=require("create-hash/browser");var inherits=require("inherits");var Transform=require("stream").Transform;var ZEROS=new Buffer(128);ZEROS.fill(0);function Hmac(alg,key){Transform.call(this);if(typeof key==="string"){key=new Buffer(key)}var blocksize=alg==="sha512"||alg==="sha384"?128:64;this._alg=alg;this._key=key;if(key.length>blocksize){key=createHash(alg).update(key).digest()}else if(key.length<blocksize){key=Buffer.concat([key,ZEROS],blocksize)}var ipad=this._ipad=new Buffer(blocksize);var opad=this._opad=new Buffer(blocksize);for(var i=0;i<blocksize;i++){ipad[i]=key[i]^54;opad[i]=key[i]^92}this._hash=createHash(alg).update(ipad)}inherits(Hmac,Transform);Hmac.prototype.update=function(data,enc){this._hash.update(data,enc);return this};Hmac.prototype._transform=function(data,_,next){this._hash.update(data);next()};Hmac.prototype._flush=function(next){this.push(this.digest());next()};Hmac.prototype.digest=function(enc){var h=this._hash.digest();return createHash(this._alg).update(this._opad).update(h).digest(enc)};module.exports=function createHmac(alg,key){return new Hmac(alg,key)}}).call(this,require("buffer").Buffer)},{buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js","create-hash/browser":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hash/browser.js",inherits:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hmac/node_modules/inherits/inherits_browser.js",stream:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/stream-browserify/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hmac/node_modules/inherits/inherits_browser.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/inherits/inherits_browser.js"][0].apply(exports,arguments)},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/index.js":[function(require,module,exports){var util=require("util");var intersect=require("intersect");var WildEmitter=require("wildemitter");var webrtc=require("webrtcsupport");var BaseSession=require("jingle-session");var MediaSession=require("jingle-media-session");var FileSession=require("jingle-filetransfer-session");function SessionManager(conf){WildEmitter.call(this);conf=conf||{};this.jid=conf.jid;this.selfID=conf.selfID||this.jid&&this.jid.full||this.jid||"";this.sessions={};this.peers={};this.prepareSession=conf.prepareSession||function(opts){if(opts.descriptionTypes.indexOf("rtp")>=0){return new MediaSession(opts)}if(opts.descriptionTypes.indexOf("filetransfer")>=0){return new FileSession(opts)}};this.performTieBreak=conf.performTieBreak||function(sess,req){var descriptionTypes=req.jingle.contents.map(function(content){if(content.description){return content.description.descType}});var matching=intersect(sess.pendingDescriptionTypes,descriptionTypes);return matching.length>0};this.screenSharingSupport=webrtc.screenSharing;this.capabilities=["urn:xmpp:jingle:1"];if(webrtc.support){this.capabilities=["urn:xmpp:jingle:1","urn:xmpp:jingle:apps:rtp:1","urn:xmpp:jingle:apps:rtp:audio","urn:xmpp:jingle:apps:rtp:video","urn:xmpp:jingle:apps:rtp:rtcb-fb:0","urn:xmpp:jingle:apps:rtp:rtp-hdrext:0","urn:xmpp:jingle:apps:rtp:ssma:0","urn:xmpp:jingle:apps:dtls:0","urn:xmpp:jingle:apps:grouping:0","urn:xmpp:jingle:apps:file-transfer:3","urn:xmpp:jingle:transports:ice-udp:1","urn:xmpp:jingle:transports.dtls-sctp:1","urn:ietf:rfc:3264","urn:ietf:rfc:5576","urn:ietf:rfc:5888"]}this.config={debug:false,peerConnectionConfig:{iceServers:conf.iceServers||[{url:"stun:stun.l.google.com:19302"}]},peerConnectionConstraints:{optional:[{DtlsSrtpKeyAgreement:true},{RtpDataChannels:false}]},media:{audio:true,video:true}};for(var item in conf){this.config[item]=conf[item]}this.iceServers=this.config.peerConnectionConfig.iceServers}util.inherits(SessionManager,WildEmitter);SessionManager.prototype.addICEServer=function(server){if(typeof server==="string"){server={url:server}}this.iceServers.push(server)};SessionManager.prototype.addSession=function(session){var self=this;var sid=session.sid;var peer=session.peerID;this.sessions[sid]=session;if(!this.peers[peer]){this.peers[peer]=[]}this.peers[peer].push(session);session.on("terminated",function(){var peers=self.peers[peer]||[];if(peers.length){peers.splice(peers.indexOf(session),1)}delete self.sessions[sid]});session.on("*",function(name,data,extraData,extraData2){if(name==="send"){var action=data.jingle&&data.jingle.action;if(session.isInitiator&&action==="session-initiate"){self.emit("outgoing",session)}}if(self.config.debug&&(name==="log:debug"||name==="log:error")){console.log("Jingle:",data,extraData,extraData2)}if(name.indexOf("change")===0){return}self.emit(name,data,extraData,extraData2)});this.emit("createdSession",session);return session};SessionManager.prototype.createMediaSession=function(peer,sid,stream){var session=new MediaSession({sid:sid,peer:peer,initiator:true,stream:stream,parent:this,iceServers:this.iceServers,constraints:this.config.peerConnectionConstraints});this.addSession(session);return session};SessionManager.prototype.createFileTransferSession=function(peer,sid){var session=new FileSession({sid:sid,peer:peer,initiator:true,parent:this});this.addSession(session);return session};SessionManager.prototype.endPeerSessions=function(peer,reason,silent){peer=peer.full||peer;var sessions=this.peers[peer]||[];delete this.peers[peer];sessions.forEach(function(session){session.end(reason||"gone",silent)})};SessionManager.prototype.endAllSessions=function(reason,silent){var self=this;Object.keys(this.peers).forEach(function(peer){self.endPeerSessions(peer,reason,silent)})};SessionManager.prototype._createIncomingSession=function(meta,req){var session;if(this.prepareSession){session=this.prepareSession(meta,req)}if(!session){session=new BaseSession(meta)}this.addSession(session);return session};SessionManager.prototype._sendError=function(to,id,data){if(!data.type){data.type="cancel"}this.emit("send",{to:to,id:id,type:"error",error:data})};SessionManager.prototype._log=function(level,message){this.emit("log:"+level,message)};SessionManager.prototype.process=function(req){var self=this;var sid=!!req.jingle?req.jingle.sid:null;var session=this.sessions[sid]||null;var rid=req.id;var sender=req.from.full||req.from;if(req.type==="error"){var isTieBreak=req.error&&req.error.jingleCondition==="tie-break";if(session&&session.pending&&isTieBreak){return session.end("alternative-session",true)}else{if(session){session.pendingAction=false}return this.emit("error",req)}}if(req.type==="result"){if(session){session.pendingAction=false}return}var action=req.jingle.action;var contents=req.jingle.contents||[];var descriptionTypes=contents.map(function(content){if(content.description){return content.description.descType}});var transportTypes=contents.map(function(content){if(content.transport){return content.transport.transType}});if(action!=="session-initiate"){if(!session){this._log("error","Unknown session",sid);return this._sendError(sender,rid,{condition:"item-not-found",jingleCondition:"unknown-session"})}if(session.peerID!==sender||session.ended){this._log("error","Session has ended, or action has wrong sender");return this._sendError(sender,rid,{condition:"item-not-found",jingleCondition:"unknown-session"})}if(action==="session-accept"&&!session.pending){this._log("error","Tried to accept session twice",sid);return this._sendError(sender,rid,{condition:"unexpected-request",jingleCondition:"out-of-order"})}if(action!=="session-terminate"&&action===session.pendingAction){this._log("error","Tie break during pending request");if(session.isInitiator){return this._sendError(sender,rid,{condition:"conflict",jingleCondition:"tie-break"})}}}else if(session){if(session.peerID!==sender){this._log("error","Duplicate sid from new sender");return this._sendError(sender,rid,{condition:"service-unavailable"})}if(session.pending){if(this.selfID>session.peerID&&this.performTieBreak(session,req)){this._log("error","Tie break new session because of duplicate sids");return this._sendError(sender,rid,{condition:"conflict",jingleCondition:"tie-break"})}}else{this._log("error","Someone is doing this wrong");return this._sendError(sender,rid,{condition:"unexpected-request",jingleCondition:"out-of-order"})}}else if(this.peers[sender]&&this.peers[sender].length){for(var i=0,len=this.peers[sender].length;i<len;i++){var sess=this.peers[sender][i];if(sess&&sess.pending&&sess.sid>sid&&this.performTieBreak(sess,req)){this._log("info","Tie break session-initiate");return this._sendError(sender,rid,{condition:"conflict",jingleCondition:"tie-break"})}}}if(action==="session-initiate"){if(!contents.length){return self._sendError(sender,rid,{condition:"bad-request"})}session=this._createIncomingSession({sid:sid,peer:req.from,peerID:sender,initiator:false,parent:this,descriptionTypes:descriptionTypes,transportTypes:transportTypes,iceServers:this.iceServers,constraints:this.config.peerConnectionConstraints},req)}session.process(action,req.jingle,function(err){if(err){self._log("error","Could not process request",req,err);self._sendError(sender,rid,err)}else{self.emit("send",{to:sender,id:rid,type:"result"});if(action==="session-initiate"){self.emit("incoming",session)}}})};module.exports=SessionManager},{intersect:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/intersect/index.js","jingle-filetransfer-session":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/index.js","jingle-media-session":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/index.js","jingle-session":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-session/index.js",util:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/util/util.js",webrtcsupport:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/webrtcsupport/index-browser.js",wildemitter:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/wildemitter/wildemitter.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/extend-object/extend-object.js":[function(require,module,exports){var arr=[];var each=arr.forEach;var slice=arr.slice;module.exports=function(obj){each.call(slice.call(arguments,1),function(source){if(source){for(var prop in source){obj[prop]=source[prop]}}});return obj}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/intersect/index.js":[function(require,module,exports){module.exports=intersect;function intersect(a,b){var res=[];for(var i=0;i<a.length;i++){if(indexOf(b,a[i])>-1)res.push(a[i])}return res}intersect.big=function(a,b){var ret=[];var temp={};for(var i=0;i<b.length;i++){temp[b[i]]=true}for(var i=0;i<a.length;i++){if(temp[a[i]])ret.push(a[i])}return ret};function indexOf(arr,el){for(var i=0;i<arr.length;i++){if(arr[i]===el)return i}return-1}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/index.js":[function(require,module,exports){var util=require("util");var extend=require("extend-object");var BaseSession=require("jingle-session");var RTCPeerConnection=require("rtcpeerconnection");var FileTransfer=require("filetransfer");function FileTransferSession(opts){BaseSession.call(this,opts);var self=this;this.pc=new RTCPeerConnection({iceServers:opts.iceServers||[],useJingle:true},opts.constraints||{});this.pc.on("ice",this.onIceCandidate.bind(this));this.pc.on("iceConnectionStateChange",this.onIceStateChange.bind(this));this.pc.on("addChannel",this.onChannelAdded.bind(this));this.sender=new FileTransfer.Sender;this.sender.on("progress",function(sent,size){self._log("info","Send progress "+sent+"/"+size)});this.sender.on("sentFile",function(meta){self._log("info","Sent file",meta.name);var content=self.pc.localDescription.contents[0];delete content.transport;content.description={descType:"filetransfer",offer:{hash:{algo:meta.algo,value:meta.hash}}};self.send("description-info",{contents:[content]});self.emit("sentFile",self,meta)});this.receiver=new FileTransfer.Receiver;this.receiver.on("progress",function(received,size){self._log("info","Receive progress "+received+"/"+size)});this.receiver.on("receivedFile",function(file){self.receivedFile=file;self.maybeReceivedFile()})}util.inherits(FileTransferSession,BaseSession);FileTransferSession.prototype=extend(FileTransferSession.prototype,{start:function(file){var self=this;this.state="pending";this.pc.isInitiator=true;var sendChannel=this.pc.createDataChannel("filetransfer");sendChannel.onopen=function(){self.sender.send(file,sendChannel)};var constraints={mandatory:{OfferToReceiveAudio:false,OfferToReceiveVideo:false}};this.pc.offer(constraints,function(err,offer){if(err){self._log("error","Could not create WebRTC offer",err);return self.end("failed-application",true)}offer.jingle.contents[0].description={descType:"filetransfer",offer:{date:file.lastModifiedDate,name:file.name,size:file.size,hash:{algo:"sha-1",value:""}}};self.send("session-initiate",offer.jingle)})},accept:function(){var self=this;this._log("info","Accepted incoming session");this.state="active";this.pc.answer(function(err,answer){if(err){self._log("error","Could not create WebRTC answer",err);return self.end("failed-application")}answer.jingle.contents[0].name="data";self.send("session-accept",answer.jingle)})},end:function(reason,silent){this.pc.close();BaseSession.prototype.end.call(this,reason,silent)},maybeReceivedFile:function(){if(!this.receiver.metadata.hash.value){}else if(this.receiver.metadata.hash.value===this.receiver.metadata.actualhash){this._log("info","File hash matches");this.emit("receivedFile",this,this.receivedFile,this.receiver.metadata);this.end("success")}else{this._log("error","File hash does not match");this.end("media-error")}},onIceCandidate:function(candidate){this._log("info","Discovered new ICE candidate",candidate.jingle);candidate.jingle.contents[0].name="data";this.send("transport-info",candidate.jingle)},onIceStateChange:function(){switch(this.pc.iceConnectionState){case"checking":this.connectionState="connecting";break;case"completed":case"connected":this.connectionState="connected";break;case"disconnected":if(this.pc.signalingState==="stable"){this.connectionState="interrupted"}else{this.connectionState="disconnected"}break;case"failed":this.connectionState="failed";this.end("failed-transport");break;case"closed":this.connectionState="disconnected";break}},onChannelAdded:function(channel){this.receiver.receive(null,channel)},onSessionInitiate:function(changes,cb){var self=this;this._log("info","Initiating incoming session");this.state="pending";this.pc.isInitiator=false;var desc=changes.contents[0].description;this.receiver.metadata=desc.offer.toJSON();if(this.receiver.metadata.hash){this.receiver.config.hash=this.receiver.metadata.hash.algo}changes.contents[0].description={descType:"datachannel"};this.pc.handleOffer({type:"offer",jingle:changes},function(err){if(err){self._log("error","Could not create WebRTC answer");return cb({condition:"general-error"})}cb()})},onSessionAccept:function(changes,cb){var self=this;this.state="active";changes.contents[0].description={descType:"datachannel"};this.pc.handleAnswer({type:"answer",jingle:changes},function(err){if(err){self._log("error","Could not process WebRTC answer");return cb({condition:"general-error"})}self.emit("accepted",self);cb()})},onSessionTerminate:function(changes,cb){this._log("info","Terminating session");this.pc.close();BaseSession.prototype.end.call(this,changes.reason,true);cb()},onDescriptionInfo:function(info,cb){var hash=info.contents[0].description.offer.hash;this.receiver.metadata.hash=hash;if(this.receiver.metadata.actualhash){this.maybeReceivedFile()}cb()},onTransportInfo:function(changes,cb){this.pc.processIce(changes,function(){cb()})}});module.exports=FileTransferSession},{"extend-object":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/extend-object/extend-object.js",filetransfer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/filetransfer/filetransfer.js","jingle-session":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-session/index.js",rtcpeerconnection:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/rtcpeerconnection.js",util:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/util/util.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/filetransfer/filetransfer.js":[function(require,module,exports){var async=require("async");var WildEmitter=require("wildemitter");var util=require("util");var hashes=require("iana-hashes");function Sender(opts){WildEmitter.call(this);var self=this;var options=opts||{};this.config={chunksize:16384,pacing:10,hash:"sha-1"};var item;for(item in options){this.config[item]=options[item]}this.file=null;this.channel=null;this.hash=null;this.processingQueue=async.queue(function(task,next){if(task.type=="chunk"){var reader=new window.FileReader;reader.onload=function(){return function(e){self.channel.send(e.target.result);if(self.hash){self.hash.update(new Uint8Array(e.target.result))}self.emit("progress",task.start,task.file.size);window.setTimeout(next,self.config.pacing)}}(task.file);var slice=task.file.slice(task.start,task.start+task.size);reader.readAsArrayBuffer(slice)}else if(task.type=="complete"){self.emit("progress",self.file.size,self.file.size);self.emit("sentFile",self.hash?{hash:self.hash.digest("hex"),algo:self.config.hash}:null);next()}})}util.inherits(Sender,WildEmitter);Sender.prototype.send=function(file,channel){this.file=file;if(this.config.hash){this.hash=hashes.createHash(this.config.hash)}this.channel=channel;for(var start=0;start<this.file.size;start+=this.config.chunksize){this.processingQueue.push({type:"chunk",file:file,start:start,size:this.config.chunksize})}this.processingQueue.push({type:"complete"})};function Receiver(opts){WildEmitter.call(this);var options=opts||{};this.config={hash:"sha-1"};var item;for(item in options){this.config[item]=options[item]}this.receiveBuffer=[];this.received=0;this.metadata={};this.channel=null;this.hash=null}util.inherits(Receiver,WildEmitter);Receiver.prototype.receive=function(metadata,channel){var self=this;if(metadata){this.metadata=metadata}if(this.config.hash){this.hash=hashes.createHash(this.config.hash)}this.channel=channel;channel.binaryType="arraybuffer";this.channel.onmessage=function(event){var len=event.data.byteLength;self.received+=len;self.receiveBuffer.push(event.data);if(self.hash){self.hash.update(new Uint8Array(event.data))}self.emit("progress",self.received,self.metadata.size);if(self.received==self.metadata.size){if(self.hash){self.metadata.actualhash=self.hash.digest("hex")}self.emit("receivedFile",new window.Blob(self.receiveBuffer),self.metadata);self.receiveBuffer=[]}else if(self.received>self.metadata.size){console.error("received more than expected, discarding...");self.receiveBuffer=[]}}};module.exports={};module.exports.support=window&&window.File&&window.FileReader&&window.Blob;module.exports.Sender=Sender;module.exports.Receiver=Receiver},{async:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/async/lib/async.js","iana-hashes":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/index.js",util:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/util/util.js",wildemitter:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/wildemitter/wildemitter.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/index.js":[function(require,module,exports){var baseGet=require("lodash._baseget"),toPath=require("lodash._topath"),isArray=require("lodash.isarray"),map=require("lodash.map");var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function baseProperty(key){return function(object){return object==null?undefined:object[key]}}function basePropertyDeep(path){var pathKey=path+"";path=toPath(path);return function(object){return baseGet(object,path,pathKey)}}function isKey(value,object){var type=typeof value;if(type=="string"&&reIsPlainProp.test(value)||type=="number"){return true}if(isArray(value)){return false}var result=!reIsDeepProp.test(value);return result||object!=null&&value in toObject(object)}function toObject(value){return isObject(value)?value:Object(value)}function pluck(collection,path){return map(collection,property(path))}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function property(path){return isKey(path)?baseProperty(path):basePropertyDeep(path)}module.exports=pluck},{"lodash._baseget":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash._baseget/index.js","lodash._topath":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash._topath/index.js","lodash.isarray":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.isarray/index.js","lodash.map":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash._baseget/index.js":[function(require,module,exports){function baseGet(object,path,pathKey){if(object==null){return}if(pathKey!==undefined&&pathKey in toObject(object)){path=[pathKey]}var index=0,length=path.length;while(object!=null&&index<length){object=object[path[index++]]}return index&&index==length?object:undefined}function toObject(value){return isObject(value)?value:Object(value)}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}module.exports=baseGet},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash._topath/index.js":[function(require,module,exports){var isArray=require("lodash.isarray");var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g;var reEscapeChar=/\\(\\)?/g;function baseToString(value){return value==null?"":value+""}function toPath(value){if(isArray(value)){return value}var result=[];baseToString(value).replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)});return result}module.exports=toPath},{"lodash.isarray":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.isarray/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/index.js":[function(require,module,exports){var arrayMap=require("lodash._arraymap"),baseCallback=require("lodash._basecallback"),baseEach=require("lodash._baseeach"),isArray=require("lodash.isarray");var MAX_SAFE_INTEGER=9007199254740991;function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection)});return result}function baseProperty(key){return function(object){return object==null?undefined:object[key]}}var getLength=baseProperty("length");function isArrayLike(value){return value!=null&&isLength(getLength(value))}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function map(collection,iteratee,thisArg){var func=isArray(collection)?arrayMap:baseMap;iteratee=baseCallback(iteratee,thisArg,3);return func(collection,iteratee)}module.exports=map},{"lodash._arraymap":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._arraymap/index.js","lodash._basecallback":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/index.js","lodash._baseeach":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._baseeach/index.js","lodash.isarray":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.isarray/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._arraymap/index.js":[function(require,module,exports){function arrayMap(array,iteratee){var index=-1,length=array.length,result=Array(length);while(++index<length){result[index]=iteratee(array[index],index,array)}return result}module.exports=arrayMap},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/index.js":[function(require,module,exports){var baseIsEqual=require("lodash._baseisequal"),bindCallback=require("lodash._bindcallback"),isArray=require("lodash.isarray"),pairs=require("lodash.pairs");var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g;var reEscapeChar=/\\(\\)?/g;function baseToString(value){return value==null?"":value+""}function baseCallback(func,thisArg,argCount){var type=typeof func;if(type=="function"){return thisArg===undefined?func:bindCallback(func,thisArg,argCount)}if(func==null){return identity}if(type=="object"){return baseMatches(func)}return thisArg===undefined?property(func):baseMatchesProperty(func,thisArg)}function baseGet(object,path,pathKey){if(object==null){return}if(pathKey!==undefined&&pathKey in toObject(object)){path=[pathKey]}var index=0,length=path.length;while(object!=null&&index<length){object=object[path[index++]]}return index&&index==length?object:undefined}function baseIsMatch(object,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(object==null){return!length}object=toObject(object);while(index--){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object)){return false}}while(++index<length){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===undefined&&!(key in object)){return false}}else{var result=customizer?customizer(objValue,srcValue,key):undefined;if(!(result===undefined?baseIsEqual(srcValue,objValue,customizer,true):result)){return false}}}return true}function baseMatches(source){var matchData=getMatchData(source);if(matchData.length==1&&matchData[0][2]){var key=matchData[0][0],value=matchData[0][1];return function(object){if(object==null){return false}return object[key]===value&&(value!==undefined||key in toObject(object))}}return function(object){return baseIsMatch(object,matchData)}}function baseMatchesProperty(path,srcValue){var isArr=isArray(path),isCommon=isKey(path)&&isStrictComparable(srcValue),pathKey=path+"";path=toPath(path);return function(object){if(object==null){return false}var key=pathKey;object=toObject(object);if((isArr||!isCommon)&&!(key in object)){object=path.length==1?object:baseGet(object,baseSlice(path,0,-1));if(object==null){return false}key=last(path);object=toObject(object)}return object[key]===srcValue?srcValue!==undefined||key in object:baseIsEqual(srcValue,object[key],undefined,true)}}function baseProperty(key){return function(object){return object==null?undefined:object[key]}}function basePropertyDeep(path){var pathKey=path+"";path=toPath(path);return function(object){return baseGet(object,path,pathKey)}}function baseSlice(array,start,end){var index=-1,length=array.length;start=start==null?0:+start||0;if(start<0){start=-start>length?0:length+start}end=end===undefined||end>length?length:+end||0;if(end<0){end+=length}length=start>end?0:end-start>>>0;start>>>=0;var result=Array(length);while(++index<length){result[index]=array[index+start]}return result}function getMatchData(object){var result=pairs(object),length=result.length;while(length--){result[length][2]=isStrictComparable(result[length][1])}return result}function isKey(value,object){var type=typeof value;if(type=="string"&&reIsPlainProp.test(value)||type=="number"){return true}if(isArray(value)){return false}var result=!reIsDeepProp.test(value);return result||object!=null&&value in toObject(object)}function isStrictComparable(value){return value===value&&!isObject(value)}function toObject(value){return isObject(value)?value:Object(value)}function toPath(value){if(isArray(value)){return value}var result=[];baseToString(value).replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)});return result}function last(array){var length=array?array.length:0;return length?array[length-1]:undefined}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function identity(value){return value}function property(path){return isKey(path)?baseProperty(path):basePropertyDeep(path)}module.exports=baseCallback},{"lodash._baseisequal":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/node_modules/lodash._baseisequal/index.js","lodash._bindcallback":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/node_modules/lodash._bindcallback/index.js","lodash.isarray":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.isarray/index.js","lodash.pairs":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/node_modules/lodash.pairs/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/node_modules/lodash._baseisequal/index.js":[function(require,module,exports){var isArray=require("lodash.isarray"),isTypedArray=require("lodash.istypedarray"),keys=require("lodash.keys");var argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",stringTag="[object String]";function isObjectLike(value){return!!value&&typeof value=="object"}var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var objToString=objectProto.toString;function arraySome(array,predicate){var index=-1,length=array.length;while(++index<length){if(predicate(array[index],index,array)){return true}}return false}function baseIsEqual(value,other,customizer,isLoose,stackA,stackB){if(value===other){return true}if(value==null||other==null||!isObject(value)&&!isObjectLike(other)){return value!==value&&other!==other}return baseIsEqualDeep(value,other,baseIsEqual,customizer,isLoose,stackA,stackB)}function baseIsEqualDeep(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;if(!objIsArr){objTag=objToString.call(object);if(objTag==argsTag){objTag=objectTag}else if(objTag!=objectTag){objIsArr=isTypedArray(object)}}if(!othIsArr){othTag=objToString.call(other);if(othTag==argsTag){othTag=objectTag}else if(othTag!=objectTag){othIsArr=isTypedArray(other)}}var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&!(objIsArr||objIsObj)){return equalByTag(object,other,objTag)}if(!isLoose){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){return equalFunc(objIsWrapped?object.value():object,othIsWrapped?other.value():other,customizer,isLoose,stackA,stackB)}}if(!isSameTag){return false}stackA||(stackA=[]);stackB||(stackB=[]);var length=stackA.length;while(length--){if(stackA[length]==object){return stackB[length]==other}}stackA.push(object);stackB.push(other);var result=(objIsArr?equalArrays:equalObjects)(object,other,equalFunc,customizer,isLoose,stackA,stackB);stackA.pop();stackB.pop();return result}function equalArrays(array,other,equalFunc,customizer,isLoose,stackA,stackB){var index=-1,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isLoose&&othLength>arrLength)){return false}while(++index<arrLength){var arrValue=array[index],othValue=other[index],result=customizer?customizer(isLoose?othValue:arrValue,isLoose?arrValue:othValue,index):undefined;if(result!==undefined){if(result){continue}return false}if(isLoose){if(!arraySome(other,function(othValue){return arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB)})){return false}}else if(!(arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB))){return false}}return true}function equalByTag(object,other,tag){switch(tag){case boolTag:case dateTag:return+object==+other;case errorTag:return object.name==other.name&&object.message==other.message;case numberTag:return object!=+object?other!=+other:object==+other;case regexpTag:case stringTag:return object==other+""}return false}function equalObjects(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objProps=keys(object),objLength=objProps.length,othProps=keys(other),othLength=othProps.length;if(objLength!=othLength&&!isLoose){return false}var index=objLength;while(index--){var key=objProps[index];if(!(isLoose?key in other:hasOwnProperty.call(other,key))){return false}}var skipCtor=isLoose;while(++index<objLength){key=objProps[index];var objValue=object[key],othValue=other[key],result=customizer?customizer(isLoose?othValue:objValue,isLoose?objValue:othValue,key):undefined;if(!(result===undefined?equalFunc(objValue,othValue,customizer,isLoose,stackA,stackB):result)){return false}skipCtor||(skipCtor=key=="constructor")}if(!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&("constructor"in object&&"constructor"in other)&&!(typeof objCtor=="function"&&objCtor instanceof objCtor&&typeof othCtor=="function"&&othCtor instanceof othCtor)){return false}}return true}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}module.exports=baseIsEqual},{"lodash.isarray":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.isarray/index.js","lodash.istypedarray":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/node_modules/lodash._baseisequal/node_modules/lodash.istypedarray/index.js","lodash.keys":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash.keys/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/node_modules/lodash._baseisequal/node_modules/lodash.istypedarray/index.js":[function(require,module,exports){var argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]";var arrayBufferTag="[object ArrayBuffer]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=false;function isObjectLike(value){return!!value&&typeof value=="object"}var objectProto=Object.prototype;var objToString=objectProto.toString;var MAX_SAFE_INTEGER=9007199254740991;function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objToString.call(value)]}module.exports=isTypedArray},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/node_modules/lodash._bindcallback/index.js":[function(require,module,exports){function bindCallback(func,thisArg,argCount){if(typeof func!="function"){return identity}if(thisArg===undefined){return func}switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)};case 5:return function(value,other,key,object,source){return func.call(thisArg,value,other,key,object,source)}}return function(){return func.apply(thisArg,arguments)}}function identity(value){return value}module.exports=bindCallback},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/node_modules/lodash.pairs/index.js":[function(require,module,exports){var keys=require("lodash.keys");function toObject(value){return isObject(value)?value:Object(value)}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function pairs(object){object=toObject(object);var index=-1,props=keys(object),length=props.length,result=Array(length);while(++index<length){var key=props[index];result[index]=[key,object[key]]}return result}module.exports=pairs},{"lodash.keys":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash.keys/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._baseeach/index.js":[function(require,module,exports){var keys=require("lodash.keys");var MAX_SAFE_INTEGER=9007199254740991;var baseEach=createBaseEach(baseForOwn);var baseFor=createBaseFor();function baseForOwn(object,iteratee){return baseFor(object,iteratee,keys)}function baseProperty(key){return function(object){return object==null?undefined:object[key]}}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){var length=collection?getLength(collection):0;if(!isLength(length)){return eachFunc(collection,iteratee)}var index=fromRight?length:-1,iterable=toObject(collection);while(fromRight?index--:++index<length){if(iteratee(iterable[index],index,iterable)===false){break}}return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){var iterable=toObject(object),props=keysFunc(object),length=props.length,index=fromRight?length:-1;while(fromRight?index--:++index<length){var key=props[index];if(iteratee(iterable[key],key,iterable)===false){break}}return object}}var getLength=baseProperty("length");function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function toObject(value){return isObject(value)?value:Object(value)}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}module.exports=baseEach},{"lodash.keys":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash.keys/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash.keys/index.js":[function(require,module,exports){var getNative=require("lodash._getnative"),isArguments=require("lodash.isarguments"),isArray=require("lodash.isarray");var reIsUint=/^\d+$/;var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var nativeKeys=getNative(Object,"keys");var MAX_SAFE_INTEGER=9007199254740991;function baseProperty(key){return function(object){return object==null?undefined:object[key]}}var getLength=baseProperty("length");function isArrayLike(value){return value!=null&&isLength(getLength(value))}function isIndex(value,length){value=typeof value=="number"||reIsUint.test(value)?+value:-1;length=length==null?MAX_SAFE_INTEGER:length;return value>-1&&value%1==0&&value<length}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function shimKeys(object){var props=keysIn(object),propsLength=props.length,length=propsLength&&object.length;var allowIndexes=!!length&&isLength(length)&&(isArray(object)||isArguments(object));var index=-1,result=[];while(++index<propsLength){var key=props[index];if(allowIndexes&&isIndex(key,length)||hasOwnProperty.call(object,key)){result.push(key)}}return result}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}var keys=!nativeKeys?shimKeys:function(object){var Ctor=object==null?undefined:object.constructor;if(typeof Ctor=="function"&&Ctor.prototype===object||typeof object!="function"&&isArrayLike(object)){return shimKeys(object)}return isObject(object)?nativeKeys(object):[]};function keysIn(object){if(object==null){return[]}if(!isObject(object)){object=Object(object)}var length=object.length;length=length&&isLength(length)&&(isArray(object)||isArguments(object))&&length||0;var Ctor=object.constructor,index=-1,isProto=typeof Ctor=="function"&&Ctor.prototype===object,result=Array(length),skipIndexes=length>0;while(++index<length){result[index]=index+""}for(var key in object){if(!(skipIndexes&&isIndex(key,length))&&!(key=="constructor"&&(isProto||!hasOwnProperty.call(object,key)))){result.push(key)}}return result}module.exports=keys},{"lodash._getnative":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash.keys/node_modules/lodash._getnative/index.js","lodash.isarguments":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash.keys/node_modules/lodash.isarguments/index.js","lodash.isarray":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.isarray/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash.keys/node_modules/lodash._getnative/index.js":[function(require,module,exports){var funcTag="[object Function]";var reIsHostCtor=/^\[object .+?Constructor\]$/;function isObjectLike(value){return!!value&&typeof value=="object"}var objectProto=Object.prototype;var fnToString=Function.prototype.toString;var hasOwnProperty=objectProto.hasOwnProperty;var objToString=objectProto.toString;var reIsNative=RegExp("^"+fnToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function getNative(object,key){var value=object==null?undefined:object[key];return isNative(value)?value:undefined}function isFunction(value){return isObject(value)&&objToString.call(value)==funcTag}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function isNative(value){if(value==null){return false}if(isFunction(value)){return reIsNative.test(fnToString.call(value))}return isObjectLike(value)&&reIsHostCtor.test(value)}module.exports=getNative},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash.keys/node_modules/lodash.isarguments/index.js":[function(require,module,exports){function isObjectLike(value){return!!value&&typeof value=="object"}var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var propertyIsEnumerable=objectProto.propertyIsEnumerable;var MAX_SAFE_INTEGER=9007199254740991;function baseProperty(key){return function(object){return object==null?undefined:object[key]}}var getLength=baseProperty("length");function isArrayLike(value){return value!=null&&isLength(getLength(value))}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isArguments(value){return isObjectLike(value)&&isArrayLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")}module.exports=isArguments},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/sdp-jingle-json/index.js":[function(require,module,exports){var toSDP=require("./lib/tosdp");var toJSON=require("./lib/tojson");exports.toIncomingSDPOffer=function(session){return toSDP.toSessionSDP(session,{role:"responder",direction:"incoming"})};exports.toOutgoingSDPOffer=function(session){return toSDP.toSessionSDP(session,{role:"initiator",direction:"outgoing"})};exports.toIncomingSDPAnswer=function(session){return toSDP.toSessionSDP(session,{role:"initiator",direction:"incoming"})};exports.toOutgoingSDPAnswer=function(session){return toSDP.toSessionSDP(session,{role:"responder",direction:"outgoing"})};exports.toIncomingMediaSDPOffer=function(media){return toSDP.toMediaSDP(media,{role:"responder",direction:"incoming"})};exports.toOutgoingMediaSDPOffer=function(media){return toSDP.toMediaSDP(media,{role:"initiator",direction:"outgoing"})};exports.toIncomingMediaSDPAnswer=function(media){return toSDP.toMediaSDP(media,{role:"initiator",direction:"incoming"})};exports.toOutgoingMediaSDPAnswer=function(media){return toSDP.toMediaSDP(media,{role:"responder",direction:"outgoing"})};exports.toCandidateSDP=toSDP.toCandidateSDP;exports.toMediaSDP=toSDP.toMediaSDP;exports.toSessionSDP=toSDP.toSessionSDP;exports.toIncomingJSONOffer=function(sdp,creators){return toJSON.toSessionJSON(sdp,{role:"responder",direction:"incoming",creators:creators})};exports.toOutgoingJSONOffer=function(sdp,creators){return toJSON.toSessionJSON(sdp,{role:"initiator",direction:"outgoing",creators:creators})};exports.toIncomingJSONAnswer=function(sdp,creators){return toJSON.toSessionJSON(sdp,{role:"initiator",direction:"incoming",creators:creators})};exports.toOutgoingJSONAnswer=function(sdp,creators){return toJSON.toSessionJSON(sdp,{role:"responder",direction:"outgoing",creators:creators})};exports.toIncomingMediaJSONOffer=function(sdp,creator){return toJSON.toMediaJSON(sdp,{role:"responder",direction:"incoming",creator:creator})};exports.toOutgoingMediaJSONOffer=function(sdp,creator){return toJSON.toMediaJSON(sdp,{role:"initiator",direction:"outgoing",creator:creator})};exports.toIncomingMediaJSONAnswer=function(sdp,creator){return toJSON.toMediaJSON(sdp,{role:"initiator",direction:"incoming",creator:creator})};exports.toOutgoingMediaJSONAnswer=function(sdp,creator){return toJSON.toMediaJSON(sdp,{role:"responder",direction:"outgoing",creator:creator})};exports.toCandidateJSON=toJSON.toCandidateJSON;exports.toMediaJSON=toJSON.toMediaJSON;exports.toSessionJSON=toJSON.toSessionJSON},{"./lib/tojson":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/sdp-jingle-json/lib/tojson.js","./lib/tosdp":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/sdp-jingle-json/lib/tosdp.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/sdp-jingle-json/lib/parsers.js":[function(require,module,exports){exports.lines=function(sdp){return sdp.split("\r\n").filter(function(line){return line.length>0})};exports.findLine=function(prefix,mediaLines,sessionLines){var prefixLength=prefix.length;for(var i=0;i<mediaLines.length;i++){if(mediaLines[i].substr(0,prefixLength)===prefix){return mediaLines[i]}}if(!sessionLines){return false}for(var j=0;j<sessionLines.length;j++){if(sessionLines[j].substr(0,prefixLength)===prefix){return sessionLines[j]}}return false};exports.findLines=function(prefix,mediaLines,sessionLines){var results=[];var prefixLength=prefix.length;for(var i=0;i<mediaLines.length;i++){if(mediaLines[i].substr(0,prefixLength)===prefix){results.push(mediaLines[i])}}if(results.length||!sessionLines){return results}for(var j=0;j<sessionLines.length;j++){if(sessionLines[j].substr(0,prefixLength)===prefix){results.push(sessionLines[j])}}return results};exports.mline=function(line){var parts=line.substr(2).split(" ");var parsed={media:parts[0],port:parts[1],proto:parts[2],formats:[]};for(var i=3;i<parts.length;i++){if(parts[i]){parsed.formats.push(parts[i])}}return parsed};exports.rtpmap=function(line){var parts=line.substr(9).split(" ");var parsed={id:parts.shift()};parts=parts[0].split("/");parsed.name=parts[0];parsed.clockrate=parts[1];parsed.channels=parts.length==3?parts[2]:"1";return parsed};exports.sctpmap=function(line){var parts=line.substr(10).split(" ");var parsed={number:parts.shift(),protocol:parts.shift(),streams:parts.shift()};return parsed};exports.fmtp=function(line){var kv,key,value;var parts=line.substr(line.indexOf(" ")+1).split(";");var parsed=[];for(var i=0;i<parts.length;i++){kv=parts[i].split("=");key=kv[0].trim();value=kv[1];if(key&&value){parsed.push({key:key,value:value})}else if(key){parsed.push({key:"",value:key})}}return parsed};exports.crypto=function(line){var parts=line.substr(9).split(" ");var parsed={tag:parts[0],cipherSuite:parts[1],keyParams:parts[2],sessionParams:parts.slice(3).join(" ")};return parsed};exports.fingerprint=function(line){var parts=line.substr(14).split(" ");return{hash:parts[0],value:parts[1]}};exports.extmap=function(line){var parts=line.substr(9).split(" ");var parsed={};var idpart=parts.shift();var sp=idpart.indexOf("/");if(sp>=0){parsed.id=idpart.substr(0,sp);parsed.senders=idpart.substr(sp+1)}else{parsed.id=idpart;parsed.senders="sendrecv"}parsed.uri=parts.shift()||"";return parsed};exports.rtcpfb=function(line){var parts=line.substr(10).split(" ");var parsed={};parsed.id=parts.shift();parsed.type=parts.shift();if(parsed.type==="trr-int"){parsed.value=parts.shift()}else{parsed.subtype=parts.shift()||""}parsed.parameters=parts;return parsed};exports.candidate=function(line){var parts;if(line.indexOf("a=candidate:")===0){parts=line.substring(12).split(" ")}else{parts=line.substring(10).split(" ")}var candidate={foundation:parts[0],component:parts[1],protocol:parts[2].toLowerCase(),priority:parts[3],ip:parts[4],port:parts[5],type:parts[7],generation:"0"};for(var i=8;i<parts.length;i+=2){if(parts[i]==="raddr"){candidate.relAddr=parts[i+1]}else if(parts[i]==="rport"){candidate.relPort=parts[i+1]}else if(parts[i]==="generation"){candidate.generation=parts[i+1]}else if(parts[i]==="tcptype"){candidate.tcpType=parts[i+1]}}candidate.network="1";return candidate};exports.sourceGroups=function(lines){var parsed=[];for(var i=0;i<lines.length;i++){var parts=lines[i].substr(13).split(" ");parsed.push({semantics:parts.shift(),sources:parts})}return parsed};exports.sources=function(lines){var parsed=[];var sources={};for(var i=0;i<lines.length;i++){var parts=lines[i].substr(7).split(" ");var ssrc=parts.shift();if(!sources[ssrc]){var source={ssrc:ssrc,parameters:[]};parsed.push(source);sources[ssrc]=source}parts=parts.join(" ").split(":");var attribute=parts.shift();var value=parts.join(":")||null;sources[ssrc].parameters.push({key:attribute,value:value})}return parsed};exports.groups=function(lines){var parsed=[];var parts;for(var i=0;i<lines.length;i++){parts=lines[i].substr(8).split(" ");parsed.push({semantics:parts.shift(),contents:parts})}return parsed};exports.bandwidth=function(line){var parts=line.substr(2).split(":");var parsed={};parsed.type=parts.shift();parsed.bandwidth=parts.shift();return parsed};exports.msid=function(line){var data=line.substr(7);var parts=data.split(" ");return{msid:data,mslabel:parts[0],label:parts[1]}}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/sdp-jingle-json/lib/senders.js":[function(require,module,exports){module.exports={initiator:{incoming:{initiator:"recvonly",responder:"sendonly",both:"sendrecv",none:"inactive",recvonly:"initiator",sendonly:"responder",sendrecv:"both",inactive:"none"},outgoing:{initiator:"sendonly",responder:"recvonly",both:"sendrecv",none:"inactive",recvonly:"responder",sendonly:"initiator",sendrecv:"both",inactive:"none"}},responder:{incoming:{initiator:"sendonly",responder:"recvonly",both:"sendrecv",none:"inactive",recvonly:"responder",sendonly:"initiator",sendrecv:"both",inactive:"none"},outgoing:{initiator:"recvonly",responder:"sendonly",both:"sendrecv",none:"inactive",recvonly:"initiator",sendonly:"responder",sendrecv:"both",inactive:"none"}}}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/sdp-jingle-json/lib/tojson.js":[function(require,module,exports){var SENDERS=require("./senders");var parsers=require("./parsers");var idCounter=Math.random();exports._setIdCounter=function(counter){idCounter=counter};exports.toSessionJSON=function(sdp,opts){var i;var creators=opts.creators||[];var role=opts.role||"initiator";var direction=opts.direction||"outgoing";var media=sdp.split("\r\nm=");for(i=1;i<media.length;i++){media[i]="m="+media[i];if(i!==media.length-1){media[i]+="\r\n"}}var session=media.shift()+"\r\n";var sessionLines=parsers.lines(session);var parsed={};var contents=[];for(i=0;i<media.length;i++){contents.push(exports.toMediaJSON(media[i],session,{role:role,direction:direction,creator:creators[i]||"initiator"}))}parsed.contents=contents;var groupLines=parsers.findLines("a=group:",sessionLines);if(groupLines.length){parsed.groups=parsers.groups(groupLines)}return parsed};exports.toMediaJSON=function(media,session,opts){var creator=opts.creator||"initiator";var role=opts.role||"initiator";var direction=opts.direction||"outgoing";var lines=parsers.lines(media);var sessionLines=parsers.lines(session);var mline=parsers.mline(lines[0]);var content={creator:creator,name:mline.media,description:{descType:"rtp",media:mline.media,payloads:[],encryption:[],feedback:[],headerExtensions:[]},transport:{transType:"iceUdp",candidates:[],fingerprints:[]}};if(mline.media=="application"){content.description={descType:"datachannel"};content.transport.sctp=[]}var desc=content.description;var trans=content.transport;var mid=parsers.findLine("a=mid:",lines);if(mid){content.name=mid.substr(6)}if(parsers.findLine("a=sendrecv",lines,sessionLines)){content.senders="both"}else if(parsers.findLine("a=sendonly",lines,sessionLines)){content.senders=SENDERS[role][direction].sendonly}else if(parsers.findLine("a=recvonly",lines,sessionLines)){content.senders=SENDERS[role][direction].recvonly}else if(parsers.findLine("a=inactive",lines,sessionLines)){content.senders="none"}if(desc.descType=="rtp"){var bandwidth=parsers.findLine("b=",lines);if(bandwidth){desc.bandwidth=parsers.bandwidth(bandwidth)}var ssrc=parsers.findLine("a=ssrc:",lines);if(ssrc){desc.ssrc=ssrc.substr(7).split(" ")[0]}var rtpmapLines=parsers.findLines("a=rtpmap:",lines);rtpmapLines.forEach(function(line){var payload=parsers.rtpmap(line);payload.parameters=[];payload.feedback=[];var fmtpLines=parsers.findLines("a=fmtp:"+payload.id,lines);fmtpLines.forEach(function(line){payload.parameters=parsers.fmtp(line)});var fbLines=parsers.findLines("a=rtcp-fb:"+payload.id,lines);fbLines.forEach(function(line){payload.feedback.push(parsers.rtcpfb(line))});desc.payloads.push(payload)});var cryptoLines=parsers.findLines("a=crypto:",lines,sessionLines);cryptoLines.forEach(function(line){desc.encryption.push(parsers.crypto(line))});if(parsers.findLine("a=rtcp-mux",lines)){desc.mux=true}var fbLines=parsers.findLines("a=rtcp-fb:*",lines);fbLines.forEach(function(line){desc.feedback.push(parsers.rtcpfb(line))});var extLines=parsers.findLines("a=extmap:",lines);extLines.forEach(function(line){var ext=parsers.extmap(line);ext.senders=SENDERS[role][direction][ext.senders];desc.headerExtensions.push(ext)});var ssrcGroupLines=parsers.findLines("a=ssrc-group:",lines);desc.sourceGroups=parsers.sourceGroups(ssrcGroupLines||[]);var ssrcLines=parsers.findLines("a=ssrc:",lines);var sources=desc.sources=parsers.sources(ssrcLines||[]);var msidLine=parsers.findLine("a=msid:",lines);if(msidLine){var msid=parsers.msid(msidLine);["msid","mslabel","label"].forEach(function(key){for(var i=0;i<sources.length;i++){var found=false;for(var j=0;j<sources[i].parameters.length;j++){if(sources[i].parameters[j].key===key){found=true}}if(!found){sources[i].parameters.push({key:key,value:msid[key]})}}})}if(parsers.findLine("a=x-google-flag:conference",lines,sessionLines)){desc.googConferenceFlag=true}}var fingerprintLines=parsers.findLines("a=fingerprint:",lines,sessionLines);var setup=parsers.findLine("a=setup:",lines,sessionLines);fingerprintLines.forEach(function(line){var fp=parsers.fingerprint(line);if(setup){fp.setup=setup.substr(8)}trans.fingerprints.push(fp)});var ufragLine=parsers.findLine("a=ice-ufrag:",lines,sessionLines);var pwdLine=parsers.findLine("a=ice-pwd:",lines,sessionLines);if(ufragLine&&pwdLine){trans.ufrag=ufragLine.substr(12);trans.pwd=pwdLine.substr(10);trans.candidates=[];var candidateLines=parsers.findLines("a=candidate:",lines,sessionLines);candidateLines.forEach(function(line){trans.candidates.push(exports.toCandidateJSON(line))})}if(desc.descType=="datachannel"){var sctpmapLines=parsers.findLines("a=sctpmap:",lines);sctpmapLines.forEach(function(line){var sctp=parsers.sctpmap(line);trans.sctp.push(sctp)})}return content};exports.toCandidateJSON=function(line){var candidate=parsers.candidate(line.split("\r\n")[0]);candidate.id=(idCounter++).toString(36).substr(0,12);return candidate}},{"./parsers":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/sdp-jingle-json/lib/parsers.js","./senders":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/sdp-jingle-json/lib/senders.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/sdp-jingle-json/lib/tosdp.js":[function(require,module,exports){var SENDERS=require("./senders");exports.toSessionSDP=function(session,opts){var role=opts.role||"initiator";var direction=opts.direction||"outgoing";var sid=opts.sid||session.sid||Date.now();var time=opts.time||Date.now();var sdp=["v=0","o=- "+sid+" "+time+" IN IP4 0.0.0.0","s=-","t=0 0"];var groups=session.groups||[];groups.forEach(function(group){sdp.push("a=group:"+group.semantics+" "+group.contents.join(" "))});var contents=session.contents||[];contents.forEach(function(content){sdp.push(exports.toMediaSDP(content,opts))});return sdp.join("\r\n")+"\r\n"};exports.toMediaSDP=function(content,opts){var sdp=[];var role=opts.role||"initiator";var direction=opts.direction||"outgoing";var desc=content.description;var transport=content.transport;var payloads=desc.payloads||[];var fingerprints=transport&&transport.fingerprints||[];var mline=[];if(desc.descType=="datachannel"){mline.push("application");mline.push("1");mline.push("DTLS/SCTP");if(transport.sctp){transport.sctp.forEach(function(map){mline.push(map.number)})}}else{mline.push(desc.media);mline.push("1");if(desc.encryption&&desc.encryption.length>0||fingerprints.length>0){mline.push("RTP/SAVPF")}else{mline.push("RTP/AVPF")}payloads.forEach(function(payload){mline.push(payload.id)})}sdp.push("m="+mline.join(" "));sdp.push("c=IN IP4 0.0.0.0");if(desc.bandwidth&&desc.bandwidth.type&&desc.bandwidth.bandwidth){sdp.push("b="+desc.bandwidth.type+":"+desc.bandwidth.bandwidth)}if(desc.descType=="rtp"){sdp.push("a=rtcp:1 IN IP4 0.0.0.0")}if(transport){if(transport.ufrag){sdp.push("a=ice-ufrag:"+transport.ufrag)}if(transport.pwd){sdp.push("a=ice-pwd:"+transport.pwd)}var pushedSetup=false;fingerprints.forEach(function(fingerprint){sdp.push("a=fingerprint:"+fingerprint.hash+" "+fingerprint.value);if(fingerprint.setup&&!pushedSetup){sdp.push("a=setup:"+fingerprint.setup)}});if(transport.sctp){transport.sctp.forEach(function(map){sdp.push("a=sctpmap:"+map.number+" "+map.protocol+" "+map.streams)})}}if(desc.descType=="rtp"){sdp.push("a="+(SENDERS[role][direction][content.senders]||"sendrecv"))}sdp.push("a=mid:"+content.name);if(desc.sources&&desc.sources.length){(desc.sources[0].parameters||[]).forEach(function(param){if(param.key==="msid"){sdp.push("a=msid:"+param.value)}})}if(desc.mux){sdp.push("a=rtcp-mux")}var encryption=desc.encryption||[];encryption.forEach(function(crypto){sdp.push("a=crypto:"+crypto.tag+" "+crypto.cipherSuite+" "+crypto.keyParams+(crypto.sessionParams?" "+crypto.sessionParams:""))});if(desc.googConferenceFlag){sdp.push("a=x-google-flag:conference")}payloads.forEach(function(payload){var rtpmap="a=rtpmap:"+payload.id+" "+payload.name+"/"+payload.clockrate;if(payload.channels&&payload.channels!="1"){rtpmap+="/"+payload.channels}sdp.push(rtpmap);if(payload.parameters&&payload.parameters.length){var fmtp=["a=fmtp:"+payload.id];var parameters=[];payload.parameters.forEach(function(param){parameters.push((param.key?param.key+"=":"")+param.value)});fmtp.push(parameters.join(";"));sdp.push(fmtp.join(" "))}if(payload.feedback){payload.feedback.forEach(function(fb){if(fb.type==="trr-int"){sdp.push("a=rtcp-fb:"+payload.id+" trr-int "+(fb.value?fb.value:"0"))}else{sdp.push("a=rtcp-fb:"+payload.id+" "+fb.type+(fb.subtype?" "+fb.subtype:""))}})}});if(desc.feedback){desc.feedback.forEach(function(fb){if(fb.type==="trr-int"){sdp.push("a=rtcp-fb:* trr-int "+(fb.value?fb.value:"0"))}else{sdp.push("a=rtcp-fb:* "+fb.type+(fb.subtype?" "+fb.subtype:""))}})}var hdrExts=desc.headerExtensions||[];hdrExts.forEach(function(hdr){sdp.push("a=extmap:"+hdr.id+(hdr.senders?"/"+SENDERS[role][direction][hdr.senders]:"")+" "+hdr.uri)});var ssrcGroups=desc.sourceGroups||[];ssrcGroups.forEach(function(ssrcGroup){sdp.push("a=ssrc-group:"+ssrcGroup.semantics+" "+ssrcGroup.sources.join(" "))});var ssrcs=desc.sources||[];ssrcs.forEach(function(ssrc){for(var i=0;i<ssrc.parameters.length;i++){var param=ssrc.parameters[i];sdp.push("a=ssrc:"+(ssrc.ssrc||desc.ssrc)+" "+param.key+(param.value?":"+param.value:""))}});var candidates=transport.candidates||[];candidates.forEach(function(candidate){sdp.push(exports.toCandidateSDP(candidate))});return sdp.join("\r\n")};exports.toCandidateSDP=function(candidate){var sdp=[];sdp.push(candidate.foundation);sdp.push(candidate.component);sdp.push(candidate.protocol.toUpperCase());sdp.push(candidate.priority);sdp.push(candidate.ip);sdp.push(candidate.port);var type=candidate.type;sdp.push("typ");sdp.push(type);if(type==="srflx"||type==="prflx"||type==="relay"){if(candidate.relAddr&&candidate.relPort){sdp.push("raddr");sdp.push(candidate.relAddr);sdp.push("rport");sdp.push(candidate.relPort)}}if(candidate.tcpType&&candidate.protocol.toUpperCase()=="TCP"){sdp.push("tcptype");sdp.push(candidate.tcpType)}sdp.push("generation");sdp.push(candidate.generation||"0");return"a=candidate:"+sdp.join(" ")}},{"./senders":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/sdp-jingle-json/lib/senders.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/traceablepeerconnection/index.js":[function(require,module,exports){var util=require("util");var webrtc=require("webrtcsupport");var WildEmitter=require("wildemitter");function dumpSDP(description){return{type:description.type,sdp:description.sdp}}function dumpStream(stream){var info={label:stream.id};if(stream.getAudioTracks().length){info.audio=stream.getAudioTracks().map(function(track){return track.id})}if(stream.getVideoTracks().length){info.video=stream.getVideoTracks().map(function(track){return track.id})}return info}function TraceablePeerConnection(config,constraints){var self=this;WildEmitter.call(this);this.peerconnection=new webrtc.PeerConnection(config,constraints);this.trace=function(what,info){self.emit("PeerConnectionTrace",{time:new Date,type:what,value:info||""})};this.onicecandidate=null;this.peerconnection.onicecandidate=function(event){self.trace("onicecandidate",event.candidate);if(self.onicecandidate!==null){self.onicecandidate(event)}};this.onaddstream=null;this.peerconnection.onaddstream=function(event){self.trace("onaddstream",dumpStream(event.stream));if(self.onaddstream!==null){self.onaddstream(event)}};this.onremovestream=null;this.peerconnection.onremovestream=function(event){self.trace("onremovestream",dumpStream(event.stream));if(self.onremovestream!==null){self.onremovestream(event)}};this.onsignalingstatechange=null;this.peerconnection.onsignalingstatechange=function(event){self.trace("onsignalingstatechange",self.signalingState);if(self.onsignalingstatechange!==null){self.onsignalingstatechange(event)}};this.oniceconnectionstatechange=null;this.peerconnection.oniceconnectionstatechange=function(event){self.trace("oniceconnectionstatechange",self.iceConnectionState);if(self.oniceconnectionstatechange!==null){self.oniceconnectionstatechange(event)}};this.onnegotiationneeded=null;this.peerconnection.onnegotiationneeded=function(event){self.trace("onnegotiationneeded");if(self.onnegotiationneeded!==null){self.onnegotiationneeded(event)}};self.ondatachannel=null;this.peerconnection.ondatachannel=function(event){self.trace("ondatachannel",event);if(self.ondatachannel!==null){self.ondatachannel(event)}};this.getLocalStreams=this.peerconnection.getLocalStreams.bind(this.peerconnection);this.getRemoteStreams=this.peerconnection.getRemoteStreams.bind(this.peerconnection)}util.inherits(TraceablePeerConnection,WildEmitter);Object.defineProperty(TraceablePeerConnection.prototype,"signalingState",{get:function(){return this.peerconnection.signalingState}});Object.defineProperty(TraceablePeerConnection.prototype,"iceConnectionState",{get:function(){return this.peerconnection.iceConnectionState}});Object.defineProperty(TraceablePeerConnection.prototype,"localDescription",{get:function(){return this.peerconnection.localDescription}});Object.defineProperty(TraceablePeerConnection.prototype,"remoteDescription",{get:function(){return this.peerconnection.remoteDescription}});TraceablePeerConnection.prototype.addStream=function(stream){this.trace("addStream",dumpStream(stream));this.peerconnection.addStream(stream)};TraceablePeerConnection.prototype.removeStream=function(stream){this.trace("removeStream",dumpStream(stream));this.peerconnection.removeStream(stream)};TraceablePeerConnection.prototype.createDataChannel=function(label,opts){this.trace("createDataChannel",label,opts);return this.peerconnection.createDataChannel(label,opts)};TraceablePeerConnection.prototype.setLocalDescription=function(description,successCallback,failureCallback){var self=this;this.trace("setLocalDescription",dumpSDP(description));this.peerconnection.setLocalDescription(description,function(){self.trace("setLocalDescriptionOnSuccess");successCallback()},function(err){self.trace("setLocalDescriptionOnFailure",err);failureCallback(err)})};TraceablePeerConnection.prototype.setRemoteDescription=function(description,successCallback,failureCallback){var self=this;this.trace("setRemoteDescription",dumpSDP(description));this.peerconnection.setRemoteDescription(description,function(){self.trace("setRemoteDescriptionOnSuccess");successCallback()},function(err){self.trace("setRemoteDescriptionOnFailure",err);failureCallback(err)})};TraceablePeerConnection.prototype.close=function(){this.trace("stop");if(this.statsinterval!==null){window.clearInterval(this.statsinterval);this.statsinterval=null}if(this.peerconnection.signalingState!="closed"){this.peerconnection.close()}};TraceablePeerConnection.prototype.createOffer=function(successCallback,failureCallback,constraints){var self=this;this.trace("createOffer",constraints);this.peerconnection.createOffer(function(offer){self.trace("createOfferOnSuccess",dumpSDP(offer));successCallback(offer)},function(err){self.trace("createOfferOnFailure",err);failureCallback(err)},constraints)};TraceablePeerConnection.prototype.createAnswer=function(successCallback,failureCallback,constraints){var self=this;this.trace("createAnswer",constraints);this.peerconnection.createAnswer(function(answer){self.trace("createAnswerOnSuccess",dumpSDP(answer));successCallback(answer)},function(err){self.trace("createAnswerOnFailure",err);failureCallback(err)},constraints)};TraceablePeerConnection.prototype.addIceCandidate=function(candidate,successCallback,failureCallback){var self=this;this.trace("addIceCandidate",candidate);this.peerconnection.addIceCandidate(candidate,function(){if(successCallback)successCallback()},function(err){self.trace("addIceCandidateOnFailure",err);if(failureCallback)failureCallback(err)})};TraceablePeerConnection.prototype.getStats=function(callback,errback){if(navigator.mozGetUserMedia){this.peerconnection.getStats(null,callback,errback)}else{this.peerconnection.getStats(callback)}};module.exports=TraceablePeerConnection},{util:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/util/util.js",webrtcsupport:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/webrtcsupport/index-browser.js",wildemitter:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/wildemitter/wildemitter.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/webrtc-adapter-test/adapter.js":[function(require,module,exports){"use strict";var getUserMedia=null;var attachMediaStream=null;var reattachMediaStream=null;var webrtcDetectedBrowser=null;var webrtcDetectedVersion=null;var webrtcMinimumVersion=null;function trace(text){if(text[text.length-1]==="\n"){text=text.substring(0,text.length-1)}if(window.performance){var now=(window.performance.now()/1e3).toFixed(3);console.log(now+": "+text)}else{console.log(text)}}if(typeof window==="undefined"||!window.navigator){console.log("This does not appear to be a browser");webrtcDetectedBrowser="not a browser"}else if(navigator.mozGetUserMedia){console.log("This appears to be Firefox");webrtcDetectedBrowser="firefox";webrtcDetectedVersion=parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1],10);webrtcMinimumVersion=31;window.RTCPeerConnection=function(pcConfig,pcConstraints){if(webrtcDetectedVersion<38){if(pcConfig&&pcConfig.iceServers){var newIceServers=[];for(var i=0;i<pcConfig.iceServers.length;i++){var server=pcConfig.iceServers[i];if(server.hasOwnProperty("urls")){for(var j=0;j<server.urls.length;j++){var newServer={url:server.urls[j]};if(server.urls[j].indexOf("turn")===0){newServer.username=server.username;newServer.credential=server.credential}newIceServers.push(newServer)}}else{newIceServers.push(pcConfig.iceServers[i])}}pcConfig.iceServers=newIceServers}}return new mozRTCPeerConnection(pcConfig,pcConstraints)};window.RTCSessionDescription=mozRTCSessionDescription;window.RTCIceCandidate=mozRTCIceCandidate;getUserMedia=webrtcDetectedVersion<38?function(c,onSuccess,onError){var constraintsToFF37=function(c){if(typeof c!=="object"||c.require){return c}var require=[];Object.keys(c).forEach(function(key){var r=c[key]=typeof c[key]==="object"?c[key]:{ideal:c[key]};if(r.exact!==undefined){r.min=r.max=r.exact;delete r.exact}if(r.min!==undefined||r.max!==undefined){require.push(key)}if(r.ideal!==undefined){c.advanced=c.advanced||[];var oc={};oc[key]={min:r.ideal,max:r.ideal};c.advanced.push(oc);delete r.ideal;if(!Object.keys(r).length){delete c[key]}}});if(require.length){c.require=require}return c};console.log("spec: "+JSON.stringify(c));c.audio=constraintsToFF37(c.audio);c.video=constraintsToFF37(c.video);console.log("ff37: "+JSON.stringify(c));return navigator.mozGetUserMedia(c,onSuccess,onError)}:navigator.mozGetUserMedia.bind(navigator);navigator.getUserMedia=getUserMedia;if(!navigator.mediaDevices){navigator.mediaDevices={getUserMedia:requestUserMedia,addEventListener:function(){},removeEventListener:function(){}}}navigator.mediaDevices.enumerateDevices=navigator.mediaDevices.enumerateDevices||function(){return new Promise(function(resolve){var infos=[{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}];resolve(infos)})};if(webrtcDetectedVersion<41){var orgEnumerateDevices=navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);navigator.mediaDevices.enumerateDevices=function(){return orgEnumerateDevices().catch(function(e){if(e.name==="NotFoundError"){return[]}throw e})}}attachMediaStream=function(element,stream){console.log("Attaching media stream");element.mozSrcObject=stream};reattachMediaStream=function(to,from){console.log("Reattaching media stream");to.mozSrcObject=from.mozSrcObject}}else if(navigator.webkitGetUserMedia){console.log("This appears to be Chrome");webrtcDetectedBrowser="chrome";webrtcDetectedVersion=parseInt(navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)[2],10);webrtcMinimumVersion=38;window.RTCPeerConnection=function(pcConfig,pcConstraints){var pc=new webkitRTCPeerConnection(pcConfig,pcConstraints);var origGetStats=pc.getStats.bind(pc);pc.getStats=function(selector,successCallback,errorCallback){if(typeof selector==="function"){return origGetStats(selector,successCallback)}var fixChromeStats=function(response){var standardReport={};var reports=response.result();reports.forEach(function(report){var standardStats={id:report.id,timestamp:report.timestamp,type:report.type};report.names().forEach(function(name){standardStats[name]=report.stat(name)});standardReport[standardStats.id]=standardStats});return standardReport};var successCallbackWrapper=function(response){successCallback(fixChromeStats(response))};return origGetStats(successCallbackWrapper,selector)};return pc};["createOffer","createAnswer"].forEach(function(method){var nativeMethod=webkitRTCPeerConnection.prototype[method];webkitRTCPeerConnection.prototype[method]=function(){var self=this;if(arguments.length<1||arguments.length===1&&typeof arguments[0]==="object"){var opts=arguments.length===1?arguments[0]:undefined;return new Promise(function(resolve,reject){nativeMethod.apply(self,[resolve,reject,opts])})}else{return nativeMethod.apply(this,arguments)}}});["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(method){var nativeMethod=webkitRTCPeerConnection.prototype[method];webkitRTCPeerConnection.prototype[method]=function(){var args=arguments;var self=this;return new Promise(function(resolve,reject){nativeMethod.apply(self,[args[0],function(){resolve();if(args.length>=2){args[1].apply(null,[])}},function(err){reject(err);if(args.length>=3){args[2].apply(null,[err])}}])})}});getUserMedia=function(c,onSuccess,onError){var constraintsToChrome=function(c){if(typeof c!=="object"||c.mandatory||c.optional){return c}var cc={};Object.keys(c).forEach(function(key){if(key==="require"||key==="advanced"){return}var r=typeof c[key]==="object"?c[key]:{ideal:c[key]};if(r.exact!==undefined&&typeof r.exact==="number"){r.min=r.max=r.exact}var oldname=function(prefix,name){if(prefix){return prefix+name.charAt(0).toUpperCase()+name.slice(1)}return name==="deviceId"?"sourceId":name};if(r.ideal!==undefined){cc.optional=cc.optional||[];var oc={};if(typeof r.ideal==="number"){oc[oldname("min",key)]=r.ideal;cc.optional.push(oc);oc={};oc[oldname("max",key)]=r.ideal;cc.optional.push(oc)}else{oc[oldname("",key)]=r.ideal;cc.optional.push(oc)}}if(r.exact!==undefined&&typeof r.exact!=="number"){cc.mandatory=cc.mandatory||{};cc.mandatory[oldname("",key)]=r.exact}else{["min","max"].forEach(function(mix){if(r[mix]!==undefined){cc.mandatory=cc.mandatory||{};cc.mandatory[oldname(mix,key)]=r[mix]}})}});if(c.advanced){cc.optional=(cc.optional||[]).concat(c.advanced)}return cc};console.log("spec:   "+JSON.stringify(c));c.audio=constraintsToChrome(c.audio);c.video=constraintsToChrome(c.video);console.log("chrome: "+JSON.stringify(c));return navigator.webkitGetUserMedia(c,onSuccess,onError)};navigator.getUserMedia=getUserMedia;attachMediaStream=function(element,stream){if(typeof element.srcObject!=="undefined"){element.srcObject=stream}else if(typeof element.src!=="undefined"){element.src=URL.createObjectURL(stream)}else{console.log("Error attaching stream to element.")}};reattachMediaStream=function(to,from){to.src=from.src};if(!navigator.mediaDevices){navigator.mediaDevices={getUserMedia:requestUserMedia,enumerateDevices:function(){return new Promise(function(resolve){var kinds={audio:"audioinput",video:"videoinput"};return MediaStreamTrack.getSources(function(devices){resolve(devices.map(function(device){return{label:device.label,kind:kinds[device.kind],deviceId:device.id,groupId:""}}))})})}};navigator.mediaDevices.addEventListener=function(){};navigator.mediaDevices.removeEventListener=function(){}}}else if(navigator.mediaDevices&&navigator.userAgent.match(/Edge\/(\d+).(\d+)$/)){console.log("This appears to be Edge");webrtcDetectedBrowser="edge";webrtcDetectedVersion=parseInt(navigator.userAgent.match(/Edge\/(\d+).(\d+)$/)[2],10);webrtcMinimumVersion=12;attachMediaStream=function(element,stream){element.srcObject=stream};reattachMediaStream=function(to,from){to.srcObject=from.srcObject}}else{console.log("Browser does not appear to be WebRTC-capable")}function requestUserMedia(constraints){return new Promise(function(resolve,reject){getUserMedia(constraints,resolve,reject)})}if(typeof module!=="undefined"){var RTCPeerConnection="undefined";if(typeof window!=="undefined"){RTCPeerConnection=window.RTCPeerConnection}module.exports={RTCPeerConnection:RTCPeerConnection,getUserMedia:getUserMedia,attachMediaStream:attachMediaStream,reattachMediaStream:reattachMediaStream,webrtcDetectedBrowser:webrtcDetectedBrowser,webrtcDetectedVersion:webrtcDetectedVersion,webrtcMinimumVersion:webrtcMinimumVersion}}else if(typeof require==="function"&&typeof define==="function"){define([],function(){return{RTCPeerConnection:window.RTCPeerConnection,getUserMedia:getUserMedia,attachMediaStream:attachMediaStream,reattachMediaStream:reattachMediaStream,webrtcDetectedBrowser:webrtcDetectedBrowser,webrtcDetectedVersion:webrtcDetectedVersion,webrtcMinimumVersion:webrtcMinimumVersion}})}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/rtcpeerconnection.js":[function(require,module,exports){var util=require("util");var each=require("lodash.foreach");var pluck=require("lodash.pluck");var webrtc=require("webrtcsupport");var SJJ=require("sdp-jingle-json");var WildEmitter=require("wildemitter");var peerconn=require("traceablepeerconnection");var adapter=require("webrtc-adapter-test");function PeerConnection(config,constraints){var self=this;var item;WildEmitter.call(this);config=config||{};config.iceServers=config.iceServers||[];this.enableChromeNativeSimulcast=false;if(constraints&&constraints.optional&&adapter.webrtcDetectedBrowser==="chrome"&&navigator.appVersion.match(/Chromium\//)===null){constraints.optional.forEach(function(constraint,idx){if(constraint.enableChromeNativeSimulcast){self.enableChromeNativeSimulcast=true}})}this.enableMultiStreamHacks=false;if(constraints&&constraints.optional&&adapter.webrtcDetectedBrowser==="chrome"){constraints.optional.forEach(function(constraint,idx){if(constraint.enableMultiStreamHacks){self.enableMultiStreamHacks=true}})}this.restrictBandwidth=0;if(constraints&&constraints.optional){constraints.optional.forEach(function(constraint,idx){if(constraint.andyetRestrictBandwidth){self.restrictBandwidth=constraint.andyetRestrictBandwidth}})}this.batchIceCandidates=0;if(constraints&&constraints.optional){constraints.optional.forEach(function(constraint,idx){if(constraint.andyetBatchIce){self.batchIceCandidates=constraint.andyetBatchIce}})}this.batchedIceCandidates=[];if(constraints&&constraints.optional&&adapter.webrtcDetectedBrowser==="chrome"){constraints.optional.forEach(function(constraint,idx){if(constraint.andyetFasterICE){self.eliminateDuplicateCandidates=constraint.andyetFasterICE}})}if(constraints&&constraints.optional){constraints.optional.forEach(function(constraint,idx){if(constraint.andyetDontSignalCandidates){self.dontSignalCandidates=constraint.andyetDontSignalCandidates}})}this.assumeSetLocalSuccess=false;if(constraints&&constraints.optional){constraints.optional.forEach(function(constraint,idx){if(constraint.andyetAssumeSetLocalSuccess){self.assumeSetLocalSuccess=constraint.andyetAssumeSetLocalSuccess}})}if(adapter.webrtcDetectedBrowser==="firefox"){if(constraints&&constraints.optional){this.wtFirefox=0;constraints.optional.forEach(function(constraint,idx){if(constraint.andyetFirefoxMakesMeSad){self.wtFirefox=constraint.andyetFirefoxMakesMeSad;if(self.wtFirefox>0){self.firefoxcandidatebuffer=[]}}})}}this.pc=new peerconn(config,constraints);this.getLocalStreams=this.pc.getLocalStreams.bind(this.pc);this.getRemoteStreams=this.pc.getRemoteStreams.bind(this.pc);this.addStream=this.pc.addStream.bind(this.pc);this.removeStream=this.pc.removeStream.bind(this.pc);this.pc.on("*",function(){self.emit.apply(self,arguments)});this.pc.onremovestream=this.emit.bind(this,"removeStream");this.pc.onaddstream=this.emit.bind(this,"addStream");this.pc.onnegotiationneeded=this.emit.bind(this,"negotiationNeeded");this.pc.oniceconnectionstatechange=this.emit.bind(this,"iceConnectionStateChange");this.pc.onsignalingstatechange=this.emit.bind(this,"signalingStateChange");this.pc.onicecandidate=this._onIce.bind(this);this.pc.ondatachannel=this._onDataChannel.bind(this);this.localDescription={contents:[]};this.remoteDescription={contents:[]};this.config={debug:false,ice:{},sid:"",isInitiator:true,sdpSessionID:Date.now(),useJingle:false};for(item in config){this.config[item]=config[item]}if(this.config.debug){this.on("*",function(eventName,event){var logger=config.logger||console;logger.log("PeerConnection event:",arguments)})}this.hadLocalStunCandidate=false;this.hadRemoteStunCandidate=false;this.hadLocalRelayCandidate=false;this.hadRemoteRelayCandidate=false;this.hadLocalIPv6Candidate=false;this.hadRemoteIPv6Candidate=false;this._remoteDataChannels=[];this._localDataChannels=[];this._candidateBuffer=[]}util.inherits(PeerConnection,WildEmitter);Object.defineProperty(PeerConnection.prototype,"signalingState",{get:function(){return this.pc.signalingState}});Object.defineProperty(PeerConnection.prototype,"iceConnectionState",{get:function(){return this.pc.iceConnectionState}});PeerConnection.prototype._role=function(){return this.isInitiator?"initiator":"responder"};PeerConnection.prototype.addStream=function(stream){this.localStream=stream;this.pc.addStream(stream)};PeerConnection.prototype._checkLocalCandidate=function(candidate){var cand=SJJ.toCandidateJSON(candidate);if(cand.type=="srflx"){this.hadLocalStunCandidate=true}else if(cand.type=="relay"){this.hadLocalRelayCandidate=true}if(cand.ip.indexOf(":")!=-1){this.hadLocalIPv6Candidate=true}};PeerConnection.prototype._checkRemoteCandidate=function(candidate){var cand=SJJ.toCandidateJSON(candidate);if(cand.type=="srflx"){this.hadRemoteStunCandidate=true}else if(cand.type=="relay"){this.hadRemoteRelayCandidate=true}if(cand.ip.indexOf(":")!=-1){this.hadRemoteIPv6Candidate=true}};PeerConnection.prototype.processIce=function(update,cb){cb=cb||function(){};var self=this;if(this.pc.signalingState==="closed")return cb();if(update.contents||update.jingle&&update.jingle.contents){var contentNames=pluck(this.remoteDescription.contents,"name");var contents=update.contents||update.jingle.contents;contents.forEach(function(content){var transport=content.transport||{};var candidates=transport.candidates||[];var mline=contentNames.indexOf(content.name);var mid=content.name;candidates.forEach(function(candidate){var iceCandidate=SJJ.toCandidateSDP(candidate)+"\r\n";self.pc.addIceCandidate(new RTCIceCandidate({candidate:iceCandidate,sdpMLineIndex:mline,sdpMid:mid}),function(){},function(err){self.emit("error",err)});self._checkRemoteCandidate(iceCandidate)})})}else{if(update.candidate&&update.candidate.candidate.indexOf("a=")!==0){update.candidate.candidate="a="+update.candidate.candidate}if(this.wtFirefox&&this.firefoxcandidatebuffer!==null){if(this.pc.localDescription&&this.pc.localDescription.type==="offer"){this.firefoxcandidatebuffer.push(update.candidate);return cb()}}self.pc.addIceCandidate(new RTCIceCandidate(update.candidate),function(){},function(err){self.emit("error",err)});self._checkRemoteCandidate(update.candidate.candidate)}cb()};PeerConnection.prototype.offer=function(constraints,cb){var self=this;var hasConstraints=arguments.length===2;var mediaConstraints=hasConstraints&&constraints?constraints:{mandatory:{OfferToReceiveAudio:true,OfferToReceiveVideo:true}};cb=hasConstraints?cb:constraints;cb=cb||function(){};if(this.pc.signalingState==="closed")return cb("Already closed");this.pc.createOffer(function(offer){var expandedOffer={type:"offer",sdp:offer.sdp};if(self.assumeSetLocalSuccess){self.emit("offer",expandedOffer);cb(null,expandedOffer)}self._candidateBuffer=[];self.pc.setLocalDescription(offer,function(){var jingle;if(self.config.useJingle){jingle=SJJ.toSessionJSON(offer.sdp,{role:self._role(),direction:"outgoing"});jingle.sid=self.config.sid;self.localDescription=jingle;each(jingle.contents,function(content){var transport=content.transport||{};if(transport.ufrag){self.config.ice[content.name]={ufrag:transport.ufrag,pwd:transport.pwd}}});expandedOffer.jingle=jingle}expandedOffer.sdp.split("\r\n").forEach(function(line){if(line.indexOf("a=candidate:")===0){self._checkLocalCandidate(line)}});if(!self.assumeSetLocalSuccess){self.emit("offer",expandedOffer);cb(null,expandedOffer)}},function(err){self.emit("error",err);cb(err)})},function(err){self.emit("error",err);cb(err)},mediaConstraints)};PeerConnection.prototype.handleOffer=function(offer,cb){cb=cb||function(){};var self=this;offer.type="offer";if(offer.jingle){if(this.enableChromeNativeSimulcast){offer.jingle.contents.forEach(function(content){if(content.name==="video"){content.description.googConferenceFlag=true}})}if(this.enableMultiStreamHacks){offer.jingle.contents.forEach(function(content){if(content.name==="video"){var sources=content.description.sources||[];if(sources.length===0||sources[0].ssrc!=="3735928559"){sources.unshift({ssrc:"3735928559",parameters:[{key:"cname",value:"deadbeef"},{key:"msid",value:"mixyourfecintothis please"}]});content.description.sources=sources}}})}if(self.restrictBandwidth>0){if(offer.jingle.contents.length>=2&&offer.jingle.contents[1].name==="video"){var content=offer.jingle.contents[1];var hasBw=content.description&&content.description.bandwidth;if(!hasBw){offer.jingle.contents[1].description.bandwidth={type:"AS",bandwidth:self.restrictBandwidth.toString()};offer.sdp=SJJ.toSessionSDP(offer.jingle,{sid:self.config.sdpSessionID,role:self._role(),direction:"outgoing"})}}}offer.sdp=SJJ.toSessionSDP(offer.jingle,{sid:self.config.sdpSessionID,role:self._role(),direction:"incoming"});self.remoteDescription=offer.jingle}offer.sdp.split("\r\n").forEach(function(line){if(line.indexOf("a=candidate:")===0){self._checkRemoteCandidate(line)}});self.pc.setRemoteDescription(new RTCSessionDescription(offer),function(){cb()},cb)};PeerConnection.prototype.answerAudioOnly=function(cb){var mediaConstraints={mandatory:{OfferToReceiveAudio:true,OfferToReceiveVideo:false}};this._answer(mediaConstraints,cb)};PeerConnection.prototype.answerBroadcastOnly=function(cb){var mediaConstraints={mandatory:{OfferToReceiveAudio:false,OfferToReceiveVideo:false}};this._answer(mediaConstraints,cb)};PeerConnection.prototype.answer=function(constraints,cb){var self=this;var hasConstraints=arguments.length===2;var callback=hasConstraints?cb:constraints;var mediaConstraints=hasConstraints&&constraints?constraints:{mandatory:{OfferToReceiveAudio:true,OfferToReceiveVideo:true}};this._answer(mediaConstraints,callback)};PeerConnection.prototype.handleAnswer=function(answer,cb){cb=cb||function(){};var self=this;if(answer.jingle){answer.sdp=SJJ.toSessionSDP(answer.jingle,{sid:self.config.sdpSessionID,role:self._role(),direction:"incoming"});self.remoteDescription=answer.jingle}answer.sdp.split("\r\n").forEach(function(line){if(line.indexOf("a=candidate:")===0){self._checkRemoteCandidate(line)}});self.pc.setRemoteDescription(new RTCSessionDescription(answer),function(){if(self.wtFirefox){window.setTimeout(function(){self.firefoxcandidatebuffer.forEach(function(candidate){self.pc.addIceCandidate(new RTCIceCandidate(candidate),function(){},function(err){self.emit("error",err)});self._checkRemoteCandidate(candidate.candidate)});self.firefoxcandidatebuffer=null},self.wtFirefox)}cb(null)},cb)};PeerConnection.prototype.close=function(){this.pc.close();this._localDataChannels=[];this._remoteDataChannels=[];this.emit("close")};PeerConnection.prototype._answer=function(constraints,cb){cb=cb||function(){};var self=this;if(!this.pc.remoteDescription){throw new Error("remoteDescription not set")}if(this.pc.signalingState==="closed")return cb("Already closed");self.pc.createAnswer(function(answer){var sim=[];var rtx=[];if(self.enableChromeNativeSimulcast){answer.jingle=SJJ.toSessionJSON(answer.sdp,{role:self._role(),direction:"outgoing"});if(answer.jingle.contents.length>=2&&answer.jingle.contents[1].name==="video"){var hasSimgroup=false;var groups=answer.jingle.contents[1].description.sourceGroups||[];var hasSim=false;groups.forEach(function(group){if(group.semantics=="SIM")hasSim=true});if(!hasSim&&answer.jingle.contents[1].description.sources.length){var newssrc=JSON.parse(JSON.stringify(answer.jingle.contents[1].description.sources[0]));newssrc.ssrc=""+Math.floor(Math.random()*4294967295);answer.jingle.contents[1].description.sources.push(newssrc);sim.push(answer.jingle.contents[1].description.sources[0].ssrc);sim.push(newssrc.ssrc);groups.push({semantics:"SIM",sources:sim});var rtxssrc=JSON.parse(JSON.stringify(newssrc));rtxssrc.ssrc=""+Math.floor(Math.random()*4294967295);answer.jingle.contents[1].description.sources.push(rtxssrc);groups.push({semantics:"FID",sources:[newssrc.ssrc,rtxssrc.ssrc]});answer.jingle.contents[1].description.sourceGroups=groups;answer.sdp=SJJ.toSessionSDP(answer.jingle,{sid:self.config.sdpSessionID,role:self._role(),direction:"outgoing"})}}}var expandedAnswer={type:"answer",sdp:answer.sdp};if(self.assumeSetLocalSuccess){self.emit("answer",expandedAnswer);cb(null,expandedAnswer)}self._candidateBuffer=[];self.pc.setLocalDescription(answer,function(){if(self.config.useJingle){var jingle=SJJ.toSessionJSON(answer.sdp,{role:self._role(),direction:"outgoing"});jingle.sid=self.config.sid;self.localDescription=jingle;expandedAnswer.jingle=jingle}if(self.enableChromeNativeSimulcast){if(!expandedAnswer.jingle){expandedAnswer.jingle=SJJ.toSessionJSON(answer.sdp,{role:self._role(),direction:"outgoing"})}var groups=expandedAnswer.jingle.contents[1].description.sourceGroups||[];expandedAnswer.jingle.contents[1].description.sources.forEach(function(source,idx){source.parameters=source.parameters.map(function(parameter){if(parameter.key==="msid"){parameter.value+="-"+Math.floor(idx/2)}return parameter})});expandedAnswer.sdp=SJJ.toSessionSDP(expandedAnswer.jingle,{sid:self.sdpSessionID,role:self._role(),direction:"outgoing"})}expandedAnswer.sdp.split("\r\n").forEach(function(line){if(line.indexOf("a=candidate:")===0){self._checkLocalCandidate(line)}});if(!self.assumeSetLocalSuccess){self.emit("answer",expandedAnswer);cb(null,expandedAnswer)}},function(err){self.emit("error",err);cb(err)})},function(err){self.emit("error",err);cb(err)},constraints)};PeerConnection.prototype._onIce=function(event){var self=this;if(event.candidate){if(this.dontSignalCandidates)return;var ice=event.candidate;var expandedCandidate={candidate:{candidate:ice.candidate,sdpMid:ice.sdpMid,sdpMLineIndex:ice.sdpMLineIndex}};this._checkLocalCandidate(ice.candidate);var cand=SJJ.toCandidateJSON(ice.candidate);var already;var idx;if(this.eliminateDuplicateCandidates&&cand.type==="relay"){already=this._candidateBuffer.filter(function(c){return c.type==="relay"}).map(function(c){return c.foundation+":"+c.component});idx=already.indexOf(cand.foundation+":"+cand.component);if(idx>-1&&cand.priority>>24>=already[idx].priority>>24){return}}if(this.config.bundlePolicy==="max-bundle"){already=this._candidateBuffer.filter(function(c){return cand.type===c.type}).map(function(cand){return cand.address+":"+cand.port});idx=already.indexOf(cand.address+":"+cand.port);if(idx>-1)return}if(this.config.rtcpMuxPolicy==="require"&&cand.component==="2"){return}this._candidateBuffer.push(cand);if(self.config.useJingle){if(!ice.sdpMid){if(self.pc.remoteDescription&&self.pc.remoteDescription.type==="offer"){ice.sdpMid=self.remoteDescription.contents[ice.sdpMLineIndex].name}else{ice.sdpMid=self.localDescription.contents[ice.sdpMLineIndex].name}}if(!self.config.ice[ice.sdpMid]){var jingle=SJJ.toSessionJSON(self.pc.localDescription.sdp,{role:self._role(),direction:"outgoing"});each(jingle.contents,function(content){var transport=content.transport||{};if(transport.ufrag){self.config.ice[content.name]={ufrag:transport.ufrag,pwd:transport.pwd}}})}expandedCandidate.jingle={contents:[{name:ice.sdpMid,creator:self._role(),transport:{transType:"iceUdp",ufrag:self.config.ice[ice.sdpMid].ufrag,pwd:self.config.ice[ice.sdpMid].pwd,candidates:[cand]}}]};if(self.batchIceCandidates>0){if(self.batchedIceCandidates.length===0){window.setTimeout(function(){var contents={};self.batchedIceCandidates.forEach(function(content){content=content.contents[0];if(!contents[content.name])contents[content.name]=content;contents[content.name].transport.candidates.push(content.transport.candidates[0])});var newCand={jingle:{contents:[]}};Object.keys(contents).forEach(function(name){newCand.jingle.contents.push(contents[name])});self.batchedIceCandidates=[];self.emit("ice",newCand)},self.batchIceCandidates)}self.batchedIceCandidates.push(expandedCandidate.jingle);return}}this.emit("ice",expandedCandidate)}else{this.emit("endOfCandidates")}};PeerConnection.prototype._onDataChannel=function(event){var channel=event.channel;this._remoteDataChannels.push(channel);this.emit("addChannel",channel)};PeerConnection.prototype.createDataChannel=function(name,opts){var channel=this.pc.createDataChannel(name,opts);this._localDataChannels.push(channel);return channel};PeerConnection.prototype.getStats=function(cb){if(adapter.webrtcDetectedBrowser==="firefox"){this.pc.getStats(function(res){var items=[];for(var result in res){if(typeof res[result]==="object"){items.push(res[result])}}cb(null,items)},cb)}else{this.pc.getStats(function(res){var items=[];res.result().forEach(function(result){var item={};result.names().forEach(function(name){item[name]=result.stat(name)});item.id=result.id;item.type=result.type;item.timestamp=result.timestamp;items.push(item)});cb(null,items)})}};module.exports=PeerConnection},{"lodash.foreach":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.foreach/index.js","lodash.pluck":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/index.js","sdp-jingle-json":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/sdp-jingle-json/index.js",traceablepeerconnection:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/traceablepeerconnection/index.js",util:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/util/util.js","webrtc-adapter-test":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/webrtc-adapter-test/adapter.js",webrtcsupport:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/webrtcsupport/index-browser.js",wildemitter:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/wildemitter/wildemitter.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/index.js":[function(require,module,exports){var util=require("util");var extend=require("extend-object");var BaseSession=require("jingle-session");var RTCPeerConnection=require("rtcpeerconnection");function filterContentSources(content,stream){delete content.transport;delete content.description.payloads;if(content.description.sources){content.description.sources=content.description.sources.filter(function(source){return stream.id===source.parameters[1].value.split(" ")[0]})}}function filterUnusedLabels(content){var sources=content.description.sources||[];sources.forEach(function(source){source.parameters=source.parameters.filter(function(parameter){return!(parameter.key==="mslabel"||parameter.key==="label")})})}function MediaSession(opts){BaseSession.call(this,opts);this.pc=new RTCPeerConnection({iceServers:opts.iceServers||[],useJingle:true},opts.constraints||{});this.pc.on("ice",this.onIceCandidate.bind(this));this.pc.on("iceConnectionStateChange",this.onIceStateChange.bind(this));this.pc.on("addStream",this.onAddStream.bind(this));this.pc.on("removeStream",this.onRemoveStream.bind(this));if(opts.stream){this.addStream(opts.stream)}this._ringing=false}util.inherits(MediaSession,BaseSession);Object.defineProperties(MediaSession.prototype,{ringing:{get:function(){return this._ringing},set:function(value){if(value!==this._ringing){this._ringing=value;this.emit("change:ringing",value)}}},streams:{get:function(){if(this.pc.signalingState!=="closed"){return this.pc.getRemoteStreams()}return[]}}});MediaSession.prototype=extend(MediaSession.prototype,{start:function(constraints,next){var self=this;this.state="pending";next=next||function(){};this.pc.isInitiator=true;this.pc.offer(constraints,function(err,offer){if(err){self._log("error","Could not create WebRTC offer",err);return self.end("failed-application",true)}if(constraints&&constraints.mandatory){offer.jingle.contents.forEach(function(content){var mediaType=content.description.media;if(!content.description||content.description.descType!=="rtp"){return}if(!constraints.mandatory.OfferToReceiveAudio&&mediaType==="audio"){content.senders="initiator"}if(!constraints.mandatory.OfferToReceiveVideo&&mediaType==="video"){content.senders="initiator"}})}offer.jingle.contents.forEach(filterUnusedLabels);self.send("session-initiate",offer.jingle);next()})},accept:function(next){var self=this;next=next||function(){};this._log("info","Accepted incoming session");this.state="active";this.pc.answer(function(err,answer){if(err){self._log("error","Could not create WebRTC answer",err);return self.end("failed-application")}answer.jingle.contents.forEach(filterUnusedLabels);self.send("session-accept",answer.jingle);next()})},end:function(reason,silent){var self=this;this.streams.forEach(function(stream){self.onRemoveStream({stream:stream})});this.pc.close();BaseSession.prototype.end.call(this,reason,silent)},ring:function(){this._log("info","Ringing on incoming session");this.ringing=true;this.send("session-info",{ringing:true})},mute:function(creator,name){this._log("info","Muting",name);this.send("session-info",{mute:{creator:creator,name:name}})},unmute:function(creator,name){this._log("info","Unmuting",name);this.send("session-info",{unmute:{creator:creator,name:name}})},hold:function(){this._log("info","Placing on hold");this.send("session-info",{hold:true})},resume:function(){this._log("info","Resuming from hold");this.send("session-info",{active:true})},addStream:function(stream,renegotiate,cb){var self=this;cb=cb||function(){};this.pc.addStream(stream);if(!renegotiate){return}this.pc.handleOffer({type:"offer",jingle:this.pc.remoteDescription},function(err){if(err){self._log("error","Could not create offer for adding new stream");return cb(err)}self.pc.answer(function(err,answer){if(err){self._log("error","Could not create answer for adding new stream");return cb(err)}answer.jingle.contents.forEach(function(content){filterContentSources(content,stream)});self.send("source-add",answer.jingle);cb()})})},addStream2:function(stream,cb){this.addStream(stream,true,cb)},removeStream:function(stream,renegotiate,cb){var self=this;cb=cb||function(){};if(!renegotiate){this.pc.removeStream(stream);return}var desc=this.pc.localDescription;desc.contents.forEach(function(content){filterContentSources(content,stream)});this.send("source-remove",desc);this.pc.removeStream(stream);this.pc.handleOffer({type:"offer",jingle:this.pc.remoteDescription},function(err){if(err){self._log("error","Could not process offer for removing stream");return cb(err)}self.pc.answer(function(err){if(err){self._log("error","Could not process answer for removing stream");return cb(err)}cb()})})},removeStream2:function(stream,cb){this.removeStream(stream,true,cb)},switchStream:function(oldStream,newStream,cb){var self=this;cb=cb||function(){};var desc=this.pc.localDescription;desc.contents.forEach(function(content){delete content.transport;delete content.description.payloads});this.pc.removeStream(oldStream);this.send("source-remove",desc);var audioTracks=oldStream.getAudioTracks();if(audioTracks.length){newStream.addTrack(audioTracks[0])}this.pc.addStream(newStream);this.pc.handleOffer({type:"offer",jingle:this.pc.remoteDescription},function(err){if(err){self._log("error","Could not process offer for switching streams");return cb(err)}self.pc.answer(function(err,answer){if(err){self._log("error","Could not process answer for switching streams");return cb(err)}answer.jingle.contents.forEach(function(content){delete content.transport;delete content.description.payloads});self.send("source-add",answer.jingle);cb()})})},onIceCandidate:function(candidate){this._log("info","Discovered new ICE candidate",candidate.jingle);this.send("transport-info",candidate.jingle)},onIceStateChange:function(){switch(this.pc.iceConnectionState){case"checking":this.connectionState="connecting";break;case"completed":case"connected":this.connectionState="connected";break;case"disconnected":if(this.pc.signalingState==="stable"){this.connectionState="interrupted"}else{this.connectionState="disconnected"}break;case"failed":this.connectionState="failed";this.end("failed-transport");break;case"closed":this.connectionState="disconnected";break}},onAddStream:function(event){this._log("info","Stream added");this.emit("peerStreamAdded",this,event.stream)},onRemoveStream:function(event){this._log("info","Stream removed");this.emit("peerStreamRemoved",this,event.stream)},onSessionInitiate:function(changes,cb){var self=this;this._log("info","Initiating incoming session");this.state="pending";this.pc.isInitiator=false;this.pc.handleOffer({type:"offer",jingle:changes},function(err){if(err){self._log("error","Could not create WebRTC answer");return cb({condition:"general-error"})}cb()})},onSessionAccept:function(changes,cb){var self=this;this.state="active";this.pc.handleAnswer({type:"answer",jingle:changes},function(err){if(err){self._log("error","Could not process WebRTC answer");return cb({condition:"general-error"})}self.emit("accepted",self);cb()})},onSessionTerminate:function(changes,cb){var self=this;this._log("info","Terminating session");this.streams.forEach(function(stream){self.onRemoveStream({stream:stream})});this.pc.close();BaseSession.prototype.end.call(this,changes.reason,true);cb()},onSessionInfo:function(info,cb){if(info.ringing){this._log("info","Outgoing session is ringing");this.ringing=true;this.emit("ringing",this);return cb()}if(info.hold){this._log("info","On hold");this.emit("hold",this);return cb()}if(info.active){this._log("info","Resuming from hold");this.emit("resumed",this);return cb()}if(info.mute){this._log("info","Muting",info.mute);this.emit("mute",this,info.mute);return cb()}if(info.unmute){this._log("info","Unmuting",info.unmute);this.emit("unmute",this,info.unmute);return cb()}cb()},onTransportInfo:function(changes,cb){this.pc.processIce(changes,function(){cb()})},onSourceAdd:function(changes,cb){var self=this;this._log("info","Adding new stream source");var newDesc=this.pc.remoteDescription;this.pc.remoteDescription.contents.forEach(function(content,idx){var desc=content.description;var ssrcs=desc.sources||[];var groups=desc.sourceGroups||[];changes.contents.forEach(function(newContent){if(content.name!==newContent.name){return}var newContentDesc=newContent.description;var newSSRCs=newContentDesc.sources||[];ssrcs=ssrcs.concat(newSSRCs);newDesc.contents[idx].description.sources=JSON.parse(JSON.stringify(ssrcs));var newGroups=newContentDesc.sourceGroups||[];groups=groups.concat(newGroups);newDesc.contents[idx].description.sourceGroups=JSON.parse(JSON.stringify(groups))})});this.pc.handleOffer({type:"offer",jingle:newDesc},function(err){if(err){self._log("error","Error adding new stream source");return cb({condition:"general-error"})}self.pc.answer(function(err){if(err){self._log("error","Error adding new stream source");return cb({condition:"general-error"})}cb()})})},onSourceRemove:function(changes,cb){var self=this;this._log("info","Removing stream source");var newDesc=this.pc.remoteDescription;this.pc.remoteDescription.contents.forEach(function(content,idx){var desc=content.description;var ssrcs=desc.sources||[];var groups=desc.sourceGroups||[];changes.contents.forEach(function(newContent){if(content.name!==newContent.name){return}var newContentDesc=newContent.description;var newSSRCs=newContentDesc.sources||[];var newGroups=newContentDesc.sourceGroups||[];var found,i,j,k;for(i=0;i<newSSRCs.length;i++){found=-1;for(j=0;j<ssrcs.length;j++){if(newSSRCs[i].ssrc===ssrcs[j].ssrc){found=j;break}}if(found>-1){ssrcs.splice(found,1);newDesc.contents[idx].description.sources=JSON.parse(JSON.stringify(ssrcs))}}for(i=0;i<newGroups.length;i++){found=-1;for(j=0;i<groups.length;j++){if(newGroups[i].semantics===groups[j].semantics&&newGroups[i].sources.length===groups[j].sources.length){var same=true;for(k=0;k<newGroups[i].sources.length;k++){if(newGroups[i].sources[k]!==groups[j].sources[k]){same=false;break}}if(same){found=j;break}}}if(found>-1){groups.splice(found,1);newDesc.contents[idx].description.sourceGroups=JSON.parse(JSON.stringify(groups))}}})});this.pc.handleOffer({type:"offer",jingle:newDesc},function(err){if(err){self._log("error","Error removing stream source");return cb({condition:"general-error"})}self.pc.answer(function(err){if(err){self._log("error","Error removing stream source");return cb({condition:"general-error"})}cb()})})}});module.exports=MediaSession},{"extend-object":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/extend-object/extend-object.js","jingle-session":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-session/index.js",rtcpeerconnection:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/rtcpeerconnection.js",util:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/util/util.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/index.js"][0].apply(exports,arguments)},{"lodash._baseget":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash._baseget/index.js","lodash._topath":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash._topath/index.js","lodash.isarray":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.isarray/index.js","lodash.map":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash._baseget/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash._baseget/index.js"][0].apply(exports,arguments)},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash._topath/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash._topath/index.js"][0].apply(exports,arguments)},{"lodash.isarray":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.isarray/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/index.js"][0].apply(exports,arguments)},{"lodash._arraymap":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._arraymap/index.js","lodash._basecallback":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/index.js","lodash._baseeach":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._baseeach/index.js","lodash.isarray":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.isarray/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._arraymap/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._arraymap/index.js"][0].apply(exports,arguments)},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/index.js"][0].apply(exports,arguments)},{"lodash._baseisequal":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/node_modules/lodash._baseisequal/index.js","lodash._bindcallback":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/node_modules/lodash._bindcallback/index.js","lodash.isarray":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.isarray/index.js","lodash.pairs":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/node_modules/lodash.pairs/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/node_modules/lodash._baseisequal/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/node_modules/lodash._baseisequal/index.js"][0].apply(exports,arguments)},{"lodash.isarray":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.isarray/index.js","lodash.istypedarray":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/node_modules/lodash._baseisequal/node_modules/lodash.istypedarray/index.js","lodash.keys":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash.keys/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/node_modules/lodash._baseisequal/node_modules/lodash.istypedarray/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/node_modules/lodash._baseisequal/node_modules/lodash.istypedarray/index.js"][0].apply(exports,arguments)},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/node_modules/lodash._bindcallback/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/node_modules/lodash._bindcallback/index.js"][0].apply(exports,arguments)},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/node_modules/lodash.pairs/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/node_modules/lodash.pairs/index.js"][0].apply(exports,arguments)},{"lodash.keys":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash.keys/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._baseeach/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._baseeach/index.js"][0].apply(exports,arguments)},{"lodash.keys":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash.keys/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash.keys/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash.keys/index.js"][0].apply(exports,arguments)},{"lodash._getnative":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash.keys/node_modules/lodash._getnative/index.js","lodash.isarguments":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash.keys/node_modules/lodash.isarguments/index.js","lodash.isarray":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.isarray/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash.keys/node_modules/lodash._getnative/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash.keys/node_modules/lodash._getnative/index.js"][0].apply(exports,arguments)},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash.keys/node_modules/lodash.isarguments/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash.keys/node_modules/lodash.isarguments/index.js"][0].apply(exports,arguments)},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/sdp-jingle-json/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/sdp-jingle-json/index.js"][0].apply(exports,arguments)},{"./lib/tojson":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/sdp-jingle-json/lib/tojson.js","./lib/tosdp":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/sdp-jingle-json/lib/tosdp.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/sdp-jingle-json/lib/parsers.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/sdp-jingle-json/lib/parsers.js"][0].apply(exports,arguments)},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/sdp-jingle-json/lib/senders.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/sdp-jingle-json/lib/senders.js"][0].apply(exports,arguments)},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/sdp-jingle-json/lib/tojson.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/sdp-jingle-json/lib/tojson.js"][0].apply(exports,arguments)},{"./parsers":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/sdp-jingle-json/lib/parsers.js","./senders":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/sdp-jingle-json/lib/senders.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/sdp-jingle-json/lib/tosdp.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/sdp-jingle-json/lib/tosdp.js"][0].apply(exports,arguments)},{"./senders":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/sdp-jingle-json/lib/senders.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/traceablepeerconnection/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/traceablepeerconnection/index.js"][0].apply(exports,arguments)},{util:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/util/util.js",webrtcsupport:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/webrtcsupport/index-browser.js",wildemitter:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/wildemitter/wildemitter.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/rtcpeerconnection.js":[function(require,module,exports){var util=require("util");var each=require("lodash.foreach");var pluck=require("lodash.pluck");var webrtc=require("webrtcsupport");var SJJ=require("sdp-jingle-json");var WildEmitter=require("wildemitter");var peerconn=require("traceablepeerconnection");function PeerConnection(config,constraints){var self=this;var item;WildEmitter.call(this);config=config||{};config.iceServers=config.iceServers||[];this.enableChromeNativeSimulcast=false;if(constraints&&constraints.optional&&webrtc.prefix==="webkit"&&navigator.appVersion.match(/Chromium\//)===null){constraints.optional.forEach(function(constraint,idx){if(constraint.enableChromeNativeSimulcast){self.enableChromeNativeSimulcast=true}})}this.enableMultiStreamHacks=false;if(constraints&&constraints.optional&&webrtc.prefix==="webkit"){constraints.optional.forEach(function(constraint,idx){if(constraint.enableMultiStreamHacks){self.enableMultiStreamHacks=true}})}this.restrictBandwidth=0;if(constraints&&constraints.optional){constraints.optional.forEach(function(constraint,idx){if(constraint.andyetRestrictBandwidth){self.restrictBandwidth=constraint.andyetRestrictBandwidth}})}this.batchIceCandidates=0;if(constraints&&constraints.optional){constraints.optional.forEach(function(constraint,idx){if(constraint.andyetBatchIce){self.batchIceCandidates=constraint.andyetBatchIce}})}this.batchedIceCandidates=[];if(constraints&&constraints.optional&&webrtc.prefix==="webkit"){constraints.optional.forEach(function(constraint,idx){if(constraint.andyetFasterICE){self.eliminateDuplicateCandidates=constraint.andyetFasterICE}})}if(constraints&&constraints.optional){constraints.optional.forEach(function(constraint,idx){if(constraint.andyetDontSignalCandidates){self.dontSignalCandidates=constraint.andyetDontSignalCandidates}})}this.assumeSetLocalSuccess=false;if(constraints&&constraints.optional){constraints.optional.forEach(function(constraint,idx){if(constraint.andyetAssumeSetLocalSuccess){self.assumeSetLocalSuccess=constraint.andyetAssumeSetLocalSuccess}})}if(webrtc.prefix==="moz"){if(constraints&&constraints.optional){this.wtFirefox=0;constraints.optional.forEach(function(constraint,idx){if(constraint.andyetFirefoxMakesMeSad){self.wtFirefox=constraint.andyetFirefoxMakesMeSad;if(self.wtFirefox>0){self.firefoxcandidatebuffer=[]}}})}}this.pc=new peerconn(config,constraints);this.getLocalStreams=this.pc.getLocalStreams.bind(this.pc);this.getRemoteStreams=this.pc.getRemoteStreams.bind(this.pc);this.addStream=this.pc.addStream.bind(this.pc);this.removeStream=this.pc.removeStream.bind(this.pc);this.pc.on("*",function(){self.emit.apply(self,arguments)});this.pc.onremovestream=this.emit.bind(this,"removeStream");this.pc.onaddstream=this.emit.bind(this,"addStream");this.pc.onnegotiationneeded=this.emit.bind(this,"negotiationNeeded");this.pc.oniceconnectionstatechange=this.emit.bind(this,"iceConnectionStateChange");this.pc.onsignalingstatechange=this.emit.bind(this,"signalingStateChange");this.pc.onicecandidate=this._onIce.bind(this);this.pc.ondatachannel=this._onDataChannel.bind(this);this.localDescription={contents:[]};this.remoteDescription={contents:[]};this.config={debug:false,ice:{},sid:"",isInitiator:true,sdpSessionID:Date.now(),useJingle:false};for(item in config){this.config[item]=config[item]}if(this.config.debug){this.on("*",function(eventName,event){var logger=config.logger||console;logger.log("PeerConnection event:",arguments)})}this.hadLocalStunCandidate=false;this.hadRemoteStunCandidate=false;this.hadLocalRelayCandidate=false;this.hadRemoteRelayCandidate=false;this.hadLocalIPv6Candidate=false;this.hadRemoteIPv6Candidate=false;this._remoteDataChannels=[];this._localDataChannels=[];this._candidateBuffer=[]}util.inherits(PeerConnection,WildEmitter);Object.defineProperty(PeerConnection.prototype,"signalingState",{get:function(){return this.pc.signalingState}});Object.defineProperty(PeerConnection.prototype,"iceConnectionState",{get:function(){return this.pc.iceConnectionState}});PeerConnection.prototype._role=function(){return this.isInitiator?"initiator":"responder"};PeerConnection.prototype.addStream=function(stream){this.localStream=stream;this.pc.addStream(stream)};PeerConnection.prototype._checkLocalCandidate=function(candidate){var cand=SJJ.toCandidateJSON(candidate);if(cand.type=="srflx"){this.hadLocalStunCandidate=true}else if(cand.type=="relay"){this.hadLocalRelayCandidate=true}if(cand.ip.indexOf(":")!=-1){this.hadLocalIPv6Candidate=true}};PeerConnection.prototype._checkRemoteCandidate=function(candidate){var cand=SJJ.toCandidateJSON(candidate);if(cand.type=="srflx"){this.hadRemoteStunCandidate=true}else if(cand.type=="relay"){this.hadRemoteRelayCandidate=true}if(cand.ip.indexOf(":")!=-1){this.hadRemoteIPv6Candidate=true}};PeerConnection.prototype.processIce=function(update,cb){cb=cb||function(){};var self=this;if(this.pc.signalingState==="closed")return cb();if(update.contents||update.jingle&&update.jingle.contents){var contentNames=pluck(this.remoteDescription.contents,"name");var contents=update.contents||update.jingle.contents;contents.forEach(function(content){var transport=content.transport||{};var candidates=transport.candidates||[];var mline=contentNames.indexOf(content.name);var mid=content.name;candidates.forEach(function(candidate){var iceCandidate=SJJ.toCandidateSDP(candidate)+"\r\n";self.pc.addIceCandidate(new webrtc.IceCandidate({candidate:iceCandidate,sdpMLineIndex:mline,sdpMid:mid}),function(){},function(err){self.emit("error",err)});self._checkRemoteCandidate(iceCandidate)})})}else{if(update.candidate&&update.candidate.candidate.indexOf("a=")!==0){update.candidate.candidate="a="+update.candidate.candidate}if(this.wtFirefox&&this.firefoxcandidatebuffer!==null){if(this.pc.localDescription&&this.pc.localDescription.type==="offer"){this.firefoxcandidatebuffer.push(update.candidate);return cb()}}self.pc.addIceCandidate(new webrtc.IceCandidate(update.candidate),function(){},function(err){self.emit("error",err)});self._checkRemoteCandidate(update.candidate.candidate)}cb()};PeerConnection.prototype.offer=function(constraints,cb){var self=this;var hasConstraints=arguments.length===2;var mediaConstraints=hasConstraints&&constraints?constraints:{mandatory:{OfferToReceiveAudio:true,OfferToReceiveVideo:true}};cb=hasConstraints?cb:constraints;cb=cb||function(){};if(this.pc.signalingState==="closed")return cb("Already closed");this.pc.createOffer(function(offer){var expandedOffer={type:"offer",sdp:offer.sdp};if(self.assumeSetLocalSuccess){self.emit("offer",expandedOffer);cb(null,expandedOffer)}self._candidateBuffer=[];self.pc.setLocalDescription(offer,function(){var jingle;if(self.config.useJingle){jingle=SJJ.toSessionJSON(offer.sdp,{role:self._role(),direction:"outgoing"});jingle.sid=self.config.sid;self.localDescription=jingle;each(jingle.contents,function(content){var transport=content.transport||{};if(transport.ufrag){self.config.ice[content.name]={ufrag:transport.ufrag,pwd:transport.pwd}}});expandedOffer.jingle=jingle}expandedOffer.sdp.split("\r\n").forEach(function(line){if(line.indexOf("a=candidate:")===0){self._checkLocalCandidate(line)}});if(!self.assumeSetLocalSuccess){self.emit("offer",expandedOffer);cb(null,expandedOffer)}},function(err){self.emit("error",err);cb(err)})},function(err){self.emit("error",err);cb(err)},mediaConstraints)};PeerConnection.prototype.handleOffer=function(offer,cb){cb=cb||function(){};var self=this;offer.type="offer";if(offer.jingle){if(this.enableChromeNativeSimulcast){offer.jingle.contents.forEach(function(content){if(content.name==="video"){content.description.googConferenceFlag=true}})}if(this.enableMultiStreamHacks){offer.jingle.contents.forEach(function(content){if(content.name==="video"){var sources=content.description.sources||[];if(sources.length===0||sources[0].ssrc!=="3735928559"){sources.unshift({ssrc:"3735928559",parameters:[{key:"cname",value:"deadbeef"},{key:"msid",value:"mixyourfecintothis please"}]});content.description.sources=sources}}})}if(self.restrictBandwidth>0){if(offer.jingle.contents.length>=2&&offer.jingle.contents[1].name==="video"){var content=offer.jingle.contents[1];var hasBw=content.description&&content.description.bandwidth;if(!hasBw){offer.jingle.contents[1].description.bandwidth={type:"AS",bandwidth:self.restrictBandwidth.toString()};offer.sdp=SJJ.toSessionSDP(offer.jingle,{sid:self.config.sdpSessionID,role:self._role(),direction:"outgoing"})}}}offer.sdp=SJJ.toSessionSDP(offer.jingle,{sid:self.config.sdpSessionID,role:self._role(),direction:"incoming"});self.remoteDescription=offer.jingle}offer.sdp.split("\r\n").forEach(function(line){if(line.indexOf("a=candidate:")===0){self._checkRemoteCandidate(line)}});self.pc.setRemoteDescription(new webrtc.SessionDescription(offer),function(){cb()},cb)};PeerConnection.prototype.answerAudioOnly=function(cb){var mediaConstraints={mandatory:{OfferToReceiveAudio:true,OfferToReceiveVideo:false}};this._answer(mediaConstraints,cb)};PeerConnection.prototype.answerBroadcastOnly=function(cb){var mediaConstraints={mandatory:{OfferToReceiveAudio:false,OfferToReceiveVideo:false}};this._answer(mediaConstraints,cb)};PeerConnection.prototype.answer=function(constraints,cb){var self=this;var hasConstraints=arguments.length===2;var callback=hasConstraints?cb:constraints;var mediaConstraints=hasConstraints&&constraints?constraints:{mandatory:{OfferToReceiveAudio:true,OfferToReceiveVideo:true}};this._answer(mediaConstraints,callback)};PeerConnection.prototype.handleAnswer=function(answer,cb){cb=cb||function(){};var self=this;if(answer.jingle){answer.sdp=SJJ.toSessionSDP(answer.jingle,{sid:self.config.sdpSessionID,role:self._role(),direction:"incoming"});self.remoteDescription=answer.jingle}answer.sdp.split("\r\n").forEach(function(line){if(line.indexOf("a=candidate:")===0){self._checkRemoteCandidate(line)}});self.pc.setRemoteDescription(new webrtc.SessionDescription(answer),function(){if(self.wtFirefox){window.setTimeout(function(){self.firefoxcandidatebuffer.forEach(function(candidate){self.pc.addIceCandidate(new webrtc.IceCandidate(candidate),function(){},function(err){self.emit("error",err)});self._checkRemoteCandidate(candidate.candidate)});self.firefoxcandidatebuffer=null},self.wtFirefox)}cb(null)},cb)};PeerConnection.prototype.close=function(){this.pc.close();this._localDataChannels=[];this._remoteDataChannels=[];this.emit("close")};PeerConnection.prototype._answer=function(constraints,cb){cb=cb||function(){};var self=this;if(!this.pc.remoteDescription){throw new Error("remoteDescription not set")}if(this.pc.signalingState==="closed")return cb("Already closed");self.pc.createAnswer(function(answer){var sim=[];var rtx=[];if(self.enableChromeNativeSimulcast){answer.jingle=SJJ.toSessionJSON(answer.sdp,{role:self._role(),direction:"outgoing"});if(answer.jingle.contents.length>=2&&answer.jingle.contents[1].name==="video"){var hasSimgroup=false;var groups=answer.jingle.contents[1].description.sourceGroups||[];var hasSim=false;groups.forEach(function(group){if(group.semantics=="SIM")hasSim=true});if(!hasSim&&answer.jingle.contents[1].description.sources.length){var newssrc=JSON.parse(JSON.stringify(answer.jingle.contents[1].description.sources[0]));newssrc.ssrc=""+Math.floor(Math.random()*4294967295);answer.jingle.contents[1].description.sources.push(newssrc);sim.push(answer.jingle.contents[1].description.sources[0].ssrc);sim.push(newssrc.ssrc);groups.push({semantics:"SIM",sources:sim});var rtxssrc=JSON.parse(JSON.stringify(newssrc));rtxssrc.ssrc=""+Math.floor(Math.random()*4294967295);answer.jingle.contents[1].description.sources.push(rtxssrc);groups.push({semantics:"FID",sources:[newssrc.ssrc,rtxssrc.ssrc]});answer.jingle.contents[1].description.sourceGroups=groups;answer.sdp=SJJ.toSessionSDP(answer.jingle,{sid:self.config.sdpSessionID,role:self._role(),direction:"outgoing"})}}}var expandedAnswer={type:"answer",sdp:answer.sdp};if(self.assumeSetLocalSuccess){self.emit("answer",expandedAnswer);cb(null,expandedAnswer)}self._candidateBuffer=[];self.pc.setLocalDescription(answer,function(){if(self.config.useJingle){var jingle=SJJ.toSessionJSON(answer.sdp,{role:self._role(),direction:"outgoing"});jingle.sid=self.config.sid;self.localDescription=jingle;expandedAnswer.jingle=jingle}if(self.enableChromeNativeSimulcast){if(!expandedAnswer.jingle){expandedAnswer.jingle=SJJ.toSessionJSON(answer.sdp,{role:self._role(),direction:"outgoing"})}var groups=expandedAnswer.jingle.contents[1].description.sourceGroups||[];expandedAnswer.jingle.contents[1].description.sources.forEach(function(source,idx){source.parameters=source.parameters.map(function(parameter){if(parameter.key==="msid"){parameter.value+="-"+Math.floor(idx/2)}return parameter})});expandedAnswer.sdp=SJJ.toSessionSDP(expandedAnswer.jingle,{sid:self.sdpSessionID,role:self._role(),direction:"outgoing"})}expandedAnswer.sdp.split("\r\n").forEach(function(line){if(line.indexOf("a=candidate:")===0){self._checkLocalCandidate(line)}});if(!self.assumeSetLocalSuccess){self.emit("answer",expandedAnswer);cb(null,expandedAnswer)}},function(err){self.emit("error",err);cb(err)})},function(err){self.emit("error",err);cb(err)},constraints)};PeerConnection.prototype._onIce=function(event){var self=this;if(event.candidate){if(this.dontSignalCandidates)return;var ice=event.candidate;var expandedCandidate={candidate:{candidate:ice.candidate,sdpMid:ice.sdpMid,sdpMLineIndex:ice.sdpMLineIndex}};this._checkLocalCandidate(ice.candidate);var cand=SJJ.toCandidateJSON(ice.candidate);var already;var idx;if(this.eliminateDuplicateCandidates&&cand.type==="relay"){already=this._candidateBuffer.filter(function(c){return c.type==="relay"}).map(function(c){return c.foundation+":"+c.component});idx=already.indexOf(cand.foundation+":"+cand.component);if(idx>-1&&cand.priority>>24>=already[idx].priority>>24){return}}if(this.config.bundlePolicy==="max-bundle"){already=this._candidateBuffer.filter(function(c){return cand.type===c.type}).map(function(cand){return cand.address+":"+cand.port});idx=already.indexOf(cand.address+":"+cand.port);if(idx>-1)return}if(this.config.rtcpMuxPolicy==="require"&&cand.component==="2"){return}this._candidateBuffer.push(cand);if(self.config.useJingle){if(!ice.sdpMid){if(self.pc.remoteDescription&&self.pc.remoteDescription.type==="offer"){ice.sdpMid=self.remoteDescription.contents[ice.sdpMLineIndex].name}else{ice.sdpMid=self.localDescription.contents[ice.sdpMLineIndex].name}}if(!self.config.ice[ice.sdpMid]){var jingle=SJJ.toSessionJSON(self.pc.localDescription.sdp,{role:self._role(),direction:"outgoing"});each(jingle.contents,function(content){var transport=content.transport||{};if(transport.ufrag){self.config.ice[content.name]={ufrag:transport.ufrag,pwd:transport.pwd}}})}expandedCandidate.jingle={contents:[{name:ice.sdpMid,creator:self._role(),transport:{transType:"iceUdp",ufrag:self.config.ice[ice.sdpMid].ufrag,pwd:self.config.ice[ice.sdpMid].pwd,candidates:[cand]}}]};if(self.batchIceCandidates>0){if(self.batchedIceCandidates.length===0){window.setTimeout(function(){var contents={};self.batchedIceCandidates.forEach(function(content){content=content.contents[0];if(!contents[content.name])contents[content.name]=content;contents[content.name].transport.candidates.push(content.transport.candidates[0])});var newCand={jingle:{contents:[]}};Object.keys(contents).forEach(function(name){newCand.jingle.contents.push(contents[name])});self.batchedIceCandidates=[];self.emit("ice",newCand)},self.batchIceCandidates)}self.batchedIceCandidates.push(expandedCandidate.jingle);return}}this.emit("ice",expandedCandidate)}else{this.emit("endOfCandidates")}};PeerConnection.prototype._onDataChannel=function(event){var channel=event.channel;this._remoteDataChannels.push(channel);this.emit("addChannel",channel)};PeerConnection.prototype.createDataChannel=function(name,opts){var channel=this.pc.createDataChannel(name,opts);this._localDataChannels.push(channel);return channel};PeerConnection.prototype.getStats=function(cb){if(webrtc.prefix==="moz"){this.pc.getStats(function(res){var items=[];for(var result in res){if(typeof res[result]==="object"){items.push(res[result])}}cb(null,items)},cb)}else{this.pc.getStats(function(res){var items=[];res.result().forEach(function(result){var item={};result.names().forEach(function(name){item[name]=result.stat(name)});item.id=result.id;item.type=result.type;item.timestamp=result.timestamp;items.push(item)});cb(null,items)})}};module.exports=PeerConnection},{"lodash.foreach":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.foreach/index.js","lodash.pluck":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/index.js","sdp-jingle-json":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/sdp-jingle-json/index.js",traceablepeerconnection:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-media-session/node_modules/rtcpeerconnection/node_modules/traceablepeerconnection/index.js",util:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/util/util.js",webrtcsupport:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/webrtcsupport/index-browser.js",wildemitter:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/wildemitter/wildemitter.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-session/index.js":[function(require,module,exports){var util=require("util");var uuid=require("uuid");var async=require("async");var extend=require("extend-object");var WildEmitter=require("wildemitter");var ACTIONS={"content-accept":"onContentAccept","content-add":"onContentAdd","content-modify":"onConentModify","content-reject":"onContentReject","content-remove":"onContentRemove","description-info":"onDescriptionInfo","security-info":"onSecurityInfo","session-accept":"onSessionAccept","session-info":"onSessionInfo","session-initiate":"onSessionInitiate","session-terminate":"onSessionTerminate","transport-accept":"onTransportAccept","transport-info":"onTransportInfo","transport-reject":"onTransportReject","transport-replace":"onTransportReplace","source-add":"onSourceAdd","source-remove":"onSourceRemove"};function JingleSession(opts){WildEmitter.call(this);var self=this;this.sid=opts.sid||uuid.v4();this.peer=opts.peer;this.peerID=opts.peerID||this.peer.full||this.peer;this.isInitiator=opts.initiator||false;this.parent=opts.parent;this.state="starting";this.connectionState="starting";this.pendingDescriptionTypes=opts.descriptionTypes||[];this.pendingAction=false;this.processingQueue=async.queue(function(task,next){if(self.ended){return next()}var action=task.action;var changes=task.changes;var cb=task.cb;self._log("debug",action);if(!ACTIONS[action]){self._log("error","Invalid action: "+action);cb({condition:"bad-request"});return next()}self[ACTIONS[action]](changes,function(err,result){cb(err,result);return next()})})}util.inherits(JingleSession,WildEmitter);Object.keys(ACTIONS).forEach(function(action){var method=ACTIONS[action];JingleSession.prototype[method]=function(changes,cb){this._log("error","Unsupported action: "+action);cb()}});Object.defineProperties(JingleSession.prototype,{state:{get:function(){return this._sessionState},set:function(value){if(value!==this._sessionState){var prev=this._sessionState;this._log("info","Changing session state to: "+value);this._sessionState=value;this.emit("change:sessionState",this,value);this.emit("change:"+value,this,true);if(prev){this.emit("change:"+prev,this,false)}}}},connectionState:{get:function(){return this._connectionState},set:function(value){if(value!==this._connectionState){var prev=this._connectionState;this._log("info","Changing connection state to: "+value);this._connectionState=value;this.emit("change:connectionState",this,value);this.emit("change:"+value,this,true);if(prev){this.emit("change:"+prev,this,false)}}}},starting:{get:function(){return this._sessionState==="starting"}},pending:{get:function(){return this._sessionState==="pending"}},active:{get:function(){return this._sessionState==="active"}},ended:{get:function(){return this._sessionState==="ended"}},connected:{get:function(){return this._connectionState==="connected"}},connecting:{get:function(){return this._connectionState==="connecting"}},disconnected:{get:function(){return this._connectionState==="disconnected"}},interrupted:{get:function(){return this._connectionState==="interrupted"}}});JingleSession.prototype=extend(JingleSession.prototype,{_log:function(level,message){message=this.sid+": "+message;this.emit("log:"+level,message)},send:function(action,data){data=data||{};data.sid=this.sid;data.action=action;var requirePending={"session-inititate":true,"session-accept":true,"content-add":true,"content-remove":true,"content-reject":true,"content-accept":true,"content-modify":true,"transport-replace":true,"transport-reject":true,"transport-accept":true,"source-add":true,"source-remove":true};if(requirePending[action]){this.pendingAction=action}else{this.pendingAction=false}this.emit("send",{to:this.peer,type:"set",jingle:data})},process:function(action,changes,cb){this.processingQueue.push({action:action,changes:changes,cb:cb})},start:function(){this._log("error","Can not start base sessions");this.end("unsupported-applications",true)},accept:function(){this._log("error","Can not accept base sessions");this.end("unsupported-applications")},cancel:function(){this.end("cancel")},decline:function(){this.end("decline")},end:function(reason,silent){this.state="ended";this.processingQueue.kill();if(!reason){reason="success"}if(typeof reason==="string"){reason={condition:reason}}if(!silent){this.send("session-terminate",{reason:reason})}this.emit("terminated",this,reason)},onSessionTerminate:function(changes,cb){this.end(changes.reason,true);cb()},onSessionInfo:function(changes,cb){var okKeys={sid:true,action:true,initiator:true,responder:true};var unknownPayload=false;Object.keys(changes).forEach(function(key){if(!okKeys[key]){unknownPayload=true}});if(unknownPayload){cb({type:"modify",condition:"feature-not-implemented",jingleCondition:"unsupported-info"})}else{cb()}},onDescriptionInfo:function(changes,cb){cb({type:"modify",condition:"feature-not-implemented",jingleCondition:"unsupported-info"})},onTransportInfo:function(changes,cb){cb({type:"modify",condition:"feature-not-implemented",jingleCondition:"unsupported-info"})},onContentAdd:function(changes,cb){cb();this.send("content-reject",{reason:{condition:"failed-application",text:"content-add is not supported"}})},onTransportReplace:function(changes,cb){cb();this.send("transport-reject",{reason:{condition:"failed-application",text:"transport-replace is not supported"}})}});module.exports=JingleSession},{async:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/async/lib/async.js","extend-object":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/extend-object/extend-object.js",util:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/util/util.js",uuid:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/uuid/uuid.js",wildemitter:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/wildemitter/wildemitter.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/webrtcsupport/index-browser.js":[function(require,module,exports){var prefix;var version;if(window.mozRTCPeerConnection||navigator.mozGetUserMedia){prefix="moz";version=parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1],10)}else if(window.webkitRTCPeerConnection||navigator.webkitGetUserMedia){prefix="webkit";version=navigator.userAgent.match(/Chrom(e|ium)/)&&parseInt(navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)[2],10)}var PC=window.mozRTCPeerConnection||window.webkitRTCPeerConnection;var IceCandidate=window.mozRTCIceCandidate||window.RTCIceCandidate;var SessionDescription=window.mozRTCSessionDescription||window.RTCSessionDescription;var MediaStream=window.webkitMediaStream||window.MediaStream;var screenSharing=window.location.protocol==="https:"&&(prefix==="webkit"&&version>=26||prefix==="moz"&&version>=33);var AudioContext=window.AudioContext||window.webkitAudioContext;var videoEl=document.createElement("video");var supportVp8=videoEl&&videoEl.canPlayType&&videoEl.canPlayType('video/webm; codecs="vp8", vorbis')==="probably";var getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia;module.exports={prefix:prefix,browserVersion:version,support:!!PC&&supportVp8&&!!getUserMedia,supportRTCPeerConnection:!!PC,supportVp8:supportVp8,supportGetUserMedia:!!getUserMedia,supportDataChannel:!!(PC&&PC.prototype&&PC.prototype.createDataChannel),supportWebAudio:!!(AudioContext&&AudioContext.prototype.createMediaStreamSource),supportMediaStream:!!(MediaStream&&MediaStream.prototype.removeTrack),supportScreenSharing:!!screenSharing,dataChannel:!!(PC&&PC.prototype&&PC.prototype.createDataChannel),webAudio:!!(AudioContext&&AudioContext.prototype.createMediaStreamSource),mediaStream:!!(MediaStream&&MediaStream.prototype.removeTrack),screenSharing:!!screenSharing,AudioContext:AudioContext,PeerConnection:PC,SessionDescription:SessionDescription,IceCandidate:IceCandidate,MediaStream:MediaStream,getUserMedia:getUserMedia}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp-types/lib/index.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _shortcuts=require("./shortcuts");var _shortcuts2=_interopRequireDefault(_shortcuts);var _types=require("./types");var _types2=_interopRequireDefault(_types);exports["default"]=function(JXT){JXT.use(_types2["default"]);JXT.use(_shortcuts2["default"])};module.exports=exports["default"]},{"./shortcuts":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp-types/lib/shortcuts.js","./types":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp-types/lib/types.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp-types/lib/shortcuts.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");var VERSION={client:_xmppConstants.Namespace.CLIENT,server:_xmppConstants.Namespace.SERVER,component:_xmppConstants.Namespace.COMPONENT};exports["default"]=function(JXT){JXT.extendMessage=function(JXTClass,multiName){var _this=this;this.withMessage(function(Message){_this.extend(Message,JXTClass,multiName)})};JXT.extendPresence=function(JXTClass,multiName){var _this2=this;this.withPresence(function(Presence){_this2.extend(Presence,JXTClass,multiName)})};JXT.extendIQ=function(JXTClass,multiName){var _this3=this;this.withIQ(function(IQ){_this3.extend(IQ,JXTClass,multiName)})};JXT.extendStreamFeatures=function(JXTClass){var _this4=this;this.withStreamFeatures(function(StreamFeatures){_this4.extend(StreamFeatures,JXTClass)})};JXT.extendPubsubItem=function(JXTClass){var _this5=this;this.withPubsubItem(function(PubsubItem){_this5.extend(PubsubItem,JXTClass)})};JXT.withIQ=function(cb){this.withDefinition("iq",_xmppConstants.Namespace.CLIENT,cb);this.withDefinition("iq",_xmppConstants.Namespace.COMPONENT,cb)};JXT.withMessage=function(cb){this.withDefinition("message",_xmppConstants.Namespace.CLIENT,cb);this.withDefinition("message",_xmppConstants.Namespace.COMPONENT,cb)};JXT.withPresence=function(cb){this.withDefinition("presence",_xmppConstants.Namespace.CLIENT,cb);this.withDefinition("presence",_xmppConstants.Namespace.COMPONENT,cb)};JXT.withStreamFeatures=function(cb){this.withDefinition("features",_xmppConstants.Namespace.STREAM,cb)};JXT.withStanzaError=function(cb){this.withDefinition("error",_xmppConstants.Namespace.CLIENT,cb);this.withDefinition("error",_xmppConstants.Namespace.COMPONENT,cb)};JXT.withDataForm=function(cb){this.withDefinition("x",_xmppConstants.Namespace.DATAFORM,cb)};JXT.withPubsubItem=function(cb){this.withDefinition("item",_xmppConstants.Namespace.PUBSUB,cb);this.withDefinition("item",_xmppConstants.Namespace.PUBSUB_EVENT,cb)};JXT.getMessage=function(){var version=arguments[0]===undefined?"client":arguments[0];return this.getDefinition("message",VERSION[version])};JXT.getPresence=function(){var version=arguments[0]===undefined?"client":arguments[0];return this.getDefinition("presence",VERSION[version])};JXT.getIQ=function(){var version=arguments[0]===undefined?"client":arguments[0];return this.getDefinition("iq",VERSION[version])};JXT.getStreamError=function(){return this.getDefinition("error",_xmppConstants.Namespace.STREAM)};JXT.getIq=JXT.getIQ;JXT.withIq=JXT.withIQ};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp-types/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp-types/lib/types.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppJid=require("xmpp-jid");exports["default"]=function(JXT){var Utils=JXT.utils;Utils.jidAttribute=function(attr,prepped){return{get:function get(){var jid=new _xmppJid.JID(Utils.getAttribute(this.xml,attr));if(prepped){jid.prepped=true}return jid},set:function set(value){Utils.setAttribute(this.xml,attr,(value||"").toString())}}};Utils.jidSub=function(NS,sub,prepped){return{get:function get(){var jid=new _xmppJid.JID(Utils.getSubText(this.xml,NS,sub));if(prepped){jid.prepped=true}return jid},set:function set(value){Utils.setSubText(this.xml,NS,sub,(value||"").toString())}}};Utils.tzoSub=Utils.field(function(xml,NS,sub,defaultVal){var hrs=undefined,min=undefined,split=undefined;var sign=-1;var formatted=Utils.getSubText(xml,NS,sub);if(!formatted){return defaultVal}if(formatted.charAt(0)==="-"){sign=1;formatted=formatted.slice(1)}split=formatted.split(":");hrs=parseInt(split[0],10);min=parseInt(split[1],10);return(hrs*60+min)*sign},function(xml,NS,sub,value){var hrs=undefined,min=undefined;var formatted="-";if(typeof value==="number"){if(value<0){value=-value;formatted="+"}hrs=value/60;min=value%60;formatted+=(hrs<10?"0":"")+hrs+":"+(min<10?"0":"")+min}else{formatted=value}Utils.setSubText(xml,NS,sub,formatted)})};module.exports=exports["default"]},{"xmpp-jid":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/xmpp-jid/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp-types/node_modules/xmpp-constants/index.js":[function(require,module,exports){module.exports={Namespace:require("./lib/namespaces"),MUC:require("./lib/muc"),PubSub:require("./lib/pubsub"),Jingle:require("./lib/jingle"),Presence:require("./lib/presence")}},{"./lib/jingle":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp-types/node_modules/xmpp-constants/lib/jingle.js","./lib/muc":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp-types/node_modules/xmpp-constants/lib/muc.js","./lib/namespaces":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp-types/node_modules/xmpp-constants/lib/namespaces.js","./lib/presence":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp-types/node_modules/xmpp-constants/lib/presence.js","./lib/pubsub":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp-types/node_modules/xmpp-constants/lib/pubsub.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp-types/node_modules/xmpp-constants/lib/jingle.js":[function(require,module,exports){module.exports={Action:{CONTENT_ACCEPT:"content-accept",CONTENT_ADD:"content-add",CONTENT_MODIFY:"content-modify",CONTENT_REJECT:"content-reject",CONTENT_REMOVE:"content-remove",DESCRIPTION_INFO:"description-info",SECURITY_INFO:"security-info",SESSION_ACCEPT:"session-accept",SESSION_INFO:"session-info",SESSION_INITIATE:"session-initiate",SESSION_TERMINATE:"session-terminate",TRANSPORT_ACCEPT:"transport-accept",TRANSPORT_INFO:"transport-info",TRANSPORT_REJECT:"transport-reject",TRANSPORT_REPLACE:"transport-replace"},Reason:{ALTERNATIVE_SESSION:"alernative-session",BUSY:"busy",CANCEL:"cancel",CONNECTIVITY_ERROR:"connectivity-error",DECLINE:"decline",EXPIRED:"expired",FAILED_APPLICATION:"failed-application",FAILED_TRANSPORT:"failed-transport",GENERAL_ERROR:"general-error",GONE:"gone",INCOMPATIBLE_PARAMETERS:"incompatible-parameters",MEDIA_ERROR:"media-error",SECURITY_ERROR:"security-error",SUCCESS:"success",TIMEOUT:"timeout",UNSUPPORTED_APPLICATIONS:"unsupported-applications",UNSUPPORTED_TRANSPORTS:"unsupported-transports"},Condition:{OUT_OF_ORDER:"out-of-order",TIE_BREAK:"tie-break",UNKNOWN_SESSION:"unknown-session",UNSUPPORTED_INFO:"unsupported-info"}}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp-types/node_modules/xmpp-constants/lib/muc.js":[function(require,module,exports){module.exports={Status:{REALJID_PUBLIC:"100",AFFILIATION_CHANGED:"101",UNAVAILABLE_SHOWN:"102",UNAVAILABLE_NOT_SHOWN:"103",CONFIGURATION_CHANGED:"104",SELF_PRESENCE:"110",LOGGING_ENABLED:"170",LOGGING_DISABLED:"171",NON_ANONYMOUS:"172",SEMI_ANONYMOUS:"173",FULLY_ANONYMOUS:"174",ROOM_CREATED:"201",NICK_ASSIGNED:"210",BANNED:"301",NEW_NICK:"303",KICKED:"307",REMOVED_AFFILIATION:"321",REMOVED_MEMBERSHIP:"322",REMOVED_SHUTDOWN:"332"},Affiliation:{ADMIN:"admin",MEMBER:"member",NONE:"none",OUTCAST:"outcast",OWNER:"owner"},Role:{MODERATOR:"moderator",NONE:"none",PARTICIPANT:"participant",VISITOR:"visitor"}}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp-types/node_modules/xmpp-constants/lib/namespaces.js":[function(require,module,exports){module.exports={BIND:"urn:ietf:params:xml:ns:xmpp-bind",CLIENT:"jabber:client",SASL:"urn:ietf:params:xml:ns:xmpp-sasl",SERVER:"jabber:server",SESSION:"urn:ietf:params:xml:ns:xmpp-session",STANZA_ERROR:"urn:ietf:params:xml:ns:xmpp-stanzas",STREAM:"http://etherx.jabber.org/streams",STREAM_ERROR:"urn:ietf:params:xmp:ns:xmpp-streams",ROSTER:"jabber:iq:roster",ROSTER_VERSIONING:"urn:xmpp:features:rosterver",SUBSCRIPTION_PREAPPROVAL:"urn:xmpp:features:pre-approval",FRAMING:"urn:ietf:params:xml:ns:xmpp-framing",DATAFORM:"jabber:x:data",RPC:"jabber:iq:rpc",LAST_ACTIVITY:"jabber:iq:last",PRIVACY:"jabber:iq:privacy",DISCO_INFO:"http://jabber.org/protocol/disco#info",DISCO_ITEMS:"http://jabber.org/protocol/disco#items",ADDRESS:"http://jabber.org/protocol/address",MUC:"http://jabber.org/protocol/muc",MUC_ADMIN:"http://jabber.org/protocol/muc#admin",MUC_OWNER:"http://jabber.org/protocol/muc#owner",MUC_USER:"http://jabber.org/protocol/muc#user",IBB:"http://jabber.org/protocol/ibb",BOOKMARKS:"storage:bookmarks",PRIVATE:"jabber:iq:private",ADHOC_COMMANDS:"http://jabber.org/protocol/commands",VCARD_TEMP:"vcard-temp",SEARCH:"jabber:iq:search",RSM:"http://jabber.org/protocol/rsm",PUBSUB:"http://jabber.org/protocol/pubsub",PUBSUB_ERRORS:"http://jabber.org/protocol/pubsub#errors",PUBSUB_EVENT:"http://jabber.org/protocol/pubsub#event",PUBSUB_OWNER:"http://jabber.org/protocol/pubsub#owner",SOCKS5:"http://jabber.org/protocol/bytestreams",OOB:"jabber:x:oob",HTTP_AUTH:"http://jabber.org/protocol/http-auth",XHTML_IM:"http://jabber.org/protocol/xhtml-im",REGISTER:"jabber:iq:register",AMP:"http://jabber.org/protocol/amp",GEOLOC:"http://jabber.org/protocol/geoloc",ROSTER_DELIMITER:"roster:delimiter",AVATAR_DATA:"urn:xmpp:avatar:data",AVATAR_METADATA:"urn:xmpp:avatar:metadata",CHAT_STATES:"http://jabber.org/protocol/chatstates",VERSION:"jabber:iq:version",MOOD:"http://jabber.org/protocol/mood",ACTIVITY:"http://jabber.org/protocol/activity",COMPONENT:"jabber:component:accept",CAPS:"http://jabber.org/protocol/caps",TUNE:"http://jabber.org/protocol/tune",DATAFORM_VALIDATION:"http://jabber.org/protocol/xdata-validate",BOSH:"http://jabber.org/protocol/httpbind",SHIM:"http://jabber.org/protocol/shim",COMPRESSION:"http://jabber.org/features/compress",DATAFORM_LAYOUT:"http://jabber.org/protocol/xdata-layout",ROSTER_EXCHANGE:"http://jabber.org/protocol/rosterx",ROSTER_NOTES:"storage:rosternotes",REACH_0:"urn:xmpp:reach:0",VCARD_TEMP_UPDATE:"vcard-temp:x:update",CAPTCHA:"urn:xmpp:captcha",JINGLE_1:"urn:xmpp:jingle:1",JINGLE_ERRORS_1:"urn:xmpp:jingle:errors:1",JINGLE_RTP_1:"urn:xmpp:jingle:apps:rtp:1",JINGLE_RTP_ERRORS_1:"urn:xmpp:jingle:apps:rtp:errors:1",JINGLE_RTP_INFO_1:"urn:xmpp:jingle:apps:rtp:info:1",LANG_TRANS:"urn:xmpp:langtrans",LANG_TRANS_ITEMS:"urn:xmpp:langtrans:items",NICK:"http://jabber.org/protocol/nick",JINGLE_ICE_UDP_1:"urn:xmpp:jingle:transports:ice-udp:1",JINGLE_RAW_UDP_1:"urn:xmpp:jingle:transports:raw-udp:1",RECEIPTS:"urn:xmpp:receipts",INVISIBLE_0:"urn:xmpp:invisible:0",BLOCKING:"urn:xmpp:blocking",SMACKS_3:"urn:xmpp:smacks:3",PING:"urn:xmpp:ping",TIME:"urn:xmpp:time",DELAY:"urn:xmpp:delay",BOSH_XMPP:"urn:xmpp:xbosh",DISCO_EXTERNAL_1:"urn:xmpp:extdisco:1",DATAFORM_MEDIA:"urn:xmpp:media-element",ATTENTION_0:"urn:xmpp:attention:0",BOB:"urn:xmpp:bob",FILE_TRANSFER_3:"urn:xmpp:jingle:apps:file-transfer:3",FILE_TRANSFER_4:"urn:xmpp:jingle:apps:file-transfer:4",MUC_DIRECT_INVITE:"jabber:x:conference",SEC_LABEL_0:"urn:xmpp:sec-label:0",SEC_LABEL_CATALOG_2:"urn:xmpp:sec-label:catalog:2",SEC_LABEL_ESS_0:"urn:xmpp:sec-label:ess:0",JINGLE_SOCKS5_1:"urn:xmpp:jingle:transports:s5b:1",JINGLE_IBB_1:"urn:xmpp:jingle:transports:ibb:1",JINGLE_RTP_ZRTP_1:"urn:xmpp:jingle:apps:rtp:zrtp:1",THUMBS_0:"urn:xmpp:thumbs:0",DECLOAKING_0:"urn:xmpp:decloaking:0",CARBONS_2:"urn:xmpp:carbons:2",JINGLE_RTP_RTCP_FB_0:"urn:xmpp:jingle:apps:rtp:rtcp-fb:0",JINGLE_RTP_HDREXT_0:"urn:xmpp:jingle:apps:rtp:rtp-hdrext:0",FORWARD_0:"urn:xmpp:forward:0",HASHES_1:"urn:xmpp:hashes:1",RTT_0:"urn:xmpp:rtt:0",MUC_UNIQUE:"http://jabber.org/protocol/muc#unique",CORRECTION_0:"urn:xmpp:message-correct:0",PSA:"urn:xmpp:psa",MAM_TMP:"urn:xmpp:mam:tmp",MAM_0:"urn:xmpp:mam:0",HATS_0:"urn:xmpp:hats:0",IDLE_1:"urn:xmpp:idle:1",JINGLE_DTLS_0:"urn:xmpp:jingle:apps:dtls:0",JID_PREP_0:"urn:xmpp:jidprep:0",HINTS:"urn:xmpp:hints",JSON_0:"urn:xmpp:json:0",EVENTLOG:"urn:xmpp:eventlog",JINGLE_GROUPING_0:"urn:xmpp:jingle:apps:grouping:0",JINGLE_RTP_SSMA_0:"urn:xmpp:jingle:apps:rtp:ssma:0",DTLS_SCTP_1:"urn:xmpp:jingle:transports:dtls-sctp:1",CSI:"urn:xmpp:csi",JINGLE_MSG_INITIATE_0:"urn:xmpp:jingle:jingle-message:0",PUSH_0:"urn:xmpp:push:0"}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp-types/node_modules/xmpp-constants/lib/presence.js":[function(require,module,exports){module.exports={Type:{SUBSCRIBE:"subscribe",SUBSCRIBED:"subscribed",UNSUBSCRIBE:"unsubscribe",UNSUBSCRIBED:"unsubscribed",PROBE:"probe",UNAVAILABLE:"unavailable"},Show:{CHAT:"chat",AWAY:"away",DO_NOT_DISTURB:"dnd",EXTENDED_AWAY:"xa"}}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp-types/node_modules/xmpp-constants/lib/pubsub.js":[function(require,module,exports){module.exports={Affiliation:{MEMBER:"member",NONE:"none",OUTCAST:"outcast",OWNER:"owner",PUBLISHER:"publisher",PUBLISH_ONLY:"publish-only"},Subscription:{NONE:"none",PENDING:"pending",UNCONFIGURED:"unconfigured",SUBSCRIBED:"subscribed"},AccessModel:{OPEN:"open",PRESENCE:"presence",ROSTER:"roster",AUTHORIZE:"authorize",WHITELIST:"whitelist"},Condition:{CONFLICT:"conflict"}}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/avatar.js":[function(require,module,exports){"use strict";var _interopRequireDefault=require("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");var _lodashForeach=require("lodash.foreach");var _lodashForeach2=_interopRequireDefault(_lodashForeach);exports["default"]=function(JXT){var Utils=JXT.utils;var Avatar=JXT.define({name:"avatar",namespace:_xmppConstants.Namespace.AVATAR_METADATA,element:"info",fields:{id:Utils.attribute("id"),bytes:Utils.attribute("bytes"),height:Utils.attribute("height"),width:Utils.attribute("width"),type:Utils.attribute("type","image/png"),url:Utils.attribute("url")}});var avatars={get:function get(){var metadata=Utils.find(this.xml,_xmppConstants.Namespace.AVATAR_METADATA,"metadata");var results=[];if(metadata.length){var _avatars=Utils.find(metadata[0],_xmppConstants.Namespace.AVATAR_METADATA,"info");(0,_lodashForeach2["default"])(_avatars,function(info){results.push(new Avatar({},info))})}return results},set:function set(value){var metadata=Utils.findOrCreate(this.xml,_xmppConstants.Namespace.AVATAR_METADATA,"metadata");Utils.setAttribute(metadata,"xmlns",_xmppConstants.Namespace.AVATAR_METADATA);(0,_lodashForeach2["default"])(value,function(info){var avatar=new Avatar(info);metadata.appendChild(avatar.xml)})}};JXT.withPubsubItem(function(Item){JXT.add(Item,"avatars",avatars);JXT.add(Item,"avatarData",Utils.textSub(_xmppConstants.Namespace.AVATAR_DATA,"data"))})};module.exports=exports["default"]},{"babel-runtime/helpers/interop-require-default":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/babel-runtime/helpers/interop-require-default.js","lodash.foreach":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.foreach/index.js","xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/bind.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){var Utils=JXT.utils;var Bind=JXT.define({name:"bind",namespace:_xmppConstants.Namespace.BIND,element:"bind",fields:{resource:Utils.textSub(_xmppConstants.Namespace.BIND,"resource"),jid:Utils.jidSub(_xmppConstants.Namespace.BIND,"jid")}});JXT.extendIQ(Bind);JXT.extendStreamFeatures(Bind)};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/blocking.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");var _xmppJid=require("xmpp-jid");exports["default"]=function(JXT){var Utils=JXT.utils;var jidList={get:function get(){var result=[];var items=types.find(this.xml,_xmppConstants.Namespace.BLOCKING,"item");if(!items.length){return result}items.forEach(function(item){result.push(new _xmppJid.JID(types.getAttribute(item,"jid","")))});return result},set:function set(values){var self=this;values.forEach(function(value){var item=types.createElement(_xmppConstants.Namespace.BLOCKING,"item",_xmppConstants.Namespace.BLOCKING);types.setAttribute(item,"jid",value.toString());self.xml.appendChild(item)})}};var Block=JXT.define({name:"block",namespace:_xmppConstants.Namespace.BLOCKING,element:"block",fields:{jids:jidList}});var Unblock=JXT.define({name:"unblock",namespace:_xmppConstants.Namespace.BLOCKING,element:"unblock",fields:{jids:jidList}});var BlockList=JXT.define({name:"blockList",namespace:_xmppConstants.Namespace.BLOCKING,element:"blocklist",fields:{jids:jidList}});JXT.extendIQ(Block);JXT.extendIQ(Unblock);JXT.extendIQ(BlockList)};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js","xmpp-jid":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/xmpp-jid/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/bob.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){var Utils=JXT.utils;var BOB=JXT.define({name:"bob",namespace:_xmppConstants.Namespace.BOB,element:"data",fields:{cid:Utils.attribute("cid"),maxAge:Utils.numberAttribute("max-age"),type:Utils.attribute("type"),data:Utils.text()}});JXT.extendIQ(BOB);JXT.extendMessage(BOB);JXT.extendPresence(BOB)};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/bookmarks.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){var Utils=JXT.utils;var Conference=JXT.define({name:"_conference",namespace:_xmppConstants.Namespace.BOOKMARKS,element:"conference",fields:{name:Utils.attribute("name"),autoJoin:Utils.boolAttribute("autojoin"),jid:Utils.jidAttribute("jid"),nick:Utils.textSub(_xmppConstants.Namespace.BOOKMARKS,"nick")}});var Bookmarks=JXT.define({name:"bookmarks",namespace:_xmppConstants.Namespace.BOOKMARKS,element:"storage"});JXT.extend(Bookmarks,Conference,"conferences");JXT.withDefinition("query",_xmppConstants.Namespace.PRIVATE,function(PrivateStorage){JXT.extend(PrivateStorage,Bookmarks)})};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/bosh.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){var Utils=JXT.utils;JXT.define({name:"bosh",namespace:_xmppConstants.Namespace.BOSH,element:"body",prefixes:{xmpp:_xmppConstants.Namespace.BOSH_XMPP},fields:{accept:Utils.attribute("accept"),ack:Utils.numberAttribute("ack"),authid:Utils.attribute("authid"),charsets:Utils.attribute("charsets"),condition:Utils.attribute("condition"),content:Utils.attribute("content"),from:Utils.jidAttribute("from",true),hold:Utils.numberAttribute("hold"),inactivity:Utils.numberAttribute("inactivity"),key:Utils.attribute("key"),maxpause:Utils.numberAttribute("maxpause"),newKey:Utils.attribute("newkey"),pause:Utils.numberAttribute("pause"),polling:Utils.numberAttribute("polling"),resport:Utils.numberAttribute("report"),requests:Utils.numberAttribute("requests"),rid:Utils.numberAttribute("rid"),sid:Utils.attribute("sid"),stream:Utils.attribute("stream"),time:Utils.attribute("time"),to:Utils.jidAttribute("to",true),type:Utils.attribute("type"),ver:Utils.attribute("ver"),wait:Utils.numberAttribute("wait"),uri:Utils.textSub(_xmppConstants.Namespace.BOSH,"uri"),lang:Utils.langAttribute(),version:Utils.attribute("xmpp:version","1.0"),restart:Utils.attribute("xmpp:restart"),restartLogic:Utils.boolAttribute("xmpp:restartLogic"),payload:{get:function get(){var results=[];for(var i=0,len=this.xml.childNodes.length;i<len;i++){var obj=JXT.build(this.xml.childNodes[i]);if(obj!==undefined){results.push(obj)}}return results},set:function set(values){var _this=this;values.forEach(function(types){_this.xml.appendChild(types.xml)})}}}})};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/carbons.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){var Sent=JXT.define({name:"carbonSent",eventName:"carbon:sent",namespace:_xmppConstants.Namespace.CARBONS_2,element:"sent"});var Received=JXT.define({name:"carbonReceived",eventName:"carbon:received",namespace:_xmppConstants.Namespace.CARBONS_2,element:"received"});var Private=JXT.define({name:"carbonPrivate",eventName:"carbon:private",namespace:_xmppConstants.Namespace.CARBONS_2,element:"private"});var Enable=JXT.define({name:"enableCarbons",namespace:_xmppConstants.Namespace.CARBONS_2,element:"enable"});var Disable=JXT.define({name:"disableCarbons",namespace:_xmppConstants.Namespace.CARBONS_2,element:"disable"});JXT.withDefinition("forwarded",_xmppConstants.Namespace.FORWARD_0,function(Forwarded){JXT.extend(Sent,Forwarded);JXT.extend(Received,Forwarded)});JXT.extendMessage(Sent);JXT.extendMessage(Received);JXT.extendMessage(Private);JXT.extendIQ(Enable);JXT.extendIQ(Disable)};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/command.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");var ACTIONS=["next","prev","complete","cancel"];var CONDITIONS=["bad-action","bad-locale","bad-payload","bad-sessionid","malformed-action","session-expired"];exports["default"]=function(JXT){var Utils=JXT.utils;var Command=JXT.define({name:"command",namespace:_xmppConstants.Namespace.ADHOC_COMMANDS,element:"command",fields:{action:Utils.attribute("action"),node:Utils.attribute("node"),sessionid:Utils.attribute("sessionid"),status:Utils.attribute("status"),execute:Utils.subAttribute(_xmppConstants.Namespace.ADHOC_COMMANDS,"actions","execute"),actions:{get:function get(){var result=[];var actionSet=Utils.find(this.xml,_xmppConstants.Namespace.ADHOC_COMMANDS,"actions");if(!actionSet.length){return[]}ACTIONS.forEach(function(action){var existing=Utils.find(actionSet[0],_xmppConstants.Namespace.ADHOC_COMMANDS,action);if(existing.length){result.push(action)}});return result},set:function set(values){var actionSet=Utils.findOrCreate(this.xml,_xmppConstants.Namespace.ADHOC_COMMANDS,"actions");for(var i=0,len=actionSet.childNodes.length;i<len;i++){actionSet.removeChild(actionSet.childNodes[i])}values.forEach(function(value){actionSet.appendChild(Utils.createElement(_xmppConstants.Namespace.ADHOC_COMMANDS,value.toLowerCase(),_xmppConstants.Namespace.ADHOC_COMMANDS))})}}}});var Note=JXT.define({name:"_commandNote",namespace:_xmppConstants.Namespace.ADHOC_COMMANDS,element:"note",fields:{type:Utils.attribute("type"),value:Utils.text()}});JXT.extend(Command,Note,"notes");JXT.extendIQ(Command);JXT.withStanzaError(function(StanzaError){JXT.add(StanzaError,"adhocCommandCondition",Utils.enumSub(_xmppConstants.Namespace.ADHOC_COMMANDS,CONDITIONS))});JXT.withDataForm(function(DataForm){JXT.extend(Command,DataForm)})};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/csi.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){var CSIFeature=JXT.define({name:"clientStateIndication",namespace:_xmppConstants.Namespace.CSI,element:"csi"});JXT.define({name:"csiActive",eventName:"csi:active",namespace:_xmppConstants.Namespace.CSI,element:"active",topLevel:true});JXT.define({name:"csiInactive",eventName:"csi:inactive",namespace:_xmppConstants.Namespace.CSI,element:"inactive",topLevel:true});JXT.extendStreamFeatures(CSIFeature)};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/dataforms.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");var _xmppJid=require("xmpp-jid");var SINGLE_FIELDS=["text-single","text-private","list-single","jid-single"];exports["default"]=function(JXT){var Utils=JXT.utils;var Field=JXT.define({name:"_field",namespace:_xmppConstants.Namespace.DATAFORM,element:"field",init:function init(data){this._type=(data||{}).type||this.type},fields:{type:{get:function get(){return Utils.getAttribute(this.xml,"type","text-single")},set:function set(value){this._type=value;Utils.setAttribute(this.xml,"type",value)}},name:Utils.attribute("var"),desc:Utils.textSub(_xmppConstants.Namespace.DATAFORM,"desc"),required:Utils.boolSub(_xmppConstants.Namespace.DATAFORM,"required"),label:Utils.attribute("label"),value:{get:function get(){var vals=Utils.getMultiSubText(this.xml,_xmppConstants.Namespace.DATAFORM,"value");if(this._type==="boolean"){return vals[0]==="1"||vals[0]==="true"}if(vals.length>1){if(this._type==="text-multi"){return vals.join("\n")}if(this._type==="jid-multi"){return vals.map(function(jid){return new _xmppJid.JID(jid)})}return vals}if(SINGLE_FIELDS.indexOf(this._type)>=0){if(this._type==="jid-single"){return new _xmppJid.JID(vals[0])}return vals[0]}return vals},set:function set(value){if(this._type==="boolean"||value===true||value===false){var truthy=value===true||value==="true"||value==="1";var sub=Utils.createElement(_xmppConstants.Namespace.DATAFORM,"value",_xmppConstants.Namespace.DATAFORM);sub.textContent=truthy?"1":"0";this.xml.appendChild(sub)}else{if(this._type==="text-multi"&&typeof value==="string"){value=value.split("\n")}Utils.setMultiSubText(this.xml,_xmppConstants.Namespace.DATAFORM,"value",value,function(val){var sub=Utils.createElement(_xmppConstants.Namespace.DATAFORM,"value",_xmppConstants.Namespace.DATAFORM);sub.textContent=val;this.xml.appendChild(sub)}.bind(this))}}}}});var Option=JXT.define({name:"_formoption",namespace:_xmppConstants.Namespace.DATAFORM,element:"option",fields:{label:Utils.attribute("label"),value:Utils.textSub(_xmppConstants.Namespace.DATAFORM,"value")}});var Item=JXT.define({name:"_formitem",namespace:_xmppConstants.Namespace.DATAFORM,element:"item"});var Media=JXT.define({name:"media",element:"media",namespace:_xmppConstants.Namespace.DATAFORM_MEDIA,fields:{height:Utils.numberAttribute("height"),width:Utils.numberAttribute("width")}});var MediaURI=JXT.define({name:"_mediaURI",element:"uri",namespace:_xmppConstants.Namespace.DATAFORM_MEDIA,fields:{uri:Utils.text(),type:Utils.attribute("type")}});var Validation=JXT.define({name:"validation",element:"validate",namespace:_xmppConstants.Namespace.DATAFORM_VALIDATION,fields:{dataType:Utils.attribute("datatype"),basic:Utils.boolSub(_xmppConstants.Namespace.DATAFORM_VALIDATION,"basic"),open:Utils.boolSub(_xmppConstants.Namespace.DATAFORM_VALIDATION,"open"),regex:Utils.textSub(_xmppConstants.Namespace.DATAFORM_VALIDATION,"regex")}});var Range=JXT.define({name:"range",element:"range",namespace:_xmppConstants.Namespace.DATAFORM_VALIDATION,fields:{min:Utils.attribute("min"),max:Utils.attribute("max")}});var ListRange=JXT.define({name:"select",element:"list-range",namespace:_xmppConstants.Namespace.DATAFORM_VALIDATION,fields:{min:Utils.numberAttribute("min"),max:Utils.numberAttribute("max")}});var layoutContents={get:function get(){var result=[];for(var i=0,len=this.xml.childNodes.length;i<len;i++){var child=this.xml.childNodes[i];if(child.namespaceURI!==_xmppConstants.Namespace.DATAFORM_LAYOUT){continue}switch(child.localName){case"text":result.push({text:child.textContent});break;case"fieldref":result.push({field:child.getAttribute("var")});break;case"reportedref":result.push({reported:true});break;case"section":result.push({section:new Section(null,child,this).toJSON()});break}}return result},set:function set(values){for(var i=0,len=values.length;i<len;i++){var value=values[i];if(value.text){var text=Utils.createElement(_xmppConstants.Namespace.DATAFORM_LAYOUT,"text",_xmppConstants.Namespace.DATAFORM_LAYOUT);text.textContent=value.text;this.xml.appendChild(text)}if(value.field){var field=Utils.createElement(_xmppConstants.Namespace.DATAFORM_LAYOUT,"fieldref",_xmppConstants.Namespace.DATAFORM_LAYOUT);field.setAttribute("var",value.field);this.xml.appendChild(field)}if(value.reported){this.xml.appendChild(Utils.createElement(_xmppConstants.Namespace.DATAFORM_LAYOUT,"reportedref",_xmppConstants.Namespace.DATAFORM_LAYOUT))}if(value.section){var sectionXML=Utils.createElement(_xmppConstants.Namespace.DATAFORM_LAYOUT,"section",_xmppConstants.Namespace.DATAFORM_LAYOUT);this.xml.appendChild(sectionXML);var section=new Section(null,sectionXML);section.label=value.section.label;section.contents=value.section.contents}}}};var Section=JXT.define({name:"_section",element:"section",namespace:_xmppConstants.Namespace.DATAFORM_LAYOUT,fields:{label:Utils.attribute("label"),contents:layoutContents}});var Page=JXT.define({name:"_page",element:"page",namespace:_xmppConstants.Namespace.DATAFORM_LAYOUT,fields:{label:Utils.attribute("label"),contents:layoutContents}});var DataForm=JXT.define({name:"form",namespace:_xmppConstants.Namespace.DATAFORM,element:"x",init:function init(){if(!this.reportedFields.length){return}var fieldTypes={};this.reportedFields.forEach(function(reported){fieldTypes[reported.name]=reported.type});this.items.forEach(function(item){item.fields.forEach(function(field){field.type=field._type=fieldTypes[field.name]})})},fields:{title:Utils.textSub(_xmppConstants.Namespace.DATAFORM,"title"),instructions:Utils.multiTextSub(_xmppConstants.Namespace.DATAFORM,"instructions"),type:Utils.attribute("type","form"),reportedFields:Utils.subMultiExtension(_xmppConstants.Namespace.DATAFORM,"reported",Field)}});JXT.extend(DataForm,Field,"fields");JXT.extend(DataForm,Item,"items");JXT.extend(DataForm,Page,"layout");JXT.extend(Field,Media);JXT.extend(Field,Validation);JXT.extend(Field,Option,"options");JXT.extend(Item,Field,"fields");JXT.extend(Media,MediaURI,"uris");JXT.extend(Validation,Range);JXT.extend(Validation,ListRange);JXT.extendMessage(DataForm)};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js","xmpp-jid":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/xmpp-jid/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/delayed.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){var Utils=JXT.utils;var DelayedDelivery=JXT.define({name:"delay",namespace:_xmppConstants.Namespace.DELAY,element:"delay",fields:{from:Utils.jidAttribute("from"),stamp:Utils.dateAttribute("stamp"),reason:Utils.text()}});JXT.extendMessage(DelayedDelivery);JXT.extendPresence(DelayedDelivery)};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/disco.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){var Utils=JXT.utils;var DiscoCaps=JXT.define({name:"caps",namespace:_xmppConstants.Namespace.CAPS,element:"c",fields:{ver:Utils.attribute("ver"),node:Utils.attribute("node"),hash:Utils.attribute("hash"),ext:Utils.attribute("ext")}});var DiscoInfo=JXT.define({name:"discoInfo",namespace:_xmppConstants.Namespace.DISCO_INFO,element:"query",fields:{node:Utils.attribute("node"),features:Utils.multiSubAttribute(_xmppConstants.Namespace.DISCO_INFO,"feature","var")}});var DiscoIdentity=JXT.define({name:"_discoIdentity",namespace:_xmppConstants.Namespace.DISCO_INFO,element:"identity",fields:{category:Utils.attribute("category"),type:Utils.attribute("type"),name:Utils.attribute("name"),lang:Utils.langAttribute()}});var DiscoItems=JXT.define({name:"discoItems",namespace:_xmppConstants.Namespace.DISCO_ITEMS,element:"query",fields:{node:Utils.attribute("node")}});var DiscoItem=JXT.define({name:"_discoItem",namespace:_xmppConstants.Namespace.DISCO_ITEMS,element:"item",fields:{jid:Utils.jidAttribute("jid"),node:Utils.attribute("node"),name:Utils.attribute("name")}});JXT.extend(DiscoItems,DiscoItem,"items");JXT.extend(DiscoInfo,DiscoIdentity,"identities");JXT.extendIQ(DiscoInfo);JXT.extendIQ(DiscoItems);JXT.extendPresence(DiscoCaps);JXT.extendStreamFeatures(DiscoCaps);JXT.withDataForm(function(DataForm){JXT.extend(DiscoInfo,DataForm,"extensions")});JXT.withDefinition("set",_xmppConstants.Namespace.RSM,function(RSM){JXT.extend(DiscoItems,RSM)})};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/error.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");var CONDITIONS=["bad-request","conflict","feature-not-implemented","forbidden","gone","internal-server-error","item-not-found","jid-malformed","not-acceptable","not-allowed","not-authorized","payment-required","recipient-unavailable","redirect","registration-required","remote-server-not-found","remote-server-timeout","resource-constraint","service-unavailable","subscription-required","undefined-condition","unexpected-request"];exports["default"]=function(JXT){var Utils=JXT.utils;var StanzaError=JXT.define({name:"error",namespace:_xmppConstants.Namespace.CLIENT,element:"error",fields:{lang:{get:function get(){return(this.parent||{}).lang||""}},condition:Utils.enumSub(_xmppConstants.Namespace.STANZA_ERROR,CONDITIONS),gone:{get:function get(){return Utils.getSubText(this.xml,_xmppConstants.Namespace.STANZA_ERROR,"gone")},set:function set(value){this.condition="gone";Utils.setSubText(this.xml,_xmppConstants.Namespace.STANZA_ERROR,"gone",value)}},redirect:{get:function get(){return Utils.getSubText(this.xml,_xmppConstants.Namespace.STANZA_ERROR,"redirect")},set:function set(value){this.condition="redirect";Utils.setSubText(this.xml,_xmppConstants.Namespace.STANZA_ERROR,"redirect",value)}},code:Utils.attribute("code"),type:Utils.attribute("type"),by:Utils.jidAttribute("by"),$text:{get:function get(){return Utils.getSubLangText(this.xml,_xmppConstants.Namespace.STANZA_ERROR,"text",this.lang)}},text:{get:function get(){var text=this.$text;return text[this.lang]||""},set:function set(value){Utils.setSubLangText(this.xml,_xmppConstants.Namespace.STANZA_ERROR,"text",value,this.lang)}}}});JXT.extendMessage(StanzaError);JXT.extendPresence(StanzaError);JXT.extendIQ(StanzaError)};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/extdisco.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){var Utils=JXT.utils;var Services=exports.Services=JXT.define({name:"services",namespace:_xmppConstants.Namespace.DISCO_EXTERNAL_1,element:"services",fields:{type:Utils.attribute("type")}});var Credentials=exports.Credentials=JXT.define({name:"credentials",namespace:_xmppConstants.Namespace.DISCO_EXTERNAL_1,element:"credentials"});var Service=JXT.define({name:"service",namespace:_xmppConstants.Namespace.DISCO_EXTERNAL_1,element:"service",fields:{host:Utils.attribute("host"),port:Utils.attribute("port"),transport:Utils.attribute("transport"),type:Utils.attribute("type"),username:Utils.attribute("username"),password:Utils.attribute("password")}});JXT.extend(Services,Service,"services");JXT.extend(Credentials,Service);JXT.extendIQ(Services);JXT.extendIQ(Credentials);JXT.withDataForm(function(DataForm){JXT.extend(Service,DataForm)})};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/file.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");var FT_NS=_xmppConstants.Namespace.FILE_TRANSFER_3;exports["default"]=function(JXT){var Utils=JXT.utils;var File=JXT.define({name:"_file",namespace:FT_NS,element:"file",fields:{name:Utils.textSub(FT_NS,"name"),desc:Utils.textSub(FT_NS,"desc"),size:Utils.numberSub(FT_NS,"size"),date:Utils.dateSub(FT_NS,"date")}});var Range=JXT.define({name:"range",namespace:FT_NS,element:"range",fields:{offset:Utils.numberAttribute("offset")}});var Thumbnail=JXT.define({name:"thumbnail",namespace:_xmppConstants.Namespace.THUMBS_0,element:"thumbnail",fields:{cid:Utils.attribute("cid"),mimeType:Utils.attribute("mime-type"),width:Utils.numberAttribute("width"),height:Utils.numberAttribute("height")}});var FileTransfer=JXT.define({name:"_filetransfer",namespace:FT_NS,element:"description",tags:["jingle-description"],fields:{descType:{value:"filetransfer"},offer:Utils.subExtension("offer",FT_NS,"offer",File),request:Utils.subExtension("request",FT_NS,"request",File)}});JXT.extend(File,Range);JXT.extend(File,Thumbnail);JXT.withDefinition("hash",_xmppConstants.Namespace.HASHES_1,function(Hash){JXT.extend(File,Hash,"hashes")});JXT.withDefinition("content",_xmppConstants.Namespace.JINGLE_1,function(Content){JXT.extend(Content,FileTransfer)})};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/forwarded.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){var Forwarded=JXT.define({name:"forwarded",namespace:_xmppConstants.Namespace.FORWARD_0,element:"forwarded"});JXT.extendIQ(Forwarded);JXT.extendPresence(Forwarded);JXT.withMessage(function(Message){JXT.extend(Message,Forwarded);JXT.extend(Forwarded,Message)});JXT.withDefinition("delay",_xmppConstants.Namespace.DELAY,function(Delayed){JXT.extend(Forwarded,Delayed)})};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/framing.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){var Utils=JXT.utils;JXT.define({name:"openStream",namespace:_xmppConstants.Namespace.FRAMING,element:"open",topLevel:true,fields:{lang:Utils.langAttribute(),id:Utils.attribute("id"),version:Utils.attribute("version","1.0"),to:Utils.jidAttribute("to",true),from:Utils.jidAttribute("from",true)}});JXT.define({name:"closeStream",namespace:_xmppConstants.Namespace.FRAMING,element:"close",topLevel:true,fields:{seeOtherURI:Utils.attribute("see-other-uri")}})};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/geoloc.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){var Utils=JXT.utils;var GeoLoc=JXT.define({name:"geoloc",namespace:_xmppConstants.Namespace.GEOLOC,element:"geoloc",fields:{accuracy:Utils.numberSub(_xmppConstants.Namespace.GEOLOC,"accuracy",true),altitude:Utils.numberSub(_xmppConstants.Namespace.GEOLOC,"alt",true),area:Utils.textSub(_xmppConstants.Namespace.GEOLOC,"area"),heading:Utils.numberSub(_xmppConstants.Namespace.GEOLOC,"bearing",true),bearing:Utils.numberSub(_xmppConstants.Namespace.GEOLOC,"bearing",true),building:Utils.textSub(_xmppConstants.Namespace.GEOLOC,"building"),country:Utils.textSub(_xmppConstants.Namespace.GEOLOC,"country"),countrycode:Utils.textSub(_xmppConstants.Namespace.GEOLOC,"countrycode"),datum:Utils.textSub(_xmppConstants.Namespace.GEOLOC,"datum"),description:Utils.textSub(_xmppConstants.Namespace.GEOLOC,"description"),error:Utils.numberSub(_xmppConstants.Namespace.GEOLOC,"error",true),floor:Utils.textSub(_xmppConstants.Namespace.GEOLOC,"floor"),latitude:Utils.numberSub(_xmppConstants.Namespace.GEOLOC,"lat",true),locality:Utils.textSub(_xmppConstants.Namespace.GEOLOC,"locality"),longitude:Utils.numberSub(_xmppConstants.Namespace.GEOLOC,"lon",true),postalcode:Utils.textSub(_xmppConstants.Namespace.GEOLOC,"postalcode"),region:Utils.textSub(_xmppConstants.Namespace.GEOLOC,"region"),room:Utils.textSub(_xmppConstants.Namespace.GEOLOC,"room"),speed:Utils.numberSub(_xmppConstants.Namespace.GEOLOC,"speed",true),street:Utils.textSub(_xmppConstants.Namespace.GEOLOC,"street"),text:Utils.textSub(_xmppConstants.Namespace.GEOLOC,"text"),timestamp:Utils.dateSub(_xmppConstants.Namespace.GEOLOC,"timestamp"),tzo:Utils.tzoSub(_xmppConstants.Namespace.GEOLOC,"tzo"),uri:Utils.textSub(_xmppConstants.Namespace.GEOLOC,"uri")}});JXT.extendPubsubItem(GeoLoc)};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/hash.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){JXT.define({name:"hash",namespace:_xmppConstants.Namespace.HASHES_1,element:"hash",fields:{algo:JXT.utils.attribute("algo"),value:JXT.utils.text()}})};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/hats.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){var Hat=JXT.define({name:"_hat",namespace:_xmppConstants.Namespace.HATS_0,element:"hat",fields:{lang:JXT.utils.langAttribute(),name:JXT.utils.attribute("name"),displayName:JXT.utils.attribute("displayName")}});JXT.withPresence(function(Presence){JXT.add(Presence,"hats",JXT.utils.subMultiExtension(_xmppConstants.Namespace.HATS_0,"hats",Hat))})};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/iceUdp.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){var Utils=JXT.utils;var ICE=JXT.define({name:"_iceUdp",namespace:_xmppConstants.Namespace.JINGLE_ICE_UDP_1,element:"transport",tags:["jingle-transport"],fields:{transType:{value:"iceUdp"},pwd:Utils.attribute("pwd"),ufrag:Utils.attribute("ufrag")}});var RemoteCandidate=JXT.define({name:"remoteCandidate",namespace:_xmppConstants.Namespace.JINGLE_ICE_UDP_1,element:"remote-candidate",fields:{component:Utils.attribute("component"),ip:Utils.attribute("ip"),port:Utils.attribute("port")}});var Candidate=JXT.define({name:"_iceUdpCandidate",namespace:_xmppConstants.Namespace.JINGLE_ICE_UDP_1,element:"candidate",fields:{component:Utils.attribute("component"),foundation:Utils.attribute("foundation"),generation:Utils.attribute("generation"),id:Utils.attribute("id"),ip:Utils.attribute("ip"),network:Utils.attribute("network"),port:Utils.attribute("port"),priority:Utils.attribute("priority"),protocol:Utils.attribute("protocol"),relAddr:Utils.attribute("rel-addr"),relPort:Utils.attribute("rel-port"),tcpType:Utils.attribute("tcptype"),type:Utils.attribute("type")}});var Fingerprint=JXT.define({name:"_iceFingerprint",namespace:_xmppConstants.Namespace.JINGLE_DTLS_0,element:"fingerprint",fields:{hash:Utils.attribute("hash"),setup:Utils.attribute("setup"),value:Utils.text(),required:Utils.boolAttribute("required")}});var SctpMap=JXT.define({name:"_sctpMap",namespace:_xmppConstants.Namespace.DTLS_SCTP_1,element:"sctpmap",fields:{number:Utils.attribute("number"),protocol:Utils.attribute("protocol"),streams:Utils.attribute("streams")}});JXT.extend(ICE,Candidate,"candidates");JXT.extend(ICE,RemoteCandidate);JXT.extend(ICE,Fingerprint,"fingerprints");JXT.extend(ICE,SctpMap,"sctp");JXT.withDefinition("content",_xmppConstants.Namespace.JINGLE_1,function(Content){JXT.extend(Content,ICE)})};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/index.js":[function(require,module,exports){"use strict";var _interopRequireDefault=require("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(exports,"__esModule",{value:true});var _avatar=require("./avatar");var _avatar2=_interopRequireDefault(_avatar);var _bind=require("./bind");var _bind2=_interopRequireDefault(_bind);var _blocking=require("./blocking");var _blocking2=_interopRequireDefault(_blocking);var _bob=require("./bob");var _bob2=_interopRequireDefault(_bob);var _bookmarks=require("./bookmarks");var _bookmarks2=_interopRequireDefault(_bookmarks);var _bosh=require("./bosh");var _bosh2=_interopRequireDefault(_bosh);var _carbons=require("./carbons");var _carbons2=_interopRequireDefault(_carbons);var _command=require("./command");var _command2=_interopRequireDefault(_command);var _csi=require("./csi");var _csi2=_interopRequireDefault(_csi);var _dataforms=require("./dataforms");var _dataforms2=_interopRequireDefault(_dataforms);var _delayed=require("./delayed");var _delayed2=_interopRequireDefault(_delayed);var _disco=require("./disco");var _disco2=_interopRequireDefault(_disco);var _error=require("./error");var _error2=_interopRequireDefault(_error);var _extdisco=require("./extdisco");var _extdisco2=_interopRequireDefault(_extdisco);var _file=require("./file");var _file2=_interopRequireDefault(_file);var _forwarded=require("./forwarded");var _forwarded2=_interopRequireDefault(_forwarded);var _framing=require("./framing");var _framing2=_interopRequireDefault(_framing);var _geoloc=require("./geoloc");var _geoloc2=_interopRequireDefault(_geoloc);var _hash=require("./hash");var _hash2=_interopRequireDefault(_hash);var _hats=require("./hats");var _hats2=_interopRequireDefault(_hats);var _iceUdp=require("./iceUdp");var _iceUdp2=_interopRequireDefault(_iceUdp);var _iq=require("./iq");var _iq2=_interopRequireDefault(_iq);var _jidprep=require("./jidprep");var _jidprep2=_interopRequireDefault(_jidprep);var _jingle=require("./jingle");var _jingle2=_interopRequireDefault(_jingle);var _json=require("./json");var _json2=_interopRequireDefault(_json);var _logging=require("./logging");var _logging2=_interopRequireDefault(_logging);var _mam=require("./mam");var _mam2=_interopRequireDefault(_mam);var _message=require("./message");var _message2=_interopRequireDefault(_message);var _mood=require("./mood");var _mood2=_interopRequireDefault(_mood);var _muc=require("./muc");var _muc2=_interopRequireDefault(_muc);var _nick=require("./nick");var _nick2=_interopRequireDefault(_nick);var _oob=require("./oob");var _oob2=_interopRequireDefault(_oob);var _ping=require("./ping");var _ping2=_interopRequireDefault(_ping);var _presence=require("./presence");var _presence2=_interopRequireDefault(_presence);var _private=require("./private");var _private2=_interopRequireDefault(_private);var _psa=require("./psa");var _psa2=_interopRequireDefault(_psa);var _pubsub=require("./pubsub");var _pubsub2=_interopRequireDefault(_pubsub);var _pubsubError=require("./pubsubError");var _pubsubError2=_interopRequireDefault(_pubsubError);var _pubsubEvents=require("./pubsubEvents");var _pubsubEvents2=_interopRequireDefault(_pubsubEvents);var _pubsubOwner=require("./pubsubOwner");var _pubsubOwner2=_interopRequireDefault(_pubsubOwner);var _push=require("./push");var _push2=_interopRequireDefault(_push);var _reach=require("./reach");var _reach2=_interopRequireDefault(_reach);var _register=require("./register");var _register2=_interopRequireDefault(_register);var _roster=require("./roster");var _roster2=_interopRequireDefault(_roster);var _rsm=require("./rsm");var _rsm2=_interopRequireDefault(_rsm);var _rtp=require("./rtp");var _rtp2=_interopRequireDefault(_rtp);var _rtt=require("./rtt");var _rtt2=_interopRequireDefault(_rtt);var _sasl=require("./sasl");var _sasl2=_interopRequireDefault(_sasl);var _session=require("./session");var _session2=_interopRequireDefault(_session);var _shim=require("./shim");var _shim2=_interopRequireDefault(_shim);var _sm=require("./sm");var _sm2=_interopRequireDefault(_sm);var _stream=require("./stream");var _stream2=_interopRequireDefault(_stream);var _streamError=require("./streamError");var _streamError2=_interopRequireDefault(_streamError);var _streamFeatures=require("./streamFeatures");var _streamFeatures2=_interopRequireDefault(_streamFeatures);var _time=require("./time");var _time2=_interopRequireDefault(_time);var _tune=require("./tune");var _tune2=_interopRequireDefault(_tune);var _vcard=require("./vcard");var _vcard2=_interopRequireDefault(_vcard);var _version=require("./version");var _version2=_interopRequireDefault(_version);var _visibility=require("./visibility");var _visibility2=_interopRequireDefault(_visibility);exports["default"]=function(JXT){JXT.use(_avatar2["default"]);JXT.use(_bind2["default"]);JXT.use(_blocking2["default"]);JXT.use(_bob2["default"]);JXT.use(_bookmarks2["default"]);JXT.use(_bosh2["default"]);JXT.use(_carbons2["default"]);JXT.use(_command2["default"]);JXT.use(_csi2["default"]);JXT.use(_dataforms2["default"]);JXT.use(_delayed2["default"]);JXT.use(_disco2["default"]);JXT.use(_error2["default"]);JXT.use(_extdisco2["default"]);JXT.use(_file2["default"]);JXT.use(_forwarded2["default"]);JXT.use(_framing2["default"]);JXT.use(_geoloc2["default"]);JXT.use(_hash2["default"]);JXT.use(_hats2["default"]);JXT.use(_iceUdp2["default"]);JXT.use(_iq2["default"]);JXT.use(_jidprep2["default"]);JXT.use(_jingle2["default"]);JXT.use(_json2["default"]);JXT.use(_logging2["default"]);JXT.use(_mam2["default"]);JXT.use(_message2["default"]);JXT.use(_mood2["default"]);JXT.use(_muc2["default"]);JXT.use(_nick2["default"]);JXT.use(_oob2["default"]);JXT.use(_ping2["default"]);JXT.use(_presence2["default"]);JXT.use(_private2["default"]);JXT.use(_psa2["default"]);JXT.use(_pubsub2["default"]);JXT.use(_pubsubError2["default"]);JXT.use(_pubsubEvents2["default"]);JXT.use(_pubsubOwner2["default"]);JXT.use(_push2["default"]);JXT.use(_reach2["default"]);JXT.use(_register2["default"]);JXT.use(_roster2["default"]);JXT.use(_rsm2["default"]);JXT.use(_rtp2["default"]);JXT.use(_rtt2["default"]);JXT.use(_sasl2["default"]);JXT.use(_session2["default"]);JXT.use(_shim2["default"]);JXT.use(_sm2["default"]);JXT.use(_stream2["default"]);JXT.use(_streamError2["default"]);JXT.use(_streamFeatures2["default"]);JXT.use(_time2["default"]);JXT.use(_tune2["default"]);JXT.use(_vcard2["default"]);JXT.use(_version2["default"]);JXT.use(_visibility2["default"])};module.exports=exports["default"]},{"./avatar":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/avatar.js","./bind":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/bind.js","./blocking":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/blocking.js","./bob":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/bob.js","./bookmarks":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/bookmarks.js","./bosh":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/bosh.js","./carbons":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/carbons.js","./command":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/command.js","./csi":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/csi.js","./dataforms":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/dataforms.js","./delayed":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/delayed.js","./disco":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/disco.js","./error":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/error.js","./extdisco":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/extdisco.js","./file":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/file.js","./forwarded":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/forwarded.js","./framing":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/framing.js","./geoloc":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/geoloc.js","./hash":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/hash.js","./hats":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/hats.js","./iceUdp":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/iceUdp.js","./iq":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/iq.js","./jidprep":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/jidprep.js","./jingle":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/jingle.js","./json":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/json.js","./logging":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/logging.js","./mam":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/mam.js","./message":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/message.js","./mood":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/mood.js","./muc":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/muc.js","./nick":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/nick.js","./oob":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/oob.js","./ping":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/ping.js","./presence":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/presence.js","./private":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/private.js","./psa":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/psa.js","./pubsub":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/pubsub.js","./pubsubError":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/pubsubError.js","./pubsubEvents":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/pubsubEvents.js","./pubsubOwner":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/pubsubOwner.js","./push":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/push.js","./reach":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/reach.js","./register":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/register.js","./roster":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/roster.js","./rsm":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/rsm.js","./rtp":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/rtp.js","./rtt":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/rtt.js","./sasl":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/sasl.js","./session":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/session.js","./shim":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/shim.js","./sm":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/sm.js","./stream":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/stream.js","./streamError":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/streamError.js","./streamFeatures":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/streamFeatures.js","./time":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/time.js","./tune":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/tune.js","./vcard":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/vcard.js","./version":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/version.js","./visibility":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/visibility.js","babel-runtime/helpers/interop-require-default":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/babel-runtime/helpers/interop-require-default.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/iq.js":[function(require,module,exports){"use strict";var _Object$assign=require("babel-runtime/core-js/object/assign")["default"];Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");var internals={};internals.defineIQ=function(JXT,name,namespace){var Utils=JXT.utils;var IQ=JXT.define({name:name,namespace:namespace,element:"iq",topLevel:true,fields:{lang:Utils.langAttribute(),id:Utils.attribute("id"),to:Utils.jidAttribute("to",true),from:Utils.jidAttribute("from",true),type:Utils.attribute("type")}});var _toJSON=IQ.prototype.toJSON;_Object$assign(IQ.prototype,{toJSON:function toJSON(){var result=_toJSON.call(this);result.resultReply=this.resultReply;result.errorReply=this.errorReply;return result},resultReply:function resultReply(data){data=data||{};data.to=this.from;data.id=this.id;data.type="result";return new IQ(data)},errorReply:function errorReply(data){data=data||{};data.to=this.from;data.id=this.id;data.type="error";return new IQ(data)}})};exports["default"]=function(JXT){internals.defineIQ(JXT,"iq",_xmppConstants.Namespace.CLIENT);internals.defineIQ(JXT,"serverIQ",_xmppConstants.Namespace.SERVER);internals.defineIQ(JXT,"componentIQ",_xmppConstants.Namespace.COMPONENT)};module.exports=exports["default"]},{"babel-runtime/core-js/object/assign":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/babel-runtime/core-js/object/assign.js","xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/jidprep.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");var _xmppJid=require("xmpp-jid");exports["default"]=function(JXT){JXT.withIQ(function(IQ){JXT.add(IQ,"jidPrep",{get:function get(){var data=JXT.utils.getSubText(this.xml,_xmppConstants.Namespace.JID_PREP_0,"jid");if(data){var jid=new _xmppJid.JID(data);jid.prepped=true;return jid}},set:function set(value){JXT.utils.setSubText(this.xml,_xmppConstants.Namespace.JID_PREP_0,"jid",(value||"").toString())}})})};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js","xmpp-jid":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/xmpp-jid/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/jingle.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");var CONDITIONS=["out-of-order","tie-break","unknown-session","unsupported-info"];var REASONS=["alternative-session","busy","cancel","connectivity-error","decline","expired","failed-application","failed-transport","general-error","gone","incompatible-parameters","media-error","security-error","success","timeout","unsupported-applications","unsupported-transports"];exports["default"]=function(JXT){var Utils=JXT.utils;var Jingle=JXT.define({name:"jingle",namespace:_xmppConstants.Namespace.JINGLE_1,element:"jingle",fields:{action:Utils.attribute("action"),initiator:Utils.attribute("initiator"),responder:Utils.attribute("responder"),sid:Utils.attribute("sid")}});var Content=JXT.define({name:"_jingleContent",namespace:_xmppConstants.Namespace.JINGLE_1,element:"content",fields:{creator:Utils.attribute("creator"),disposition:Utils.attribute("disposition","session"),name:Utils.attribute("name"),senders:Utils.attribute("senders","both"),description:{get:function get(){var opts=JXT.tagged("jingle-description").map(function(Description){return Description.prototype._name});for(var i=0,len=opts.length;i<len;i++){if(this._extensions[opts[i]]){return this._extensions[opts[i]]}}},set:function set(value){var ext="_"+value.descType;this[ext]=value}},transport:{get:function get(){var opts=JXT.tagged("jingle-transport").map(function(Transport){return Transport.prototype._name});for(var i=0,len=opts.length;i<len;i++){if(this._extensions[opts[i]]){return this._extensions[opts[i]]}}},set:function set(value){var ext="_"+value.transType;this[ext]=value}}}});var Reason=JXT.define({name:"reason",namespace:_xmppConstants.Namespace.JINGLE_1,element:"reason",fields:{condition:Utils.enumSub(_xmppConstants.Namespace.JINGLE_1,REASONS),alternativeSession:{get:function get(){return Utils.getSubText(this.xml,_xmppConstants.Namespace.JINGLE_1,"alternative-session")},set:function set(value){this.condition="alternative-session";Utils.setSubText(this.xml,_xmppConstants.Namespace.JINGLE_1,"alternative-session",value)}},text:Utils.textSub(_xmppConstants.Namespace.JINGLE_1,"text")}});JXT.extend(Jingle,Content,"contents");JXT.extend(Jingle,Reason);JXT.extendIQ(Jingle);JXT.withStanzaError(function(StanzaError){JXT.add(StanzaError,"jingleCondition",Utils.enumSub(_xmppConstants.Namespace.JINGLE_ERRORS_1,CONDITIONS))})};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/json.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){var JSONExtension={get:function get(){var data=JXT.utils.getSubText(this.xml,_xmppConstants.Namespace.JSON_0,"json");if(data){return JSON.parse(data)}},set:function set(value){value=JSON.stringify(value);if(value){JXT.utils.setSubText(this.xml,_xmppConstants.Namespace.JSON_0,"json",value)}}};JXT.withMessage(function(Message){JXT.add(Message,"json",JSONExtension)});JXT.withPubsubItem(function(Item){JXT.add(Item,"json",JSONExtension)})};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/logging.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){var Utils=JXT.utils;var Log=JXT.define({name:"log",namespace:_xmppConstants.Namespace.EVENTLOG,element:"log",fields:{id:Utils.attribute("id"),timestamp:Utils.dateAttribute("timestamp"),type:Utils.attribute("type"),level:Utils.attribute("level"),object:Utils.attribute("object"),subject:Utils.attribute("subject"),facility:Utils.attribute("facility"),module:Utils.attribute("module"),message:Utils.textSub(_xmppConstants.Namespace.EVENTLOG,"message"),stackTrace:Utils.textSub(_xmppConstants.Namespace.EVENTLOG,"stackTrace")}});var Tag=JXT.define({name:"_logtag",namespace:_xmppConstants.Namespace.EVENTLOG,element:"tag",fields:{name:Utils.attribute("name"),value:Utils.attribute("value"),type:Utils.attribute("type")}});JXT.extend(Log,Tag,"tags");JXT.extendMessage(Log);JXT.extendPubsubItem(Log)};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/mam.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");var _xmppJid=require("xmpp-jid");exports["default"]=function(JXT){var Utils=JXT.utils;var MAMQuery=JXT.define({name:"mam",namespace:_xmppConstants.Namespace.MAM_0,element:"query",fields:{queryid:Utils.attribute("queryid")}});var Result=JXT.define({name:"mamItem",namespace:_xmppConstants.Namespace.MAM_0,element:"result",fields:{queryid:Utils.attribute("queryid"),id:Utils.attribute("id")}});var Fin=JXT.define({name:"mamResult",namespace:_xmppConstants.Namespace.MAM_0,element:"fin",fields:{queryid:Utils.attribute("queryid"),complete:Utils.boolAttribute("complete"),stable:Utils.boolAttribute("stable")}});var Prefs=JXT.define({name:"mamPrefs",namespace:_xmppConstants.Namespace.MAM_0,element:"prefs",fields:{defaultCondition:Utils.attribute("default"),always:{get:function get(){var results=[];var container=Utils.find(this.xml,_xmppConstants.Namespace.MAM_0,"always");if(container.length===0){return results}container=container[0];var jids=Utils.getMultiSubText(container,_xmppConstants.Namespace.MAM_0,"jid");jids.forEach(function(jid){results.push(new _xmppJid.JID(jid.textContent))});return results},set:function set(value){if(value.length>0){var container=Utils.findOrCreate(this.xml,_xmppConstants.Namespace.MAM_0,"always");Utils.setMultiSubText(container,_xmppConstants.Namespace.MAM_0,"jid",value)}}},never:{get:function get(){var results=[];var container=Utils.find(this.xml,_xmppConstants.Namespace.MAM_0,"always");if(container.length===0){return results}container=container[0];var jids=Utils.getMultiSubText(container,_xmppConstants.Namespace.MAM_0,"jid");jids.forEach(function(jid){results.push(new _xmppJid.JID(jid.textContent))});return results},set:function set(value){if(value.length>0){var container=Utils.findOrCreate(this.xml,_xmppConstants.Namespace.MAM_0,"never");Utils.setMultiSubText(container,_xmppConstants.Namespace.MAM_0,"jid",value)}}}}});JXT.extendMessage(Result);JXT.extendMessage(Fin);JXT.extendIQ(MAMQuery);JXT.extendIQ(Prefs);JXT.withDataForm(function(DataForm){JXT.extend(MAMQuery,DataForm)});JXT.withDefinition("forwarded",_xmppConstants.Namespace.FORWARD_0,function(Forwarded){JXT.extend(Result,Forwarded)});JXT.withDefinition("set",_xmppConstants.Namespace.RSM,function(RSM){JXT.extend(MAMQuery,RSM);JXT.extend(Fin,RSM)})};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js","xmpp-jid":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/xmpp-jid/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/message.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");var internals={};internals.defineMessage=function(JXT,name,namespace){var Utils=JXT.utils;JXT.define({name:name,namespace:namespace,element:"message",topLevel:true,fields:{lang:Utils.langAttribute(),id:Utils.attribute("id"),to:Utils.jidAttribute("to",true),from:Utils.jidAttribute("from",true),type:Utils.attribute("type","normal"),thread:Utils.textSub(namespace,"thread"),parentThread:Utils.subAttribute(namespace,"thread","parent"),subject:Utils.textSub(namespace,"subject"),$body:{get:function getBody$(){return Utils.getSubLangText(this.xml,namespace,"body",this.lang)}},body:{get:function getBody(){var bodies=this.$body;return bodies[this.lang]||""},set:function setBody(value){Utils.setSubLangText(this.xml,namespace,"body",value,this.lang)}},attention:Utils.boolSub(_xmppConstants.Namespace.ATTENTION_0,"attention"),chatState:Utils.enumSub(_xmppConstants.Namespace.CHAT_STATES,["active","composing","paused","inactive","gone"]),replace:Utils.subAttribute(_xmppConstants.Namespace.MESSAGE_CORRECT_0,"replace","id"),requestReceipt:Utils.boolSub(_xmppConstants.Namespace.RECEIPTS,"request"),receipt:Utils.subAttribute(_xmppConstants.Namespace.RECEIPTS,"received","id")}})};exports["default"]=function(JXT){internals.defineMessage(JXT,"message",_xmppConstants.Namespace.CLIENT);internals.defineMessage(JXT,"serverMessage",_xmppConstants.Namespace.SERVER);internals.defineMessage(JXT,"componentMessage",_xmppConstants.Namespace.COMPONENT)};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/mood.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");var MOODS=["afraid","amazed","amorous","angry","annoyed","anxious","aroused","ashamed","bored","brave","calm","cautious","cold","confident","confused","contemplative","contented","cranky","crazy","creative","curious","dejected","depressed","disappointed","disgusted","dismayed","distracted","embarrassed","envious","excited","flirtatious","frustrated","grateful","grieving","grumpy","guilty","happy","hopeful","hot","humbled","humiliated","hungry","hurt","impressed","in_awe","in_love","indignant","interested","intoxicated","invincible","jealous","lonely","lucky","mean","moody","nervous","neutral","offended","outraged","playful","proud","relaxed","relieved","remorseful","restless","sad","sarcastic","serious","shocked","shy","sick","sleepy","spontaneous","stressed","strong","surprised","thankful","thirsty","tired","undefined","weak","worried"];exports["default"]=function(JXT){var Mood=JXT.define({name:"mood",namespace:_xmppConstants.Namespace.MOOD,element:"mood",fields:{text:JXT.utils.textSub(_xmppConstants.Namespace.MOOD,"text"),value:JXT.utils.enumSub(_xmppConstants.Namespace.MOOD,MOODS)}});JXT.extendMessage(Mood);JXT.extendPubsubItem(Mood)};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/muc.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");function proxy(child,field){return{get:function get(){if(this._extensions[child]){return this[child][field]}},set:function set(value){this[child][field]=value}}}exports["default"]=function(JXT){var Utils=JXT.utils;var UserItem=JXT.define({name:"_mucUserItem",namespace:_xmppConstants.Namespace.MUC_USER,element:"item",fields:{affiliation:Utils.attribute("affiliation"),nick:Utils.attribute("nick"),jid:Utils.jidAttribute("jid"),role:Utils.attribute("role"),reason:Utils.textSub(_xmppConstants.Namespace.MUC_USER,"reason")}});var UserActor=JXT.define({name:"_mucUserActor",namespace:_xmppConstants.Namespace.MUC_USER,element:"actor",fields:{nick:Utils.attribute("nick"),jid:Utils.jidAttribute("jid")}});var Destroyed=JXT.define({name:"destroyed",namespace:_xmppConstants.Namespace.MUC_USER,element:"destroy",fields:{jid:Utils.jidAttribute("jid"),reason:Utils.textSub(_xmppConstants.Namespace.MUC_USER,"reason")}});var Invite=JXT.define({name:"invite",namespace:_xmppConstants.Namespace.MUC_USER,element:"invite",fields:{to:Utils.jidAttribute("to"),from:Utils.jidAttribute("from"),reason:Utils.textSub(_xmppConstants.Namespace.MUC_USER,"reason"),thread:Utils.subAttribute(_xmppConstants.Namespace.MUC_USER,"continue","thread"),continue:Utils.boolSub(_xmppConstants.Namespace.MUC_USER,"continue")}});var Decline=JXT.define({name:"decline",namespace:_xmppConstants.Namespace.MUC_USER,element:"decline",fields:{to:Utils.jidAttribute("to"),from:Utils.jidAttribute("from"),reason:Utils.textSub(_xmppConstants.Namespace.MUC_USER,"reason")}});var AdminItem=JXT.define({name:"_mucAdminItem",namespace:_xmppConstants.Namespace.MUC_ADMIN,element:"item",fields:{affiliation:Utils.attribute("affiliation"),nick:Utils.attribute("nick"),jid:Utils.jidAttribute("jid"),role:Utils.attribute("role"),reason:Utils.textSub(_xmppConstants.Namespace.MUC_ADMIN,"reason")}});var AdminActor=JXT.define({name:"actor",namespace:_xmppConstants.Namespace.MUC_USER,element:"actor",fields:{nick:Utils.attribute("nick"),jid:Utils.jidAttribute("jid")}});var Destroy=JXT.define({name:"destroy",namespace:_xmppConstants.Namespace.MUC_OWNER,element:"destroy",fields:{jid:Utils.jidAttribute("jid"),password:Utils.textSub(_xmppConstants.Namespace.MUC_OWNER,"password"),reason:Utils.textSub(_xmppConstants.Namespace.MUC_OWNER,"reason")}});var MUC=JXT.define({name:"muc",namespace:_xmppConstants.Namespace.MUC_USER,element:"x",fields:{affiliation:proxy("_mucUserItem","affiliation"),nick:proxy("_mucUserItem","nick"),jid:proxy("_mucUserItem","jid"),role:proxy("_mucUserItem","role"),actor:proxy("_mucUserItem","_mucUserActor"),reason:proxy("_mucUserItem","reason"),password:Utils.textSub(_xmppConstants.Namespace.MUC_USER,"password"),codes:{get:function get(){return Utils.getMultiSubText(this.xml,_xmppConstants.Namespace.MUC_USER,"status",function(sub){return Utils.getAttribute(sub,"code")})},set:function set(value){var self=this;Utils.setMultiSubText(this.xml,_xmppConstants.Namespace.MUC_USER,"status",value,function(val){var child=Utils.createElement(_xmppConstants.Namespace.MUC_USER,"status",_xmppConstants.Namespace.MUC_USER);Utils.setAttribute(child,"code",val);self.xml.appendChild(child)})}}}});var MUCAdmin=JXT.define({name:"mucAdmin",namespace:_xmppConstants.Namespace.MUC_ADMIN,element:"query",fields:{affiliation:proxy("_mucAdminItem","affiliation"),nick:proxy("_mucAdminItem","nick"),jid:proxy("_mucAdminItem","jid"),role:proxy("_mucAdminItem","role"),actor:proxy("_mucAdminItem","_mucAdminActor"),reason:proxy("_mucAdminItem","reason")}});var MUCOwner=JXT.define({name:"mucOwner",namespace:_xmppConstants.Namespace.MUC_OWNER,element:"query"});var MUCJoin=JXT.define({name:"joinMuc",namespace:_xmppConstants.Namespace.MUC,element:"x",fields:{password:Utils.textSub(_xmppConstants.Namespace.MUC,"password"),history:{get:function get(){var result={};var hist=Utils.find(this.xml,_xmppConstants.Namespace.MUC,"history");if(!hist.length){return{}}hist=hist[0];var maxchars=hist.getAttribute("maxchars")||"";var maxstanzas=hist.getAttribute("maxstanzas")||"";var seconds=hist.getAttribute("seconds")||"";var since=hist.getAttribute("since")||"";if(maxchars){result.maxchars=parseInt(maxchars,10)}if(maxstanzas){result.maxstanzas=parseInt(maxstanzas,10)}if(seconds){result.seconds=parseInt(seconds,10)}if(since){result.since=new Date(since)}},set:function set(opts){var existing=Utils.find(this.xml,_xmppConstants.Namespace.MUC,"history");if(existing.length){for(var i=0;i<existing.length;i++){this.xml.removeChild(existing[i])}}var hist=Utils.createElement(_xmppConstants.Namespace.MUC,"history",_xmppConstants.Namespace.MUC);this.xml.appendChild(hist);if(opts.maxchars){hist.setAttribute("maxchars",""+opts.maxchars)}if(opts.maxstanzas){hist.setAttribute("maxstanzas",""+opts.maxstanzas)}if(opts.seconds){hist.setAttribute("seconds",""+opts.seconds)}if(opts.since){hist.setAttribute("since",opts.since.toISOString())}}}}});var DirectInvite=JXT.define({name:"mucInvite",namespace:_xmppConstants.Namespace.MUC_DIRECT_INVITE,element:"x",fields:{jid:Utils.jidAttribute("jid"),password:Utils.attribute("password"),reason:Utils.attribute("reason"),thread:Utils.attribute("thread"),continue:Utils.boolAttribute("continue")}});JXT.extend(UserItem,UserActor);JXT.extend(MUC,UserItem);JXT.extend(MUC,Invite,"invites");JXT.extend(MUC,Decline);JXT.extend(MUC,Destroyed);JXT.extend(AdminItem,AdminActor);JXT.extend(MUCAdmin,AdminItem,"items");JXT.extend(MUCOwner,Destroy);JXT.extendPresence(MUC);JXT.extendPresence(MUCJoin);JXT.extendMessage(MUC);JXT.extendMessage(DirectInvite);JXT.withIQ(function(IQ){JXT.add(IQ,"mucUnique",Utils.textSub(_xmppConstants.Namespace.MUC_UNIQUE,"unique"));JXT.extend(IQ,MUCAdmin);JXT.extend(IQ,MUCOwner)});JXT.withDataForm(function(DataForm){JXT.extend(MUCOwner,DataForm)})};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/nick.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){var nick=JXT.utils.textSub(_xmppConstants.Namespace.NICK,"nick");JXT.withPubsubItem(function(Item){JXT.add(Item,"nick",nick)});JXT.withPresence(function(Presence){JXT.add(Presence,"nick",nick)});JXT.withMessage(function(Message){JXT.add(Message,"nick",nick)})};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/oob.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){var OOB=JXT.define({name:"oob",element:"x",namespace:_xmppConstants.Namespace.OOB,fields:{url:JXT.utils.textSub(_xmppConstants.Namespace.OOB,"url"),desc:JXT.utils.textSub(_xmppConstants.Namespace.OOB,"desc")}});JXT.extendMessage(OOB,"oobURIs")};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/ping.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){var Ping=JXT.define({name:"ping",namespace:_xmppConstants.Namespace.PING,element:"ping"});JXT.extendIQ(Ping)};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/presence.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");var internals={};internals.definePresence=function(JXT,name,namespace){var Utils=JXT.utils;JXT.define({name:name,namespace:namespace,element:"presence",topLevel:true,fields:{lang:Utils.langAttribute(),id:Utils.attribute("id"),to:Utils.jidAttribute("to",true),from:Utils.jidAttribute("from",true),priority:Utils.numberSub(namespace,"priority",false,0),show:Utils.textSub(namespace,"show"),type:{get:function get(){return Utils.getAttribute(this.xml,"type","available")},set:function set(value){if(value==="available"){value=false}Utils.setAttribute(this.xml,"type",value)}},$status:{get:function get(){return Utils.getSubLangText(this.xml,namespace,"status",this.lang)}},status:{get:function get(){var statuses=this.$status;return statuses[this.lang]||""},set:function set(value){Utils.setSubLangText(this.xml,namespace,"status",value,this.lang)}},idleSince:Utils.dateSubAttribute(_xmppConstants.Namespace.IDLE_1,"idle","since"),decloak:Utils.subAttribute(_xmppConstants.Namespace.DECLOAK_0,"decloak","reason"),avatarId:{get:function get(){var update=Utils.find(this.xml,_xmppConstants.Namespace.VCARD_TEMP_UPDATE,"x");if(!update.length){return""}return Utils.getSubText(update[0],_xmppConstants.Namespace.VCARD_TEMP_UPDATE,"photo")},set:function set(value){var update=Utils.findOrCreate(this.xml,_xmppConstants.Namespace.VCARD_TEMP_UPDATE,"x");if(value===""){Utils.setBoolSub(update,_xmppConstants.Namespace.VCARD_TEMP_UPDATE,"photo",true)}else if(value===true){return}else if(value){Utils.setSubText(update,_xmppConstants.Namespace.VCARD_TEMP_UPDATE,"photo",value)}else{this.xml.removeChild(update)}}}}})};exports["default"]=function(JXT){internals.definePresence(JXT,"presence",_xmppConstants.Namespace.CLIENT);internals.definePresence(JXT,"serverPresence",_xmppConstants.Namespace.SERVER);internals.definePresence(JXT,"componentPresence",_xmppConstants.Namespace.COMPONENT)};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/private.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){var PrivateStorage=JXT.define({name:"privateStorage",namespace:_xmppConstants.Namespace.PRIVATE,element:"query"});JXT.extendIQ(PrivateStorage)};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/psa.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");var CONDITIONS=["server-unavailable","connection-paused"];exports["default"]=function(JXT){var PSA=JXT.define({name:"state",namespace:_xmppConstants.Namespace.PSA,element:"state-annotation",fields:{from:JXT.utils.jidAttribute("from"),condition:JXT.utils.enumSub(_xmppConstants.Namespace.PSA,CONDITIONS),description:JXT.utils.textSub(_xmppConstants.Namespace.PSA,"description")}});JXT.extendPresence(PSA)};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/pubsub.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){var Utils=JXT.utils;var Pubsub=JXT.define({name:"pubsub",namespace:_xmppConstants.Namespace.PUBSUB,element:"pubsub",fields:{create:{get:function get(){var node=Utils.getSubAttribute(this.xml,_xmppConstants.Namespace.PUBSUB,"create","node");if(node){return node}return Utils.getBoolSub(this.xml,_xmppConstants.Namespace.PUBSUB,"create")},set:function set(value){if(value===true||!value){Utils.setBoolSub(this.xml,_xmppConstants.Namespace.PUBSUB,"create",value)}else{Utils.setSubAttribute(this.xml,_xmppConstants.Namespace.PUBSUB,"create","node",value)}}},publishOptions:{get:function get(){var DataForm=JXT.getDefinition("x",_xmppConstants.Namespace.DATAFORM);var conf=Utils.find(this.xml,_xmppConstants.Namespace.PUBSUB,"publish-options");if(conf.length&&conf[0].childNodes.length){return new DataForm({},conf[0].childNodes[0])}},set:function set(value){var DataForm=JXT.getDefinition("x",_xmppConstants.Namespace.DATAFORM);var conf=Utils.findOrCreate(this.xml,_xmppConstants.Namespace.PUBSUB,"publish-options");if(value){var form=new DataForm(value);conf.appendChild(form.xml)}}}}});var Configure=JXT.define({name:"config",namespace:_xmppConstants.Namespace.PUBSUB,element:"configure"});var Subscribe=JXT.define({name:"subscribe",namespace:_xmppConstants.Namespace.PUBSUB,element:"subscribe",fields:{node:Utils.attribute("node"),jid:Utils.jidAttribute("jid")}});var Subscription=JXT.define({name:"subscription",namespace:_xmppConstants.Namespace.PUBSUB,element:"subscription",fields:{node:Utils.attribute("node"),jid:Utils.jidAttribute("jid"),subid:Utils.attribute("subid"),type:Utils.attribute("subscription"),configurable:Utils.boolSub("subscribe-options"),configurationRequired:{get:function get(){var options=Utils.find(this.xml,_xmppConstants.Namespace.PUBSUB,"subscribe-options");if(options.length){return Utils.getBoolSub(options[0],_xmppConstants.Namespace.PUBSUB,"required")}return false}}}});var Subscriptions=JXT.define({name:"subscriptions",namespace:_xmppConstants.Namespace.PUBSUB,element:"subscriptions",fields:{node:Utils.attribute("node"),jid:Utils.jidAttribute("jid")}});var Affiliation=JXT.define({name:"affiliation",namespace:_xmppConstants.Namespace.PUBSUB,element:"affiliation",fields:{node:Utils.attribute("node"),jid:Utils.jidAttribute("jid"),type:Utils.attribute("affiliation")}});var Affiliations=JXT.define({name:"affiliations",namespace:_xmppConstants.Namespace.PUBSUB,element:"affiliations",fields:{node:Utils.attribute("node"),jid:Utils.jidAttribute("jid")}});var SubscriptionOptions=JXT.define({name:"subscriptionOptions",namespace:_xmppConstants.Namespace.PUBSUB,element:"options",fields:{node:Utils.attribute("node"),jid:Utils.jidAttribute("jid"),subid:Utils.attribute("subid")}});var Unsubscribe=JXT.define({name:"unsubscribe",namespace:_xmppConstants.Namespace.PUBSUB,element:"unsubscribe",fields:{node:Utils.attribute("node"),jid:Utils.jidAttribute("jid")}});var Publish=JXT.define({name:"publish",namespace:_xmppConstants.Namespace.PUBSUB,element:"publish",fields:{node:Utils.attribute("node")}});var Retract=JXT.define({name:"retract",namespace:_xmppConstants.Namespace.PUBSUB,element:"retract",fields:{node:Utils.attribute("node"),notify:Utils.boolAttribute("notify"),id:Utils.subAttribute(_xmppConstants.Namespace.PUBSUB,"item","id")}});var Retrieve=JXT.define({name:"retrieve",namespace:_xmppConstants.Namespace.PUBSUB,element:"items",fields:{node:Utils.attribute("node"),max:Utils.attribute("max_items")}});var Item=JXT.define({name:"item",namespace:_xmppConstants.Namespace.PUBSUB,element:"item",fields:{id:Utils.attribute("id")}});JXT.extend(Pubsub,Configure);JXT.extend(Pubsub,Subscribe);JXT.extend(Pubsub,Unsubscribe);JXT.extend(Pubsub,Publish);JXT.extend(Pubsub,Retract);JXT.extend(Pubsub,Retrieve);JXT.extend(Pubsub,Subscription);JXT.extend(Pubsub,SubscriptionOptions);JXT.extend(Pubsub,Subscriptions);JXT.extend(Pubsub,Affiliations);JXT.extend(Publish,Item,"items");JXT.extend(Retrieve,Item,"items");JXT.extend(Subscriptions,Subscription,"list");JXT.extend(Affiliations,Affiliation,"list");JXT.extendIQ(Pubsub);JXT.withDataForm(function(DataForm){JXT.extend(SubscriptionOptions,DataForm);JXT.extend(Item,DataForm);JXT.extend(Configure,DataForm)});JXT.withDefinition("set",_xmppConstants.Namespace.RSM,function(RSM){JXT.extend(Pubsub,RSM)})};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/pubsubError.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");var CONDITIONS=["closed-node","configuration-required","invalid-jid","invalid-options","invalid-payload","invalid-subid","item-forbidden","item-required","jid-required","max-items-exceeded","max-nodes-exceeded","nodeid-required","not-in-roster-group","not-subscribed","payload-too-big","payload-required","pending-subscription","presence-subscription-required","subid-required","too-many-subscriptions","unsupported","unsupported-access-model"];exports["default"]=function(JXT){JXT.withStanzaError(function(StanzaError){JXT.add(StanzaError,"pubsubCondition",JXT.utils.enumSub(_xmppConstants.Namespace.PUBSUB_ERRORS,CONDITIONS));JXT.add(StanzaError,"pubsubUnsupportedFeature",{get:function get(){return JXT.utils.getSubAttribute(this.xml,_xmppConstants.Namespace.PUBSUB_ERRORS,"unsupported","feature")},set:function set(value){if(value){this.pubsubCondition="unsupported"}JXT.utils.setSubAttribute(this.xml,_xmppConstants.Namespace.PUBSUB_ERRORS,"unsupported","feature",value)}})})};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/pubsubEvents.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){var Utils=JXT.utils;var Event=JXT.define({name:"event",namespace:_xmppConstants.Namespace.PUBSUB_EVENT,element:"event"});var EventPurge=JXT.define({name:"purged",namespace:_xmppConstants.Namespace.PUBSUB_EVENT,element:"purge",fields:{node:Utils.attribute("node")}});var EventDelete=JXT.define({name:"deleted",namespace:_xmppConstants.Namespace.PUBSUB_EVENT,element:"delete",fields:{node:Utils.attribute("node"),redirect:Utils.subAttribute(_xmppConstants.Namespace.PUBSUB_EVENT,"redirect","uri")}});var EventSubscription=JXT.define({name:"subscriptionChanged",namespace:_xmppConstants.Namespace.PUBSUB_EVENT,element:"subscription",fields:{node:Utils.attribute("node"),jid:Utils.jidAttribute("jid"),type:Utils.attribute("subscription"),subid:Utils.attribute("subid"),expiry:{get:function get(){var text=Utils.getAttribute(this.xml,"expiry");if(text==="presence"){return text}else if(text){return new Date(text)}},set:function set(value){if(!value){return}if(typeof value!=="string"){value=value.toISOString()}Utils.setAttribute(this.xml,"expiry",value)}}}});var EventConfiguration=JXT.define({name:"configurationChanged",namespace:_xmppConstants.Namespace.PUBSUB_EVENT,element:"configuration",fields:{node:Utils.attribute("node")}});var EventItems=JXT.define({name:"updated",namespace:_xmppConstants.Namespace.PUBSUB_EVENT,element:"items",fields:{node:Utils.attribute("node"),retracted:{get:function get(){var results=[];var retracted=Utils.find(this.xml,_xmppConstants.Namespace.PUBSUB_EVENT,"retract");retracted.forEach(function(xml){results.push(xml.getAttribute("id"))});return results},set:function set(value){var self=this;value.forEach(function(id){var retracted=Utils.createElement(_xmppConstants.Namespace.PUBSUB_EVENT,"retract",_xmppConstants.Namespace.PUBSUB_EVENT);retracted.setAttribute("id",id);this.xml.appendChild(retracted)})}}}});var EventItem=JXT.define({name:"_eventItem",namespace:_xmppConstants.Namespace.PUBSUB_EVENT,element:"item",fields:{id:Utils.attribute("id"),node:Utils.attribute("node"),publisher:Utils.jidAttribute("publisher")}});JXT.extend(EventItems,EventItem,"published");JXT.extend(Event,EventItems);JXT.extend(Event,EventSubscription);JXT.extend(Event,EventConfiguration);JXT.extend(Event,EventDelete);JXT.extend(Event,EventPurge);JXT.extendMessage(Event);JXT.withDataForm(function(DataForm){JXT.extend(EventConfiguration,DataForm)})};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/pubsubOwner.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){var Utils=JXT.utils;var PubsubOwner=JXT.define({name:"pubsubOwner",namespace:_xmppConstants.Namespace.PUBSUB_OWNER,element:"pubsub",fields:{purge:Utils.subAttribute(_xmppConstants.Namespace.PUBSUB_OWNER,"purge","node"),del:Utils.subAttribute(_xmppConstants.Namespace.PUBSUB_OWNER,"delete","node"),redirect:{get:function get(){var del=Utils.find(this.xml,_xmppConstants.Namespace.PUBSUB_OWNER,"delete");if(del.length){return Utils.getSubAttribute(del[0],_xmppConstants.Namespace.PUBSUB_OWNER,"redirect","uri")}return""},set:function set(value){var del=Utils.findOrCreate(this.xml,_xmppConstants.Namespace.PUBSUB_OWNER,"delete");Utils.setSubAttribute(del,_xmppConstants.Namespace.PUBSUB_OWNER,"redirect","uri",value)}}}});var Subscription=JXT.define({name:"subscription",namespace:_xmppConstants.Namespace.PUBSUB_OWNER,element:"subscription",fields:{node:Utils.attribute("node"),jid:Utils.jidAttribute("jid"),subid:Utils.attribute("subid"),type:Utils.attribute("subscription"),configurable:Utils.boolSub("subscribe-options"),configurationRequired:{get:function get(){var options=Utils.find(this.xml,_xmppConstants.Namespace.PUBSUB_OWNER,"subscribe-options");if(options.length){return Utils.getBoolSub(options[0],_xmppConstants.Namespace.PUBSUB_OWNER,"required")}return false}}}});var Subscriptions=JXT.define({name:"subscriptions",namespace:_xmppConstants.Namespace.PUBSUB_OWNER,element:"subscriptions",fields:{node:Utils.attribute("node")}});var Affiliation=JXT.define({name:"affiliation",namespace:_xmppConstants.Namespace.PUBSUB_OWNER,element:"affiliation",fields:{node:Utils.attribute("node"),type:Utils.attribute("affiliation")}});var Affiliations=JXT.define({name:"affiliations",namespace:_xmppConstants.Namespace.PUBSUB_OWNER,element:"affiliations",fields:{node:Utils.attribute("node")}});var Configure=JXT.define({name:"config",namespace:_xmppConstants.Namespace.PUBSUB_OWNER,element:"configure",fields:{node:Utils.attribute("node")}});JXT.extend(PubsubOwner,Configure);JXT.extend(PubsubOwner,Subscriptions);JXT.extend(PubsubOwner,Affiliations);JXT.extend(Subscriptions,Subscription,"list");JXT.extend(Affiliations,Affiliation,"list");JXT.extendIQ(PubsubOwner);JXT.withDataForm(function(DataForm){JXT.extend(Configure,DataForm)})};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/push.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){var Utils=JXT.utils;var Enable=JXT.define({name:"enablePush",element:"enable",namespace:_xmppConstants.Namespace.PUSH_0,fields:{jid:Utils.jidAttribute("jid"),node:Utils.attribute("node")}});var Disable=JXT.define({name:"disablePush",element:"disable",namespace:_xmppConstants.Namespace.PUSH_0,fields:{jid:Utils.jidAttribute("jid"),node:Utils.attribute("node")}});var Notification=JXT.define({name:"pushNotification",element:"notification",namespace:_xmppConstants.Namespace.PUSH_0});JXT.withDataForm(function(DataForm){JXT.extend(Notification,DataForm);JXT.extend(Enable,DataForm)});JXT.extendIQ(Enable);JXT.extendIQ(Disable)};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/reach.js":[function(require,module,exports){"use strict";var _interopRequireDefault=require("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");var _lodashForeach=require("lodash.foreach");var _lodashForeach2=_interopRequireDefault(_lodashForeach);exports["default"]=function(JXT){var Utils=JXT.utils;var ReachURI=JXT.define({name:"_reachAddr",namespace:_xmppConstants.Namespace.REACH_0,element:"addr",fields:{uri:Utils.attribute("uri"),$desc:{get:function get(){return Utils.getSubLangText(this.xml,_xmppConstants.Namespace.REACH_0,"desc",this.lang)}},desc:{get:function get(){var descs=this.$desc;return descs[this.lang]||""},set:function set(value){Utils.setSubLangText(this.xml,_xmppConstants.Namespace.REACH_0,"desc",value,this.lang)}}}});var reachability={get:function get(){var reach=Utils.find(this.xml,_xmppConstants.Namespace.REACH_0,"reach");var results=[];if(reach.length){var addrs=Utils.find(reach[0],_xmppConstants.Namespace.REACH_0,"addr");(0,_lodashForeach2["default"])(addrs,function(addr){results.push(new ReachURI({},addr))})}return results},set:function set(value){var reach=Utils.findOrCreate(this.xml,_xmppConstants.Namespace.REACH_0,"reach");Utils.setAttribute(reach,"xmlns",_xmppConstants.Namespace.REACH_0);(0,_lodashForeach2["default"])(value,function(info){var addr=new ReachURI(info);reach.appendChild(addr.xml)})}};JXT.withPubsubItem(function(Item){JXT.add(Item,"reach",reachability)});JXT.withPresence(function(Presence){JXT.add(Presence,"reach",reachability)})};module.exports=exports["default"]},{"babel-runtime/helpers/interop-require-default":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/babel-runtime/helpers/interop-require-default.js","lodash.foreach":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.foreach/index.js","xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/register.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){var Utils=JXT.utils;var Register=JXT.define({name:"register",namespace:_xmppConstants.Namespace.REGISTER,element:"query",fields:{instructions:Utils.textSub(_xmppConstants.Namespace.REGISTER,"instructions"),registered:Utils.boolSub(_xmppConstants.Namespace.REGISTER,"registered"),remove:Utils.boolSub(_xmppConstants.Namespace.REGISTER,"remove"),username:Utils.textSub(_xmppConstants.Namespace.REGISTER,"username"),nick:Utils.textSub(_xmppConstants.Namespace.REGISTER,"nick"),password:Utils.textSub(_xmppConstants.Namespace.REGISTER,"password"),name:Utils.textSub(_xmppConstants.Namespace.REGISTER,"name"),first:Utils.textSub(_xmppConstants.Namespace.REGISTER,"first"),last:Utils.textSub(_xmppConstants.Namespace.REGISTER,"last"),email:Utils.textSub(_xmppConstants.Namespace.REGISTER,"email"),address:Utils.textSub(_xmppConstants.Namespace.REGISTER,"address"),city:Utils.textSub(_xmppConstants.Namespace.REGISTER,"city"),state:Utils.textSub(_xmppConstants.Namespace.REGISTER,"state"),zip:Utils.textSub(_xmppConstants.Namespace.REGISTER,"zip"),phone:Utils.textSub(_xmppConstants.Namespace.REGISTER,"phone"),url:Utils.textSub(_xmppConstants.Namespace.REGISTER,"url"),date:Utils.textSub(_xmppConstants.Namespace.REGISTER,"date"),misc:Utils.textSub(_xmppConstants.Namespace.REGISTER,"misc"),text:Utils.textSub(_xmppConstants.Namespace.REGISTER,"text"),key:Utils.textSub(_xmppConstants.Namespace.REGISTER,"key")}});JXT.extendIQ(Register);JXT.withDefinition("x",_xmppConstants.Namespace.OOB,function(OOB){JXT.extend(Register,OOB)});JXT.withDataForm(function(DataForm){JXT.extend(Register,DataForm)})};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/roster.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){var Utils=JXT.utils;var Roster=JXT.define({name:"roster",namespace:_xmppConstants.Namespace.ROSTER,element:"query",fields:{ver:{get:function get(){return Utils.getAttribute(this.xml,"ver")},set:function set(value){var force=value==="";Utils.setAttribute(this.xml,"ver",value,force)}}}});var RosterItem=JXT.define({name:"_rosterItem",namespace:_xmppConstants.Namespace.ROSTER,element:"item",fields:{jid:Utils.jidAttribute("jid",true),name:Utils.attribute("name"),subscription:Utils.attribute("subscription","none"),subscriptionRequested:{get:function get(){var ask=Utils.getAttribute(this.xml,"ask");return ask==="subscribe"}},preApproved:Utils.boolAttribute(_xmppConstants.Namespace.ROSTER,"approved"),groups:Utils.multiTextSub(_xmppConstants.Namespace.ROSTER,"group")}});JXT.extend(Roster,RosterItem,"items");JXT.extendIQ(Roster)};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/rsm.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){var Utils=JXT.utils;JXT.define({name:"rsm",namespace:_xmppConstants.Namespace.RSM,element:"set",fields:{after:Utils.textSub(_xmppConstants.Namespace.RSM,"after"),before:{get:function get(){return Utils.getSubText(this.xml,_xmppConstants.Namespace.RSM,"before")},set:function set(value){if(value===true){Utils.findOrCreate(this.xml,_xmppConstants.Namespace.RSM,"before")}else{Utils.setSubText(this.xml,_xmppConstants.Namespace.RSM,"before",value)}}},count:Utils.numberSub(_xmppConstants.Namespace.RSM,"count",false,0),first:Utils.textSub(_xmppConstants.Namespace.RSM,"first"),firstIndex:Utils.subAttribute(_xmppConstants.Namespace.RSM,"first","index"),index:Utils.textSub(_xmppConstants.Namespace.RSM,"index"),last:Utils.textSub(_xmppConstants.Namespace.RSM,"last"),max:Utils.textSub(_xmppConstants.Namespace.RSM,"max")}})};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/rtp.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){var Utils=JXT.utils;var Feedback={get:function get(){var existing=Utils.find(this.xml,_xmppConstants.Namespace.JINGLE_RTP_RTCP_FB_0,"rtcp-fb");var result=[];existing.forEach(function(xml){result.push({type:Utils.getAttribute(xml,"type"),subtype:Utils.getAttribute(xml,"subtype")})});existing=Utils.find(this.xml,_xmppConstants.Namespace.JINGLE_RTP_RTCP_FB_0,"rtcp-fb-trr-int");existing.forEach(function(xml){result.push({type:Utils.getAttribute(xml,"type"),value:Utils.getAttribute(xml,"value")})});return result},set:function set(values){var self=this;var existing=Utils.find(this.xml,_xmppConstants.Namespace.JINGLE_RTP_RTCP_FB_0,"rtcp-fb");existing.forEach(function(item){self.xml.removeChild(item)});existing=Utils.find(this.xml,_xmppConstants.Namespace.JINGLE_RTP_RTCP_FB_0,"rtcp-fb-trr-int");existing.forEach(function(item){self.xml.removeChild(item)});values.forEach(function(value){var fb=undefined;if(value.type==="trr-int"){fb=Utils.createElement(_xmppConstants.Namespace.JINGLE_RTP_RTCP_FB_0,"rtcp-fb-trr-int",_xmppConstants.Namespace.JINGLE_RTP_1);Utils.setAttribute(fb,"type",value.type);Utils.setAttribute(fb,"value",value.value)}else{fb=Utils.createElement(_xmppConstants.Namespace.JINGLE_RTP_RTCP_FB_0,"rtcp-fb",_xmppConstants.Namespace.JINGLE_RTP_1);Utils.setAttribute(fb,"type",value.type);Utils.setAttribute(fb,"subtype",value.subtype)}self.xml.appendChild(fb)})}};var Bandwidth=JXT.define({name:"bandwidth",namespace:_xmppConstants.Namespace.JINGLE_RTP_1,element:"bandwidth",fields:{type:Utils.attribute("type"),bandwidth:Utils.text()}});var RTP=JXT.define({name:"_rtp",namespace:_xmppConstants.Namespace.JINGLE_RTP_1,element:"description",tags:["jingle-description"],fields:{descType:{value:"rtp"},media:Utils.attribute("media"),ssrc:Utils.attribute("ssrc"),mux:Utils.boolSub(_xmppConstants.Namespace.JINGLE_RTP_1,"rtcp-mux"),encryption:{get:function get(){var enc=Utils.find(this.xml,_xmppConstants.Namespace.JINGLE_RTP_1,"encryption");if(!enc.length){return[]}enc=enc[0];var self=this;var data=Utils.find(enc,_xmppConstants.Namespace.JINGLE_RTP_1,"crypto");var results=[];data.forEach(function(xml){results.push(new Crypto({},xml,self).toJSON())});return results},set:function set(values){var enc=Utils.find(this.xml,_xmppConstants.Namespace.JINGLE_RTP_1,"encryption");if(enc.length){this.xml.removeChild(enc)}if(!values.length){return}Utils.setBoolSubAttribute(this.xml,_xmppConstants.Namespace.JINGLE_RTP_1,"encryption","required",true);enc=Utils.find(this.xml,_xmppConstants.Namespace.JINGLE_RTP_1,"encryption")[0];var self=this;values.forEach(function(value){var content=new Crypto(value,null,self);enc.appendChild(content.xml)})}},feedback:Feedback,headerExtensions:{get:function get(){var existing=Utils.find(this.xml,_xmppConstants.Namespace.JINGLE_RTP_HDREXT_0,"rtp-hdrext");var result=[];existing.forEach(function(xml){result.push({id:Utils.getAttribute(xml,"id"),uri:Utils.getAttribute(xml,"uri"),senders:Utils.getAttribute(xml,"senders")})});return result},set:function set(values){var self=this;var existing=Utils.find(this.xml,_xmppConstants.Namespace.JINGLE_RTP_HDREXT_0,"rtp-hdrext");existing.forEach(function(item){self.xml.removeChild(item)});values.forEach(function(value){var hdr=Utils.createElement(_xmppConstants.Namespace.JINGLE_RTP_HDREXT_0,"rtp-hdrext",_xmppConstants.Namespace.JINGLE_RTP_1);Utils.setAttribute(hdr,"id",value.id);Utils.setAttribute(hdr,"uri",value.uri);Utils.setAttribute(hdr,"senders",value.senders);self.xml.appendChild(hdr)})}}}});var PayloadType=JXT.define({name:"_payloadType",namespace:_xmppConstants.Namespace.JINGLE_RTP_1,element:"payload-type",fields:{channels:Utils.attribute("channels"),clockrate:Utils.attribute("clockrate"),id:Utils.attribute("id"),maxptime:Utils.attribute("maxptime"),name:Utils.attribute("name"),ptime:Utils.attribute("ptime"),feedback:Feedback,parameters:{get:function get(){var result=[];var params=Utils.find(this.xml,_xmppConstants.Namespace.JINGLE_RTP_1,"parameter");params.forEach(function(param){result.push({key:Utils.getAttribute(param,"name"),value:Utils.getAttribute(param,"value")})});return result},set:function set(values){var self=this;values.forEach(function(value){var param=Utils.createElement(_xmppConstants.Namespace.JINGLE_RTP_1,"parameter");Utils.setAttribute(param,"name",value.key);Utils.setAttribute(param,"value",value.value);self.xml.appendChild(param)})}}}});var Crypto=JXT.define({name:"crypto",namespace:_xmppConstants.Namespace.JINGLE_RTP_1,element:"crypto",fields:{cipherSuite:Utils.attribute("crypto-suite"),keyParams:Utils.attribute("key-params"),sessionParams:Utils.attribute("session-params"),tag:Utils.attribute("tag")}});var ContentGroup=JXT.define({name:"_group",namespace:_xmppConstants.Namespace.JINGLE_GROUPING_0,element:"group",fields:{semantics:Utils.attribute("semantics"),contents:Utils.multiSubAttribute(_xmppConstants.Namespace.JINGLE_GROUPING_0,"content","name")}});var SourceGroup=JXT.define({name:"_sourceGroup",namespace:_xmppConstants.Namespace.JINGLE_RTP_SSMA_0,element:"ssrc-group",fields:{semantics:Utils.attribute("semantics"),sources:Utils.multiSubAttribute(_xmppConstants.Namespace.JINGLE_RTP_SSMA_0,"source","ssrc")}});var Source=JXT.define({name:"_source",namespace:_xmppConstants.Namespace.JINGLE_RTP_SSMA_0,element:"source",fields:{ssrc:Utils.attribute("ssrc"),parameters:{get:function get(){var result=[];var params=Utils.find(this.xml,_xmppConstants.Namespace.JINGLE_RTP_SSMA_0,"parameter");params.forEach(function(param){result.push({key:Utils.getAttribute(param,"name"),value:Utils.getAttribute(param,"value")})});return result},set:function set(values){var self=this;values.forEach(function(value){var param=Utils.createElement(_xmppConstants.Namespace.JINGLE_RTP_SSMA_0,"parameter");Utils.setAttribute(param,"name",value.key);Utils.setAttribute(param,"value",value.value);self.xml.appendChild(param)})}}}});var Mute=JXT.define({name:"mute",namespace:_xmppConstants.Namespace.JINGLE_RTP_INFO_1,element:"mute",fields:{creator:Utils.attribute("creator"),name:Utils.attribute("name")}});var Unmute=JXT.define({name:"unmute",namespace:_xmppConstants.Namespace.JINGLE_RTP_INFO_1,element:"unmute",fields:{creator:Utils.attribute("creator"),name:Utils.attribute("name")}});JXT.extend(RTP,Bandwidth);JXT.extend(RTP,PayloadType,"payloads");JXT.extend(RTP,Source,"sources");JXT.extend(RTP,SourceGroup,"sourceGroups");JXT.withDefinition("content",_xmppConstants.Namespace.JINGLE_1,function(Content){JXT.extend(Content,RTP)});JXT.withDefinition("jingle",_xmppConstants.Namespace.JINGLE_1,function(Jingle){JXT.extend(Jingle,Mute);JXT.extend(Jingle,Unmute);JXT.extend(Jingle,ContentGroup,"groups");JXT.add(Jingle,"ringing",Utils.boolSub(_xmppConstants.Namespace.JINGLE_RTP_INFO_1,"ringing"));JXT.add(Jingle,"hold",Utils.boolSub(_xmppConstants.Namespace.JINGLE_RTP_INFO_1,"hold"));JXT.add(Jingle,"active",Utils.boolSub(_xmppConstants.Namespace.JINGLE_RTP_INFO_1,"active"))})};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/rtt.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");var TYPE_MAP={insert:"t",erase:"e",wait:"w"};var ACTION_MAP={t:"insert",e:"erase",w:"wait"};exports["default"]=function(JXT){var Utils=JXT.utils;var RTT=JXT.define({name:"rtt",namespace:_xmppConstants.Namespace.RTT_0,element:"rtt",fields:{id:Utils.attribute("id"),event:Utils.attribute("event","edit"),seq:Utils.numberAttribute("seq"),actions:{get:function get(){var results=[];for(var i=0,len=this.xml.childNodes.length;i<len;i++){var child=this.xml.childNodes[i];var _name=child.localName;var action={};if(child.namespaceURI!==_xmppConstants.Namespace.RTT_0){continue}if(ACTION_MAP[_name]){action.type=ACTION_MAP[_name]}else{continue}var pos=Utils.getAttribute(child,"p");if(pos){action.pos=parseInt(pos,10)}var n=Utils.getAttribute(child,"n");if(n){action.num=parseInt(n,10)}var t=Utils.getText(child);if(t&&_name==="t"){action.text=t}results.push(action)}return results},set:function set(actions){var self=this;for(var i=0,len=this.xml.childNodes.length;i<len;i++){this.xml.removeChild(this.xml.childNodes[i])}actions.forEach(function(action){if(!TYPE_MAP[action.type]){return}var child=Utils.createElement(_xmppConstants.Namespace.RTT_0,TYPE_MAP[action.type],_xmppConstants.Namespace.RTT_0);if(action.pos!==undefined){Utils.setAttribute(child,"p",action.pos.toString())}if(action.num){Utils.setAttribute(child,"n",action.num.toString())}if(action.text){Utils.setText(child,action.text)}self.xml.appendChild(child)})}}}});JXT.extendMessage(RTT)};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/sasl.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");var CONDITIONS=["aborted","account-disabled","credentials-expired","encryption-required","incorrect-encoding","invalid-authzid","invalid-mechanism","malformed-request","mechanism-too-weak","not-authorized","temporary-auth-failure"];exports["default"]=function(JXT){var Utils=JXT.utils;var Mechanisms=JXT.define({name:"sasl",namespace:_xmppConstants.Namespace.SASL,element:"mechanisms",fields:{mechanisms:Utils.multiTextSub(_xmppConstants.Namespace.SASL,"mechanism")}});JXT.define({name:"saslAuth",eventName:"sasl:auth",namespace:_xmppConstants.Namespace.SASL,element:"auth",topLevel:true,fields:{value:Utils.text(),mechanism:Utils.attribute("mechanism")}});JXT.define({name:"saslChallenge",eventName:"sasl:challenge",namespace:_xmppConstants.Namespace.SASL,element:"challenge",topLevel:true,fields:{value:Utils.text()}});JXT.define({name:"saslResponse",eventName:"sasl:response",namespace:_xmppConstants.Namespace.SASL,element:"response",topLevel:true,fields:{value:Utils.text()}});JXT.define({name:"saslAbort",eventName:"sasl:abort",namespace:_xmppConstants.Namespace.SASL,element:"abort",topLevel:true});JXT.define({name:"saslSuccess",eventName:"sasl:success",namespace:_xmppConstants.Namespace.SASL,element:"success",topLevel:true,fields:{value:Utils.text()}});JXT.define({name:"saslFailure",eventName:"sasl:failure",namespace:_xmppConstants.Namespace.SASL,element:"failure",topLevel:true,fields:{lang:{get:function get(){return this._lang||""},set:function set(value){this._lang=value}},condition:Utils.enumSub(_xmppConstants.Namespace.SASL,CONDITIONS),$text:{get:function get(){return Utils.getSubLangText(this.xml,_xmppConstants.Namespace.SASL,"text",this.lang)}},text:{get:function get(){var text=this.$text;return text[this.lang]||""},set:function set(value){Utils.setSubLangText(this.xml,_xmppConstants.Namespace.SASL,"text",value,this.lang)}}}});JXT.extendStreamFeatures(Mechanisms)};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/session.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){var Session=JXT.define({name:"session",namespace:_xmppConstants.Namespace.SESSION,element:"session",fields:{required:JXT.utils.boolSub(_xmppConstants.Namespace.SESSION,"required"),optional:JXT.utils.boolSub(_xmppConstants.Namespace.SESSION,"optional")}});JXT.extendIQ(Session);JXT.extendStreamFeatures(Session)};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/shim.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){var Utils=JXT.utils;var SHIM={get:function get(){var headerSet=Utils.find(this.xml,_xmppConstants.Namespace.SHIM,"headers");if(headerSet.length){return Utils.getMultiSubText(headerSet[0],_xmppConstants.Namespace.SHIM,"header",function(header){var name=Utils.getAttribute(header,"name");if(name){return{name:name,value:Utils.getText(header)}}})}return[]},set:function set(values){var headerSet=Utils.findOrCreate(this.xml,_xmppConstants.Namespace.SHIM,"headers");JXT.setMultiSubText(headerSet,_xmppConstants.Namespace.SHIM,"header",values,function(val){var header=Utils.createElement(_xmppConstants.Namespace.SHIM,"header",_xmppConstants.Namespace.SHIM);Utils.setAttribute(header,"name",val.name);Utils.setText(header,val.value);headerSet.appendChild(header)})}};JXT.withMessage(function(Message){JXT.add(Message,"headers",SHIM)});JXT.withPresence(function(Presence){JXT.add(Presence,"headers",SHIM)})};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/sm.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){var Utils=JXT.utils;var SMFeature=JXT.define({name:"streamManagement",namespace:_xmppConstants.Namespace.SMACKS_3,element:"sm"});JXT.define({name:"smEnable",eventName:"stream:management:enable",namespace:_xmppConstants.Namespace.SMACKS_3,element:"enable",topLevel:true,fields:{resume:Utils.boolAttribute("resume")}});JXT.define({name:"smEnabled",eventName:"stream:management:enabled",namespace:_xmppConstants.Namespace.SMACKS_3,element:"enabled",topLevel:true,fields:{id:Utils.attribute("id"),resume:Utils.boolAttribute("resume")}});JXT.define({name:"smResume",eventName:"stream:management:resume",namespace:_xmppConstants.Namespace.SMACKS_3,element:"resume",topLevel:true,fields:{h:Utils.numberAttribute("h",false,0),previd:Utils.attribute("previd")}});JXT.define({name:"smResumed",eventName:"stream:management:resumed",namespace:_xmppConstants.Namespace.SMACKS_3,element:"resumed",topLevel:true,fields:{h:Utils.numberAttribute("h",false,0),previd:Utils.attribute("previd")}});JXT.define({name:"smFailed",eventName:"stream:management:failed",namespace:_xmppConstants.Namespace.SMACKS_3,element:"failed",topLevel:true});JXT.define({name:"smAck",eventName:"stream:management:ack",namespace:_xmppConstants.Namespace.SMACKS_3,element:"a",topLevel:true,fields:{h:Utils.numberAttribute("h",false,0)}});JXT.define({name:"smRequest",eventName:"stream:management:request",namespace:_xmppConstants.Namespace.SMACKS_3,element:"r",topLevel:true});JXT.extendStreamFeatures(SMFeature)};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/stream.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){var Utils=JXT.utils;JXT.define({name:"stream",namespace:_xmppConstants.Namespace.STREAM,element:"stream",fields:{lang:Utils.langAttribute(),id:Utils.attribute("id"),version:Utils.attribute("version","1.0"),to:Utils.jidAttribute("to",true),from:Utils.jidAttribute("from",true)}})};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/streamError.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");var CONDITIONS=["bad-format","bad-namespace-prefix","conflict","connection-timeout","host-gone","host-unknown","improper-addressing","internal-server-error","invalid-from","invalid-namespace","invalid-xml","not-authorized","not-well-formed","policy-violation","remote-connection-failed","reset","resource-constraint","restricted-xml","see-other-host","system-shutdown","undefined-condition","unsupported-encoding","unsupported-feature","unsupported-stanza-type","unsupported-version"];exports["default"]=function(JXT){var Utils=JXT.utils;JXT.define({name:"streamError",namespace:_xmppConstants.Namespace.STREAM,element:"error",topLevel:true,fields:{lang:{get:function get(){return this._lang||""},set:function set(value){this._lang=value}},condition:Utils.enumSub(_xmppConstants.Namespace.STREAM_ERROR,CONDITIONS),seeOtherHost:{get:function get(){return Utils.getSubText(this.xml,_xmppConstants.Namespace.STREAM_ERROR,"see-other-host")},set:function set(value){this.condition="see-other-host";Utils.setSubText(this.xml,_xmppConstants.Namespace.STREAM_ERROR,"see-other-host",value)}},$text:{get:function get(){return Utils.getSubLangText(this.xml,_xmppConstants.Namespace.STREAM_ERROR,"text",this.lang)}},text:{get:function get(){var text=this.$text;return text[this.lang]||""},set:function set(value){Utils.setSubLangText(this.xml,_xmppConstants.Namespace.STREAM_ERROR,"text",value,this.lang)}}}})};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/streamFeatures.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){var StreamFeatures=JXT.define({name:"streamFeatures",namespace:_xmppConstants.Namespace.STREAM,element:"features",topLevel:true});var RosterVerFeature=JXT.define({name:"rosterVersioning",namespace:_xmppConstants.Namespace.ROSTER_VERSIONING,element:"ver"});var SubscriptionPreApprovalFeature=JXT.define({name:"subscriptionPreApproval",namespace:_xmppConstants.Namespace.SUBSCRIPTION_PREAPPROVAL,element:"sub"});JXT.extendStreamFeatures(RosterVerFeature);JXT.extendStreamFeatures(SubscriptionPreApprovalFeature)};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/time.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){var EntityTime=JXT.define({name:"time",namespace:_xmppConstants.Namespace.TIME,element:"time",fields:{utc:JXT.utils.dateSub(_xmppConstants.Namespace.TIME,"utc"),tzo:JXT.utils.tzoSub(_xmppConstants.Namespace.TIME,"tzo",0)}});JXT.extendIQ(EntityTime)};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/tune.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){var Utils=JXT.utils;var Tune=JXT.define({name:"tune",namespace:_xmppConstants.Namespace.TUNE,element:"tune",fields:{artist:Utils.textSub(_xmppConstants.Namespace.TUNE,"artist"),length:Utils.numberSub(_xmppConstants.Namespace.TUNE,"length"),rating:Utils.numberSub(_xmppConstants.Namespace.TUNE,"rating"),source:Utils.textSub(_xmppConstants.Namespace.TUNE,"source"),title:Utils.textSub(_xmppConstants.Namespace.TUNE,"title"),track:Utils.textSub(_xmppConstants.Namespace.TUNE,"track"),uri:Utils.textSub(_xmppConstants.Namespace.TUNE,"uri")}});JXT.extendPubsubItem(Tune);JXT.extendMessage(Tune)};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/vcard.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){var Utils=JXT.utils;var VCardTemp=JXT.define({name:"vCardTemp",namespace:_xmppConstants.Namespace.VCARD_TEMP,element:"vCard",fields:{role:Utils.textSub(_xmppConstants.Namespace.VCARD_TEMP,"ROLE"),website:Utils.textSub(_xmppConstants.Namespace.VCARD_TEMP,"URL"),title:Utils.textSub(_xmppConstants.Namespace.VCARD_TEMP,"TITLE"),description:Utils.textSub(_xmppConstants.Namespace.VCARD_TEMP,"DESC"),fullName:Utils.textSub(_xmppConstants.Namespace.VCARD_TEMP,"FN"),birthday:Utils.dateSub(_xmppConstants.Namespace.VCARD_TEMP,"BDAY"),nicknames:Utils.multiTextSub(_xmppConstants.Namespace.VCARD_TEMP,"NICKNAME"),jids:Utils.multiTextSub(_xmppConstants.Namespace.VCARD_TEMP,"JABBERID")}});var Email=JXT.define({name:"_email",namespace:_xmppConstants.Namespace.VCARD_TEMP,element:"EMAIL",fields:{email:Utils.textSub(_xmppConstants.Namespace.VCARD_TEMP,"USERID"),home:Utils.boolSub(_xmppConstants.Namespace.VCARD_TEMP,"HOME"),work:Utils.boolSub(_xmppConstants.Namespace.VCARD_TEMP,"WORK"),preferred:Utils.boolSub(_xmppConstants.Namespace.VCARD_TEMP,"PREF")}});var PhoneNumber=JXT.define({name:"_tel",namespace:_xmppConstants.Namespace.VCARD_TEMP,element:"TEL",fields:{number:Utils.textSub(_xmppConstants.Namespace.VCARD_TEMP,"NUMBER"),home:Utils.boolSub(_xmppConstants.Namespace.VCARD_TEMP,"HOME"),work:Utils.boolSub(_xmppConstants.Namespace.VCARD_TEMP,"WORK"),mobile:Utils.boolSub(_xmppConstants.Namespace.VCARD_TEMP,"CELL"),preferred:Utils.boolSub(_xmppConstants.Namespace.VCARD_TEMP,"PREF")}});var Address=JXT.define({name:"_address",namespace:_xmppConstants.Namespace.VCARD_TEMP,element:"ADR",fields:{street:Utils.textSub(_xmppConstants.Namespace.VCARD_TEMP,"STREET"),street2:Utils.textSub(_xmppConstants.Namespace.VCARD_TEMP,"EXTADD"),country:Utils.textSub(_xmppConstants.Namespace.VCARD_TEMP,"CTRY"),city:Utils.textSub(_xmppConstants.Namespace.VCARD_TEMP,"LOCALITY"),region:Utils.textSub(_xmppConstants.Namespace.VCARD_TEMP,"REGION"),postalCode:Utils.textSub(_xmppConstants.Namespace.VCARD_TEMP,"PCODE"),pobox:Utils.textSub(_xmppConstants.Namespace.VCARD_TEMP,"POBOX"),home:Utils.boolSub(_xmppConstants.Namespace.VCARD_TEMP,"HOME"),work:Utils.boolSub(_xmppConstants.Namespace.VCARD_TEMP,"WORK"),preferred:Utils.boolSub(_xmppConstants.Namespace.VCARD_TEMP,"PREF")}});var Organization=JXT.define({name:"organization",namespace:_xmppConstants.Namespace.VCARD_TEMP,element:"ORG",fields:{name:Utils.textSub(_xmppConstants.Namespace.VCARD_TEMP,"ORGNAME"),unit:Utils.textSub(_xmppConstants.Namespace.VCARD_TEMP,"ORGUNIT")}});var Name=JXT.define({name:"name",namespace:_xmppConstants.Namespace.VCARD_TEMP,element:"N",fields:{family:Utils.textSub(_xmppConstants.Namespace.VCARD_TEMP,"FAMILY"),given:Utils.textSub(_xmppConstants.Namespace.VCARD_TEMP,"GIVEN"),middle:Utils.textSub(_xmppConstants.Namespace.VCARD_TEMP,"MIDDLE"),prefix:Utils.textSub(_xmppConstants.Namespace.VCARD_TEMP,"PREFIX"),suffix:Utils.textSub(_xmppConstants.Namespace.VCARD_TEMP,"SUFFIX")}});var Photo=JXT.define({name:"photo",namespace:_xmppConstants.Namespace.VCARD_TEMP,element:"PHOTO",fields:{type:Utils.textSub(_xmppConstants.Namespace.VCARD_TEMP,"TYPE"),data:Utils.textSub(_xmppConstants.Namespace.VCARD_TEMP,"BINVAL"),url:Utils.textSub(_xmppConstants.Namespace.VCARD_TEMP,"EXTVAL")}});JXT.extend(VCardTemp,Email,"emails");JXT.extend(VCardTemp,Address,"addresses");JXT.extend(VCardTemp,PhoneNumber,"phoneNumbers");JXT.extend(VCardTemp,Organization);JXT.extend(VCardTemp,Name);JXT.extend(VCardTemp,Photo);JXT.extendIQ(VCardTemp)};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/version.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){var Version=JXT.define({name:"version",namespace:_xmppConstants.Namespace.VERSION,element:"query",fields:{name:JXT.utils.textSub(_xmppConstants.Namespace.VERSION,"name"),version:JXT.utils.textSub(_xmppConstants.Namespace.VERSION,"version"),os:JXT.utils.textSub(_xmppConstants.Namespace.VERSION,"os")}});JXT.extendIQ(Version)};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/lib/visibility.js":[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _xmppConstants=require("xmpp-constants");exports["default"]=function(JXT){JXT.withIQ(function(IQ){JXT.add(IQ,"visible",JXT.utils.boolSub(_xmppConstants.Namespace.INVISIBLE_0,"visible"));JXT.add(IQ,"invisible",JXT.utils.boolSub(_xmppConstants.Namespace.INVISIBLE_0,"invisible"))})};module.exports=exports["default"]},{"xmpp-constants":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/babel-runtime/core-js/object/assign.js":[function(require,module,exports){module.exports={default:require("core-js/library/fn/object/assign"),__esModule:true}},{"core-js/library/fn/object/assign":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/babel-runtime/node_modules/core-js/library/fn/object/assign.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/babel-runtime/helpers/interop-require-default.js":[function(require,module,exports){"use strict";exports["default"]=function(obj){return obj&&obj.__esModule?obj:{default:obj}};exports.__esModule=true},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/babel-runtime/node_modules/core-js/library/fn/object/assign.js":[function(require,module,exports){require("../../modules/es6.object.assign");module.exports=require("../../modules/$").core.Object.assign},{"../../modules/$":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/babel-runtime/node_modules/core-js/library/modules/$.js","../../modules/es6.object.assign":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.assign.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/babel-runtime/node_modules/core-js/library/modules/$.assign.js":[function(require,module,exports){var $=require("./$"),enumKeys=require("./$.enum-keys");module.exports=Object.assign||function assign(target,source){var T=Object($.assertDefined(target)),l=arguments.length,i=1;while(l>i){var S=$.ES5Object(arguments[i++]),keys=enumKeys(S),length=keys.length,j=0,key;while(length>j)T[key=keys[j++]]=S[key]}return T}},{"./$":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/babel-runtime/node_modules/core-js/library/modules/$.js","./$.enum-keys":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/babel-runtime/node_modules/core-js/library/modules/$.enum-keys.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/babel-runtime/node_modules/core-js/library/modules/$.def.js":[function(require,module,exports){var $=require("./$"),global=$.g,core=$.core,isFunction=$.isFunction;function ctx(fn,that){return function(){return fn.apply(that,arguments)}}$def.F=1;$def.G=2;$def.S=4;$def.P=8;$def.B=16;$def.W=32;function $def(type,name,source){var key,own,out,exp,isGlobal=type&$def.G,isProto=type&$def.P,target=isGlobal?global:type&$def.S?global[name]:(global[name]||{}).prototype,exports=isGlobal?core:core[name]||(core[name]={});if(isGlobal)source=name;for(key in source){own=!(type&$def.F)&&target&&key in target;if(own&&key in exports)continue;out=own?target[key]:source[key];if(isGlobal&&!isFunction(target[key]))exp=source[key];else if(type&$def.B&&own)exp=ctx(out,global);else if(type&$def.W&&target[key]==out)!function(C){exp=function(param){return this instanceof C?new C(param):C(param)};exp.prototype=C.prototype}(out);else exp=isProto&&isFunction(out)?ctx(Function.call,out):out;exports[key]=exp;if(isProto)(exports.prototype||(exports.prototype={}))[key]=out}}module.exports=$def},{"./$":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/babel-runtime/node_modules/core-js/library/modules/$.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/babel-runtime/node_modules/core-js/library/modules/$.enum-keys.js":[function(require,module,exports){var $=require("./$");module.exports=function(it){var keys=$.getKeys(it),getDesc=$.getDesc,getSymbols=$.getSymbols;if(getSymbols)$.each.call(getSymbols(it),function(key){if(getDesc(it,key).enumerable)keys.push(key)});return keys}},{"./$":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/babel-runtime/node_modules/core-js/library/modules/$.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/babel-runtime/node_modules/core-js/library/modules/$.fw.js":[function(require,module,exports){module.exports=function($){$.FW=false;$.path=$.core;return $}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/babel-runtime/node_modules/core-js/library/modules/$.js":[function(require,module,exports){"use strict";var global=typeof self!="undefined"?self:Function("return this")(),core={},defineProperty=Object.defineProperty,hasOwnProperty={}.hasOwnProperty,ceil=Math.ceil,floor=Math.floor,max=Math.max,min=Math.min;var DESC=!!function(){try{return defineProperty({},"a",{get:function(){return 2}}).a==2}catch(e){}}();var hide=createDefiner(1);function toInteger(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it)}function desc(bitmap,value){return{enumerable:!(bitmap&1),configurable:!(bitmap&2),writable:!(bitmap&4),value:value}}function simpleSet(object,key,value){object[key]=value;return object}function createDefiner(bitmap){return DESC?function(object,key,value){return $.setDesc(object,key,desc(bitmap,value))}:simpleSet}function isObject(it){return it!==null&&(typeof it=="object"||typeof it=="function")}function isFunction(it){return typeof it=="function"}function assertDefined(it){if(it==undefined)throw TypeError("Can't call method on  "+it);return it}var $=module.exports=require("./$.fw")({g:global,core:core,html:global.document&&document.documentElement,isObject:isObject,isFunction:isFunction,that:function(){return this},toInteger:toInteger,toLength:function(it){return it>0?min(toInteger(it),9007199254740991):0},toIndex:function(index,length){index=toInteger(index);return index<0?max(index+length,0):min(index,length)},has:function(it,key){return hasOwnProperty.call(it,key)},create:Object.create,getProto:Object.getPrototypeOf,DESC:DESC,desc:desc,getDesc:Object.getOwnPropertyDescriptor,setDesc:defineProperty,setDescs:Object.defineProperties,getKeys:Object.keys,getNames:Object.getOwnPropertyNames,getSymbols:Object.getOwnPropertySymbols,assertDefined:assertDefined,ES5Object:Object,toObject:function(it){return $.ES5Object(assertDefined(it))},hide:hide,def:createDefiner(0),set:global.Symbol?simpleSet:hide,each:[].forEach});if(typeof __e!="undefined")__e=core;if(typeof __g!="undefined")__g=global},{"./$.fw":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/babel-runtime/node_modules/core-js/library/modules/$.fw.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.assign.js":[function(require,module,exports){var $def=require("./$.def");$def($def.S,"Object",{assign:require("./$.assign")})},{"./$.assign":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/babel-runtime/node_modules/core-js/library/modules/$.assign.js","./$.def":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/babel-runtime/node_modules/core-js/library/modules/$.def.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp-types/node_modules/xmpp-constants/index.js"][0].apply(exports,arguments)},{"./lib/jingle":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/lib/jingle.js","./lib/muc":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/lib/muc.js","./lib/namespaces":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/lib/namespaces.js","./lib/presence":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/lib/presence.js","./lib/pubsub":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/lib/pubsub.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/lib/jingle.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp-types/node_modules/xmpp-constants/lib/jingle.js"][0].apply(exports,arguments)},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/lib/muc.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp-types/node_modules/xmpp-constants/lib/muc.js"][0].apply(exports,arguments)},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/lib/namespaces.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp-types/node_modules/xmpp-constants/lib/namespaces.js"][0].apply(exports,arguments)},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/lib/presence.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp-types/node_modules/xmpp-constants/lib/presence.js"][0].apply(exports,arguments)},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp/node_modules/xmpp-constants/lib/pubsub.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt-xmpp-types/node_modules/xmpp-constants/lib/pubsub.js"][0].apply(exports,arguments)},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt/index.js":[function(require,module,exports){"use strict";var extend=require("lodash.assign");var uuid=require("uuid");var ltx=require("ltx");var types=require("./lib/types");var helpers=require("./lib/helpers");var stanzaConstructor=require("./lib/stanza");function JXT(){this._LOOKUP={};this._LOOKUP_EXT={};this._TAGS={};this._CB_DEFINITION={};this._CB_TAG={};this._ID=uuid.v4();this.utils=extend({},types,helpers)}JXT.prototype.use=function(init){if(!init["__JXT_LOADED_"+this._ID]){init(this)}init["__JXT_LOADED_"+this._ID]=true;return this};JXT.prototype.getDefinition=function(el,ns,required){var JXTClass=this._LOOKUP[ns+"|"+el];if(required&&!JXTClass){throw new Error("Could not find definition for <"+el+' xmlns="'+ns+'" />')}return JXTClass};JXT.prototype.getExtensions=function(el,ns){return this._LOOKUP_EXT[ns+"|"+el]||{}};JXT.prototype.withDefinition=function(el,ns,cb){var name=ns+"|"+el;if(!this._CB_DEFINITION[name]){this._CB_DEFINITION[name]=[]}this._CB_DEFINITION[name].push(cb);if(this._LOOKUP[name]){cb(this._LOOKUP[name])}};JXT.prototype.withTag=function(tag,cb){if(!this._CB_TAG[tag]){this._CB_TAG[tag]=[]}this._CB_TAG[tag].push(cb);this.tagged(tag).forEach(function(stanza){cb(stanza)})};JXT.prototype.tagged=function(tag){return this._TAGS[tag]||[]};JXT.prototype.build=function(xml){var JXTClass=this.getDefinition(xml.localName,xml.namespaceURI);if(JXTClass){return new JXTClass(null,xml)}};JXT.prototype.parse=function(str){var xml=ltx.parse(str);if(xml.nodeType!==1){return}return this.build(xml)};JXT.prototype.extend=function(ParentJXT,ChildJXT,multiName,hideSingle){var parentName=ParentJXT.prototype._NS+"|"+ParentJXT.prototype._EL;var name=ChildJXT.prototype._name;var qName=ChildJXT.prototype._NS+"|"+ChildJXT.prototype._EL;this._LOOKUP[qName]=ChildJXT;if(!this._LOOKUP_EXT[qName]){this._LOOKUP_EXT[qName]={}}if(!this._LOOKUP_EXT[parentName]){this._LOOKUP_EXT[parentName]={}}this._LOOKUP_EXT[parentName][name]=ChildJXT;if(!multiName||multiName&&!hideSingle){this.add(ParentJXT,name,types.extension(ChildJXT))}if(multiName){this.add(ParentJXT,multiName,types.multiExtension(ChildJXT))}};JXT.prototype.add=function(ParentJXT,fieldName,field){field.enumerable=true;Object.defineProperty(ParentJXT.prototype,fieldName,field)};JXT.prototype.define=function(opts){var self=this;var Stanza=stanzaConstructor(this,opts);var ns=Stanza.prototype._NS;var el=Stanza.prototype._EL;var tags=Stanza.prototype._TAGS;var name=ns+"|"+el;this._LOOKUP[name]=Stanza;tags.forEach(function(tag){if(!self._TAGS[tag]){self._TAGS[tag]=[]}self._TAGS[tag].push(Stanza)});var fieldNames=Object.keys(opts.fields||{});fieldNames.forEach(function(fieldName){self.add(Stanza,fieldName,opts.fields[fieldName])});if(this._CB_DEFINITION[name]){this._CB_DEFINITION[name].forEach(function(handler){handler(Stanza)})}tags.forEach(function(tag){if(self._CB_TAG[tag]){self._CB_TAG[tag].forEach(function(handler){handler(Stanza)})}});return Stanza};JXT.createRegistry=function(){return new JXT};extend(JXT,helpers);extend(JXT,types);var globalJXT=new JXT;JXT.define=globalJXT.define.bind(globalJXT);JXT.extend=globalJXT.extend.bind(globalJXT);JXT.add=globalJXT.add.bind(globalJXT);JXT.parse=globalJXT.parse.bind(globalJXT);JXT.build=globalJXT.build.bind(globalJXT);JXT.getExtensions=globalJXT.getExtensions.bind(globalJXT);JXT.getDefinition=globalJXT.getDefinition.bind(globalJXT);JXT.withDefinition=globalJXT.withDefinition.bind(globalJXT);JXT.withTag=globalJXT.withTag.bind(globalJXT);JXT.tagged=globalJXT.tagged.bind(globalJXT);JXT.getGlobalJXT=function(){return globalJXT};module.exports=JXT},{"./lib/helpers":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt/lib/helpers.js","./lib/stanza":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt/lib/stanza.js","./lib/types":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt/lib/types.js","lodash.assign":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.assign/index.js",ltx:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt/node_modules/ltx/lib/index-browserify.js",uuid:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/uuid/uuid.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt/lib/helpers.js":[function(require,module,exports){"use strict";var ltx=require("ltx");var XML_NS=exports.XML_NS="http://www.w3.org/XML/1998/namespace";exports.createElement=function(NS,name,parentNS){var el=new ltx.Element(name);if(!parentNS||parentNS!==NS){exports.setAttribute(el,"xmlns",NS)}return el};var find=exports.find=function(xml,NS,selector){var results=[];var children=xml.getElementsByTagName(selector);for(var i=0,len=children.length;i<len;i++){var child=children[i];if(child.namespaceURI===NS&&child.parentNode===xml){results.push(child)}}return results};exports.findOrCreate=function(xml,NS,selector){var existing=exports.find(xml,NS,selector);if(existing.length){return existing[0]}else{var created=exports.createElement(NS,selector,xml.namespaceURI);xml.appendChild(created);return created}};exports.getAttribute=function(xml,attr,defaultVal){return xml.getAttribute(attr)||defaultVal||""};exports.getAttributeNS=function(xml,NS,attr,defaultVal){return xml.getAttributeNS(NS,attr)||defaultVal||""};exports.setAttribute=function(xml,attr,value,force){if(value||force){xml.setAttribute(attr,value)}else{xml.removeAttribute(attr)}};exports.setAttributeNS=function(xml,NS,attr,value,force){if(value||force){xml.setAttributeNS(NS,attr,value)}else{xml.removeAttributeNS(NS,attr)}};exports.getBoolAttribute=function(xml,attr,defaultVal){var val=xml.getAttribute(attr)||defaultVal||"";return val==="true"||val==="1"};exports.setBoolAttribute=function(xml,attr,value){if(value){xml.setAttribute(attr,"1")}else{xml.removeAttribute(attr)}};exports.getSubAttribute=function(xml,NS,sub,attr,defaultVal){var subs=find(xml,NS,sub);if(!subs){return""}for(var i=0;i<subs.length;i++){return subs[i].getAttribute(attr)||defaultVal||""}return""};exports.setSubAttribute=function(xml,NS,sub,attr,value){var subs=find(xml,NS,sub);if(!subs.length){if(value){sub=exports.createElement(NS,sub,xml.namespaceURI);sub.setAttribute(attr,value);xml.appendChild(sub)}}else{for(var i=0;i<subs.length;i++){if(value){subs[i].setAttribute(attr,value);return}else{subs[i].removeAttribute(attr)}}}};exports.getBoolSubAttribute=function(xml,NS,sub,attr,defaultVal){var val=xml.getSubAttribute(NS,sub,attr)||defaultVal||"";return val==="true"||val==="1"};exports.setBoolSubAttribute=function(xml,NS,sub,attr,value){value=value?"1":"";exports.setSubAttribute(xml,NS,sub,attr,value)};exports.getText=function(xml){return xml.textContent};exports.setText=function(xml,value){xml.textContent=value};exports.getSubText=exports.getTextSub=function(xml,NS,element,defaultVal){var subs=find(xml,NS,element);defaultVal=defaultVal||"";if(!subs.length){return defaultVal}return subs[0].textContent||defaultVal};exports.setSubText=exports.setTextSub=function(xml,NS,element,value){var subs=find(xml,NS,element);if(subs.length){for(var i=0;i<subs.length;i++){xml.removeChild(subs[i])}}if(value){var sub=exports.createElement(NS,element,xml.namespaceURI);if(value!==true){sub.textContent=value}xml.appendChild(sub)}};exports.getMultiSubText=function(xml,NS,element,extractor){var subs=find(xml,NS,element);var results=[];extractor=extractor||function(sub){return sub.textContent||""};for(var i=0;i<subs.length;i++){results.push(extractor(subs[i]))}return results};exports.setMultiSubText=function(xml,NS,element,value,builder){var subs=find(xml,NS,element);var values=[];builder=builder||function(value){if(value){var sub=exports.createElement(NS,element,xml.namespaceURI);sub.textContent=value;xml.appendChild(sub)}};if(typeof value==="string"){values=(value||"").split("\n")}else{values=value}var i,len;for(i=0,len=subs.length;i<len;i++){xml.removeChild(subs[i])}for(i=0,len=values.length;i<len;i++){builder(values[i])}};exports.getMultiSubAttribute=function(xml,NS,element,attr){return exports.getMultiSubText(xml,NS,element,function(sub){return exports.getAttribute(sub,attr)})};exports.setMultiSubAttribute=function(xml,NS,element,attr,value){exports.setMultiSubText(xml,NS,element,value,function(val){var sub=exports.createElement(NS,element,xml.namespaceURI);exports.setAttribute(sub,attr,val);xml.appendChild(sub)})};exports.getSubLangText=function(xml,NS,element,defaultLang){var subs=find(xml,NS,element);if(!subs.length){return{}}var lang,sub;var results={};var langs=[];for(var i=0;i<subs.length;i++){sub=subs[i];lang=sub.getAttributeNS(XML_NS,"lang")||defaultLang;langs.push(lang);results[lang]=sub.textContent||""}return results};exports.setSubLangText=function(xml,NS,element,value,defaultLang){var sub,lang;var subs=find(xml,NS,element);if(subs.length){for(var i=0;i<subs.length;i++){xml.removeChild(subs[i])}}if(typeof value==="string"){sub=exports.createElement(NS,element,xml.namespaceURI);sub.textContent=value;xml.appendChild(sub)}else if(typeof value==="object"){for(lang in value){if(value.hasOwnProperty(lang)){sub=exports.createElement(NS,element,xml.namespaceURI);if(lang!==defaultLang){sub.setAttributeNS(XML_NS,"lang",lang)}sub.textContent=value[lang];xml.appendChild(sub)}}}};exports.getBoolSub=function(xml,NS,element){var subs=find(xml,NS,element);return!!subs.length};exports.setBoolSub=function(xml,NS,element,value){var subs=find(xml,NS,element);if(!subs.length){if(value){var sub=exports.createElement(NS,element,xml.namespaceURI);xml.appendChild(sub)}}else{for(var i=0;i<subs.length;i++){if(value){return}else{xml.removeChild(subs[i])}}}}},{ltx:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt/node_modules/ltx/lib/index-browserify.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt/lib/stanza.js":[function(require,module,exports){"use strict";var helpers=require("./helpers");var extend=require("lodash.assign");var EXCLUDE={constructor:true,parent:true,prototype:true,toJSON:true,toString:true,xml:true};module.exports=function(JXT,opts){function Stanza(data,xml,parent){var self=this;var parentNode=(xml||{}).parentNode||(parent||{}).xml;var parentNS=(parentNode||{}).namespaceURI;self.xml=xml||helpers.createElement(self._NS,self._EL,parentNS);Object.keys(self._PREFIXES).forEach(function(prefix){var namespace=self._PREFIXES[prefix];self.xml.setAttribute("xmlns:"+prefix,namespace)});self._extensions={};for(var i=0,len=self.xml.childNodes.length;i<len;i++){var child=self.xml.childNodes[i];var ChildJXT=JXT.getDefinition(child.localName,child.namespaceURI);if(ChildJXT!==undefined){var name=ChildJXT.prototype._name;self._extensions[name]=new ChildJXT(null,child);self._extensions[name].parent=self}}extend(self,data);if(opts.init){opts.init.apply(self,[data])}return self}Stanza.prototype._name=opts.name;Stanza.prototype._eventname=opts.eventName;Stanza.prototype._NS=opts.namespace;Stanza.prototype._EL=opts.element||opts.name;Stanza.prototype._PREFIXES=opts.prefixes||{};Stanza.prototype._TAGS=opts.tags||[];Stanza.prototype.toString=function(){return this.xml.toString()};Stanza.prototype.toJSON=function(){var prop;var result={};for(prop in this._extensions){if(this._extensions[prop].toJSON&&prop[0]!=="_"){result[prop]=this._extensions[prop].toJSON()}}for(prop in this){var allowedName=!EXCLUDE[prop]&&prop[0]!=="_";var isExtensionName=JXT.getExtensions(this._EL,this._NS)[prop];if(allowedName&&!isExtensionName){var val=this[prop];if(typeof val==="function"){continue}var type=Object.prototype.toString.call(val);if(type.indexOf("Object")>=0){if(Object.keys(val).length>0){result[prop]=val}}else if(type.indexOf("Array")>=0){if(val.length>0){var vals=[];var len=val.length;for(var n=0;n<len;n++){var nval=val[n];if(typeof nval!=="undefined"){if(nval.toJSON!==undefined){vals.push(nval.toJSON())}else{vals.push(nval)}}}result[prop]=vals}}else if(val!==undefined&&val!==false&&val!==""){result[prop]=val}}}return result};return Stanza}},{"./helpers":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt/lib/helpers.js","lodash.assign":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.assign/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt/lib/types.js":[function(require,module,exports){(function(Buffer){"use strict";var helpers=require("./helpers");var extend=require("lodash.assign");var find=helpers.find;var createElement=helpers.createElement;var field=exports.field=function(getter,setter){return function(){var args=Array.prototype.slice.call(arguments);return{get:function(){return getter.apply(null,[this.xml].concat(args))},set:function(value){setter.apply(null,[this.xml].concat(args).concat([value]))}}}};exports.boolAttribute=field(helpers.getBoolAttribute,helpers.setBoolAttribute);exports.subAttribute=field(helpers.getSubAttribute,helpers.setSubAttribute);exports.boolSubAttribute=field(helpers.getSubBoolAttribute,helpers.setSubBoolAttribute);exports.text=field(helpers.getText,helpers.setText);exports.textSub=exports.subText=field(helpers.getSubText,helpers.setSubText);exports.multiTextSub=exports.multiSubText=field(helpers.getMultiSubText,helpers.setMultiSubText);exports.multiSubAttribute=field(helpers.getMultiSubAttribute,helpers.setMultiSubAttribute);exports.langTextSub=exports.subLangText=field(helpers.getSubLangText,helpers.setSubLangText);exports.boolSub=field(helpers.getBoolSub,helpers.setBoolSub);exports.langAttribute=field(function(xml){return xml.getAttributeNS(helpers.XML_NS,"lang")||""},function(xml,value){xml.setAttributeNS(helpers.XML_NS,"lang",value)});exports.b64Text=field(function(xml){if(xml.textContent&&xml.textContent!=="="){return new Buffer(xml.textContent,"base64")}return""},function(xml,value){if(typeof value==="string"){var b64=new Buffer(value).toString("base64");xml.textContent=b64||"="}else{xml.textContent=""}});exports.dateAttribute=function(attr,now){return{get:function(){var data=helpers.getAttribute(this.xml,attr);if(data){return new Date(data)}if(now){return new Date(Date.now())}},set:function(value){if(!value){return}if(typeof value!=="string"){value=value.toISOString()}helpers.setAttribute(this.xml,attr,value)}}};exports.dateSub=function(NS,sub,now){return{get:function(){var data=helpers.getSubText(this.xml,NS,sub);if(data){return new Date(data)}if(now){return new Date(Date.now())}},set:function(value){if(!value){return}if(typeof value!=="string"){value=value.toISOString()}helpers.setSubText(this.xml,NS,sub,value)}}};exports.dateSubAttribute=function(NS,sub,attr,now){return{get:function(){var data=helpers.getSubAttribute(this.xml,NS,sub,attr);if(data){return new Date(data)}if(now){return new Date(Date.now())}},set:function(value){if(!value){return}if(typeof value!=="string"){value=value.toISOString()}helpers.setSubAttribute(this.xml,NS,sub,attr,value)}}};exports.numberAttribute=function(attr,isFloat,defaultVal){return{get:function(){var parse=isFloat?parseFloat:parseInt;var data=helpers.getAttribute(this.xml,attr,"");if(!data){return defaultVal}var parsed=parse(data,10);if(isNaN(parsed)){return defaultVal}return parsed},set:function(value){helpers.setAttribute(this.xml,attr,value.toString())}}};exports.numberSub=function(NS,sub,isFloat,defaultVal){return{get:function(){var parse=isFloat?parseFloat:parseInt;var data=helpers.getSubText(this.xml,NS,sub,"");if(!data){return defaultVal}var parsed=parse(data,10);if(isNaN(parsed)){return defaultVal}return parsed},set:function(value){helpers.setSubText(this.xml,NS,sub,value.toString())}}};exports.attribute=function(name,defaultVal){return{get:function(){return helpers.getAttribute(this.xml,name,defaultVal)},set:function(value){helpers.setAttribute(this.xml,name,value)}}};exports.attributeNS=function(NS,name,defaultVal){return{get:function(){return helpers.getAttributeNS(this.xml,NS,name,defaultVal)},set:function(value){helpers.setAttributeNS(this.xml,NS,name,value)}}};exports.extension=function(ChildJXT){return{get:function(){var self=this;var name=ChildJXT.prototype._name;if(!this._extensions[name]){var existing=find(this.xml,ChildJXT.prototype._NS,ChildJXT.prototype._EL);if(!existing.length){this._extensions[name]=new ChildJXT({},null,self);this.xml.appendChild(this._extensions[name].xml)}else{this._extensions[name]=new ChildJXT(null,existing[0],self)}this._extensions[name].parent=this}return this._extensions[name]},set:function(value){if(value){var child=this[ChildJXT.prototype._name];if(value===true){value={}}extend(child,value)}}}};exports.multiExtension=function(ChildJXT){return{get:function(){var self=this;var data=find(this.xml,ChildJXT.prototype._NS,ChildJXT.prototype._EL);var results=[];for(var i=0,len=data.length;i<len;i++){results.push(new ChildJXT({},data[i],self))}return results},set:function(value){value=value||[];var self=this;var existing=find(this.xml,ChildJXT.prototype._NS,ChildJXT.prototype._EL);var i,len;for(i=0,len=existing.length;i<len;i++){self.xml.removeChild(existing[i])}for(i=0,len=value.length;i<len;i++){var content=new ChildJXT(value[i],null,self);self.xml.appendChild(content.xml)}}}};exports.enumSub=function(NS,enumValues){return{get:function(){var self=this;var result=[];enumValues.forEach(function(enumVal){var exists=find(self.xml,NS,enumVal);if(exists.length){result.push(exists[0].nodeName)}});return result[0]||""},set:function(value){var self=this;var alreadyExists=false;enumValues.forEach(function(enumVal){var elements=find(self.xml,NS,enumVal);if(elements.length){if(enumVal===value){alreadyExists=true}else{self.xml.removeChild(elements[0])}}});if(value&&!alreadyExists){var condition=createElement(NS,value);this.xml.appendChild(condition)}}}};exports.subExtension=function(name,NS,sub,ChildJXT){return{get:function(){if(!this._extensions[name]){var wrapper=find(this.xml,NS,sub);if(!wrapper.length){wrapper=createElement(NS,sub,this._NS);this.xml.appendChild(wrapper)}else{wrapper=wrapper[0]}var existing=find(wrapper,ChildJXT.prototype._NS,ChildJXT.prototype._EL);if(!existing.length){this._extensions[name]=new ChildJXT({},null,{xml:wrapper});wrapper.appendChild(this._extensions[name].xml)}else{this._extensions[name]=new ChildJXT(null,existing[0],{xml:wrapper})}this._extensions[name].parent=this}return this._extensions[name]},set:function(value){var wrapper=find(this.xml,NS,sub);if(wrapper.length&&!value){this.xml.removeChild(wrapper[0])}if(value){var child=this[name];if(value===true){value={}}extend(child,value)}}}};exports.subMultiExtension=function(NS,sub,ChildJXT){return{get:function(){var self=this;var results=[];var existing=find(this.xml,NS,sub);if(!existing.length){return results}existing=existing[0];var data=find(existing,ChildJXT.prototype._NS,ChildJXT.prototype._EL);data.forEach(function(xml){results.push(new ChildJXT({},xml,self))});return results},set:function(values){var self=this;var existing=find(this.xml,NS,sub);if(existing.length){self.xml.removeChild(existing[0])}if(!values.length){return}existing=createElement(NS,sub,this._NS);values.forEach(function(value){var content=new ChildJXT(value,null,self);existing.appendChild(content.xml)});self.xml.appendChild(existing)}}}}).call(this,require("buffer").Buffer)},{"./helpers":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt/lib/helpers.js",buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js","lodash.assign":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.assign/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt/node_modules/ltx/lib/dom-element.js":[function(require,module,exports){"use strict";var util=require("util"),Element=require("./element").Element;function DOMElement(name,attrs){Element.call(this,name,attrs);this.nodeType=1;this.nodeName=this.localName}util.inherits(DOMElement,Element);DOMElement.prototype._getElement=function(name,attrs){var element=new DOMElement(name,attrs);return element};Object.defineProperty(DOMElement.prototype,"localName",{get:function(){return this.getName()}});Object.defineProperty(DOMElement.prototype,"namespaceURI",{get:function(){return this.getNS()}});Object.defineProperty(DOMElement.prototype,"parentNode",{get:function(){return this.parent}});Object.defineProperty(DOMElement.prototype,"childNodes",{get:function(){return this.children}});Object.defineProperty(DOMElement.prototype,"textContent",{get:function(){return this.getText()},set:function(value){this.children.push(value)}});DOMElement.prototype.getElementsByTagName=function(name){return this.getChildren(name)};DOMElement.prototype.getAttribute=function(name){return this.getAttr(name)};DOMElement.prototype.setAttribute=function(name,value){this.attr(name,value)};DOMElement.prototype.getAttributeNS=function(ns,name){if(ns==="http://www.w3.org/XML/1998/namespace"){return this.getAttr(["xml",name].join(":"))}return this.getAttr(name,ns)};DOMElement.prototype.setAttributeNS=function(ns,name,value){var prefix;if(ns==="http://www.w3.org/XML/1998/namespace"){prefix="xml"}else{var nss=this.getXmlns();prefix=nss[ns]||""}if(prefix){this.attr([prefix,name].join(":"),value)}};DOMElement.prototype.removeAttribute=function(name){this.attr(name,null)};DOMElement.prototype.removeAttributeNS=function(ns,name){var prefix;if(ns==="http://www.w3.org/XML/1998/namespace"){prefix="xml"}else{var nss=this.getXmlns();prefix=nss[ns]||""}if(prefix){this.attr([prefix,name].join(":"),null)}};DOMElement.prototype.appendChild=function(el){this.cnode(el)};DOMElement.prototype.removeChild=function(el){this.remove(el)};module.exports=DOMElement},{"./element":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt/node_modules/ltx/lib/element.js",util:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/util/util.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt/node_modules/ltx/lib/element.js":[function(require,module,exports){"use strict";function Element(name,attrs){this.name=name;this.parent=null;this.children=[];this.setAttrs(attrs)}Element.prototype.is=function(name,xmlns){return this.getName()===name&&(!xmlns||this.getNS()===xmlns)};Element.prototype.getName=function(){if(this.name.indexOf(":")>=0){return this.name.substr(this.name.indexOf(":")+1)}else{return this.name}};Element.prototype.getNS=function(){if(this.name.indexOf(":")>=0){var prefix=this.name.substr(0,this.name.indexOf(":"));return this.findNS(prefix)}return this.findNS()};Element.prototype.findNS=function(prefix){if(!prefix){if(this.attrs.xmlns){return this.attrs.xmlns}else if(this.parent){return this.parent.findNS()}}else{var attr="xmlns:"+prefix;if(this.attrs[attr]){return this.attrs[attr]}else if(this.parent){return this.parent.findNS(prefix)}}};Element.prototype.getXmlns=function(){var namespaces={};if(this.parent){namespaces=this.parent.getXmlns()}for(var attr in this.attrs){var m=attr.match("xmlns:?(.*)");if(this.attrs.hasOwnProperty(attr)&&m){namespaces[this.attrs[attr]]=m[1]}}return namespaces};Element.prototype.setAttrs=function(attrs){this.attrs={};if(typeof attrs==="string")this.attrs.xmlns=attrs;else if(attrs){Object.keys(attrs).forEach(function(key){this.attrs[key]=attrs[key]},this)}};Element.prototype.getAttr=function(name,xmlns){if(!xmlns){return this.attrs[name]}var namespaces=this.getXmlns();if(!namespaces[xmlns]){return null}return this.attrs[[namespaces[xmlns],name].join(":")]};Element.prototype.getChild=function(name,xmlns){return this.getChildren(name,xmlns)[0]};Element.prototype.getChildren=function(name,xmlns){var result=[];for(var i=0;i<this.children.length;i++){var child=this.children[i];if(child.getName&&child.getName()===name&&(!xmlns||child.getNS()===xmlns))result.push(child)}return result};Element.prototype.getChildByAttr=function(attr,val,xmlns,recursive){return this.getChildrenByAttr(attr,val,xmlns,recursive)[0]};Element.prototype.getChildrenByAttr=function(attr,val,xmlns,recursive){var result=[];for(var i=0;i<this.children.length;i++){var child=this.children[i];if(child.attrs&&child.attrs[attr]===val&&(!xmlns||child.getNS()===xmlns))result.push(child);if(recursive&&child.getChildrenByAttr){result.push(child.getChildrenByAttr(attr,val,xmlns,true))}}if(recursive){result=[].concat.apply([],result)}return result};Element.prototype.getChildrenByFilter=function(filter,recursive){var result=[];for(var i=0;i<this.children.length;i++){var child=this.children[i];if(filter(child))result.push(child);if(recursive&&child.getChildrenByFilter){result.push(child.getChildrenByFilter(filter,true))}}if(recursive){result=[].concat.apply([],result)}return result};Element.prototype.getText=function(){var text="";for(var i=0;i<this.children.length;i++){var child=this.children[i];if(typeof child==="string"||typeof child==="number"){text+=child}}return text};Element.prototype.getChildText=function(name,xmlns){var child=this.getChild(name,xmlns);return child?child.getText():null};Element.prototype.getChildElements=function(){return this.getChildrenByFilter(function(child){return child instanceof Element})};Element.prototype.root=function(){if(this.parent){return this.parent.root()}return this};Element.prototype.tree=Element.prototype.root;Element.prototype.up=function(){if(this.parent){return this.parent}return this};Element.prototype._getElement=function(name,attrs){var element=new Element(name,attrs);return element};Element.prototype.c=function(name,attrs){return this.cnode(this._getElement(name,attrs))};Element.prototype.cnode=function(child){this.children.push(child);if(typeof child==="object"){child.parent=this}return child};Element.prototype.t=function(text){this.children.push(text);return this};Element.prototype.remove=function(el,xmlns){var filter;if(typeof el==="string"){filter=function(child){return!(child.is&&child.is(el,xmlns))}}else{filter=function(child){return child!==el}}this.children=this.children.filter(filter);return this};Element.prototype.clone=function(){var clone=this._getElement(this.name,this.attrs);for(var i=0;i<this.children.length;i++){var child=this.children[i];clone.cnode(child.clone?child.clone():child)}return clone};Element.prototype.text=function(val){if(val&&this.children.length===1){this.children[0]=val;return this}return this.getText()};Element.prototype.attr=function(attr,val){if(typeof val!=="undefined"||val===null){if(!this.attrs){this.attrs={}}this.attrs[attr]=val;return this}return this.attrs[attr]};Element.prototype.toString=function(){var s="";this.write(function(c){s+=c});return s};Element.prototype.toJSON=function(){return{name:this.name,attrs:this.attrs,children:this.children.map(function(child){return child&&child.toJSON?child.toJSON():child})}};Element.prototype._addChildren=function(writer){writer(">");for(var i=0;i<this.children.length;i++){var child=this.children[i];if(child||child===0){if(child.write){child.write(writer)}else if(typeof child==="string"){writer(escapeXmlText(child))}else if(child.toString){writer(escapeXmlText(child.toString(10)))}}}writer("</");writer(this.name);writer(">")};Element.prototype.write=function(writer){writer("<");writer(this.name);for(var k in this.attrs){var v=this.attrs[k];if(v||v===""||v===0){writer(" ");writer(k);writer('="');if(typeof v!=="string"){v=v.toString(10)}writer(escapeXml(v));writer('"')}}if(this.children.length===0){writer("/>")}else{this._addChildren(writer)}};function escapeXml(s){return s.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/"/g,"&apos;")}function escapeXmlText(s){return s.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}exports.Element=Element;exports.escapeXml=escapeXml},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt/node_modules/ltx/lib/index-browserify.js":[function(require,module,exports){"use strict";var parse=require("./parse");parse.availableSaxParsers.push(parse.bestSaxParser=require("./sax/sax_ltx"));module.exports=require("./index")},{"./index":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt/node_modules/ltx/lib/index.js","./parse":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt/node_modules/ltx/lib/parse.js","./sax/sax_ltx":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt/node_modules/ltx/lib/sax/sax_ltx.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt/node_modules/ltx/lib/index.js":[function(require,module,exports){"use strict";var parse=require("./parse");exports.Element=require("./dom-element");exports.escapeXml=require("./element").escapeXml;exports.parse=parse.parse;exports.Parser=parse.Parser;exports.availableSaxParsers=parse.availableSaxParsers;exports.bestSaxParser=parse.bestSaxParser},{"./dom-element":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt/node_modules/ltx/lib/dom-element.js","./element":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt/node_modules/ltx/lib/element.js","./parse":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt/node_modules/ltx/lib/parse.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt/node_modules/ltx/lib/parse.js":[function(require,module,exports){"use strict";var events=require("events"),util=require("util"),DOMElement=require("./dom-element");exports.availableSaxParsers=[];exports.bestSaxParser=null;var saxParsers=["./sax/sax_expat.js","./sax/sax_ltx.js","./sax/sax_saxjs.js"];saxParsers.forEach(function(modName){var mod;try{mod=require(modName)}catch(e){}if(mod){exports.availableSaxParsers.push(mod);if(!exports.bestSaxParser){exports.bestSaxParser=mod}}});exports.Parser=function(saxParser){events.EventEmitter.call(this);var self=this;var ParserMod=saxParser||exports.bestSaxParser;if(!ParserMod){throw new Error("No SAX parser available")}this.parser=new ParserMod;var el;this.parser.addListener("startElement",function(name,attrs){var child=new DOMElement(name,attrs);if(!el){el=child}else{el=el.cnode(child)}});this.parser.addListener("endElement",function(name){if(!el){}else if(name===el.name){if(el.parent){el=el.parent}else if(!self.tree){self.tree=el;el=undefined}}});this.parser.addListener("text",function(str){if(el){el.t(str)}});this.parser.addListener("error",function(e){self.error=e;self.emit("error",e)})};util.inherits(exports.Parser,events.EventEmitter);exports.Parser.prototype.write=function(data){this.parser.write(data)};exports.Parser.prototype.end=function(data){this.parser.end(data);if(!this.error){if(this.tree){this.emit("tree",this.tree)}else{this.emit("error",new Error("Incomplete document"))}}};exports.parse=function(data,saxParser){var p=new exports.Parser(saxParser);var result=null,error=null;p.on("tree",function(tree){result=tree});p.on("error",function(e){error=e});p.write(data);p.end();if(error){throw error}else{return result}}},{"./dom-element":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt/node_modules/ltx/lib/dom-element.js",events:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/events/events.js",util:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/util/util.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jxt/node_modules/ltx/lib/sax/sax_ltx.js":[function(require,module,exports){"use strict";var util=require("util"),events=require("events");var STATE_TEXT=0,STATE_IGNORE_TAG=1,STATE_TAG_NAME=2,STATE_TAG=3,STATE_ATTR_NAME=4,STATE_ATTR_EQ=5,STATE_ATTR_QUOT=6,STATE_ATTR_VALUE=7;var SaxLtx=module.exports=function SaxLtx(){events.EventEmitter.call(this);var state=STATE_TEXT,remainder;var tagName,attrs,endTag,selfClosing,attrQuote;var recordStart=0;var attrName;this._handleTagOpening=function(endTag,tagName,attrs){if(!endTag){this.emit("startElement",tagName,attrs);if(selfClosing){this.emit("endElement",tagName)}}else{this.emit("endElement",tagName)}};this.write=function(data){if(typeof data!=="string"){data=data.toString()}var pos=0;if(remainder){data=remainder+data;pos+=remainder.length;remainder=null}function endRecording(){if(typeof recordStart==="number"){var recorded=data.slice(recordStart,pos);recordStart=undefined;return recorded}}for(;pos<data.length;pos++){var c=data.charCodeAt(pos);switch(state){case STATE_TEXT:if(c===60){var text=endRecording();if(text){this.emit("text",unescapeXml(text))}state=STATE_TAG_NAME;recordStart=pos+1;attrs={}}break;case STATE_TAG_NAME:if(c===47&&recordStart===pos){recordStart=pos+1;endTag=true}else if(c===33||c===63){recordStart=undefined;state=STATE_IGNORE_TAG}else if(c<=32||c===47||c===62){tagName=endRecording();pos--;state=STATE_TAG}break;case STATE_IGNORE_TAG:if(c===62){state=STATE_TEXT}break;case STATE_TAG:if(c===62){this._handleTagOpening(endTag,tagName,attrs);tagName=undefined;attrs=undefined;endTag=undefined;selfClosing=undefined;state=STATE_TEXT;recordStart=pos+1}else if(c===47){selfClosing=true}else if(c>32){recordStart=pos;state=STATE_ATTR_NAME}break;case STATE_ATTR_NAME:if(c<=32||c===61){attrName=endRecording();pos--;state=STATE_ATTR_EQ}break;case STATE_ATTR_EQ:if(c===61){state=STATE_ATTR_QUOT}break;case STATE_ATTR_QUOT:if(c===34||c===39){attrQuote=c;state=STATE_ATTR_VALUE;recordStart=pos+1}break;case STATE_ATTR_VALUE:if(c===attrQuote){var value=unescapeXml(endRecording());attrs[attrName]=value;attrName=undefined;state=STATE_TAG}break}}if(typeof recordStart==="number"&&recordStart<=data.length){remainder=data.slice(recordStart);recordStart=0}}};util.inherits(SaxLtx,events.EventEmitter);SaxLtx.prototype.end=function(data){if(data){this.write(data)}this.write=function(){}};function unescapeXml(s){return s.replace(/\&(amp|#38);/g,"&").replace(/\&(lt|#60);/g,"<").replace(/\&(gt|#62);/g,">").replace(/\&(quot|#34);/g,'"').replace(/\&(apos|#39);/g,"'").replace(/\&(nbsp|#160);/g,"\n")}},{events:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/events/events.js",util:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/util/util.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.assign/index.js":[function(require,module,exports){var baseAssign=require("lodash._baseassign"),createAssigner=require("lodash._createassigner"),keys=require("lodash.keys");function assignWith(object,source,customizer){var index=-1,props=keys(source),length=props.length;while(++index<length){var key=props[index],value=object[key],result=customizer(value,source[key],key,object,source);if((result===result?result!==value:value===value)||value===undefined&&!(key in object)){object[key]=result}}return object}var assign=createAssigner(function(object,source,customizer){return customizer?assignWith(object,source,customizer):baseAssign(object,source)});module.exports=assign},{"lodash._baseassign":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.assign/node_modules/lodash._baseassign/index.js","lodash._createassigner":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.assign/node_modules/lodash._createassigner/index.js","lodash.keys":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.assign/node_modules/lodash.keys/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.assign/node_modules/lodash._baseassign/index.js":[function(require,module,exports){var baseCopy=require("lodash._basecopy"),keys=require("lodash.keys");function baseAssign(object,source){return source==null?object:baseCopy(source,keys(source),object)}module.exports=baseAssign},{"lodash._basecopy":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.assign/node_modules/lodash._baseassign/node_modules/lodash._basecopy/index.js","lodash.keys":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.assign/node_modules/lodash.keys/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.assign/node_modules/lodash._baseassign/node_modules/lodash._basecopy/index.js":[function(require,module,exports){function baseCopy(source,props,object){object||(object={});var index=-1,length=props.length;while(++index<length){var key=props[index];object[key]=source[key]}return object}module.exports=baseCopy},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.assign/node_modules/lodash._createassigner/index.js":[function(require,module,exports){var bindCallback=require("lodash._bindcallback"),isIterateeCall=require("lodash._isiterateecall"),restParam=require("lodash.restparam");function createAssigner(assigner){return restParam(function(object,sources){var index=-1,length=object==null?0:sources.length,customizer=length>2?sources[length-2]:undefined,guard=length>2?sources[2]:undefined,thisArg=length>1?sources[length-1]:undefined;if(typeof customizer=="function"){customizer=bindCallback(customizer,thisArg,5);length-=2}else{customizer=typeof thisArg=="function"?thisArg:undefined;length-=customizer?1:0}if(guard&&isIterateeCall(sources[0],sources[1],guard)){customizer=length<3?undefined:customizer;length=1}while(++index<length){var source=sources[index];if(source){assigner(object,source,customizer)}}return object})}module.exports=createAssigner},{"lodash._bindcallback":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.assign/node_modules/lodash._createassigner/node_modules/lodash._bindcallback/index.js","lodash._isiterateecall":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.assign/node_modules/lodash._createassigner/node_modules/lodash._isiterateecall/index.js","lodash.restparam":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.assign/node_modules/lodash._createassigner/node_modules/lodash.restparam/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.assign/node_modules/lodash._createassigner/node_modules/lodash._bindcallback/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/node_modules/lodash._bindcallback/index.js"][0].apply(exports,arguments)},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.assign/node_modules/lodash._createassigner/node_modules/lodash._isiterateecall/index.js":[function(require,module,exports){var reIsUint=/^\d+$/;var MAX_SAFE_INTEGER=9007199254740991;function baseProperty(key){return function(object){return object==null?undefined:object[key]}}var getLength=baseProperty("length");function isArrayLike(value){return value!=null&&isLength(getLength(value))}function isIndex(value,length){value=typeof value=="number"||reIsUint.test(value)?+value:-1;length=length==null?MAX_SAFE_INTEGER:length;return value>-1&&value%1==0&&value<length}function isIterateeCall(value,index,object){if(!isObject(object)){return false}var type=typeof index;if(type=="number"?isArrayLike(object)&&isIndex(index,object.length):type=="string"&&index in object){var other=object[index];return value===value?value===other:other!==other}return false}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}module.exports=isIterateeCall},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.assign/node_modules/lodash._createassigner/node_modules/lodash.restparam/index.js":[function(require,module,exports){var FUNC_ERROR_TEXT="Expected a function";var nativeMax=Math.max;function restParam(func,start){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}start=nativeMax(start===undefined?func.length-1:+start||0,0);return function(){var args=arguments,index=-1,length=nativeMax(args.length-start,0),rest=Array(length);while(++index<length){rest[index]=args[start+index]}switch(start){case 0:return func.call(this,rest);case 1:return func.call(this,args[0],rest);case 2:return func.call(this,args[0],args[1],rest)}var otherArgs=Array(start+1);index=-1;while(++index<start){otherArgs[index]=args[index]}otherArgs[start]=rest;return func.apply(this,otherArgs)}}module.exports=restParam},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.assign/node_modules/lodash.keys/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash.keys/index.js"][0].apply(exports,arguments)},{"lodash._getnative":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.assign/node_modules/lodash.keys/node_modules/lodash._getnative/index.js","lodash.isarguments":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.assign/node_modules/lodash.keys/node_modules/lodash.isarguments/index.js","lodash.isarray":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.isarray/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.assign/node_modules/lodash.keys/node_modules/lodash._getnative/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash.keys/node_modules/lodash._getnative/index.js"][0].apply(exports,arguments)},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.assign/node_modules/lodash.keys/node_modules/lodash.isarguments/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash.keys/node_modules/lodash.isarguments/index.js"][0].apply(exports,arguments)},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.filter/index.js":[function(require,module,exports){var arrayFilter=require("lodash._arrayfilter"),baseCallback=require("lodash._basecallback"),baseFilter=require("lodash._basefilter"),isArray=require("lodash.isarray");function filter(collection,predicate,thisArg){var func=isArray(collection)?arrayFilter:baseFilter;predicate=baseCallback(predicate,thisArg,3);return func(collection,predicate)}module.exports=filter},{"lodash._arrayfilter":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.filter/node_modules/lodash._arrayfilter/index.js","lodash._basecallback":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.filter/node_modules/lodash._basecallback/index.js","lodash._basefilter":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.filter/node_modules/lodash._basefilter/index.js","lodash.isarray":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.isarray/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.filter/node_modules/lodash._arrayfilter/index.js":[function(require,module,exports){function arrayFilter(array,predicate){var index=-1,length=array.length,resIndex=-1,result=[];while(++index<length){var value=array[index];if(predicate(value,index,array)){result[++resIndex]=value}}return result}module.exports=arrayFilter},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.filter/node_modules/lodash._basecallback/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/index.js"][0].apply(exports,arguments)},{"lodash._baseisequal":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.filter/node_modules/lodash._basecallback/node_modules/lodash._baseisequal/index.js","lodash._bindcallback":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.filter/node_modules/lodash._basecallback/node_modules/lodash._bindcallback/index.js","lodash.isarray":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.isarray/index.js","lodash.pairs":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.filter/node_modules/lodash._basecallback/node_modules/lodash.pairs/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.filter/node_modules/lodash._basecallback/node_modules/lodash._baseisequal/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/node_modules/lodash._baseisequal/index.js"][0].apply(exports,arguments)},{"lodash.isarray":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.isarray/index.js","lodash.istypedarray":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.filter/node_modules/lodash._basecallback/node_modules/lodash._baseisequal/node_modules/lodash.istypedarray/index.js","lodash.keys":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.filter/node_modules/lodash.keys/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.filter/node_modules/lodash._basecallback/node_modules/lodash._baseisequal/node_modules/lodash.istypedarray/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/node_modules/lodash._baseisequal/node_modules/lodash.istypedarray/index.js"][0].apply(exports,arguments)},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.filter/node_modules/lodash._basecallback/node_modules/lodash._bindcallback/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/node_modules/lodash._bindcallback/index.js"][0].apply(exports,arguments)},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.filter/node_modules/lodash._basecallback/node_modules/lodash.pairs/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/node_modules/lodash.pairs/index.js"][0].apply(exports,arguments)},{"lodash.keys":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.filter/node_modules/lodash.keys/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.filter/node_modules/lodash._basefilter/index.js":[function(require,module,exports){var baseEach=require("lodash._baseeach");function baseFilter(collection,predicate){var result=[];baseEach(collection,function(value,index,collection){if(predicate(value,index,collection)){result.push(value)}});return result}module.exports=baseFilter},{"lodash._baseeach":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.filter/node_modules/lodash._basefilter/node_modules/lodash._baseeach/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.filter/node_modules/lodash._basefilter/node_modules/lodash._baseeach/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._baseeach/index.js"][0].apply(exports,arguments)},{"lodash.keys":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.filter/node_modules/lodash.keys/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.filter/node_modules/lodash.keys/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash.keys/index.js"][0].apply(exports,arguments)},{"lodash._getnative":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.filter/node_modules/lodash.keys/node_modules/lodash._getnative/index.js","lodash.isarguments":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.filter/node_modules/lodash.keys/node_modules/lodash.isarguments/index.js","lodash.isarray":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.isarray/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.filter/node_modules/lodash.keys/node_modules/lodash._getnative/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash.keys/node_modules/lodash._getnative/index.js"][0].apply(exports,arguments)},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.filter/node_modules/lodash.keys/node_modules/lodash.isarguments/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash.keys/node_modules/lodash.isarguments/index.js"][0].apply(exports,arguments)},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.foreach/index.js":[function(require,module,exports){var arrayEach=require("lodash._arrayeach"),baseEach=require("lodash._baseeach"),bindCallback=require("lodash._bindcallback"),isArray=require("lodash.isarray");function createForEach(arrayFunc,eachFunc){return function(collection,iteratee,thisArg){return typeof iteratee=="function"&&thisArg===undefined&&isArray(collection)?arrayFunc(collection,iteratee):eachFunc(collection,bindCallback(iteratee,thisArg,3))}}var forEach=createForEach(arrayEach,baseEach);module.exports=forEach},{"lodash._arrayeach":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.foreach/node_modules/lodash._arrayeach/index.js","lodash._baseeach":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.foreach/node_modules/lodash._baseeach/index.js","lodash._bindcallback":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.foreach/node_modules/lodash._bindcallback/index.js","lodash.isarray":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.isarray/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.foreach/node_modules/lodash._arrayeach/index.js":[function(require,module,exports){function arrayEach(array,iteratee){var index=-1,length=array.length;while(++index<length){if(iteratee(array[index],index,array)===false){break}}return array}module.exports=arrayEach},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.foreach/node_modules/lodash._baseeach/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._baseeach/index.js"][0].apply(exports,arguments)},{"lodash.keys":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.foreach/node_modules/lodash._baseeach/node_modules/lodash.keys/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.foreach/node_modules/lodash._baseeach/node_modules/lodash.keys/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash.keys/index.js"][0].apply(exports,arguments)},{"lodash._getnative":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.foreach/node_modules/lodash._baseeach/node_modules/lodash.keys/node_modules/lodash._getnative/index.js","lodash.isarguments":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.foreach/node_modules/lodash._baseeach/node_modules/lodash.keys/node_modules/lodash.isarguments/index.js","lodash.isarray":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.isarray/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.foreach/node_modules/lodash._baseeach/node_modules/lodash.keys/node_modules/lodash._getnative/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash.keys/node_modules/lodash._getnative/index.js"][0].apply(exports,arguments)},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.foreach/node_modules/lodash._baseeach/node_modules/lodash.keys/node_modules/lodash.isarguments/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash.keys/node_modules/lodash.isarguments/index.js"][0].apply(exports,arguments)},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.foreach/node_modules/lodash._bindcallback/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/node_modules/lodash._bindcallback/index.js"][0].apply(exports,arguments)},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.isarray/index.js":[function(require,module,exports){var arrayTag="[object Array]",funcTag="[object Function]";var reIsHostCtor=/^\[object .+?Constructor\]$/;function isObjectLike(value){return!!value&&typeof value=="object"}var objectProto=Object.prototype;var fnToString=Function.prototype.toString;var hasOwnProperty=objectProto.hasOwnProperty;var objToString=objectProto.toString;var reIsNative=RegExp("^"+fnToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var nativeIsArray=getNative(Array,"isArray");var MAX_SAFE_INTEGER=9007199254740991;function getNative(object,key){var value=object==null?undefined:object[key];return isNative(value)?value:undefined}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}var isArray=nativeIsArray||function(value){return isObjectLike(value)&&isLength(value.length)&&objToString.call(value)==arrayTag};function isFunction(value){return isObject(value)&&objToString.call(value)==funcTag}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function isNative(value){if(value==null){return false}if(isFunction(value)){return reIsNative.test(fnToString.call(value))}return isObjectLike(value)&&reIsHostCtor.test(value)}module.exports=isArray},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.uniq/index.js":[function(require,module,exports){var baseCallback=require("lodash._basecallback"),baseUniq=require("lodash._baseuniq"),isIterateeCall=require("lodash._isiterateecall");function sortedUniq(array,iteratee){var seen,index=-1,length=array.length,resIndex=-1,result=[];while(++index<length){var value=array[index],computed=iteratee?iteratee(value,index,array):value;if(!index||seen!==computed){seen=computed;result[++resIndex]=value}}return result}function uniq(array,isSorted,iteratee,thisArg){var length=array?array.length:0;if(!length){return[]}if(isSorted!=null&&typeof isSorted!="boolean"){thisArg=iteratee;iteratee=isIterateeCall(array,isSorted,thisArg)?undefined:isSorted;isSorted=false}iteratee=iteratee==null?iteratee:baseCallback(iteratee,thisArg,3);return isSorted?sortedUniq(array,iteratee):baseUniq(array,iteratee)}module.exports=uniq},{"lodash._basecallback":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.uniq/node_modules/lodash._basecallback/index.js","lodash._baseuniq":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.uniq/node_modules/lodash._baseuniq/index.js","lodash._isiterateecall":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.uniq/node_modules/lodash._isiterateecall/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.uniq/node_modules/lodash._basecallback/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/index.js"][0].apply(exports,arguments)},{"lodash._baseisequal":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.uniq/node_modules/lodash._basecallback/node_modules/lodash._baseisequal/index.js","lodash._bindcallback":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.uniq/node_modules/lodash._basecallback/node_modules/lodash._bindcallback/index.js","lodash.isarray":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.isarray/index.js","lodash.pairs":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.uniq/node_modules/lodash._basecallback/node_modules/lodash.pairs/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.uniq/node_modules/lodash._basecallback/node_modules/lodash._baseisequal/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/node_modules/lodash._baseisequal/index.js"][0].apply(exports,arguments)},{"lodash.isarray":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.isarray/index.js","lodash.istypedarray":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.uniq/node_modules/lodash._basecallback/node_modules/lodash._baseisequal/node_modules/lodash.istypedarray/index.js","lodash.keys":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.uniq/node_modules/lodash._basecallback/node_modules/lodash._baseisequal/node_modules/lodash.keys/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.uniq/node_modules/lodash._basecallback/node_modules/lodash._baseisequal/node_modules/lodash.istypedarray/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/node_modules/lodash._baseisequal/node_modules/lodash.istypedarray/index.js"][0].apply(exports,arguments)},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.uniq/node_modules/lodash._basecallback/node_modules/lodash._baseisequal/node_modules/lodash.keys/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash.keys/index.js"][0].apply(exports,arguments)},{"lodash._getnative":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.uniq/node_modules/lodash._getnative/index.js","lodash.isarguments":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.uniq/node_modules/lodash._basecallback/node_modules/lodash._baseisequal/node_modules/lodash.keys/node_modules/lodash.isarguments/index.js","lodash.isarray":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.isarray/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.uniq/node_modules/lodash._basecallback/node_modules/lodash._baseisequal/node_modules/lodash.keys/node_modules/lodash.isarguments/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash.keys/node_modules/lodash.isarguments/index.js"][0].apply(exports,arguments)},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.uniq/node_modules/lodash._basecallback/node_modules/lodash._bindcallback/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/node_modules/lodash._bindcallback/index.js"][0].apply(exports,arguments)},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.uniq/node_modules/lodash._basecallback/node_modules/lodash.pairs/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash._basecallback/node_modules/lodash.pairs/index.js"][0].apply(exports,arguments)},{"lodash.keys":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.uniq/node_modules/lodash._basecallback/node_modules/lodash.pairs/node_modules/lodash.keys/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.uniq/node_modules/lodash._basecallback/node_modules/lodash.pairs/node_modules/lodash.keys/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash.keys/index.js"][0].apply(exports,arguments)},{"lodash._getnative":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.uniq/node_modules/lodash._getnative/index.js","lodash.isarguments":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.uniq/node_modules/lodash._basecallback/node_modules/lodash.pairs/node_modules/lodash.keys/node_modules/lodash.isarguments/index.js","lodash.isarray":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.isarray/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.uniq/node_modules/lodash._basecallback/node_modules/lodash.pairs/node_modules/lodash.keys/node_modules/lodash.isarguments/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash.keys/node_modules/lodash.isarguments/index.js"][0].apply(exports,arguments)},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.uniq/node_modules/lodash._baseuniq/index.js":[function(require,module,exports){var baseIndexOf=require("lodash._baseindexof"),cacheIndexOf=require("lodash._cacheindexof"),createCache=require("lodash._createcache");var LARGE_ARRAY_SIZE=200;function baseUniq(array,iteratee){var index=-1,indexOf=baseIndexOf,length=array.length,isCommon=true,isLarge=isCommon&&length>=LARGE_ARRAY_SIZE,seen=isLarge?createCache():null,result=[];if(seen){indexOf=cacheIndexOf;isCommon=false}else{isLarge=false;seen=iteratee?[]:result}outer:while(++index<length){var value=array[index],computed=iteratee?iteratee(value,index,array):value;if(isCommon&&value===value){var seenIndex=seen.length;while(seenIndex--){if(seen[seenIndex]===computed){continue outer}}if(iteratee){seen.push(computed)}result.push(value)}else if(indexOf(seen,computed,0)<0){if(iteratee||isLarge){seen.push(computed)}result.push(value)}}return result}module.exports=baseUniq},{"lodash._baseindexof":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.uniq/node_modules/lodash._baseuniq/node_modules/lodash._baseindexof/index.js","lodash._cacheindexof":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.uniq/node_modules/lodash._baseuniq/node_modules/lodash._cacheindexof/index.js","lodash._createcache":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.uniq/node_modules/lodash._baseuniq/node_modules/lodash._createcache/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.uniq/node_modules/lodash._baseuniq/node_modules/lodash._baseindexof/index.js":[function(require,module,exports){function baseIndexOf(array,value,fromIndex){if(value!==value){return indexOfNaN(array,fromIndex)}var index=fromIndex-1,length=array.length;while(++index<length){if(array[index]===value){return index}}return-1}function indexOfNaN(array,fromIndex,fromRight){var length=array.length,index=fromIndex+(fromRight?0:-1);while(fromRight?index--:++index<length){var other=array[index];if(other!==other){return index}}return-1}module.exports=baseIndexOf},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.uniq/node_modules/lodash._baseuniq/node_modules/lodash._cacheindexof/index.js":[function(require,module,exports){function cacheIndexOf(cache,value){var data=cache.data,result=typeof value=="string"||isObject(value)?data.set.has(value):data.hash[value];return result?0:-1}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}module.exports=cacheIndexOf},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.uniq/node_modules/lodash._baseuniq/node_modules/lodash._createcache/index.js":[function(require,module,exports){(function(global){var getNative=require("lodash._getnative");var Set=getNative(global,"Set");var nativeCreate=getNative(Object,"create");function SetCache(values){var length=values?values.length:0;this.data={hash:nativeCreate(null),set:new Set};while(length--){this.push(values[length])}}function cachePush(value){var data=this.data;if(typeof value=="string"||isObject(value)){data.set.add(value)}else{data.hash[value]=true}}function createCache(values){return nativeCreate&&Set?new SetCache(values):null}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}SetCache.prototype.push=cachePush;module.exports=createCache}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"lodash._getnative":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.uniq/node_modules/lodash._getnative/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.uniq/node_modules/lodash._getnative/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/jingle/node_modules/jingle-filetransfer-session/node_modules/rtcpeerconnection/node_modules/lodash.pluck/node_modules/lodash.map/node_modules/lodash.keys/node_modules/lodash._getnative/index.js"][0].apply(exports,arguments)},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.uniq/node_modules/lodash._isiterateecall/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/lodash.assign/node_modules/lodash._createassigner/node_modules/lodash._isiterateecall/index.js"][0].apply(exports,arguments)},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-anonymous/lib/mechanism.js":[function(require,module,exports){(function(root,factory){if(typeof exports==="object"){factory(exports,module)}else if(typeof define==="function"&&define.amd){define(["exports","module"],factory)}})(this,function(exports,module){function Mechanism(){}Mechanism.prototype.name="ANONYMOUS";Mechanism.prototype.clientFirst=true;Mechanism.prototype.response=function(cred){return cred.trace||""};Mechanism.prototype.challenge=function(chal){};exports=module.exports=Mechanism})},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-anonymous/main.js":[function(require,module,exports){(function(root,factory){if(typeof exports==="object"){factory(exports,module,require("./lib/mechanism"))}else if(typeof define==="function"&&define.amd){define(["exports","module","./lib/mechanism"],factory)}})(this,function(exports,module,Mechanism){exports=module.exports=Mechanism;exports.Mechanism=Mechanism})},{"./lib/mechanism":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-anonymous/lib/mechanism.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-external/lib/mechanism.js":[function(require,module,exports){(function(root,factory){if(typeof exports==="object"){factory(exports,module)}else if(typeof define==="function"&&define.amd){define(["exports","module"],factory)}})(this,function(exports,module){function Mechanism(){}Mechanism.prototype.name="EXTERNAL";Mechanism.prototype.clientFirst=true;Mechanism.prototype.response=function(cred){return cred.authzid||""};Mechanism.prototype.challenge=function(chal){};exports=module.exports=Mechanism})},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-external/main.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-anonymous/main.js"][0].apply(exports,arguments)},{"./lib/mechanism":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-external/lib/mechanism.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-plain/lib/mechanism.js":[function(require,module,exports){(function(root,factory){if(typeof exports==="object"){factory(exports,module)}else if(typeof define==="function"&&define.amd){define(["exports","module"],factory)}})(this,function(exports,module){function Mechanism(){}Mechanism.prototype.name="PLAIN";Mechanism.prototype.clientFirst=true;Mechanism.prototype.response=function(cred){var str="";str+=cred.authzid||"";str+="\0";str+=cred.username;str+="\0";str+=cred.password;return str};Mechanism.prototype.challenge=function(chal){return this};exports=module.exports=Mechanism})},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-plain/main.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-anonymous/main.js"][0].apply(exports,arguments)},{"./lib/mechanism":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-plain/lib/mechanism.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/index.js":[function(require,module,exports){(function(Buffer){var bitops=require("./lib/bitops");var utils=require("./lib/utils");var RESP={};var CLIENT_KEY="Client Key";var SERVER_KEY="Server Key";function Mechanism(options){options=options||{};this._genNonce=options.genNonce||utils.genNonce;this._stage="initial"}Mechanism.Mechanism=Mechanism;Mechanism.prototype.name="SCRAM-SHA-1";Mechanism.prototype.clientFirst=true;Mechanism.prototype.response=function(cred){return RESP[this._stage](this,cred)};Mechanism.prototype.challenge=function(chal){var values=utils.parse(chal);this._salt=new Buffer(values.s||"","base64");this._iterationCount=parseInt(values.i,10);this._nonce=values.r;this._verifier=values.v;this._error=values.e;this._challenge=chal;return this};RESP.initial=function(mech,cred){mech._cnonce=mech._genNonce();var authzid="";if(cred.authzid){authzid="a="+utils.saslname(cred.authzid)}mech._gs2Header="n,"+authzid+",";var nonce="r="+mech._cnonce;var username="n="+utils.saslname(cred.username||"");mech._clientFirstMessageBare=username+","+nonce;var result=mech._gs2Header+mech._clientFirstMessageBare;mech._stage="challenge";return result};RESP.challenge=function(mech,cred){var gs2Header=new Buffer(mech._gs2Header).toString("base64");mech._clientFinalMessageWithoutProof="c="+gs2Header+",r="+mech._nonce;var saltedPassword,clientKey,serverKey;if(cred.salt&&Buffer.compare(cred.salt,mech._salt)===0){if(cred.clientKey&&cred.serverKey){clientKey=cred.clientKey;serverKey=cred.serverKey}else if(cred.saltedPassword){saltedPassword=cred.saltedPassword;clientKey=bitops.HMAC(saltedPassword,CLIENT_KEY);serverKey=bitops.HMAC(saltedPassword,SERVER_KEY)}}else{saltedPassword=bitops.Hi(cred.password||"",mech._salt,mech._iterationCount);clientKey=bitops.HMAC(saltedPassword,CLIENT_KEY);serverKey=bitops.HMAC(saltedPassword,SERVER_KEY)}var storedKey=bitops.H(clientKey);var authMessage=mech._clientFirstMessageBare+","+mech._challenge+","+mech._clientFinalMessageWithoutProof;var clientSignature=bitops.HMAC(storedKey,authMessage);var clientProof=bitops.XOR(clientKey,clientSignature).toString("base64");mech._serverSignature=bitops.HMAC(serverKey,authMessage);var result=mech._clientFinalMessageWithoutProof+",p="+clientProof;mech._stage="final";mech.cache={salt:mech._salt,saltedPassword:saltedPassword,clientKey:clientKey,serverKey:serverKey};return result};RESP.final=function(){return""};module.exports=Mechanism}).call(this,require("buffer").Buffer)},{"./lib/bitops":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/lib/bitops.js","./lib/utils":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/lib/utils.js",buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/lib/bitops.js":[function(require,module,exports){(function(Buffer){var createHash=require("create-hash");var createHmac=require("create-hmac");var xor=require("bitwise-xor");exports.XOR=xor;exports.H=function(text){return createHash("sha1").update(text).digest()};exports.HMAC=function(key,msg){return createHmac("sha1",key).update(msg).digest()};exports.Hi=function(text,salt,iterations){var ui1=exports.HMAC(text,Buffer.concat([salt,new Buffer([0,0,0,1],"binary")]));var ui=ui1;for(var i=0;i<iterations-1;i++){ui1=exports.HMAC(text,ui1);ui=exports.XOR(ui,ui1)}return ui}}).call(this,require("buffer").Buffer)},{"bitwise-xor":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/bitwise-xor/index.js",buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js","create-hash":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/browser.js","create-hmac":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hmac/browser.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/lib/utils.js":[function(require,module,exports){var randomBytes=require("randombytes");exports.parse=function(chal){var dtives={};var tokens=chal.split(/,(?=(?:[^"]|"[^"]*")*$)/);for(var i=0,len=tokens.length;i<len;i++){var dtiv=/(\w+)=["]?([^"]+)["]?$/.exec(tokens[i]);if(dtiv){dtives[dtiv[1]]=dtiv[2]}}return dtives};exports.saslname=function(name){var escaped=[];var curr="";for(var i=0;i<name.length;i++){curr=name[i];if(curr===","){escaped.push("=2C")}else if(curr==="="){escaped.push("=3D")}else{escaped.push(curr)}}return escaped.join("")};exports.genNonce=function(len){return randomBytes((len||32)/2).toString("hex")}},{randombytes:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/randombytes/browser.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/bitwise-xor/index.js":[function(require,module,exports){(function(Buffer){module.exports=xor;function xor(a,b){if(!Buffer.isBuffer(a))a=new Buffer(a);if(!Buffer.isBuffer(b))b=new Buffer(b);var res=[];if(a.length>b.length){for(var i=0;i<b.length;i++){res.push(a[i]^b[i])}}else{for(var i=0;i<a.length;i++){res.push(a[i]^b[i])}}return new Buffer(res)}}).call(this,require("buffer").Buffer)},{buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/browser.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/browser.js"][0].apply(exports,arguments)},{"./md5":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/md5.js",buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js",inherits:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/node_modules/inherits/inherits_browser.js",ripemd160:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/node_modules/ripemd160/lib/ripemd160.js","sha.js":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/node_modules/sha.js/index.js",stream:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/stream-browserify/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/helpers.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/helpers.js"][0].apply(exports,arguments)},{buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/md5.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/md5.js"][0].apply(exports,arguments)},{"./helpers":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/helpers.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/node_modules/inherits/inherits_browser.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/inherits/inherits_browser.js"][0].apply(exports,arguments)},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/node_modules/ripemd160/lib/ripemd160.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/ripemd160/lib/ripemd160.js"][0].apply(exports,arguments)},{buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/node_modules/sha.js/hash.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/hash.js"][0].apply(exports,arguments)},{buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/node_modules/sha.js/index.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/index.js"][0].apply(exports,arguments)},{"./sha":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/node_modules/sha.js/sha.js","./sha1":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/node_modules/sha.js/sha1.js","./sha224":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/node_modules/sha.js/sha224.js","./sha256":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/node_modules/sha.js/sha256.js","./sha384":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/node_modules/sha.js/sha384.js","./sha512":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/node_modules/sha.js/sha512.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/node_modules/sha.js/sha.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/sha.js"][0].apply(exports,arguments)},{"./hash":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/node_modules/sha.js/hash.js",buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js",inherits:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/node_modules/inherits/inherits_browser.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/node_modules/sha.js/sha1.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/sha1.js"][0].apply(exports,arguments)},{"./hash":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/node_modules/sha.js/hash.js",buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js",inherits:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/node_modules/inherits/inherits_browser.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/node_modules/sha.js/sha224.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/sha224.js"][0].apply(exports,arguments)},{"./hash":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/node_modules/sha.js/hash.js","./sha256":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/node_modules/sha.js/sha256.js",buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js",inherits:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/node_modules/inherits/inherits_browser.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/node_modules/sha.js/sha256.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/sha256.js"][0].apply(exports,arguments)},{"./hash":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/node_modules/sha.js/hash.js",buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js",inherits:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/node_modules/inherits/inherits_browser.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/node_modules/sha.js/sha384.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/sha384.js"][0].apply(exports,arguments)},{"./hash":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/node_modules/sha.js/hash.js","./sha512":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/node_modules/sha.js/sha512.js",buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js",inherits:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/node_modules/inherits/inherits_browser.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/node_modules/sha.js/sha512.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/sha.js/sha512.js"][0].apply(exports,arguments)},{"./hash":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/node_modules/sha.js/hash.js",buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js",inherits:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/node_modules/inherits/inherits_browser.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hmac/browser.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/iana-hashes/node_modules/create-hmac/browser.js"][0].apply(exports,arguments)},{buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js","create-hash/browser":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hash/browser.js",inherits:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hmac/node_modules/inherits/inherits_browser.js",stream:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/stream-browserify/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/create-hmac/node_modules/inherits/inherits_browser.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/create-hash/node_modules/inherits/inherits_browser.js"][0].apply(exports,arguments)},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/sasl-scram-sha-1/node_modules/randombytes/browser.js":[function(require,module,exports){arguments[4]["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/alt-sasl-digest-md5/node_modules/randombytes/browser.js"][0].apply(exports,arguments)},{_process:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/process/browser.js",buffer:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/buffer/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/saslmechanisms/lib/factory.js":[function(require,module,exports){(function(root,factory){if(typeof exports==="object"){factory(exports,module)}else if(typeof define==="function"&&define.amd){define(["exports","module"],factory)}})(this,function(exports,module){function Factory(){this._mechs=[]}Factory.prototype.use=function(name,mech){if(!mech){mech=name;name=mech.prototype.name}this._mechs.push({name:name,mech:mech});return this};Factory.prototype.create=function(mechs){for(var i=0,len=this._mechs.length;i<len;i++){for(var j=0,jlen=mechs.length;j<jlen;j++){var entry=this._mechs[i];if(entry.name==mechs[j]){return new entry.mech}}}return null};exports=module.exports=Factory})},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/saslmechanisms/main.js":[function(require,module,exports){(function(root,factory){if(typeof exports==="object"){factory(exports,module,require("./lib/factory"))}else if(typeof define==="function"&&define.amd){define(["exports","module","./lib/factory"],factory)}})(this,function(exports,module,Factory){exports=module.exports=Factory;exports.Factory=Factory})},{"./lib/factory":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/saslmechanisms/lib/factory.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/uuid/rng-browser.js":[function(require,module,exports){(function(global){var rng;if(global.crypto&&crypto.getRandomValues){var _rnds8=new Uint8Array(16);rng=function whatwgRNG(){crypto.getRandomValues(_rnds8);return _rnds8}}if(!rng){var _rnds=new Array(16);rng=function(){for(var i=0,r;i<16;i++){if((i&3)===0)r=Math.random()*4294967296;_rnds[i]=r>>>((i&3)<<3)&255}return _rnds}}module.exports=rng}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/uuid/uuid.js":[function(require,module,exports){var _rng=require("./rng");var _byteToHex=[];var _hexToByte={};for(var i=0;i<256;i++){_byteToHex[i]=(i+256).toString(16).substr(1);_hexToByte[_byteToHex[i]]=i}function parse(s,buf,offset){var i=buf&&offset||0,ii=0;buf=buf||[];s.toLowerCase().replace(/[0-9a-f]{2}/g,function(oct){if(ii<16){buf[i+ii++]=_hexToByte[oct]}});while(ii<16){buf[i+ii++]=0}return buf}function unparse(buf,offset){var i=offset||0,bth=_byteToHex;return bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]}var _seedBytes=_rng();var _nodeId=[_seedBytes[0]|1,_seedBytes[1],_seedBytes[2],_seedBytes[3],_seedBytes[4],_seedBytes[5]];var _clockseq=(_seedBytes[6]<<8|_seedBytes[7])&16383;var _lastMSecs=0,_lastNSecs=0;function v1(options,buf,offset){var i=buf&&offset||0;var b=buf||[];options=options||{};var clockseq=options.clockseq!==undefined?options.clockseq:_clockseq;var msecs=options.msecs!==undefined?options.msecs:(new Date).getTime();var nsecs=options.nsecs!==undefined?options.nsecs:_lastNSecs+1;var dt=msecs-_lastMSecs+(nsecs-_lastNSecs)/1e4;if(dt<0&&options.clockseq===undefined){clockseq=clockseq+1&16383}if((dt<0||msecs>_lastMSecs)&&options.nsecs===undefined){nsecs=0}if(nsecs>=1e4){throw new Error("uuid.v1(): Can't create more than 10M uuids/sec")}_lastMSecs=msecs;_lastNSecs=nsecs;_clockseq=clockseq;msecs+=122192928e5;var tl=((msecs&268435455)*1e4+nsecs)%4294967296;b[i++]=tl>>>24&255;b[i++]=tl>>>16&255;b[i++]=tl>>>8&255;b[i++]=tl&255;var tmh=msecs/4294967296*1e4&268435455;b[i++]=tmh>>>8&255;b[i++]=tmh&255;b[i++]=tmh>>>24&15|16;b[i++]=tmh>>>16&255;b[i++]=clockseq>>>8|128;b[i++]=clockseq&255;var node=options.node||_nodeId;for(var n=0;n<6;n++){b[i+n]=node[n]}return buf?buf:unparse(b)}function v4(options,buf,offset){var i=buf&&offset||0;if(typeof options=="string"){buf=options=="binary"?new Array(16):null;options=null}options=options||{};var rnds=options.random||(options.rng||_rng)();rnds[6]=rnds[6]&15|64;rnds[8]=rnds[8]&63|128;if(buf){for(var ii=0;ii<16;ii++){buf[i+ii]=rnds[ii]}}return buf||unparse(rnds)}var uuid=v4;uuid.v1=v1;uuid.v4=v4;uuid.parse=parse;uuid.unparse=unparse;module.exports=uuid},{"./rng":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/uuid/rng-browser.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/wildemitter/wildemitter.js":[function(require,module,exports){module.exports=WildEmitter;function WildEmitter(){this.isWildEmitter=true;this.callbacks={}}WildEmitter.prototype.on=function(event,groupName,fn){var hasGroup=arguments.length===3,group=hasGroup?arguments[1]:undefined,func=hasGroup?arguments[2]:arguments[1];func._groupName=group;(this.callbacks[event]=this.callbacks[event]||[]).push(func);return this};WildEmitter.prototype.once=function(event,groupName,fn){var self=this,hasGroup=arguments.length===3,group=hasGroup?arguments[1]:undefined,func=hasGroup?arguments[2]:arguments[1];function on(){self.off(event,on);func.apply(this,arguments)}this.on(event,group,on);return this};WildEmitter.prototype.releaseGroup=function(groupName){var item,i,len,handlers;for(item in this.callbacks){handlers=this.callbacks[item];for(i=0,len=handlers.length;i<len;i++){if(handlers[i]._groupName===groupName){handlers.splice(i,1);i--;len--}}}return this};WildEmitter.prototype.off=function(event,fn){var callbacks=this.callbacks[event],i;if(!callbacks)return this;if(arguments.length===1){delete this.callbacks[event];return this}i=callbacks.indexOf(fn);callbacks.splice(i,1);if(callbacks.length===0){delete this.callbacks[event]}return this};WildEmitter.prototype.emit=function(event){var args=[].slice.call(arguments,1),callbacks=this.callbacks[event],specialCallbacks=this.getWildcardCallbacks(event),i,len,item,listeners;if(callbacks){listeners=callbacks.slice();for(i=0,len=listeners.length;i<len;++i){if(listeners[i]){listeners[i].apply(this,args)}else{break}}}if(specialCallbacks){len=specialCallbacks.length;listeners=specialCallbacks.slice();for(i=0,len=listeners.length;i<len;++i){if(listeners[i]){listeners[i].apply(this,[event].concat(args))}else{break}}}return this};WildEmitter.prototype.getWildcardCallbacks=function(eventName){var item,split,result=[];for(item in this.callbacks){split=item.split("*");if(item==="*"||split.length===2&&eventName.slice(0,split[0].length)===split[0]){result=result.concat(this.callbacks[item])}}return result}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/xhr/index.js":[function(require,module,exports){"use strict";var window=require("global/window");var once=require("once");var parseHeaders=require("parse-headers");var XHR=window.XMLHttpRequest||noop;var XDR="withCredentials"in new XHR?XHR:window.XDomainRequest;module.exports=createXHR;function createXHR(options,callback){function readystatechange(){if(xhr.readyState===4){loadFunc()}}function getBody(){var body=undefined;if(xhr.response){body=xhr.response}else if(xhr.responseType==="text"||!xhr.responseType){body=xhr.responseText||xhr.responseXML}if(isJson){try{body=JSON.parse(body)}catch(e){}}return body}var failureResponse={body:undefined,headers:{},statusCode:0,method:method,url:uri,rawRequest:xhr};function errorFunc(evt){clearTimeout(timeoutTimer);if(!(evt instanceof Error)){evt=new Error(""+(evt||"unknown"))}evt.statusCode=0;callback(evt,failureResponse)}function loadFunc(){clearTimeout(timeoutTimer);var status=xhr.status===1223?204:xhr.status;var response=failureResponse;var err=null;if(status!==0){response={body:getBody(),statusCode:status,method:method,headers:{},url:uri,rawRequest:xhr};if(xhr.getAllResponseHeaders){response.headers=parseHeaders(xhr.getAllResponseHeaders())}}else{err=new Error("Internal XMLHttpRequest Error")}callback(err,response,response.body)}if(typeof options==="string"){options={uri:options}}options=options||{};if(typeof callback==="undefined"){throw new Error("callback argument missing")}callback=once(callback);var xhr=options.xhr||null;if(!xhr){if(options.cors||options.useXDR){xhr=new XDR}else{xhr=new XHR}}var key;var uri=xhr.url=options.uri||options.url;var method=xhr.method=options.method||"GET";var body=options.body||options.data;var headers=xhr.headers=options.headers||{};var sync=!!options.sync;var isJson=false;var timeoutTimer;if("json"in options){isJson=true;headers["Accept"]||(headers["Accept"]="application/json");if(method!=="GET"&&method!=="HEAD"){headers["Content-Type"]="application/json";body=JSON.stringify(options.json)}}xhr.onreadystatechange=readystatechange;xhr.onload=loadFunc;xhr.onerror=errorFunc;xhr.onprogress=function(){};xhr.ontimeout=errorFunc;xhr.open(method,uri,!sync,options.username,options.password);if(!sync){xhr.withCredentials=!!options.withCredentials}if(!sync&&options.timeout>0){timeoutTimer=setTimeout(function(){xhr.abort("timeout")},options.timeout+2)}if(xhr.setRequestHeader){for(key in headers){if(headers.hasOwnProperty(key)){xhr.setRequestHeader(key,headers[key])}}}else if(options.headers){throw new Error("Headers cannot be set on an XDomainRequest object")}if("responseType"in options){xhr.responseType=options.responseType}if("beforeSend"in options&&typeof options.beforeSend==="function"){options.beforeSend(xhr)}xhr.send(body);return xhr}function noop(){}},{"global/window":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/xhr/node_modules/global/window.js",once:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/xhr/node_modules/once/once.js","parse-headers":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/xhr/node_modules/parse-headers/parse-headers.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/xhr/node_modules/global/window.js":[function(require,module,exports){(function(global){if(typeof window!=="undefined"){module.exports=window}else if(typeof global!=="undefined"){module.exports=global}else if(typeof self!=="undefined"){module.exports=self}else{module.exports={}}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/xhr/node_modules/once/once.js":[function(require,module,exports){module.exports=once;once.proto=once(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return once(this)},configurable:true})});function once(fn){var called=false;return function(){if(called)return;called=true;return fn.apply(this,arguments)}}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/xhr/node_modules/parse-headers/node_modules/for-each/index.js":[function(require,module,exports){var isFunction=require("is-function");module.exports=forEach;var toString=Object.prototype.toString;var hasOwnProperty=Object.prototype.hasOwnProperty;function forEach(list,iterator,context){if(!isFunction(iterator)){throw new TypeError("iterator must be a function")}if(arguments.length<3){context=this}if(toString.call(list)==="[object Array]")forEachArray(list,iterator,context);else if(typeof list==="string")forEachString(list,iterator,context);else forEachObject(list,iterator,context)}function forEachArray(array,iterator,context){for(var i=0,len=array.length;i<len;i++){if(hasOwnProperty.call(array,i)){iterator.call(context,array[i],i,array)}}}function forEachString(string,iterator,context){for(var i=0,len=string.length;i<len;i++){iterator.call(context,string.charAt(i),i,string)}}function forEachObject(object,iterator,context){for(var k in object){if(hasOwnProperty.call(object,k)){iterator.call(context,object[k],k,object)}}}},{"is-function":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/xhr/node_modules/parse-headers/node_modules/for-each/node_modules/is-function/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/xhr/node_modules/parse-headers/node_modules/for-each/node_modules/is-function/index.js":[function(require,module,exports){module.exports=isFunction;var toString=Object.prototype.toString;function isFunction(fn){var string=toString.call(fn);return string==="[object Function]"||typeof fn==="function"&&string!=="[object RegExp]"||typeof window!=="undefined"&&(fn===window.setTimeout||fn===window.alert||fn===window.confirm||fn===window.prompt)}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/xhr/node_modules/parse-headers/node_modules/trim/index.js":[function(require,module,exports){exports=module.exports=trim;function trim(str){return str.replace(/^\s*|\s*$/g,"")}exports.left=function(str){return str.replace(/^\s*/,"")};exports.right=function(str){return str.replace(/\s*$/,"")}},{}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/xhr/node_modules/parse-headers/parse-headers.js":[function(require,module,exports){var trim=require("trim"),forEach=require("for-each"),isArray=function(arg){return Object.prototype.toString.call(arg)==="[object Array]"};module.exports=function(headers){if(!headers)return{};var result={};forEach(trim(headers).split("\n"),function(row){var index=row.indexOf(":"),key=trim(row.slice(0,index)).toLowerCase(),value=trim(row.slice(index+1));if(typeof result[key]==="undefined"){result[key]=value}else if(isArray(result[key])){result[key].push(value)}else{result[key]=[result[key],value]}});return result}},{"for-each":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/xhr/node_modules/parse-headers/node_modules/for-each/index.js",trim:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/xhr/node_modules/parse-headers/node_modules/trim/index.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/xmpp-jid/index.js":[function(require,module,exports){"use strict";var StringPrep=require("./lib/stringprep");var ASCII=/^[\x00-\x7F]*$/;function bareJID(local,domain){if(local){return local+"@"+domain}return domain}function fullJID(local,domain,resource){if(resource){return bareJID(local,domain)+"/"+resource}return bareJID(local,domain)}exports.prep=function(data){var local=data.local;var domain=data.domain;var resource=data.resource;var unescapedLocal=local;if(local){local=StringPrep.nodeprep(local);unescapedLocal=exports.unescape(local)}if(resource){resource=StringPrep.resourceprep(resource)}if(domain[domain.length-1]==="."){domain=domain.slice(0,domain.length-1)}domain=StringPrep.nameprep(domain.split(".").map(StringPrep.toUnicode).join("."));return{prepped:data.prepped||StringPrep.available,local:local,domain:domain,resource:resource,bare:bareJID(local,domain),full:fullJID(local,domain,resource),unescapedLocal:unescapedLocal,unescapedBare:bareJID(unescapedLocal,domain),unescapedFull:fullJID(unescapedLocal,domain,resource)}};exports.parse=function(jid,trusted){var local="";var domain="";var resource="";trusted=trusted||ASCII.test(jid);var resourceStart=jid.indexOf("/");if(resourceStart>0){resource=jid.slice(resourceStart+1);jid=jid.slice(0,resourceStart)}var localEnd=jid.indexOf("@");if(localEnd>0){local=jid.slice(0,localEnd);jid=jid.slice(localEnd+1)}domain=jid;var preppedJID=exports.prep({local:local,domain:domain,resource:resource});preppedJID.prepped=preppedJID.prepped||trusted;return preppedJID};exports.equal=function(jid1,jid2,requirePrep){jid1=new exports.JID(jid1);jid2=new exports.JID(jid2);if(arguments.length===2){requirePrep=true}return jid1.local===jid2.local&&jid1.domain===jid2.domain&&jid1.resource===jid2.resource&&(requirePrep?jid1.prepped&&jid2.prepped:true)};exports.equalBare=function(jid1,jid2,requirePrep){jid1=new exports.JID(jid1);jid2=new exports.JID(jid2);if(arguments.length===2){requirePrep=true}return jid1.local===jid2.local&&jid1.domain===jid2.domain&&(requirePrep?jid1.prepped&&jid2.prepped:true)};exports.isBare=function(jid){jid=new exports.JID(jid);var hasResource=!!jid.resource;return!hasResource};exports.isFull=function(jid){jid=new exports.JID(jid);var hasResource=!!jid.resource;return hasResource};exports.escape=function(val){return val.replace(/^\s+|\s+$/g,"").replace(/\\5c/g,"\\5c5c").replace(/\\20/g,"\\5c20").replace(/\\22/g,"\\5c22").replace(/\\26/g,"\\5c26").replace(/\\27/g,"\\5c27").replace(/\\2f/g,"\\5c2f").replace(/\\3a/g,"\\5c3a").replace(/\\3c/g,"\\5c3c").replace(/\\3e/g,"\\5c3e").replace(/\\40/g,"\\5c40").replace(/ /g,"\\20").replace(/\"/g,"\\22").replace(/\&/g,"\\26").replace(/\'/g,"\\27").replace(/\//g,"\\2f").replace(/:/g,"\\3a").replace(/</g,"\\3c").replace(/>/g,"\\3e").replace(/@/g,"\\40")};exports.unescape=function(val){return val.replace(/\\20/g," ").replace(/\\22/g,'"').replace(/\\26/g,"&").replace(/\\27/g,"'").replace(/\\2f/g,"/").replace(/\\3a/g,":").replace(/\\3c/g,"<").replace(/\\3e/g,">").replace(/\\40/g,"@").replace(/\\5c/g,"\\")};exports.create=function(local,domain,resource){return new exports.JID(local,domain,resource)};exports.JID=function JID(localOrJID,domain,resource){var parsed={};if(localOrJID&&!domain&&!resource){if(typeof localOrJID==="string"){parsed=exports.parse(localOrJID)}else if(localOrJID._isJID||localOrJID instanceof exports.JID){parsed=localOrJID}else{throw new Error("Invalid argument type")}}else if(domain){var trusted=ASCII.test(localOrJID)&&ASCII.test(domain);if(resource){trusted=trusted&&ASCII.test(resource)}parsed=exports.prep({local:exports.escape(localOrJID),domain:domain,resource:resource,prepped:trusted})}else{parsed={}}this._isJID=true;this.local=parsed.local||"";this.domain=parsed.domain||"";this.resource=parsed.resource||"";this.bare=parsed.bare||"";this.full=parsed.full||"";this.unescapedLocal=parsed.unescapedLocal||"";this.unescapedBare=parsed.unescapedBare||"";this.unescapedFull=parsed.unescapedFull||"";this.prepped=parsed.prepped};exports.JID.prototype.toString=function(){return this.full};exports.JID.prototype.toJSON=function(){return this.full}},{"./lib/stringprep":"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/xmpp-jid/lib/stringprep-browser.js"}],"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/xmpp-jid/lib/stringprep-browser.js":[function(require,module,exports){"use strict";var punycode=require("punycode");exports.available=false;exports.toUnicode=punycode.toUnicode;exports.nameprep=function(str){return str.toLowerCase()};exports.nodeprep=function(str){return str.toLowerCase()};exports.resourceprep=function(str){return str}},{punycode:"/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/node_modules/browserify/node_modules/punycode/punycode.js"}]},{},["/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/index.js"])("/home/mw/Projektarchive/bonfire-web/node_modules/stanza.io/index.js")});